// ======================================================================
//
// trehla_keelo.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.content;
include library.groundquests;
include library.money;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/trehla_keelo";

// ======================================================================
// Script Conditions
// ======================================================================

boolean trehla_keelo_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_questActiveOrComplete (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActiveOrComplete(player, "c_newbie_quest1") ||
			groundquests.isQuestActiveOrComplete(player, "c_newbie_quest1a"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnBankStep (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1a", "bankstep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bankstep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bankbox1") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bankbox1") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bankbox2") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bankbox2"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerDidNewTutorial (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_hall_jedi");

	return questIsQuestComplete(questId1, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnBankReturn (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1", "bankreturn") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bankreturn"));
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnBazaarStep (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1a", "bazaarstep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bazaarstep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bazaarbox1") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bazaarbox1") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bazaarbox2") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "bazaarbox2"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnBazaarReturn (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1", "bazaarreturn") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "bazaarreturn"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnCloneStep (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1a", "clonestep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "clonestep") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "clonebox1") ||
			groundquests.isTaskActive(player, "c_newbie_quest1", "clonebox1"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnCloneReturn (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_newbie_quest1", "clonereturn") ||
			groundquests.isTaskActive(player, "c_newbie_quest1a", "clonereturn"));
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_startedVourk (obj_id player, obj_id npc)
{
	return groundquests.isQuestActiveOrComplete(player, "newbie_goto_vourk");
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerLearnDroid (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest4");
	int groupbox1 = groundquests.getTaskId(questId1, "groupbox1"); 
	int droidbox1 = groundquests.getTaskId(questId1, "droidbox1"); 
	
	return 	questIsTaskActive(questId1, groupbox1, player)||
			questIsTaskActive(questId1, droidbox1, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnVehicleInfo (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest4");
	int vehiclebox1 = groundquests.getTaskId(questId1, "vehiclebox1"); 
	
	return questIsTaskActive(questId1, vehiclebox1, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnMedCenterReturn (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest3");
	int medcenterreturn = groundquests.getTaskId(questId1, "medcenterreturn"); 
	
	return questIsTaskActive(questId1, medcenterreturn, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnJunkStep (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest3");
	int junkstep = groundquests.getTaskId(questId1, "junkstep"); 
	int junkbox1 = groundquests.getTaskId(questId1, "junkbox1"); 
		
	return questIsTaskActive(questId1, junkstep, player)||questIsTaskActive(questId1, junkbox1, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnJunkReturn (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest3");
	int junkreturn = groundquests.getTaskId(questId1, "junkreturn"); 
	
	return questIsTaskActive(questId1, junkreturn, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_crafterPlayer (obj_id player, obj_id npc)
{
	if (content.isCrafter(player) || content.isEntertainer(player))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnLearnGroup (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest4");
	int learngroup = groundquests.getTaskId(questId1, "learngroup"); 
	
	return questIsTaskActive(questId1, learngroup, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnShuttleStep (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest5");
	int shuttlestep1 = groundquests.getTaskId(questId1, "shuttlestep1"); 
	int shuttlestep2 = groundquests.getTaskId(questId1, "shuttlestep2");
	int shuttlestep3 = groundquests.getTaskId(questId1, "shuttlestep3");
	int shuttlestep4 = groundquests.getTaskId(questId1, "shuttlestep4");
	
	return 	questIsTaskActive(questId1, shuttlestep1, player)||
			questIsTaskActive(questId1, shuttlestep2, player)||
			questIsTaskActive(questId1, shuttlestep3, player)||
			questIsTaskActive(questId1, shuttlestep4, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnAssociateStep (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest5");
	int associatestep = groundquests.getTaskId(questId1, "associatestep"); 
	
	return questIsTaskActive(questId1, associatestep, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_playerOnLastStep (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_newbie_quest5");
	int laststep = groundquests.getTaskId(questId1, "laststep"); 
	
	return questIsTaskActive(questId1, laststep, player);
	
}

// ----------------------------------------------------------------------

boolean trehla_keelo_condition_combatPlayer (obj_id player, obj_id npc)
{
	if (!content.isCrafter(player) && !content.isEntertainer(player))
	{
		return true;
	}
	return false;		
}

// ======================================================================
// Script Actions
// ======================================================================

void trehla_keelo_action_giveQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_newbie_quest1a");
	detachScript (player, "theme_park.newbie_tutorial.new_player_ribbon");
	destroyClientPath(player);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_faceplayer (obj_id player, obj_id npc)
{
		faceTo(npc, player);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalBankReturn (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_newbie_bankreturn");
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalBazaarReturn (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_newbie_bazaarreturn");
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalCloneReturn (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "c_newbie_clonereturn");
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalJunkReturn (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/c_newbie_quest4");
	
	groundquests.sendSignal(player, "c_newbie_junkreturn");
	
	groundquests.grantQuest(questId, player, npc, true);

	obj_id playerInventory = utils.getInventoryContainer( player );
	string templateName = "object/tangible/deed/vehicle_deed/landspeeder_x31_deed.iff";
	createObject( templateName, playerInventory, "" );	
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalMedCenterReturn (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_newbie_medcenterreturn");

	obj_id playerInventory = utils.getInventoryContainer( player );
	string templateName = "object/tangible/loot/tool/datapad_broken.iff";
	createObject( templateName, playerInventory, "" );
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalLearnGroup (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/c_newbie_quest5");
	
	groundquests.sendSignal(player, "c_newbie_learngroup");

	groundquests.grantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_signalLastStep (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_newbie_laststep");
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointImpTat (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -1119;
	loc.y = 0;
	loc.z = -3526;
	loc.area = "tatooine";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Lt. Akal Colzet (Imperial Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointImpNab (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = 5182;
	loc.y = -192;
	loc.z = 6750;
	loc.area = "naboo";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Lt. Barn Sinkko (Imperial Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointImpTalus (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -2184;
	loc.y = 0;
	loc.z = 2273;
	loc.area = "talus";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Hakasha Sireen (Imperial Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointRebTat (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -2991;
	loc.y = 5;
	loc.z = 2123;
	loc.area = "tatooine";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Commander Da'la Socuna (Rebel Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointRebNab (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = 4767;
	loc.y = 4;
	loc.z = -4812;
	loc.area = "naboo";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "V3-FX (Rebel Pilot Training Droid)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointRebCore (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -5170;
	loc.y = 21;
	loc.z = -2295;
	loc.area = "corellia";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Captain Kreezo (Rebel Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointNeuTat (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = 3381;
	loc.y = 5;
	loc.z = -4799;
	loc.area = "tatooine";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Dravis (Privateer Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointNeuNab (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -5495;
	loc.y = 14;
	loc.z = 4476;
	loc.area = "naboo";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Captain Dinge (RSF Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveWaypointNeuCore (obj_id player, obj_id npc)
{
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = -275;
	loc.y = 28;
	loc.z = -4695;
	loc.area = "corellia";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setWaypointName(waypoint, "Sergeant Rhea (CorSec Pilot Trainer)");
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void trehla_keelo_action_giveMayorQuest (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/c_newbie_quest6");
	
	groundquests.grantQuest(questId, player, npc, true);

}

// ----------------------------------------------------------------------

void trehla_keelo_action_sendToVourk (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_goto_vourk");
}

// ----------------------------------------------------------------------

void trehla_keelo_action_sendToGendra (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int trehla_keelo_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome to Mos Eisley. Watch your back here.  There has never been a more wretched hive of scum and villainy, as you may have heard. You and I have some business to attend to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Business? I don't even know you!
	if (response == "s_305")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: But I know YOU, %TU. You were with Han Solo when he arrived at the Tansarii Point Station, no?
			string_id message = new string_id (c_stringFile, "s_307");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perhaps you are mistaken, friend.
			boolean hasResponse0 = false;
			if (!trehla_keelo_condition_playerDidNewTutorial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Han's in trouble! Jabba is after him!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_playerDidNewTutorial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_309");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_317");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 2);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: But I know YOU, %TU. You were with Han Solo when he arrived at the Tansarii Point Station, no?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps you are mistaken, friend.
	if (response == "s_309")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Perhaps your past is not what I believed, but your future is what interests me. I see something in you that I have not seen since...
			string_id message = new string_id (c_stringFile, "s_311");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Since what?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Han's in trouble! Jabba is after him!
	if (response == "s_317")
	{
		doAnimationAction (player, "helpme");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: You need not worry about him. He is quite capable of taking care of himself. He helped you because he, like I, see something in you. You may not see it within yourself yet, but you will, if you choose to. I see a spark of greatness within you.
			string_id message = new string_id (c_stringFile, "s_319");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But I'm nobody special.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm glad you understand my importance.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_321");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_325");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perhaps your past is not what I believed, but your future is what interests me. I see something in you that I have not seen since...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Since what?
	if (response == "s_313")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: That isn't important right now. What is important is what I see in you.I see a spark of greatness, the weight that shifts the scales.
			string_id message = new string_id (c_stringFile, "s_315");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But I'm nobody special.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm glad you understand my importance.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_321");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_325");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That isn't important right now. What is important is what I see in you.I see a spark of greatness, the weight that shifts the scales.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But I'm nobody special.  
	if (response == "s_321")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: You think you are not extraordinary because that is what you have been taught. Others will profit if you do not reach your potential. You must decide what you wish to do.
			string_id message = new string_id (c_stringFile, "s_323");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would you have me do?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm glad you understand my importance.
	if (response == "s_325")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Unrealized greatness. You have much to learn still, but as the fledgling's wings grow strong, it may fly far and wide...and so may you, if you choose to.
			string_id message = new string_id (c_stringFile, "s_327");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would you have me do?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You need not worry about him. He is quite capable of taking care of himself. He helped you because he, like I, see something in you. You may not see it within yourself yet, but you will, if you choose to. I see a spark of greatness within you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But I'm nobody special.  
	if (response == "s_321")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: You think you are not extraordinary because that is what you have been taught. Others will profit if you do not reach your potential. You must decide what you wish to do.
			string_id message = new string_id (c_stringFile, "s_323");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would you have me do?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm glad you understand my importance.
	if (response == "s_325")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Unrealized greatness. You have much to learn still, but as the fledgling's wings grow strong, it may fly far and wide...and so may you, if you choose to.
			string_id message = new string_id (c_stringFile, "s_327");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would you have me do?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You think you are not extraordinary because that is what you have been taught. Others will profit if you do not reach your potential. You must decide what you wish to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What would you have me do?
	if (response == "s_329")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would have you learn all that you can about independence and survival. I will teach you these things, if you wish to learn.
			string_id message = new string_id (c_stringFile, "s_331");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will follow your instructions.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I know how to survive. I'll be fine on my own.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_333");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_345");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unrealized greatness. You have much to learn still, but as the fledgling's wings grow strong, it may fly far and wide...and so may you, if you choose to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What would you have me do?
	if (response == "s_329")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would have you learn all that you can about independence and survival. I will teach you these things, if you wish to learn.
			string_id message = new string_id (c_stringFile, "s_331");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will follow your instructions.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I know how to survive. I'll be fine on my own.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_333");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_345");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would have you learn all that you can about independence and survival. I will teach you these things, if you wish to learn.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will follow your instructions.
	if (response == "s_333")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: What I say may be basic, but there is much to learn before you  fly, fledgling. Take these credits and go to a bank terminal. A wise fledgling would tuck this away for future need, but I make no decisions for you.  
			string_id message = new string_id (c_stringFile, "s_335");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will go to the bank, if that is what you wish.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well, I like credits, so I might as well go to the bank.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_341");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know how to survive. I'll be fine on my own.
	if (response == "s_345")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: We must all walk our own path. Come back to me if you lose your way.
			string_id message = new string_id (c_stringFile, "s_347");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What I say may be basic, but there is much to learn before you  fly, fledgling. Take these credits and go to a bank terminal. A wise fledgling would tuck this away for future need, but I make no decisions for you.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will go to the bank, if that is what you wish.
	if (response == "s_337")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			trehla_keelo_action_giveQuest (player, npc);

			//-- NPC: Good.  I will wait for your return.
			string_id message = new string_id (c_stringFile, "s_339");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I like credits, so I might as well go to the bank.
	if (response == "s_341")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			trehla_keelo_action_giveQuest (player, npc);

			//-- NPC: While I am glad that you are doing as I ask, your attitude could do with some work.
			string_id message = new string_id (c_stringFile, "s_343");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome back. Did you make a successful transaction?  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I did indeed.
	if (response == "s_353")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good, good. I am sure that you will find the bank to be a useful tool. Now that you have learned where to save money, I will teach you where to start spending it.
			string_id message = new string_id (c_stringFile, "s_355");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And where is that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I decided not to withdraw any money.
	if (response == "s_357")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: I am here only to guide you, not compel you.  Decisions that you make are yours alone. But, now that you have learned where to save money, I will teach you where to start spending it.
			string_id message = new string_id (c_stringFile, "s_359");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And where is that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good, good. I am sure that you will find the bank to be a useful tool. Now that you have learned where to save money, I will teach you where to start spending it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And where is that?
	if (response == "s_361")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalBankReturn (player, npc);

			//-- NPC: Go to the bazaar terminals. More information will be given to you once you are there. While you are there, please place this Paint Dispersal Unit up for sale. You may keep the proceeds. I do not need it anymore.
			string_id message = new string_id (c_stringFile, "s_363");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you want me to buy anything?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_365");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am here only to guide you, not compel you.  Decisions that you make are yours alone. But, now that you have learned where to save money, I will teach you where to start spending it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And where is that?
	if (response == "s_361")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalBankReturn (player, npc);

			//-- NPC: Go to the bazaar terminals. More information will be given to you once you are there. While you are there, please place this Paint Dispersal Unit up for sale. You may keep the proceeds. I do not need it anymore.
			string_id message = new string_id (c_stringFile, "s_363");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you want me to buy anything?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_365");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Go to the bazaar terminals. More information will be given to you once you are there. While you are there, please place this Paint Dispersal Unit up for sale. You may keep the proceeds. I do not need it anymore.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you want me to buy anything?
	if (response == "s_365")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Only if you find something that catches your eye.  It is not necessary.
			string_id message = new string_id (c_stringFile, "s_367");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did you find anything that caught your eye?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I did, but nothing that I could afford.
	if (response == "s_373")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You will be able to soon enough. 
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So now that I know about bazaar terminals, what's next?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I did.
	if (response == "s_377")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Good. You will often find things you need at the bazaar. It's also a good place to sell those items you do not wish to keep.
			string_id message = new string_id (c_stringFile, "s_379");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So now that I know about bazaar terminals, what's next?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not really.
	if (response == "s_381")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, you will. Check the bazaar often as you never know when you will find a diamond among the coal. 
			string_id message = new string_id (c_stringFile, "s_383");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So now that I know about bazaar terminals, what's next?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You will be able to soon enough. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So now that I know about bazaar terminals, what's next?
	if (response == "s_385")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Next, ah next. It's a rough world out there, as I mentioned. At some point, something will get the better of you and you should be prepared. A cloning facility is where your new body will enter the world. Consequently, after you die you will start at the closest cloning facility to where you died. If you prefer you can register with one and that will always be an option regardless of where you die.
			string_id message = new string_id (c_stringFile, "s_387");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You are talking about WHEN, not IF, something kills me!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Good. You will often find things you need at the bazaar. It's also a good place to sell those items you do not wish to keep.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So now that I know about bazaar terminals, what's next?
	if (response == "s_385")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Next, ah next. It's a rough world out there, as I mentioned. At some point, something will get the better of you and you should be prepared. A cloning facility is where your new body will enter the world. Consequently, after you die you will start at the closest cloning facility to where you died. If you prefer you can register with one and that will always be an option regardless of where you die.
			string_id message = new string_id (c_stringFile, "s_387");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You are talking about WHEN, not IF, something kills me!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, you will. Check the bazaar often as you never know when you will find a diamond among the coal. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So now that I know about bazaar terminals, what's next?
	if (response == "s_385")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Next, ah next. It's a rough world out there, as I mentioned. At some point, something will get the better of you and you should be prepared. A cloning facility is where your new body will enter the world. Consequently, after you die you will start at the closest cloning facility to where you died. If you prefer you can register with one and that will always be an option regardless of where you die.
			string_id message = new string_id (c_stringFile, "s_387");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You are talking about WHEN, not IF, something kills me!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Next, ah next. It's a rough world out there, as I mentioned. At some point, something will get the better of you and you should be prepared. A cloning facility is where your new body will enter the world. Consequently, after you die you will start at the closest cloning facility to where you died. If you prefer you can register with one and that will always be an option regardless of where you die.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You are talking about WHEN, not IF, something kills me!
	if (response == "s_389")
	{
		doAnimationAction (player, "taken_aback");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: Ahem...well, to be so blunt, yes. I prefer to think of it as merely a physical condition that is beyond your ability to repair, but yes. Do not worry though you will really only have a few moments of darkness and disorientation. You may wish to take that time to contemplate your role in the galaxy.
			string_id message = new string_id (c_stringFile, "s_391");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let's contemplate something else then.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_393");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahem...well, to be so blunt, yes. I prefer to think of it as merely a physical condition that is beyond your ability to repair, but yes. Do not worry though you will really only have a few moments of darkness and disorientation. You may wish to take that time to contemplate your role in the galaxy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's contemplate something else then.
	if (response == "s_393")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: No, no. I want you to learn this. Go to the cloning facility nearby. Come back after you tour the facility.
			string_id message = new string_id (c_stringFile, "s_395");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you insist.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_397");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, no. I want you to learn this. Go to the cloning facility nearby. Come back after you tour the facility.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you insist.
	if (response == "s_397")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			trehla_keelo_action_signalBazaarReturn (player, npc);

			//-- NPC: I do.
			string_id message = new string_id (c_stringFile, "s_399");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope that was enlightening.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was rather disturbing, preparing for my own death.
	if (response == "s_405")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: It always is. But do not dwell on thoughts of darkness or despair. 
			string_id message = new string_id (c_stringFile, "s_407");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, I won't dwell at all.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely!  Now I know what happens to the people who get in my way!
	if (response == "s_409")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: A somewhat disturbing view of mortality, to be certain. Be careful of dwelling on dark thoughts such as that.
			string_id message = new string_id (c_stringFile, "s_411");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, I won't dwell at all.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It always is. But do not dwell on thoughts of darkness or despair. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I won't dwell at all.
	if (response == "s_413")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Do you need anything else?
			string_id message = new string_id (c_stringFile, "s_207");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know about being a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to go talk to the mayor.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm all set. Thank you.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What factions operate around here?
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I need to get back to work.
			boolean hasResponse4 = false;
			if (!trehla_keelo_condition_startedVourk (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1135");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1150");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1154");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_213");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A somewhat disturbing view of mortality, to be certain. Be careful of dwelling on dark thoughts such as that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I won't dwell at all.
	if (response == "s_413")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Do you need anything else?
			string_id message = new string_id (c_stringFile, "s_207");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know about being a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to go talk to the mayor.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm all set. Thank you.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What factions operate around here?
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I need to get back to work.
			boolean hasResponse4 = false;
			if (!trehla_keelo_condition_startedVourk (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1135");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1150");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1154");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_213");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Do you need anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about being a pilot.
	if (response == "s_1135")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to go talk to the mayor.
	if (response == "s_1150")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveMayorQuest (player, npc);

			//-- NPC: Very well.  I will put the information into your journal.  Fare well and be safe.
			string_id message = new string_id (c_stringFile, "s_1152");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm all set. Thank you.
	if (response == "s_1154")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are welcome.  Safe journeys.
			string_id message = new string_id (c_stringFile, "s_1156");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What factions operate around here?
	if (response == "s_213")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Who are you interested in knowing about?
			string_id message = new string_id (c_stringFile, "s_226");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would like to know about the Rebels.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to know about the Criminals.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_228");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_232");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to get back to work.
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome back. Thank you for talking to Kazen.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're welcome. Do you have anything else that needs to be done?
	if (response == "s_569")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, now that you mention it, there is. One of my old datapads has broken beyond my ability to repair. Would you take it to the local junk dealer and sell it to him?  
			string_id message = new string_id (c_stringFile, "s_572");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy to help.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_575");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah. Have another errand that I can run for you, master? 
	if (response == "s_585")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because you so-kindly offered, there is something that I have been putting off. One of my old datapads has broken beyond my ability to repair. Take it to the local junk dealer and sell it to him.  
			string_id message = new string_id (c_stringFile, "s_588");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: One of these days I'll learn to shut my mouth.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_591");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, now that you mention it, there is. One of my old datapads has broken beyond my ability to repair. Would you take it to the local junk dealer and sell it to him?  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm happy to help.
	if (response == "s_575")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalMedCenterReturn (player, npc);

			//-- NPC: It isn't worth much, but at least the junk dealer will recycle the parts. Keep whatever he gives you for it. At least I'll be rid of the thing. I'll give you a waypoint.
			string_id message = new string_id (c_stringFile, "s_577");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.  I can always use the extra cash.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_580");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It isn't worth much, but at least the junk dealer will recycle the parts. Keep whatever he gives you for it. At least I'll be rid of the thing. I'll give you a waypoint.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.  I can always use the extra cash.
	if (response == "s_580")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank YOU.  I was getting tired of carrying it around.
			string_id message = new string_id (c_stringFile, "s_583");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because you so-kindly offered, there is something that I have been putting off. One of my old datapads has broken beyond my ability to repair. Take it to the local junk dealer and sell it to him.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: One of these days I'll learn to shut my mouth.
	if (response == "s_591")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalMedCenterReturn (player, npc);

			//-- NPC: It isn't worth much, but at least the junk dealer will recycle the parts. Keep whatever he gives you for it. At least I'll be rid of the thing. I'll give you a waypoint.
			string_id message = new string_id (c_stringFile, "s_593");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you insist.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_596");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It isn't worth much, but at least the junk dealer will recycle the parts. Keep whatever he gives you for it. At least I'll be rid of the thing. I'll give you a waypoint.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you insist.
	if (response == "s_596")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well, at least it's a few credits for less than a moment's work. 
			string_id message = new string_id (c_stringFile, "s_599");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So now you know how to sell things to the junk dealers. When you are out hunting, you will occasionally come across things you don't want. Junk dealers will usually buy it from you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm looking forward to it.
	if (response == "s_606")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am glad to hear it. As you have been helping me, I have a gift for you. Look in your inventory for your new landspeeder deed. Talk to me again after you call the vehicle. 
			string_id message = new string_id (c_stringFile, "s_608");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Wow!  Thank you!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_611");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: At least I won't be sending someone else to do my errands.
	if (response == "s_616")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You must learn patience and humility. Both virtues will serve you well in the future. I have something that should lift your spirit though.  
			string_id message = new string_id (c_stringFile, "s_619");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm sure you do.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_621");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am glad to hear it. As you have been helping me, I have a gift for you. Look in your inventory for your new landspeeder deed. Talk to me again after you call the vehicle. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wow!  Thank you!
	if (response == "s_611")
	{
		doAnimationAction (player, "taken_aback");

		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			trehla_keelo_action_signalJunkReturn (player, npc);

			//-- NPC: You are welcome.  I believe in rewarding good students.
			string_id message = new string_id (c_stringFile, "s_613");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You must learn patience and humility. Both virtues will serve you well in the future. I have something that should lift your spirit though.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sure you do.
	if (response == "s_621")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you have been helping me, I have a gift for you. Look in your inventory for your new landspeeder deed. Talk to me again after you call the vehicle. 
			string_id message = new string_id (c_stringFile, "s_624");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Wow!  Thanks!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_627");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As you have been helping me, I have a gift for you. Look in your inventory for your new landspeeder deed. Talk to me again after you call the vehicle. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wow!  Thanks!
	if (response == "s_627")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			trehla_keelo_action_signalJunkReturn (player, npc);

			//-- NPC: You are welcome.  Just be careful with it.
			string_id message = new string_id (c_stringFile, "s_629");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have one more task that I need you to accomplish for me.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is this task?
	if (response == "s_721")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: An associate of mine in Mos Espa needs to know what is going on here. I believe that sometime soon, these minor raids will escalate and the last thing that we need here is more war.
			string_id message = new string_id (c_stringFile, "s_724");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do as you ask.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_727");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An associate of mine in Mos Espa needs to know what is going on here. I believe that sometime soon, these minor raids will escalate and the last thing that we need here is more war.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do as you ask.
	if (response == "s_727")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalLearnGroup (player, npc);

			//-- NPC: Thank you. Tell Trace Lyson in Mos Espa about the Tusken raids so close to Mos Eisley. Tell him that there's a change in the political climate that bodes ill for us. 
			string_id message = new string_id (c_stringFile, "s_731");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_734");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you. Tell Trace Lyson in Mos Espa about the Tusken raids so close to Mos Eisley. Tell him that there's a change in the political climate that bodes ill for us. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got it.
	if (response == "s_734")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll see you when you get back.
			string_id message = new string_id (c_stringFile, "s_737");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did you give him the information?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I did.    
	if (response == "s_749")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_signalLastStep (player, npc);

			//-- NPC: Good. He will know what I need done. It appears that you are ready to fly on your own, fledgling. My last bit of advice is this: learn all you can about both sides of this civil war before choosing a side. Let your conscience guide you. You are more important than you believe and could be the factor that tips the scales. Is there anything you would like to know?
			string_id message = new string_id (c_stringFile, "s_751");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. He will know what I need done. It appears that you are ready to fly on your own, fledgling. My last bit of advice is this: learn all you can about both sides of this civil war before choosing a side. Let your conscience guide you. You are more important than you believe and could be the factor that tips the scales. Is there anything you would like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to join the Imperial Navy!
	if (response == "s_759")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right. I have a few contacts for you. Each of them have their own specialties. Which planet would you like to fly from?
			string_id message = new string_id (c_stringFile, "s_762");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine! I like it here.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Talus. Someone has to keep watch on Corellia.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_787");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for the Rebellion!
	if (response == "s_851")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I know three pilots that will suit your needs. Which planet would you like to go to?
			string_id message = new string_id (c_stringFile, "s_855");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine. There's just something about this planet that draws me.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Corellia suits me best.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_859");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_891");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_923");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't want to take sides. I'd rather freelance.
	if (response == "s_955")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Interesting. I am familiar with a few groups. There's a Smuggler's Alliance here on Tatooine, the Royal Security Forces of Naboo, and CorSec on Corellia. Which would you like to know about?
			string_id message = new string_id (c_stringFile, "s_959");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Smuggler's Alliance sounds interesting!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know more about the RSF.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to fly for CorSec!
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_963");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_995");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1027");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. I have a few contacts for you. Each of them have their own specialties. Which planet would you like to fly from?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine! I like it here.
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right, the person that you want to speak with is Lt. Akal Colzet of Storm Squadron. He's a stickler for protocol, so be on your best behavior. He resides in Bestine. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_779");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
	if (response == "s_787")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, there is certainly an Imperial presence, although I don't think that the officers on duty would consider it a vacation. The pilot trainer that I know there is Lt. Barn Sinkko. He is part of the Imperial Inquisition, which requires a lot from their pilots. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_791");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Inquisition? Maybe not. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: May I start over? Perhaps the Imperial Navy isn't what I want to do.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_803");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Talus. Someone has to keep watch on Corellia.
	if (response == "s_819")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Interesting. I have the pilot for you. Go to the Imperial Outpost on Talus and speak with Hakasha Sireen of Black Epsilon. I don't know much about her, but will she suit your needs?
			string_id message = new string_id (c_stringFile, "s_823");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I would rather be more upfront. Let me choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I think I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_835");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_843");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right, the person that you want to speak with is Lt. Akal Colzet of Storm Squadron. He's a stickler for protocol, so be on your best behavior. He resides in Bestine. Is this what you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  
	if (response == "s_768")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointImpTat (player, npc);

			//-- NPC: Very good. I'll put a waypoint in your datapad. Is there anything else you would like to know?
			string_id message = new string_id (c_stringFile, "s_770");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. I'd like to choose someone else.
	if (response == "s_772")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right. Which planet interests you?
			string_id message = new string_id (c_stringFile, "s_775");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine! I like it here.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Talus. Someone has to keep watch on Corellia.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_787");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I'd like to start over.
	if (response == "s_779")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Careful consideration is important. What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_783");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very good. I'll put a waypoint in your datapad. Is there anything else you would like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. Which planet interests you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine! I like it here.
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right, the person that you want to speak with is Lt. Akal Colzet of Storm Squadron. He's a stickler for protocol, so be on your best behavior. He resides in Bestine. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_779");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
	if (response == "s_787")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, there is certainly an Imperial presence, although I don't think that the officers on duty would consider it a vacation. The pilot trainer that I know there is Lt. Barn Sinkko. He is part of the Imperial Inquisition, which requires a lot from their pilots. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_791");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Inquisition? Maybe not. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: May I start over? Perhaps the Imperial Navy isn't what I want to do.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_803");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Talus. Someone has to keep watch on Corellia.
	if (response == "s_819")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Interesting. I have the pilot for you. Go to the Imperial Outpost on Talus and speak with Hakasha Sireen of Black Epsilon. I don't know much about her, but will she suit your needs?
			string_id message = new string_id (c_stringFile, "s_823");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I would rather be more upfront. Let me choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I think I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_835");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_843");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Careful consideration is important. What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, there is certainly an Imperial presence, although I don't think that the officers on duty would consider it a vacation. The pilot trainer that I know there is Lt. Barn Sinkko. He is part of the Imperial Inquisition, which requires a lot from their pilots. Is this what you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, absolutely!
	if (response == "s_795")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointImpNab (player, npc);

			//-- NPC: He is headquartered in Kaadara. I will put a waypoint onto your datapad. Good luck with that! Is there anything else I can help you with?
			string_id message = new string_id (c_stringFile, "s_799");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Inquisition? Maybe not. I'd like to choose someone else.
	if (response == "s_803")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Which planet would you like?
			string_id message = new string_id (c_stringFile, "s_807");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine! I like it here.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Talus. Someone has to keep watch on Corellia.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_787");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: May I start over? Perhaps the Imperial Navy isn't what I want to do.
	if (response == "s_811")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course! What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_815");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He is headquartered in Kaadara. I will put a waypoint onto your datapad. Good luck with that! Is there anything else I can help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. Which planet would you like?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine! I like it here.
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right, the person that you want to speak with is Lt. Akal Colzet of Storm Squadron. He's a stickler for protocol, so be on your best behavior. He resides in Bestine. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_779");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
	if (response == "s_787")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, there is certainly an Imperial presence, although I don't think that the officers on duty would consider it a vacation. The pilot trainer that I know there is Lt. Barn Sinkko. He is part of the Imperial Inquisition, which requires a lot from their pilots. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_791");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Inquisition? Maybe not. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: May I start over? Perhaps the Imperial Navy isn't what I want to do.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_803");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Talus. Someone has to keep watch on Corellia.
	if (response == "s_819")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Interesting. I have the pilot for you. Go to the Imperial Outpost on Talus and speak with Hakasha Sireen of Black Epsilon. I don't know much about her, but will she suit your needs?
			string_id message = new string_id (c_stringFile, "s_823");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I would rather be more upfront. Let me choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I think I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_835");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_843");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course! What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Interesting. I have the pilot for you. Go to the Imperial Outpost on Talus and speak with Hakasha Sireen of Black Epsilon. I don't know much about her, but will she suit your needs?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes!
	if (response == "s_827")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointImpTalus (player, npc);

			//-- NPC: I'll put a waypoint into your datapad. Is there anything else you would like to know about?
			string_id message = new string_id (c_stringFile, "s_831");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would rather be more upfront. Let me choose another planet.
	if (response == "s_835")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Which planet would you like to go to next?
			string_id message = new string_id (c_stringFile, "s_839");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine! I like it here.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Talus. Someone has to keep watch on Corellia.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_787");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I'd like to start over.
	if (response == "s_843")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed. What information may I provide for you?
			string_id message = new string_id (c_stringFile, "s_847");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll put a waypoint into your datapad. Is there anything else you would like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. Which planet would you like to go to next?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine! I like it here.
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right, the person that you want to speak with is Lt. Akal Colzet of Storm Squadron. He's a stickler for protocol, so be on your best behavior. He resides in Bestine. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_779");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. Isn't that where top Imperial officers go on vacation?
	if (response == "s_787")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, there is certainly an Imperial presence, although I don't think that the officers on duty would consider it a vacation. The pilot trainer that I know there is Lt. Barn Sinkko. He is part of the Imperial Inquisition, which requires a lot from their pilots. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_791");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Inquisition? Maybe not. I'd like to choose someone else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: May I start over? Perhaps the Imperial Navy isn't what I want to do.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_803");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Talus. Someone has to keep watch on Corellia.
	if (response == "s_819")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Interesting. I have the pilot for you. Go to the Imperial Outpost on Talus and speak with Hakasha Sireen of Black Epsilon. I don't know much about her, but will she suit your needs?
			string_id message = new string_id (c_stringFile, "s_823");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I would rather be more upfront. Let me choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I think I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_835");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_843");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed. What information may I provide for you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know three pilots that will suit your needs. Which planet would you like to go to?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine. There's just something about this planet that draws me.
	if (response == "s_859")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Does it really? Interesting. The pilot that I know here is Commander Da'la Scuna in Mos Espa of Crimson Phoenix. Would you be interested?
			string_id message = new string_id (c_stringFile, "s_863");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thank you. I think I'd rather choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_867");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_875");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_883");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
	if (response == "s_891")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I believe that you are right. The Rebels have a training droid in Moenia named V3-FX that will train you for Vortex Squadron. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!  It will be very novel, being trained by a droid.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think so. I'd like to choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Honestly, I think I should start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_899");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_907");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_915");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Corellia suits me best.
	if (response == "s_923")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Captain Kreezo trains pilots for Havoc Squadron from his safehouse in Tyrena. Would you like to go to him?
			string_id message = new string_id (c_stringFile, "s_927");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that sounds good.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I think I want another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: On second thought, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_931");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_939");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_947");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Does it really? Interesting. The pilot that I know here is Commander Da'la Scuna in Mos Espa of Crimson Phoenix. Would you be interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_867")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointRebTat (player, npc);

			//-- NPC: Commander Scuna is holed up in the back room of Mos Espa's cantina. I'll put a waypoint into your datapad. Is there something else I can help you with?
			string_id message = new string_id (c_stringFile, "s_871");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thank you. I think I'd rather choose another planet.
	if (response == "s_875")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Which planet would you like to go to?
			string_id message = new string_id (c_stringFile, "s_879");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine. There's just something about this planet that draws me.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Corellia suits me best.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_859");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_891");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_923");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I'd like to start over.
	if (response == "s_883")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I have been trying to show you, what happens to you is your decision. What may I help you with?
			string_id message = new string_id (c_stringFile, "s_887");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Commander Scuna is holed up in the back room of Mos Espa's cantina. I'll put a waypoint into your datapad. Is there something else I can help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. Which planet would you like to go to?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine. There's just something about this planet that draws me.
	if (response == "s_859")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Does it really? Interesting. The pilot that I know here is Commander Da'la Scuna in Mos Espa of Crimson Phoenix. Would you be interested?
			string_id message = new string_id (c_stringFile, "s_863");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thank you. I think I'd rather choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_867");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_875");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_883");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
	if (response == "s_891")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I believe that you are right. The Rebels have a training droid in Moenia named V3-FX that will train you for Vortex Squadron. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!  It will be very novel, being trained by a droid.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think so. I'd like to choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Honestly, I think I should start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_899");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_907");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_915");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Corellia suits me best.
	if (response == "s_923")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Captain Kreezo trains pilots for Havoc Squadron from his safehouse in Tyrena. Would you like to go to him?
			string_id message = new string_id (c_stringFile, "s_927");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that sounds good.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I think I want another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: On second thought, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_931");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_939");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_947");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I have been trying to show you, what happens to you is your decision. What may I help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe that you are right. The Rebels have a training droid in Moenia named V3-FX that will train you for Vortex Squadron. Is this what you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes!  It will be very novel, being trained by a droid.
	if (response == "s_899")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointRebNab (player, npc);

			//-- NPC: I will give you a waypoint to V3-FX. Is there something else you would like to know?
			string_id message = new string_id (c_stringFile, "s_903");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think so. I'd like to choose another planet.
	if (response == "s_907")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which planet would you like then?
			string_id message = new string_id (c_stringFile, "s_911");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine. There's just something about this planet that draws me.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Corellia suits me best.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_859");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_891");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_923");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Honestly, I think I should start over.
	if (response == "s_915")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Whatever you think is best for you. What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_919");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will give you a waypoint to V3-FX. Is there something else you would like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Which planet would you like then?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine. There's just something about this planet that draws me.
	if (response == "s_859")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Does it really? Interesting. The pilot that I know here is Commander Da'la Scuna in Mos Espa of Crimson Phoenix. Would you be interested?
			string_id message = new string_id (c_stringFile, "s_863");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thank you. I think I'd rather choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_867");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_875");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_883");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
	if (response == "s_891")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I believe that you are right. The Rebels have a training droid in Moenia named V3-FX that will train you for Vortex Squadron. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!  It will be very novel, being trained by a droid.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think so. I'd like to choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Honestly, I think I should start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_899");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_907");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_915");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Corellia suits me best.
	if (response == "s_923")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Captain Kreezo trains pilots for Havoc Squadron from his safehouse in Tyrena. Would you like to go to him?
			string_id message = new string_id (c_stringFile, "s_927");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that sounds good.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I think I want another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: On second thought, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_931");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_939");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_947");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Whatever you think is best for you. What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. Captain Kreezo trains pilots for Havoc Squadron from his safehouse in Tyrena. Would you like to go to him?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, that sounds good.
	if (response == "s_931")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointRebCore (player, npc);

			//-- NPC: All right. I'll transfer a waypoint to your datapad for Captain Kreezo. Is there something else you need?
			string_id message = new string_id (c_stringFile, "s_935");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. I think I want another planet.
	if (response == "s_939")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Which planet would you like?
			string_id message = new string_id (c_stringFile, "s_943");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tatooine. There's just something about this planet that draws me.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Corellia suits me best.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_859");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_891");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_923");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, I want to start over.
	if (response == "s_947")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: So be it. What can I help you with?
			string_id message = new string_id (c_stringFile, "s_951");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. I'll transfer a waypoint to your datapad for Captain Kreezo. Is there something else you need?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. Which planet would you like?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine. There's just something about this planet that draws me.
	if (response == "s_859")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Does it really? Interesting. The pilot that I know here is Commander Da'la Scuna in Mos Espa of Crimson Phoenix. Would you be interested?
			string_id message = new string_id (c_stringFile, "s_863");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thank you. I think I'd rather choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_867");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_875");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_883");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Naboo. I'm sure there's a lot I can do there.
	if (response == "s_891")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I believe that you are right. The Rebels have a training droid in Moenia named V3-FX that will train you for Vortex Squadron. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes!  It will be very novel, being trained by a droid.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think so. I'd like to choose another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Honestly, I think I should start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_899");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_907");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_915");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Corellia suits me best.
	if (response == "s_923")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Captain Kreezo trains pilots for Havoc Squadron from his safehouse in Tyrena. Would you like to go to him?
			string_id message = new string_id (c_stringFile, "s_927");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that sounds good.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No. I think I want another planet.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: On second thought, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_931");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_939");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_947");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So be it. What can I help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Interesting. I am familiar with a few groups. There's a Smuggler's Alliance here on Tatooine, the Royal Security Forces of Naboo, and CorSec on Corellia. Which would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Smuggler's Alliance sounds interesting!
	if (response == "s_963")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Well, the contact that you need for the Smuggler's Alliance is in town, actually. His name is Dravis and he started the Smuggler's Alliance with Talon Kardde. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that will do nicely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmm...maybe I should look at more legitimate avenues.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_971");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_979");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_987");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know more about the RSF.
	if (response == "s_995")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Royal Security Forces protect the Royalty of Naboo and the sector from pirates and Rebels. Their headquarters is in the capital city of Theed. Is this what you would like to join?
			string_id message = new string_id (c_stringFile, "s_999");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds great! Where do I sign up?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, sounds rather boring. I want something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to start over. I'm not sure this is for me.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1003");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1011");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1019");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for CorSec!
	if (response == "s_1027")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: CorSec defends their sector from pirates, mostly. They try to stay neutral in the Galactic Civil War. Is this something that interests you?
			string_id message = new string_id (c_stringFile, "s_1031");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Perhaps not. I want to choose something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1035");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1043");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1051");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. Well, the contact that you need for the Smuggler's Alliance is in town, actually. His name is Dravis and he started the Smuggler's Alliance with Talon Kardde. Is this what you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, that will do nicely!
	if (response == "s_971")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointNeuTat (player, npc);

			//-- NPC: Very well. Talk to Dravis in the back of the Mos Eisley Cantina. I know that you have been there, but here is a waypoint for you. Is there something else I can help you with?
			string_id message = new string_id (c_stringFile, "s_975");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm...maybe I should look at more legitimate avenues.
	if (response == "s_979")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know more about?
			string_id message = new string_id (c_stringFile, "s_983");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Smuggler's Alliance sounds interesting!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know more about the RSF.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to fly for CorSec!
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_963");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_995");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1027");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I'd like to start over.
	if (response == "s_987")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Certainly. What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_991");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. Talk to Dravis in the back of the Mos Eisley Cantina. I know that you have been there, but here is a waypoint for you. Is there something else I can help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What would you like to know more about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Smuggler's Alliance sounds interesting!
	if (response == "s_963")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Well, the contact that you need for the Smuggler's Alliance is in town, actually. His name is Dravis and he started the Smuggler's Alliance with Talon Kardde. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that will do nicely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmm...maybe I should look at more legitimate avenues.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_971");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_979");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_987");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know more about the RSF.
	if (response == "s_995")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Royal Security Forces protect the Royalty of Naboo and the sector from pirates and Rebels. Their headquarters is in the capital city of Theed. Is this what you would like to join?
			string_id message = new string_id (c_stringFile, "s_999");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds great! Where do I sign up?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, sounds rather boring. I want something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to start over. I'm not sure this is for me.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1003");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1011");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1019");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for CorSec!
	if (response == "s_1027")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: CorSec defends their sector from pirates, mostly. They try to stay neutral in the Galactic Civil War. Is this something that interests you?
			string_id message = new string_id (c_stringFile, "s_1031");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Perhaps not. I want to choose something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1035");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1043");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1051");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Certainly. What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Royal Security Forces protect the Royalty of Naboo and the sector from pirates and Rebels. Their headquarters is in the capital city of Theed. Is this what you would like to join?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds great! Where do I sign up?
	if (response == "s_1003")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointNeuNab (player, npc);

			//-- NPC: You need to speak to Captain Dinge. I'll give you a waypoint. I believe he's in the palace in Theed. Is there something else I can help you with?
			string_id message = new string_id (c_stringFile, "s_1007");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, sounds rather boring. I want something else.
	if (response == "s_1011")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right. What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_1015");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Smuggler's Alliance sounds interesting!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know more about the RSF.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to fly for CorSec!
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_963");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_995");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1027");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to start over. I'm not sure this is for me.
	if (response == "s_1019")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: If you wish. What do you want to know about?
			string_id message = new string_id (c_stringFile, "s_1023");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You need to speak to Captain Dinge. I'll give you a waypoint. I believe he's in the palace in Theed. Is there something else I can help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Smuggler's Alliance sounds interesting!
	if (response == "s_963")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Well, the contact that you need for the Smuggler's Alliance is in town, actually. His name is Dravis and he started the Smuggler's Alliance with Talon Kardde. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that will do nicely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmm...maybe I should look at more legitimate avenues.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_971");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_979");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_987");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know more about the RSF.
	if (response == "s_995")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Royal Security Forces protect the Royalty of Naboo and the sector from pirates and Rebels. Their headquarters is in the capital city of Theed. Is this what you would like to join?
			string_id message = new string_id (c_stringFile, "s_999");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds great! Where do I sign up?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, sounds rather boring. I want something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to start over. I'm not sure this is for me.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1003");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1011");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1019");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for CorSec!
	if (response == "s_1027")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: CorSec defends their sector from pirates, mostly. They try to stay neutral in the Galactic Civil War. Is this something that interests you?
			string_id message = new string_id (c_stringFile, "s_1031");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Perhaps not. I want to choose something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1035");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1043");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1051");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you wish. What do you want to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: CorSec defends their sector from pirates, mostly. They try to stay neutral in the Galactic Civil War. Is this something that interests you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely!
	if (response == "s_1035")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveWaypointNeuCore (player, npc);

			//-- NPC: You will need to speak to Sergeant Rhea in Coronet City. I'll transfer a waypoint to your datapad.
			string_id message = new string_id (c_stringFile, "s_1039");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps not. I want to choose something else.
	if (response == "s_1043")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: A little knowledge never hurt.What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_1047");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Smuggler's Alliance sounds interesting!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know more about the RSF.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to fly for CorSec!
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_963");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_995");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1027");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I want to start over.
	if (response == "s_1051")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll never argue with someone who wishes to make a well-thought-out choice about their future. What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_1055");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You will need to speak to Sergeant Rhea in Coronet City. I'll transfer a waypoint to your datapad.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A little knowledge never hurt.What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Smuggler's Alliance sounds interesting!
	if (response == "s_963")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Well, the contact that you need for the Smuggler's Alliance is in town, actually. His name is Dravis and he started the Smuggler's Alliance with Talon Kardde. Is this what you want?
			string_id message = new string_id (c_stringFile, "s_967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that will do nicely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmm...maybe I should look at more legitimate avenues.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'd like to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_971");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_979");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_987");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know more about the RSF.
	if (response == "s_995")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Royal Security Forces protect the Royalty of Naboo and the sector from pirates and Rebels. Their headquarters is in the capital city of Theed. Is this what you would like to join?
			string_id message = new string_id (c_stringFile, "s_999");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds great! Where do I sign up?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, sounds rather boring. I want something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to start over. I'm not sure this is for me.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1003");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1011");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1019");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for CorSec!
	if (response == "s_1027")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: CorSec defends their sector from pirates, mostly. They try to stay neutral in the Galactic Civil War. Is this something that interests you?
			string_id message = new string_id (c_stringFile, "s_1031");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Perhaps not. I want to choose something else.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I want to start over.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1035");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1043");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1051");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll never argue with someone who wishes to make a well-thought-out choice about their future. What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting, please go on.
	if (response == "s_1067")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: At one point, I would have said that they were invincible, but that no longer appears to be true. While ruthless, their methods are also effective.
			string_id message = new string_id (c_stringFile, "s_1071");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: At one point, I would have said that they were invincible, but that no longer appears to be true. While ruthless, their methods are also effective.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What changed that?
	if (response == "s_1083")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: A farm boy managed to destroy the Emperor's 'Ultimate Weapon' and restore hope to the Rebel Alliance. They are not especially organized or well-funded, but they fight with heart.
			string_id message = new string_id (c_stringFile, "s_1087");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A farm boy managed to destroy the Emperor's 'Ultimate Weapon' and restore hope to the Rebel Alliance. They are not especially organized or well-funded, but they fight with heart.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are they specifically?
	if (response == "s_1099")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Lady Valarian has set herself up as Jabba the Hutt's rival, though I'm not sure he cares much as he is the main power here. Nym has a base up on Lok, and the Black Sun have been recently seen. Each planet has their criminal element, but many of those would rather rob you than talk to you.
			string_id message = new string_id (c_stringFile, "s_1103");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to know where I can learn to be a pilot.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to know about the Rebels.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'd like to know about the criminals
			boolean hasResponse3 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm set.  Now I just need to earn credits.
			boolean hasResponse4 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_754");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1059");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1075");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1091");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lady Valarian has set herself up as Jabba the Hutt's rival, though I'm not sure he cares much as he is the main power here. Nym has a base up on Lok, and the Black Sun have been recently seen. Each planet has their criminal element, but many of those would rather rob you than talk to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know where I can learn to be a pilot.
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Imperials.
	if (response == "s_1059")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the Rebels.
	if (response == "s_1075")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about the criminals
	if (response == "s_1091")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set.  Now I just need to earn credits.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You should go return to whoever sent you to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you tell me how to get back to Gendra?
	if (response == "s_206")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_sendToGendra (player, npc);

			//-- NPC: Sure, I'll have Gendra contact you.
			string_id message = new string_id (c_stringFile, "s_216");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_218");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess I should go see this Vourk guy.
	if (response == "s_208")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_sendToVourk (player, npc);

			//-- NPC: I'll just give you directions back to him.
			string_id message = new string_id (c_stringFile, "s_217");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sure, I'll have Gendra contact you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_218")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: It was my pleasure.
			string_id message = new string_id (c_stringFile, "s_219");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll just give you directions back to him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_220")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: It was my pleasure.
			string_id message = new string_id (c_stringFile, "s_221");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hello again, %TU. Do you need anything?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to know about being a pilot.
	if (response == "s_1135")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, spaceflight. While I'm not very adept with a starship, I can point you to someone that will help you. Who would you like to fly for?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to join the Imperial Navy!
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to fly for the Rebellion!
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't want to take sides. I'd rather freelance.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_955");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to go talk to the mayor.
	if (response == "s_1150")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			trehla_keelo_action_giveMayorQuest (player, npc);

			//-- NPC: Very well.  I will put the information into your journal.  Fare well and be safe.
			string_id message = new string_id (c_stringFile, "s_1152");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm all set. Thank you.
	if (response == "s_1154")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are welcome.  Safe journeys.
			string_id message = new string_id (c_stringFile, "s_1156");
			utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What factions operate around here?
	if (response == "s_213")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Who are you interested in knowing about?
			string_id message = new string_id (c_stringFile, "s_226");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would like to know about the Rebels.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want to know about the Imperials.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want to know about the Criminals.
			boolean hasResponse2 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_228");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_232");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to get back to work.
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should go return to whoever sent you to me.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you tell me how to get back to Gendra?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition_crafterPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess I should go see this Vourk guy.
			boolean hasResponse1 = false;
			if (trehla_keelo_condition_combatPlayer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int trehla_keelo_handleBranch111 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Who are you interested in knowing about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to know about the Rebels.
	if (response == "s_228")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are idealists who believe that the Empire's rule-by-might and strongly human-centric views are evil and wrong. Until recently, their efforts were like sand in the Emperor's shoe. 
			string_id message = new string_id (c_stringFile, "s_1079");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What changed that?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1083");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to know about the Imperials.
	if (response == "s_230")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Led by Emperor Palpatine and his army, the Empire stands for law and order. They are powerful and organized, and very little escapes their notice.  
			string_id message = new string_id (c_stringFile, "s_1063");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting, please go on.
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1067");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to know about the Criminals.
	if (response == "s_232")
	{
		//-- [NOTE] 
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			//-- NPC: The criminal influence can be felt everywhere. Hutts have their slimy hands in every despicable trade imaginable. They do not play well together and often work in direct opposition to each other.
			string_id message = new string_id (c_stringFile, "s_1095");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are they specifically?
			boolean hasResponse0 = false;
			if (trehla_keelo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

				utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.trehla_keelo");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Trehla Keelo");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Trehla Keelo");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.trehla_keelo");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!trehla_keelo_condition_questActiveOrComplete (player, npc))
	{
		doAnimationAction (npc, "greet");

		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Welcome to Mos Eisley. Watch your back here.  There has never been a more wretched hive of scum and villainy, as you may have heard. You and I have some business to attend to.
		string_id message = new string_id (c_stringFile, "s_303");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Business? I don't even know you!
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_305");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 1);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnBankStep (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: You didn't go to the bank terminal yet, did you?  Please go there now.  
		string_id message = new string_id (c_stringFile, "s_349");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnBankReturn (player, npc))
	{
		doAnimationAction (npc, "greet");

		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Welcome back. Did you make a successful transaction?  
		string_id message = new string_id (c_stringFile, "s_351");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I did indeed.
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I decided not to withdraw any money.
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_353");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_357");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 14);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnBazaarStep (player, npc))
	{
		doAnimationAction (npc, "wave_finger_warning");

		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: You are trying to put one over on me, are you not? Please do as I ask and go to the bazaar terminal.
		string_id message = new string_id (c_stringFile, "s_369");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnBazaarReturn (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Did you find anything that caught your eye?
		string_id message = new string_id (c_stringFile, "s_371");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I did, but nothing that I could afford.
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yes, I did.
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Not really.
		boolean hasResponse2 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_373");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_377");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_381");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 20);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnCloneStep (player, npc))
	{
		doAnimationAction (npc, "sigh_deeply");

		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: I know that contemplating death is difficult, but you must learn what is available to restore you.
		string_id message = new string_id (c_stringFile, "s_401");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnCloneReturn (player, npc))
	{
		trehla_keelo_action_signalCloneReturn (player, npc);

		//-- NPC: I hope that was enlightening.
		string_id message = new string_id (c_stringFile, "s_403");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was rather disturbing, preparing for my own death.
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Absolutely!  Now I know what happens to the people who get in my way!
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_405");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_409");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 29);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnMedCenterReturn (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Welcome back. Thank you for talking to Kazen.
		string_id message = new string_id (c_stringFile, "s_567");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You're welcome. Do you have anything else that needs to be done?
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yeah. Have another errand that I can run for you, master? 
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_569");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_585");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 33);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnJunkStep (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Please go to the junk dealer.
		string_id message = new string_id (c_stringFile, "s_601");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnJunkReturn (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: So now you know how to sell things to the junk dealers. When you are out hunting, you will occasionally come across things you don't want. Junk dealers will usually buy it from you.
		string_id message = new string_id (c_stringFile, "s_604");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm looking forward to it.
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: At least I won't be sending someone else to do my errands.
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_606");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_616");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 41);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnVehicleInfo (player, npc))
	{
		//-- NPC: Read a bit about your vehicle, call it, and then talk to me.
		string_id message = new string_id (c_stringFile, "s_632");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerLearnDroid (player, npc))
	{
		//-- NPC: Learn how to use your droid and how to join up with him. The knowledge will serve you in the future.
		string_id message = new string_id (c_stringFile, "s_715");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnLearnGroup (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: I have one more task that I need you to accomplish for me.  
		string_id message = new string_id (c_stringFile, "s_718");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What is this task?
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_721");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 49);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnShuttleStep (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: You will definitely need to learn how the shuttles work if you want to get around in the world. I suggest you go to the Shuttleport.
		string_id message = new string_id (c_stringFile, "s_740");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnAssociateStep (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Please go talk to Trace in Mos Espa.
		string_id message = new string_id (c_stringFile, "s_743");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition_playerOnLastStep (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Did you give him the information?
		string_id message = new string_id (c_stringFile, "s_746");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I did.    
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_749");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 55);

			npcStartConversation (player, npc, "trehla_keelo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (trehla_keelo_condition__defaultCondition (player, npc))
	{
		trehla_keelo_action_faceplayer (player, npc);

		//-- NPC: Hello again, %TU. Do you need anything?
		string_id message = new string_id (c_stringFile, "s_1131");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'd like to know about being a pilot.
		boolean hasResponse0 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to go talk to the mayor.
		boolean hasResponse1 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm all set. Thank you.
		boolean hasResponse2 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: What factions operate around here?
		boolean hasResponse3 = false;
		if (trehla_keelo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I need to get back to work.
		boolean hasResponse4 = false;
		if (!trehla_keelo_condition_startedVourk (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1135");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1150");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1154");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_213");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_233");

			utils.setScriptVar (player, "conversation.trehla_keelo.branchId", 108);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "trehla_keelo", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "trehla_keelo")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.trehla_keelo.branchId");

	if (branchId == 1 && trehla_keelo_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && trehla_keelo_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && trehla_keelo_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && trehla_keelo_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && trehla_keelo_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && trehla_keelo_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && trehla_keelo_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && trehla_keelo_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && trehla_keelo_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && trehla_keelo_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && trehla_keelo_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && trehla_keelo_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && trehla_keelo_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && trehla_keelo_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && trehla_keelo_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && trehla_keelo_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && trehla_keelo_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && trehla_keelo_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && trehla_keelo_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && trehla_keelo_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && trehla_keelo_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && trehla_keelo_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && trehla_keelo_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && trehla_keelo_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && trehla_keelo_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && trehla_keelo_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && trehla_keelo_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && trehla_keelo_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && trehla_keelo_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && trehla_keelo_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && trehla_keelo_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && trehla_keelo_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && trehla_keelo_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && trehla_keelo_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && trehla_keelo_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && trehla_keelo_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && trehla_keelo_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && trehla_keelo_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && trehla_keelo_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && trehla_keelo_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && trehla_keelo_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && trehla_keelo_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && trehla_keelo_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && trehla_keelo_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && trehla_keelo_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && trehla_keelo_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && trehla_keelo_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && trehla_keelo_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && trehla_keelo_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && trehla_keelo_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && trehla_keelo_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && trehla_keelo_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && trehla_keelo_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && trehla_keelo_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && trehla_keelo_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && trehla_keelo_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && trehla_keelo_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && trehla_keelo_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && trehla_keelo_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && trehla_keelo_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && trehla_keelo_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && trehla_keelo_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && trehla_keelo_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && trehla_keelo_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && trehla_keelo_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && trehla_keelo_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && trehla_keelo_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && trehla_keelo_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && trehla_keelo_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && trehla_keelo_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && trehla_keelo_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && trehla_keelo_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && trehla_keelo_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && trehla_keelo_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && trehla_keelo_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && trehla_keelo_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && trehla_keelo_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && trehla_keelo_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && trehla_keelo_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && trehla_keelo_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && trehla_keelo_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && trehla_keelo_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && trehla_keelo_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && trehla_keelo_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && trehla_keelo_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && trehla_keelo_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && trehla_keelo_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && trehla_keelo_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 111 && trehla_keelo_handleBranch111 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.trehla_keelo.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

