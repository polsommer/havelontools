// ======================================================================
//
// tatooine_24_azure_cabal_propti_xaroon_01.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.money;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_24_azure_cabal_propti_xaroon_01";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskEndorsementPropti (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_propti");
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskReturnPropti (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "tatooine_24_azure_cabal_proptis_loss_01", "tatooine_24_azure_cabal_proptis_loss_01_wait_return_propti");
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedPropti1_lastObjective (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "tatooine_24_azure_cabal_proptis_loss_01") && 
			!(groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_porgryn") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_tweego"))); 
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedPropti1 (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "tatooine_24_azure_cabal_proptis_loss_01");
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedLoruna1 (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_24_azure_cabal_01");
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedPropti1_hasOtherACActive (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "tatooine_24_azure_cabal_proptis_loss_01") && 
			(groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_porgryn") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_tweego"))); 
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma"); 
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_tweego"); 
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_meet_porgryn") ||
		groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_porgryn"));
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskRetrievePurse (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "tatooine_24_azure_cabal_proptis_loss_01", "azure_cabal_proptis_loss_01_retrieve_purse");
}

// ----------------------------------------------------------------------

boolean tatooine_24_azure_cabal_propti_xaroon_01_condition_hasNotCompletedPropti1_hasOtherACActive (obj_id player, obj_id npc)
{
	return (!groundquests.hasCompletedQuest(player, "tatooine_24_azure_cabal_proptis_loss_01") && 
			(groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_porgryn") ||
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_tweego"))); 
}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_24_azure_cabal_propti_xaroon_01_action_signalProptiEndorsement (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "endorsedByProptiXaroon");
	groundquests.sendSignal(player, "tatooine_24_azure_cabal_proptis_loss_01_complete");
}

// ----------------------------------------------------------------------

void tatooine_24_azure_cabal_propti_xaroon_01_action_signaCompletedPropti (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tatooine_24_azure_cabal_proptis_loss_01_all_recovered");
	groundquests.sendSignal(player, "endorsedByProptiXaroon");
}

// ----------------------------------------------------------------------

void tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.grantQuest(player, "quest/tatooine_24_azure_cabal_proptis_loss_01");
}

// ----------------------------------------------------------------------

void tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (obj_id player, obj_id npc)
{
    string name = getFirstName(player);
	return name;
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Loruna is preparing your missions, I believe. As soon as she issues the order, I'll have plenty for you to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How did you become a member of the Azure Cabal?
	if (response == "s_50")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: So you want my life history, then?
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I like knowing those I work with.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, never mind.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Remind me where the other Cabal members are.
	if (response == "s_68")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Goodbye.
	if (response == "s_51")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you want my life history, then?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I like knowing those I work with.
	if (response == "s_53")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: When I was young, I was a splendid dancer. I knew more flourishes than any of my sisters.  I was invited to perform throughout the galaxy! When I was approached for a private performance on Tatooine, I didn't hesitate. The money was good and I thought I'd found a new patron.
			string_id message = new string_id (c_stringFile, "s_55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me guess: Hoverdale?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I should really be going.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_57");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, never mind.
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: When I was young, I was a splendid dancer. I knew more flourishes than any of my sisters.  I was invited to perform throughout the galaxy! When I was approached for a private performance on Tatooine, I didn't hesitate. The money was good and I thought I'd found a new patron.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me guess: Hoverdale?
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Yes. He seemed so sophisticated and well dressed, I assumed he was a lesser noble...I danced for him and his goons in that hideout you found...and even got paid for it in advance!
			string_id message = new string_id (c_stringFile, "s_58");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds alright. What happened?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've heard enough.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I should really be going.
	if (response == "s_57")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes. He seemed so sophisticated and well dressed, I assumed he was a lesser noble...I danced for him and his goons in that hideout you found...and even got paid for it in advance!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds alright. What happened?
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: As I was finishing a complicated flourish, Hoverdale leapt up and literally yanked the rug out from under me. I fell and hit my head. When I awoke, I was in a ditch and my belongings were gone!
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Horrible!
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have heard enough. Thank you.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've heard enough.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you said, it's important to know those you work with. Goodbye, %TO.
			string_id message = new string_id (c_stringFile, "s_67");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I was finishing a complicated flourish, Hoverdale leapt up and literally yanked the rug out from under me. I fell and hit my head. When I awoke, I was in a ditch and my belongings were gone!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Horrible!
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: I didn't even have enough to leave the planet. I managed to eke out a living by selling bits of information here and there. That's when Loruna found me. She was kind and helped me rebuild my life. From then on I have been a loyal member of the Cabal.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you for sharing.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have heard enough. Thank you.
	if (response == "s_64")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you said, it's important to know those you work with. Goodbye, %TO.
			string_id message = new string_id (c_stringFile, "s_67");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I didn't even have enough to leave the planet. I managed to eke out a living by selling bits of information here and there. That's when Loruna found me. She was kind and helped me rebuild my life. From then on I have been a loyal member of the Cabal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for sharing.
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you said, it's important to know those you work with. Goodbye, %TO.
			string_id message = new string_id (c_stringFile, "s_67");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I greatly appreciate your help, %TO. I have sent my endorsement to Loruna.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could use some help finding the others.
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Goodbye.
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are wonderful, %TO! I never thought to see that purse again! Thank you so much. I will send a message to Loruna of what you have done. The Azure Cabal needs someone like you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Does this mean I'm a member of the Cabal now?
	if (response == "s_29")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Not until Loruna says so. Finish the tasks she has set for you and return to her on Naboo.
			string_id message = new string_id (c_stringFile, "s_31");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: On my way now.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I could use some direction.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll be on my way, then.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I look forward to working with you!
			string_id message = new string_id (c_stringFile, "s_88");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not until Loruna says so. Finish the tasks she has set for you and return to her on Naboo.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On my way now.
	if (response == "s_33")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could use some direction.
	if (response == "s_35")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How can I help?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is Broma Lak?
	if (response == "s_39")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Last I heard, he was located in the lightly forested area outside of Theed on Naboo. Do you need help finding the others?
			string_id message = new string_id (c_stringFile, "s_41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't find Tweego
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tweego is on assignment on Tatooine right now. He's been ordered to stay near the spaceport in Mos Entha and track the movements of the Mystril Shadow Guard.
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, thanks.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find Porgryn?
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Porgryn is on assignment on Tatooine, near Wayfar. I believe that is near Jabba the Hutt's Palace. Be careful down there.
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, thanks.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Last I heard, he was located in the lightly forested area outside of Theed on Naboo. Do you need help finding the others?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_43")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_45")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Tweego is on assignment on Tatooine right now. He's been ordered to stay near the spaceport in Mos Entha and track the movements of the Mystril Shadow Guard.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thanks.
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Porgryn is on assignment on Tatooine, near Wayfar. I believe that is near Jabba the Hutt's Palace. Be careful down there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thanks.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe that Hoverdale still uses a cave not far from here as a headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need help finding other Azure Cabal Members.
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: How can I help?
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Broma Lak?
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasBromaActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't find Tweego
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasTweegoActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where can I find Porgryn?
			boolean hasResponse2 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasPorgrynActive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll be going, then.
	if (response == "s_98")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you want to impress Loruna? Well, love, I don't hand out endorsements. So what can you do for me?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just upload what you want me to do.
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

			//-- NPC: Bring back as much of my stolen property as you can find.
			string_id message = new string_id (c_stringFile, "s_100");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I can help with your current assignment.
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Oh, I could send you to kill some things, sure, but why? I do my own dirty work and don't really need your help.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just upload what you want me to do.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Surely there's something...there always is.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_106");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have other things to do first.
	if (response == "s_126")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, then.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, I could send you to kill some things, sure, but why? I do my own dirty work and don't really need your help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just upload what you want me to do.
	if (response == "s_106")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

			//-- NPC: Bring back as much of my stolen property as you can find.
			string_id message = new string_id (c_stringFile, "s_100");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Surely there's something...there always is.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The only thing I have not been able to do for myself is find some things that were taken from me long ago.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Get on with it already.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I need more information than that.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_114");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The only thing I have not been able to do for myself is find some things that were taken from me long ago.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Get on with it already.
	if (response == "s_112")
	{
		tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

			//-- NPC: Bring back as much of my stolen property as you can find.
			string_id message = new string_id (c_stringFile, "s_100");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need more information than that.
	if (response == "s_114")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: A conman named Hoverdale robbed me of everything I owned. I was performing for him. Like the young fool I was, I brought everything I owned with me: family jewels, my identity chips, all of my credits...everything!
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll see what I can find.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: If it was so long ago, I doubt there is much left.
			boolean hasResponse1 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A conman named Hoverdale robbed me of everything I owned. I was performing for him. Like the young fool I was, I brought everything I owned with me: family jewels, my identity chips, all of my credits...everything!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can find.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

			//-- NPC: Bring back as much of my stolen property as you can find.
			string_id message = new string_id (c_stringFile, "s_100");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If it was so long ago, I doubt there is much left.
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Find what you can. Anything is better than nothing.
			string_id message = new string_id (c_stringFile, "s_122");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay.
			boolean hasResponse0 = false;
			if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_24_azure_cabal_propti_xaroon_01_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Find what you can. Anything is better than nothing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			tatooine_24_azure_cabal_propti_xaroon_01_action_grantProptisLoss01 (player, npc);

			//-- NPC: Bring back as much of my stolen property as you can find.
			string_id message = new string_id (c_stringFile, "s_100");
			utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_24_azure_cabal_propti_xaroon_01");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_24_azure_cabal_propti_xaroon_01");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedLoruna1 (player, npc))
	{
		tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (player, npc);

		//-- NPC: Loruna is preparing your missions, I believe. As soon as she issues the order, I'll have plenty for you to do.
		string_id message = new string_id (c_stringFile, "s_49");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: How did you become a member of the Azure Cabal?
		boolean hasResponse0 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Remind me where the other Cabal members are.
		boolean hasResponse1 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Goodbye.
		boolean hasResponse2 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_50");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_68");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_51");

			utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 1);

			npcStartConversation (player, npc, "tatooine_24_azure_cabal_propti_xaroon_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedPropti1 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (player, npc);

		//-- NPC: I greatly appreciate your help, %TO. I have sent my endorsement to Loruna.
		string_id message = new string_id (c_stringFile, "s_23");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I could use some help finding the others.
		boolean hasResponse0 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasCompletedPropti1_hasOtherACActive (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Goodbye.
		boolean hasResponse1 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_48");

			utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 8);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			npcStartConversation (player, npc, "tatooine_24_azure_cabal_propti_xaroon_01", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskReturnPropti (player, npc))
	{
		doAnimationAction (npc, "kisscheek");

		tatooine_24_azure_cabal_propti_xaroon_01_action_signalProptiEndorsement (player, npc);

		//-- NPC: You are wonderful, %TO! I never thought to see that purse again! Thank you so much. I will send a message to Loruna of what you have done. The Azure Cabal needs someone like you.
		string_id message = new string_id (c_stringFile, "s_27");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Does this mean I'm a member of the Cabal now?
		boolean hasResponse0 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll be on my way, then.
		boolean hasResponse1 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_29");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_86");

			utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 9);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			npcStartConversation (player, npc, "tatooine_24_azure_cabal_propti_xaroon_01", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);
			pp.other.set (tatooine_24_azure_cabal_propti_xaroon_01_tokenTO_playerFirstName (player, npc));

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskRetrievePurse (player, npc))
	{
		tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (player, npc);

		//-- NPC: I believe that Hoverdale still uses a cave not far from here as a headquarters.
		string_id message = new string_id (c_stringFile, "s_96");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I need help finding other Azure Cabal Members.
		boolean hasResponse0 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasNotCompletedPropti1_hasOtherACActive (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll be going, then.
		boolean hasResponse1 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_97");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_98");

			utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 17);

			npcStartConversation (player, npc, "tatooine_24_azure_cabal_propti_xaroon_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition_hasActiveTaskEndorsementPropti (player, npc))
	{
		doAnimationAction (npc, "hair_flip");

		tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (player, npc);

		//-- NPC: So you want to impress Loruna? Well, love, I don't hand out endorsements. So what can you do for me?
		string_id message = new string_id (c_stringFile, "s_93");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Just upload what you want me to do.
		boolean hasResponse0 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Maybe I can help with your current assignment.
		boolean hasResponse1 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I have other things to do first.
		boolean hasResponse2 = false;
		if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_95");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_102");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_126");

			utils.setScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId", 18);

			npcStartConversation (player, npc, "tatooine_24_azure_cabal_propti_xaroon_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_24_azure_cabal_propti_xaroon_01_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "shoo");

		tatooine_24_azure_cabal_propti_xaroon_01_action_facePlayer (player, npc);

		//-- NPC: No you is good you. Goodbye.
		string_id message = new string_id (c_stringFile, "s_128");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_24_azure_cabal_propti_xaroon_01")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

	if (branchId == 1 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && tatooine_24_azure_cabal_propti_xaroon_01_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.tatooine_24_azure_cabal_propti_xaroon_01.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

