// ======================================================================
//
// ep3_etyyy_ziven_tissak.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.30 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_etyyy_ziven_tissak";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_etyyy_ziven_tissak_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_hasCompletedZivenHunts (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "ep3_hunt_ziven_collect_webweaver_eyes");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_finishedWeaverEyes (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_ziven_collect_webweaver_eyes", "ziven_webweaverEyes");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_finishedWeaverFangs (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_ziven_collect_webweaver_fangs", "ziven_webweaverFangs") ||
				groundquests.hasCompletedQuest(player, "ep3_hunt_ziven_collect_webweaver_fangs");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_isCollectingWeaverEyes (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_ziven_collect_webweaver_eyes", "ziven_collectWebweaverEyes");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_isCollectingWeaverFangs (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_ziven_collect_webweaver_fangs", "ziven_collectWebweaverFangs");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_speakWithZiven (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_ziven_collect_webweaver_fangs", "ziven_talkToZiven");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_newToEtyyy (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_kerssoc_enter_etyyy", "etyyy_talkToZiven");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (obj_id player, obj_id npc)
{
	// Previously defeated all other named Etyyy creatures except silkthrower.
	return groundquests.hasCompletedQuest(player, "ep3_hunt_loot_brightclaw_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_paleclaw_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_stoneleg_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_spiketop_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_greyclimber_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_killedSilkthrower (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "ep3_hunt_loot_silkthrower_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_startSpaceMissions (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "ep3_hunt_ziven_collect_webweaver_eyes") && 
		space_quest.hasWonQuest(player, "recovery", "ep3_hunting_banol_capture_fordan");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_fordanShipRescueWon (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest(player, "rescue", "ep3_hunting_ziven_fordans_ship");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_fordanShipRescueFailed (obj_id player, obj_id npc)
{
	return space_quest.hasFailedQuest(player, "rescue", "ep3_hunting_ziven_fordans_ship") ||
		space_quest.hasAbortedQuest(player, "rescue", "ep3_hunting_ziven_fordans_ship");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player);
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_isRescuingFordansShip (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player, "rescue", "ep3_hunting_ziven_fordans_ship");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeOneUnderway (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeOneComplete (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeTwoUnderway (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeOneFailed (obj_id player, obj_id npc)
{
	return space_quest.hasFailedQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01") ||
		space_quest.hasAbortedQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeTwoFailed (obj_id player, obj_id npc)
{
	return space_quest.hasFailedQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02") ||
		space_quest.hasAbortedQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_ziven_tissak_condition_revengeTwoCompleted (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02");
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_etyyy_ziven_tissak_action_finishedCollectingWeaverFangs (obj_id player, obj_id npc)
{
		groundquests.sendSignal(player, "ziven_webweaverFangs");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_speakWithSordaan (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "ziven_webweaverEyes");
	
	groundquests.grantQuest(player, "ep3_hunt_sordaan_seek_sordaan");
	groundquests.sendSignal(player, "sordaan_zivenSendsYou");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_collectWeaverFangs (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "ziven_talkToZiven");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_collectWeaverEyes (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_hunt_ziven_collect_webweaver_eyes");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_sendToTuwezz (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "etyyy_talkToZiven");
	
	if ( !groundquests.isQuestActive(player, "ep3_hunt_tuwezz_kill_diseased_ullers") &&
	!groundquests.hasCompletedQuest(player, "ep3_hunt_tuwezz_kill_diseased_ullers"))
	{
		groundquests.grantQuest(player, "ep3_hunt_tuwezz_kill_diseased_ullers");
	}
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "lootQuest_defeatedSilkthrower");
	groundquests.grantQuest(player, "ep3_hunt_loot_completed_all");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_silkthrowerReward (obj_id player, obj_id npc)
{
		groundquests.sendSignal(player, "lootQuest_defeatedSilkthrower");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_giveFordanShipRescue (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "rescue", "ep3_hunting_ziven_fordans_ship" );
	space_quest.grantQuest(player, "rescue", "ep3_hunting_ziven_fordans_ship");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_giveRevengeTwo (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02" );
	space_quest.grantQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_02");
}

// ----------------------------------------------------------------------

void ep3_etyyy_ziven_tissak_action_giveRevengeOne (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01" );
	space_quest.grantQuest(player, "assassinate", "ep3_hunting_ziven_vs_sordaans_freighter_01");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_etyyy_ziven_tissak_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well done! That should send a message to Sordaan to leave me and my clan in peace. And if not, there's plenty more pain I can send his way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_263")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The second freighter got away. Not to worry, it's only a minor setback. We'll pick another freighter to target. Do you think you can destroy it this time?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me try again.
	if (response == "s_884")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_768");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveRevengeTwo (player, npc);

			//-- NPC: Vey good. Destroy the second freighter and any ships that are escorting it.
			string_id message = new string_id (c_stringFile, "s_769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks.
	if (response == "s_886")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but return if you change your mind.
			string_id message = new string_id (c_stringFile, "s_888");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_261")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Destroy Sordaan's second freighter and it's escort. Sordaan hates nothing more than spending money, and this should cost him a lot of it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_259")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You did well on the first freighter, but that's not enough. Go take out a second of Sordaan's freighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on my way.
	if (response == "s_766")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_768");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveRevengeTwo (player, npc);

			//-- NPC: Vey good. Destroy the second freighter and any ships that are escorting it.
			string_id message = new string_id (c_stringFile, "s_769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks.
	if (response == "s_772")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but return if you change your mind.
			string_id message = new string_id (c_stringFile, "s_774");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_257")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The first freighter escaped, but that's not a problem. There are plenty more of them. We'll simply start with a different one.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll try again.
	if (response == "s_876")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_760");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveRevengeOne (player, npc);

			//-- NPC: Excellent. Launch into space and destroy the first freighter as well as any ships escorting it. Once you succeeded in that, we'll give you the location of the second freighter.
			string_id message = new string_id (c_stringFile, "s_761");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks.
	if (response == "s_879")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but return if you change your mind.
			string_id message = new string_id (c_stringFile, "s_881");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_255")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Destroy Sordaan's first freighter. Make sure none of his ships survive.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_253")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I appreciate you recovering that ship. My technicians were able to learn some things and I now know who was behind Fordan's disappearance: Sordaan Xris. Luckily, Fordan is okay and back on his home planet, but Sordaan must pay for what he's done. I want you to launch into space and hit Sordaan where it will hurt the most...in his bank balance. Destroy two of his freighters. The first is leaving soon.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take care of it.
	if (response == "s_758")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_760");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveRevengeOne (player, npc);

			//-- NPC: Excellent. Launch into space and destroy the first freighter as well as any ships escorting it. Once you succeeded in that, we'll give you the location of the second freighter.
			string_id message = new string_id (c_stringFile, "s_761");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks.
	if (response == "s_759")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but return if you change your mind.
			string_id message = new string_id (c_stringFile, "s_762");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_251")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I heard about the attacks, and you're inability to recover Fordan's ship. We've reacquired the location of the ship. Please try again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, okay, I suppose I can do that.
	if (response == "s_578")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_747");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveFordanShipRescue (player, npc);

			//-- NPC: Thank you. Launch into space when you're ready.
			string_id message = new string_id (c_stringFile, "s_580");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not right now.
	if (response == "s_582")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: I understand. Not everyone has the stomach for this kind of thing.
			string_id message = new string_id (c_stringFile, "s_584");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_249")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Launch into space and head to the location we upload to you for Fordan's ship.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_247")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I just received some disturbing news. A friend of mine, Fordan Szholz, was on his way to Kashyyyk but was attacked before he could arrive. I don't even know how long ago this happened, because I didn't know he was even coming to Kashyyyk until I received this news. We've identified what we think is a tracking signal from his ship. Would you go investigate for me? Recover his ship if you find it...hopefully with Fordan safely inside.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, okay, I suppose I can do that.
	if (response == "s_571")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_745");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_giveFordanShipRescue (player, npc);

			//-- NPC: Very good. I don't know what to expect up there, but try to salvage Fordan's ship if at all possible. Hopefully, he's safe inside of it, but even if he's not, his ship might have clues as to what happened.
			string_id message = new string_id (c_stringFile, "s_573");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Er, no. I don't think that would be a good idea for me to do.
	if (response == "s_572")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: I understand. Not everyone has the stomach for this kind of thing.
			string_id message = new string_id (c_stringFile, "s_574");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_245")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good hunting to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1701")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Again you amaze me. These are 2 of the most perfect webweaver eyes I've yet seen. Good hunting indeed. Sordaan seeks an audience with you once again. I think perhaps I'll place a side bet with Ehartt if you accept one of Sordaan's challenges. I have no doubt that you will defeat Sordaan's hunters should you choose to do so.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will go speak with Sordaan.
	if (response == "s_1705")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_speakWithSordaan (player, npc);

			//-- NPC: Send him my regards as well, if you would.
			string_id message = new string_id (c_stringFile, "s_1707");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll speak with him later.
	if (response == "s_1709")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Return to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_1711");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1713")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll find webweaver warriors in the southeast corner of Etyyy. They are usually further in along the river that runs to the southeast. Beware the webweaver spikers that tend to be in the same area. Both are fierce foes. Return when you've collected 2 immaculate webweaver eyes. And remember that it will take patience to find them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1717")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The things I've heard about your hunting skills have been proven to be accurate. But are you ready for a much more challenging prey?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes I am.
	if (response == "s_1721")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_collectWeaverEyes (player, npc);

			//-- NPC: You will again be hunting webweavers, but you'll be targeting webweaver warriors. From them, I ask that you collect 2 immaculate webweaver eyes. Sounds easy, doesn't it? You'll find this hunt much trickier than it sounds. Webweaver eyes are very delicate and very easily sustain damage when hunted. It will require much patience and persistence to find 2 immaculate eyes. Good hunting.
			string_id message = new string_id (c_stringFile, "s_1723");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe later.
	if (response == "s_1725")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Return when you are ready to hunt.
			string_id message = new string_id (c_stringFile, "s_1727");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1729")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Gather 38 webweaver fangs. You'll find webweavers down toward the southeast corner of the hunting grounds.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1733")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've come back to me quite the accomplished hunter. And I hope to continue your growth. Are you ready for your next hunt?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, absolutely.
	if (response == "s_1737")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_collectWeaverFangs (player, npc);

			//-- NPC: Your prey will be the feared webweaver spiders. Most of these creatures never leave the deepest murky depths of the darkest of Kashyyk's forests. But as it happens, Etyyy is home to some webweavers that dwell away from those fearsome shadows. You shall next hunt and gather 38 untainted webweaver fangs. Any webweavers in the Etyyy region will do for this hunt. And I wish you good hunting.
			string_id message = new string_id (c_stringFile, "s_1739");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not just yet.
	if (response == "s_1741")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Return when you are ready to hunt.
			string_id message = new string_id (c_stringFile, "s_1743");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1745")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome to Etyyy! Hopefully you will fare better than the last hunters that Kerssoc was foolish enough to allow into these hunting grounds. If you are willing, I would like for you to go speak to a protege of mine named Tuwezz Vol.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready. Where will I find Tuwezz?
	if (response == "s_1749")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_sendToTuwezz (player, npc);

			//-- NPC: Tuwezz is down at the Hracca Glade gate camp. I'll upload a waypoint to your datapad to make finding the camp easier. When you arrive, speak with Tuwezz. He'll be expecting you.
			string_id message = new string_id (c_stringFile, "s_1751");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not just yet.
	if (response == "s_1753")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. Return when you are ready to hunt.
			string_id message = new string_id (c_stringFile, "s_1755");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1757")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings, young hunter. May your weapon never miss its mark.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Silkthrower's Fang to Ziven]
	if (response == "s_1761")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrowerPlusAll (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerRewardPlusAll (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_1763");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1765");

				utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_ziven_tissak_action_silkthrowerReward (player, npc);

			//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver, yet you have done so. Very well done.
			string_id message = new string_id (c_stringFile, "s_1769");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_ziven_tissak_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is that... it is! Silkthrower's fang. Not many hunters could have defeated that webweaver. I've also heard that you successfully hunted Brightclaw, Paleclaw, Stoneleg, Spiketop, and Greyclimber. All impressive beasts and all laid low by your hand. You are a true hunter. Even Sordaan will have to acknowledge you with this type of evidence. Go speak with him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go speak with Sordaan.
	if (response == "s_1765")
	{
		//-- [NOTE] 
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's time he was forced to recognize hunting excellence in someone other than himself. Though based on that, the problem would seem to be that he has no clue what excellence in hunting actually is.
			string_id message = new string_id (c_stringFile, "s_1767");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.ep3_etyyy_ziven_tissak");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_etyyy_ziven_tissak");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeTwoCompleted (player, npc))
	{
		//-- NPC: Very well done! That should send a message to Sordaan to leave me and my clan in peace. And if not, there's plenty more pain I can send his way.
		string_id message = new string_id (c_stringFile, "s_882");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_263");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 1);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeTwoFailed (player, npc))
	{
		//-- NPC: The second freighter got away. Not to worry, it's only a minor setback. We'll pick another freighter to target. Do you think you can destroy it this time?
		string_id message = new string_id (c_stringFile, "s_883");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Let me try again.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thanks.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_884");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_886");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_261");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 2);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeTwoUnderway (player, npc))
	{
		//-- NPC: Destroy Sordaan's second freighter and it's escort. Sordaan hates nothing more than spending money, and this should cost him a lot of it.
		string_id message = new string_id (c_stringFile, "s_763");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_259");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 4);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeOneComplete (player, npc))
	{
		//-- NPC: You did well on the first freighter, but that's not enough. Go take out a second of Sordaan's freighters.
		string_id message = new string_id (c_stringFile, "s_764");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm on my way.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thanks.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_766");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_772");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_257");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 5);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeOneFailed (player, npc))
	{
		//-- NPC: The first freighter escaped, but that's not a problem. There are plenty more of them. We'll simply start with a different one.
		string_id message = new string_id (c_stringFile, "s_875");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'll try again.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thanks.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_876");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_879");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_255");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 9);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_revengeOneUnderway (player, npc))
	{
		//-- NPC: Destroy Sordaan's first freighter. Make sure none of his ships survive.
		string_id message = new string_id (c_stringFile, "s_765");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_253");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 11);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_fordanShipRescueWon (player, npc))
	{
		//-- NPC: I appreciate you recovering that ship. My technicians were able to learn some things and I now know who was behind Fordan's disappearance: Sordaan Xris. Luckily, Fordan is okay and back on his home planet, but Sordaan must pay for what he's done. I want you to launch into space and hit Sordaan where it will hurt the most...in his bank balance. Destroy two of his freighters. The first is leaving soon.
		string_id message = new string_id (c_stringFile, "s_576");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'll take care of it.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thanks.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_758");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_759");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_251");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 12);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_fordanShipRescueFailed (player, npc))
	{
		//-- NPC: I heard about the attacks, and you're inability to recover Fordan's ship. We've reacquired the location of the ship. Please try again.
		string_id message = new string_id (c_stringFile, "s_575");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Um, okay, I suppose I can do that.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No, not right now.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_578");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_582");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_249");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 16);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_isRescuingFordansShip (player, npc))
	{
		//-- NPC: Launch into space and head to the location we upload to you for Fordan's ship.
		string_id message = new string_id (c_stringFile, "s_748");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_247");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 20);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_startSpaceMissions (player, npc))
	{
		//-- NPC: I just received some disturbing news. A friend of mine, Fordan Szholz, was on his way to Kashyyyk but was attacked before he could arrive. I don't even know how long ago this happened, because I didn't know he was even coming to Kashyyyk until I received this news. We've identified what we think is a tracking signal from his ship. Would you go investigate for me? Recover his ship if you find it...hopefully with Fordan safely inside.
		string_id message = new string_id (c_stringFile, "s_366");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Um, okay, I suppose I can do that.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Er, no. I don't think that would be a good idea for me to do.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_571");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_572");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_245");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 21);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_hasCompletedZivenHunts (player, npc))
	{
		//-- NPC: Good hunting to you.
		string_id message = new string_id (c_stringFile, "s_1699");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1701");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 25);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_finishedWeaverEyes (player, npc))
	{
		//-- NPC: Again you amaze me. These are 2 of the most perfect webweaver eyes I've yet seen. Good hunting indeed. Sordaan seeks an audience with you once again. I think perhaps I'll place a side bet with Ehartt if you accept one of Sordaan's challenges. I have no doubt that you will defeat Sordaan's hunters should you choose to do so.
		string_id message = new string_id (c_stringFile, "s_1703");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I will go speak with Sordaan.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll speak with him later.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1705");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1709");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1713");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 26);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_isCollectingWeaverEyes (player, npc))
	{
		//-- NPC: You'll find webweaver warriors in the southeast corner of Etyyy. They are usually further in along the river that runs to the southeast. Beware the webweaver spikers that tend to be in the same area. Both are fierce foes. Return when you've collected 2 immaculate webweaver eyes. And remember that it will take patience to find them.
		string_id message = new string_id (c_stringFile, "s_1715");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1717");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 29);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_finishedWeaverFangs (player, npc))
	{
		ep3_etyyy_ziven_tissak_action_finishedCollectingWeaverFangs (player, npc);

		//-- NPC: The things I've heard about your hunting skills have been proven to be accurate. But are you ready for a much more challenging prey?
		string_id message = new string_id (c_stringFile, "s_1719");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes I am.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Maybe later.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1721");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1725");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1729");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 30);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_isCollectingWeaverFangs (player, npc))
	{
		//-- NPC: Gather 38 webweaver fangs. You'll find webweavers down toward the southeast corner of the hunting grounds.
		string_id message = new string_id (c_stringFile, "s_1731");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1733");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 33);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_speakWithZiven (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: You've come back to me quite the accomplished hunter. And I hope to continue your growth. Are you ready for your next hunt?
		string_id message = new string_id (c_stringFile, "s_1735");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, absolutely.
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not just yet.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1737");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1741");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1745");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 34);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition_newToEtyyy (player, npc))
	{
		//-- NPC: Welcome to Etyyy! Hopefully you will fare better than the last hunters that Kerssoc was foolish enough to allow into these hunting grounds. If you are willing, I would like for you to go speak to a protege of mine named Tuwezz Vol.
		string_id message = new string_id (c_stringFile, "s_1747");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm ready. Where will I find Tuwezz?
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not just yet.
		boolean hasResponse1 = false;
		if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse2 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1749");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1753");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1757");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 37);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_ziven_tissak_condition__defaultCondition (player, npc))
	{
		//-- NPC: Greetings, young hunter. May your weapon never miss its mark.
		string_id message = new string_id (c_stringFile, "s_1759");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Silkthrower's Fang to Ziven]
		boolean hasResponse0 = false;
		if (ep3_etyyy_ziven_tissak_condition_killedSilkthrower (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1761");

			utils.setScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId", 40);

			npcStartConversation (player, npc, "ep3_etyyy_ziven_tissak", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_etyyy_ziven_tissak")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

	if (branchId == 1 && ep3_etyyy_ziven_tissak_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && ep3_etyyy_ziven_tissak_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_etyyy_ziven_tissak_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && ep3_etyyy_ziven_tissak_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && ep3_etyyy_ziven_tissak_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && ep3_etyyy_ziven_tissak_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && ep3_etyyy_ziven_tissak_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_etyyy_ziven_tissak_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && ep3_etyyy_ziven_tissak_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_etyyy_ziven_tissak_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && ep3_etyyy_ziven_tissak_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && ep3_etyyy_ziven_tissak_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && ep3_etyyy_ziven_tissak_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && ep3_etyyy_ziven_tissak_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && ep3_etyyy_ziven_tissak_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && ep3_etyyy_ziven_tissak_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && ep3_etyyy_ziven_tissak_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && ep3_etyyy_ziven_tissak_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && ep3_etyyy_ziven_tissak_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_etyyy_ziven_tissak.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

