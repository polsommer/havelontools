// ======================================================================
//
// mos_eisley_mayor.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.badge;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/mos_eisley_mayor";

// ======================================================================
// Script Conditions
// ======================================================================

boolean mos_eisley_mayor_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsTuskenReward (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "purvis_kill_warriors", "newbie_ranged_e7");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsVerminReward (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "newbie_scout_pt6", "newbie_scout_e63");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_completedAllMayorQuests (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest (player, "newbie_scout_pt6") && 
	groundquests.hasCompletedQuest (player, "purvis_kill_warriors") && 
	groundquests.hasCompletedQuest (player, "newbie_mayor_vaigon_shinn");	
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_sentByVourk (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "tatooine_eisley_gotomayor", "tat_eisley_gotomayor_e3") ||
	groundquests.hasCompletedQuest(player, "tatooine_eisley_gotomayor");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_hasAMayorQuest (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActiveOrComplete(player, "c_melee_combat_trainer") ||
			groundquests.isQuestActiveOrComplete(player, "c_ranged_combat_trainer") ||
			groundquests.isQuestActiveOrComplete(player, "c_scout_trainer"));
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsHooligansReward (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "newbie_mayor_vaigon_shinn", "mayor_vaigon_shinn_04");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsTusken (obj_id player, obj_id npc)
{
	if ( groundquests.isTaskActive(player, "newbie_scout_pt6", "newbie_scout_e63") ||
	 groundquests.isTaskActive(player, "purvis_kill_warriors", "newbie_ranged_e7") ||
	 groundquests.isTaskActive(player, "newbie_mayor_vaigon_shinn", "mayor_vaigon_shinn_04") )
	 {
	 	return false;
	 }
	
	if ( !groundquests.isQuestActive(player, "c_ranged_combat_trainer") &&
	!groundquests.hasCompletedQuest(player, "c_ranged_combat_trainer") &&
	!groundquests.isQuestActive(player, "purvis_recon_one") &&
	!groundquests.hasCompletedQuest(player, "purvis_recon_one") )
	{
		return true;
	}
	
	return false;
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsVermin (obj_id player, obj_id npc)
{
	if ( groundquests.isTaskActive(player, "newbie_scout_pt6", "newbie_scout_e63") ||
	 groundquests.isTaskActive(player, "purvis_kill_warriors", "newbie_ranged_e7") ||
	 groundquests.isTaskActive(player, "newbie_mayor_vaigon_shinn", "mayor_vaigon_shinn_04") )
	 {
	 	return false;
	 }
	
	if ( !groundquests.isQuestActive(player, "c_scout_trainer") &&
	!groundquests.hasCompletedQuest(player, "c_scout_trainer") &&
	!groundquests.isQuestActive(player, "newbie_scout_v2") &&
	!groundquests.hasCompletedQuest(player, "newbie_scout_v2") )
	{
		return true;
	}
	
	return false;
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsHooligans (obj_id player, obj_id npc)
{
	if ( groundquests.isTaskActive(player, "newbie_scout_pt6", "newbie_scout_e63") ||
	 groundquests.isTaskActive(player, "purvis_kill_warriors", "newbie_ranged_e7") ||
	 groundquests.isTaskActive(player, "newbie_mayor_vaigon_shinn", "mayor_vaigon_shinn_04") )
	 {
	 	return false;
	 }

	if ( !groundquests.isQuestActive(player, "c_melee_combat_trainer") &&
	!groundquests.hasCompletedQuest(player, "c_melee_combat_trainer") &&
	!groundquests.isQuestActive(player, "newbie_mayor_hooligans") &&
	!groundquests.hasCompletedQuest(player, "newbie_mayor_hooligans") )
	{
		return true;
	}
	
	return false;
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_completedVerminAndHooligans (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest (player, "newbie_scout_pt6") &&  
	groundquests.hasCompletedQuest (player, "newbie_mayor_vaigon_shinn");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_completedTuskenAndHooligans (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest (player, "purvis_kill_warriors") && 
	groundquests.hasCompletedQuest (player, "newbie_mayor_vaigon_shinn");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_completedTuskenAndVermin (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest (player, "newbie_scout_pt6") && 
	groundquests.hasCompletedQuest (player, "purvis_kill_warriors");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsToGoToVourk (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "newbie_goto_vourk") &&
	!groundquests.hasCompletedQuest(player, "newbie_goto_vourk");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_mayorPickPocket (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "steal_speeder", "pickMayorsPocket");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isCompletingAQuest (obj_id player, obj_id npc)
{
	return !groundquests.isTaskActive(player, "newbie_scout_pt6", "newbie_scout_e63") &&
	 !groundquests.isTaskActive(player, "purvis_kill_warriors", "newbie_ranged_e7") &&
	 !groundquests.isTaskActive(player, "newbie_mayor_vaigon_shinn", "mayor_vaigon_shinn_04");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsHooliganOrTusken (obj_id player, obj_id npc)
{
	return mos_eisley_mayor_condition_needsHooligans(player, npc) || mos_eisley_mayor_condition_needsTusken(player, npc);
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsHooliganOrVermin (obj_id player, obj_id npc)
{
	return mos_eisley_mayor_condition_needsHooligans(player, npc) || mos_eisley_mayor_condition_needsVermin(player, npc);
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_needsTuskenOrVermin (obj_id player, obj_id npc)
{
	return mos_eisley_mayor_condition_needsTusken(player, npc) || mos_eisley_mayor_condition_needsVermin(player, npc);
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isDoingPeawp (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive (player, "c_melee_combat_trainer");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isDoingPurvis (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive (player, "c_ranged_combat_trainer");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isDoingEntha (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive (player, "c_scout_trainer");
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (obj_id player, obj_id npc)
{
	return (mos_eisley_mayor_condition_completedAllMayorQuests(player, npc) || mos_eisley_mayor_condition_isLevel10(player, npc));
}

// ----------------------------------------------------------------------

boolean mos_eisley_mayor_condition_isLevel10 (obj_id player, obj_id npc)
{
	int level = getLevel(player);
	if(level >= 10)
		return true;
	else
		return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void mos_eisley_mayor_action_giveTuskenReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "newbie_ranged_launch_e8");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveSingleBadge (obj_id player, obj_id npc)
{
	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_few_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_few_quests");
	}
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveMultiBadge (obj_id player, obj_id npc)
{
	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_few_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_few_quests");
	}
	
	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_most_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_most_quests");
	}
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveFullBadge (obj_id player, obj_id npc)
{
	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_few_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_few_quests");
	}
	
	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_most_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_most_quests");
	}

	if (!badge.hasBadge (player, "bdg_mos_eisley_newbie_all_quests"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_newbie_all_quests");
	}
	
	if (!badge.hasBadge (player, "bdg_mos_eisley_key_to_city"))
	{
		badge.grantBadge (player, "bdg_mos_eisley_key_to_city");
	}
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_sendToVerminQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_scout_trainer");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_sendToTuskenQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_ranged_combat_trainer");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_sendToHooliganQuest (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "c_melee_combat_trainer");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveVerminReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "newbie_scout_mayor");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveHooliganReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mayor_vaigon_shinn_04");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_sendToVourk (obj_id player, obj_id npc)
{
		groundquests.requestGrantQuest(player, "newbie_goto_vourk");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_signal_pickingPocket (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mayorsPocketPicked");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_endGotoMayorQuest (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_eisley_gotomayor_e3");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveRebPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "tatooine_eisley_gotoreb");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveImpPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "tatooine_eisley_gotoimp");
}

// ----------------------------------------------------------------------

void mos_eisley_mayor_action_giveSmugPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "tatooine_eisley_gotosmug");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int mos_eisley_mayor_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've squared everything with Jabba's people. I couldn't have done it without you. Thank you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I need to do now?
	if (response == "s_176")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: You need to return to Vourk. He needs to speak with you. I wouldn't delay, if I were you.
			string_id message = new string_id (c_stringFile, "s_179");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_138")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My pleasure.
	if (response == "s_159")
	{
		//-- [NOTE] 
		if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
		{
			//-- NPC: By the way, I've received word from Vourk. He needs to speak with you..unless of course you would like to help me more?
			string_id message = new string_id (c_stringFile, "s_175");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, but I better see what he wants.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure, what can I do?
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_236");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_237");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: By the way, I got word from Vourk. He needs to speak with you...right now.
			string_id message = new string_id (c_stringFile, "s_240");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My pleasure.
	if (response == "s_244")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Was there anything else with which I could help you?
			string_id message = new string_id (c_stringFile, "s_245");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: By the way, I've received word from Vourk. He needs to speak with you..unless of course you would like to help me more?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, but I better see what he wants.
	if (response == "s_236")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: Oh well, thanks for what help you did give.
			string_id message = new string_id (c_stringFile, "s_239");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, what can I do?
	if (response == "s_237")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!
			string_id message = new string_id (c_stringFile, "s_241");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Was there anything else with which I could help you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was the least I could do.
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
		{
			//-- NPC: By the way, I got word from Vourk. He needs to speak with you...unless of course you would like to help me more?
			string_id message = new string_id (c_stringFile, "s_243");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, but I better see what he wants.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure, what can I do?
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_236");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_237");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: By the way, I got word from Vourk. He needs to speak with you...right now.
			string_id message = new string_id (c_stringFile, "s_183");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was the least I could do.
	if (response == "s_128")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Was there anything else with which I could help you?
			string_id message = new string_id (c_stringFile, "s_151");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: By the way, I got word from Vourk. He needs to speak with you...unless of course you would like to help me more?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, but I better see what he wants.
	if (response == "s_236")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: Oh well, thanks for what help you did give.
			string_id message = new string_id (c_stringFile, "s_239");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, what can I do?
	if (response == "s_237")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!
			string_id message = new string_id (c_stringFile, "s_241");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Was there anything else with which I could help you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're welcome. Was there anything else I could help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm happy I could help.
	if (response == "s_185")
	{
		//-- [NOTE] 
		if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
		{
			//-- NPC: I received word from Vourk. He needs to speak with you...unless of course you would like to help me more?
			string_id message = new string_id (c_stringFile, "s_247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, but I better see what he wants.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure, what can I do?
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_236");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_237");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: I received word from Vourk. He needs to speak with you...right now.
			string_id message = new string_id (c_stringFile, "s_205");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm happy I could help.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Was there anything else with which I could help you?
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I received word from Vourk. He needs to speak with you...unless of course you would like to help me more?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, but I better see what he wants.
	if (response == "s_236")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			mos_eisley_mayor_action_sendToVourk (player, npc);

			//-- NPC: Oh well, thanks for what help you did give.
			string_id message = new string_id (c_stringFile, "s_239");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, what can I do?
	if (response == "s_237")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!
			string_id message = new string_id (c_stringFile, "s_241");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Was there anything else with which I could help you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Entha with the wild vermin.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveVerminReward (player, npc);

			//-- NPC: Maybe this will keep Entha happy for a while. Though, who am I kidding?
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My pleasure.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've finished helping Peawp with the local hoodlums.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveHooliganReward (player, npc);

			//-- NPC: Well done. I'll have fewer complaints from the townsfolk now.
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It was the least I could do.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It was the least I could do.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're welcome. Was there anything else I could help you with?
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've finished helping Entha with the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've finished helping Peawp with the local hoodlums.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've taken care of the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I still need to deal with the wild vermin.
			boolean hasResponse3 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I still need to help fight the menacing hooligans.
			boolean hasResponse4 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I still need to help fend off the Tusken Raiders.
			boolean hasResponse5 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Tell me about the city's history.
			boolean hasResponse6 = false;
			if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_209");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've taken care of the Tusken Raiders.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_giveTuskenReward (player, npc);

			//-- NPC: So Jabba was behind their attacks? Very interesting, though I suppose I shouldn't be surprised.
			string_id message = new string_id (c_stringFile, "s_191");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_isLevelTenOrCompletedAllQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm happy I could help.
			boolean hasResponse1 = false;
			if (!mos_eisley_mayor_condition_isLevel10 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to deal with the wild vermin.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fight the menacing hooligans.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still need to help fend off the Tusken Raiders.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome to Mos Eisley! I'm Mayor Guh'rantt. Do you know the history of Mos Eisley? It's a beautiful city, full of life and character and one of the best cantinas in the known galaxy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hear you need some help with a debt owed to Jabba.
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			mos_eisley_mayor_action_endGotoMayorQuest (player, npc);

			//-- NPC: Yes. My...debt. My next payment, a speeder deed, was stolen from me. I can't divert...er...raise the money with all the problems in the city. If you do some things for me, it might...free up some funds I need.
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. What would I have to do?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_130");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's nice. I think I'll be going now. (PICK POCKET)
	if (response == "s_145")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_signal_pickingPocket (player, npc);

			//-- NPC: Remember me in the next election!
			string_id message = new string_id (c_stringFile, "s_148");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hear this city is a little...
	if (response == "s_91")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, yes, I know what they say about Mos Eisley, something about a 'wretched hive of scum and villainy' or the like. Don't get me wrong - we have our fair share of criminals and shady dealings, but don't let that scare you off.
			string_id message = new string_id (c_stringFile, "s_93");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is the city dangerous?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you just hire more guards?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the city's history.
	if (response == "s_190")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? A crashed starship?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_197");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know where I would go to start a pilot career?
	if (response == "s_254")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know much about piloting, but I do know a few people on Tatooine who do. Lt. Akal Colzet represents the Empire, Dravis is a smuggler working out of the Mos Eisley cantina, and finally Da'la Socuna who is rumored to work for the rebellion. Any one of them will train you for various reasons.
			string_id message = new string_id (c_stringFile, "s_256");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the smuggler.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_258");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes. My...debt. My next payment, a speeder deed, was stolen from me. I can't divert...er...raise the money with all the problems in the city. If you do some things for me, it might...free up some funds I need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. What would I have to do?
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mos Eisley suffers from Tusken Raiders, wild vermin, and menacing hooligans. I don't have the staff to handle these problems. I need you to go out there. You want to help the city, don't you?
			string_id message = new string_id (c_stringFile, "s_132");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about your menacing hooligans.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mos Eisley suffers from Tusken Raiders, wild vermin, and menacing hooligans. I don't have the staff to handle these problems. I need you to go out there. You want to help the city, don't you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the wild vermin.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about your menacing hooligans.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Tusken Raiders.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll help her.
	if (response == "s_164")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			mos_eisley_mayor_action_sendToVerminQuest (player, npc);

			//-- NPC: Good.
			string_id message = new string_id (c_stringFile, "s_165");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could I ask about something different?
	if (response == "s_201")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Absolutely, what would you like to know?
			string_id message = new string_id (c_stringFile, "s_211");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about your menacing hooligans.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely, what would you like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the wild vermin.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about your menacing hooligans.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Tusken Raiders.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Gladly. I'm on my way.
	if (response == "s_167")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToHooliganQuest (player, npc);

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_168");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Peawp R'dawc?
	if (response == "s_169")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: She is a combat expert who is leading the endeavor to rid Mos Eisley of these bothersome hoodlums. There's none better. Go speak with her.
			string_id message = new string_id (c_stringFile, "s_171");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_172");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_203");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could I ask about something different?
	if (response == "s_208")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Absolutely, what would you like to know?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about your menacing hooligans.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: She is a combat expert who is leading the endeavor to rid Mos Eisley of these bothersome hoodlums. There's none better. Go speak with her.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on my way.
	if (response == "s_172")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToHooliganQuest (player, npc);

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_173");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could I ask about something different?
	if (response == "s_203")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Absolutely, what would you like to know?
			string_id message = new string_id (c_stringFile, "s_212");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about your menacing hooligans.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely, what would you like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the wild vermin.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about your menacing hooligans.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Tusken Raiders.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely, what would you like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the wild vermin.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about your menacing hooligans.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Tusken Raiders.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
	if (response == "s_144")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: An excellent question, but I don't know the answer. There's a soldier named Purvis Arrison looking into it. Go speak with him and help him in any way you can.
			string_id message = new string_id (c_stringFile, "s_147");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_149");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An excellent question, but I don't know the answer. There's a soldier named Purvis Arrison looking into it. Go speak with him and help him in any way you can.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on my way.
	if (response == "s_149")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			mos_eisley_mayor_action_sendToTuskenQuest (player, npc);

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_152");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could I ask about something different?
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Absolutely, what would you like to know?
			string_id message = new string_id (c_stringFile, "s_216");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the wild vermin.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition_needsVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about your menacing hooligans.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooligans (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about the Tusken Raiders.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely, what would you like to know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the wild vermin.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entha Kandela has been clamoring that she needs some help controlling the population of various vermin on the outskirts of Mos Eisley. Give her the assistance she requires.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll help her.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition_needsHooliganOrTusken (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_201");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about your menacing hooligans.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is a constant stream of low-lifes and hoodlums who prey on the city of Mos Eisley. Speak with Peawp R'dawc and help her deal with these thugs.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Gladly. I'm on my way.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Peawp R'dawc?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Could I ask about something different?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition_needsTuskenOrVermin (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Tusken Raiders.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tusken Raiders have recently been attacking the city in fairly regular raids. Causing a good bit of ruckus and mayhem.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are the Tusken Raiders attacking Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, yes, I know what they say about Mos Eisley, something about a 'wretched hive of scum and villainy' or the like. Don't get me wrong - we have our fair share of criminals and shady dealings, but don't let that scare you off.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is the city dangerous?
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Dangerous? No, I don't think so.  I mean it can be a little scary sometimes, but what city isn't?
			string_id message = new string_id (c_stringFile, "s_97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about something else.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you just hire more guards?
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: If only wishing made it so.  Our city's reputation keeps a lot of worthy candidates from trying to get jobs here.  And I'm sure the Hutt's influence keeps some people from joining up.
			string_id message = new string_id (c_stringFile, "s_103");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You mean Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I hear the cantina's dangerous.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Dangerous? No, I don't think so.  I mean it can be a little scary sometimes, but what city isn't?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about something else.
	if (response == "s_99")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If only wishing made it so.  Our city's reputation keeps a lot of worthy candidates from trying to get jobs here.  And I'm sure the Hutt's influence keeps some people from joining up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You mean Jabba.
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. He rules over most of Tatooine from his 'liberated' temple in the southwest. And of course it would be dishonest to say that his influence doesn't extend to Mos Eisley, but most of his operatives are busy working off world, and if you keep your nose clean you won't have to worry about them.
			string_id message = new string_id (c_stringFile, "s_107");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do a lot of people work for Jabba?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What do you mean by 'liberated' temple?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hear the cantina's dangerous.
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: The cantina? Well, it's not really dangerous. There hasn't been an incident in the cantina for some time. A Rodian bounty hunter was shot there by one of his associates, and an Aqualish lost his arm in a barfight the same day. But since then it's been pretty quiet. Wuher likes to run a quiet cantina.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do you lose an arm in a barfight?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who's Wuher?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_143");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. He rules over most of Tatooine from his 'liberated' temple in the southwest. And of course it would be dishonest to say that his influence doesn't extend to Mos Eisley, but most of his operatives are busy working off world, and if you keep your nose clean you won't have to worry about them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do a lot of people work for Jabba?
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, yes. He's one of the biggest business owners on Tatooine. But most of his business dealings are, um...shall we say, a little on the dangerous side.
			string_id message = new string_id (c_stringFile, "s_111");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Illegal?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Could I get a job with Jabba?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean by 'liberated' temple?
	if (response == "s_125")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: The monastery that Jabba now claims as his headquarters once belonged to the Dim-U monks of Tatooine. A fanatical religious organization that worshipped banthas and believed they could achieve true enlightenment by having their brains surgically removed and placed into spider droid bodies.
			string_id message = new string_id (c_stringFile, "s_127");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's a little bizarre isn't it?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What happened to the monks?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_129");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_133");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, yes. He's one of the biggest business owners on Tatooine. But most of his business dealings are, um...shall we say, a little on the dangerous side.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Illegal?
	if (response == "s_113")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: You could say that. The Imperials certainly don't like the way he does business, but if they were really that worried about him, I think they'd have shut him down by now. They haven't, so most people take that as an indication that perhaps his business dealings are just shady, and not actually illegal. I don't like to speculate myself.
			string_id message = new string_id (c_stringFile, "s_115");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Anything else?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could I get a job with Jabba?
	if (response == "s_119")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, you could, but I don't know if I could recommend it. I've heard about some pretty bad things that happen to his employees.
			string_id message = new string_id (c_stringFile, "s_121");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else do you know?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_123");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You could say that. The Imperials certainly don't like the way he does business, but if they were really that worried about him, I think they'd have shut him down by now. They haven't, so most people take that as an indication that perhaps his business dealings are just shady, and not actually illegal. I don't like to speculate myself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anything else?
	if (response == "s_117")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, you could, but I don't know if I could recommend it. I've heard about some pretty bad things that happen to his employees.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else do you know?
	if (response == "s_123")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The monastery that Jabba now claims as his headquarters once belonged to the Dim-U monks of Tatooine. A fanatical religious organization that worshipped banthas and believed they could achieve true enlightenment by having their brains surgically removed and placed into spider droid bodies.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's a little bizarre isn't it?
	if (response == "s_129")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: If you ask me it's very bizarre. And I've seen a lot of interesting things going through the space port here in Mos Eisley. But it's the way of the galaxy.  What seems strange to some people is simply a way of life for others.
			string_id message = new string_id (c_stringFile, "s_131");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you talk a bit more?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_199");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What happened to the monks?
	if (response == "s_133")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: They still roam the corridors of Jabba's Palace, from what I hear. I've never been there myself.  I know a lot of people have, if you're willing to work for a Hutt at what may be an unsavory task you can almost always find work with Jabba.
			string_id message = new string_id (c_stringFile, "s_135");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you talk a bit more?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_137");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you ask me it's very bizarre. And I've seen a lot of interesting things going through the space port here in Mos Eisley. But it's the way of the galaxy.  What seems strange to some people is simply a way of life for others.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you talk a bit more?
	if (response == "s_199")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They still roam the corridors of Jabba's Palace, from what I hear. I've never been there myself.  I know a lot of people have, if you're willing to work for a Hutt at what may be an unsavory task you can almost always find work with Jabba.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you talk a bit more?
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The cantina? Well, it's not really dangerous. There hasn't been an incident in the cantina for some time. A Rodian bounty hunter was shot there by one of his associates, and an Aqualish lost his arm in a barfight the same day. But since then it's been pretty quiet. Wuher likes to run a quiet cantina.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do you lose an arm in a barfight?
	if (response == "s_143")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I've heard rumors that it was done by a Jedi Knight, but I don't believe that personally. There hasn't been a Jedi Knight around since the days of the Old Republic, right? What would one be doing on Tatooine? Let alone in a cantina in Mos Eisley.  It's just too outlandish to be true.
			string_id message = new string_id (c_stringFile, "s_146");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else can you tell me?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_153");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who's Wuher?
	if (response == "s_177")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: He's the bartender in the Mos Eisley cantina.  Hates droids. But he mixes a pretty good drink.
			string_id message = new string_id (c_stringFile, "s_181");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is there anything else to know?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, I've heard rumors that it was done by a Jedi Knight, but I don't believe that personally. There hasn't been a Jedi Knight around since the days of the Old Republic, right? What would one be doing on Tatooine? Let alone in a cantina in Mos Eisley.  It's just too outlandish to be true.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else can you tell me?
	if (response == "s_153")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What would you like to know about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about Jabba.
	if (response == "s_162")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. He rules over most of Tatooine from his 'liberated' temple in the southwest. And of course it would be dishonest to say that his influence doesn't extend to Mos Eisley, but most of his operatives are busy working off world, and if you keep your nose clean you won't have to worry about them.
			string_id message = new string_id (c_stringFile, "s_107");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do a lot of people work for Jabba?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What do you mean by 'liberated' temple?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the cantina.
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: The cantina? Well, it's not really dangerous. There hasn't been an incident in the cantina for some time. A Rodian bounty hunter was shot there by one of his associates, and an Aqualish lost his arm in a barfight the same day. But since then it's been pretty quiet. Wuher likes to run a quiet cantina.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do you lose an arm in a barfight?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who's Wuher?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_143");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He's the bartender in the Mos Eisley cantina.  Hates droids. But he mixes a pretty good drink.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else to know?
	if (response == "s_184")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, a scholar. So nice to talk with someone else with an interest in history. The city's history actually has a lot to do with a crashed starship, the Dowager Queen, which crashed into the desert flats in the center of what is now the city of Mos Eisley.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Really? A crashed starship?
	if (response == "s_197")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh yes, the people on the crashed ship formed a community, and after a while the city sprung up around the survivors of that crash. The city itself grew up in a radial formation around the Dowager Queen itself, which was long ago pilfered for any useful mechanical items or electronic components. The metal itself was melted down and used to make some of the city's oldest buildings.
			string_id message = new string_id (c_stringFile, "s_200");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, I don't need to know anymore.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's amazing.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_218");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh yes, the people on the crashed ship formed a community, and after a while the city sprung up around the survivors of that crash. The city itself grew up in a radial formation around the Dowager Queen itself, which was long ago pilfered for any useful mechanical items or electronic components. The metal itself was melted down and used to make some of the city's oldest buildings.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, I don't need to know anymore.
	if (response == "s_206")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's all right. Any time you want to come back and talk about it, I'll be happy to fill you in on the importance of Rodians to Mos Eisley's creation, and how the other cities of Tatooine affect and were affected by Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_214");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's amazing.
	if (response == "s_218")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is more. There's a lot of history in this city. There's the influence of Rodians on the culture and construction of Mos Eisley, and the other Tatooine cities have a lot of ties to this center of economic growth.
			string_id message = new string_id (c_stringFile, "s_220");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do Rodians have to do with Mos Eisley?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How are other cities tied to Mos Eisley?
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_222");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_235");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is more. There's a lot of history in this city. There's the influence of Rodians on the culture and construction of Mos Eisley, and the other Tatooine cities have a lot of ties to this center of economic growth.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do Rodians have to do with Mos Eisley?
	if (response == "s_222")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rodian refugees helped construct the very first starports in Mos Eisley. There are those that say that the vice and corruption that have filled Mos Eisley's alleyways over the years come from the influence of Rodian construction workers who were known to accept bribes.
			string_id message = new string_id (c_stringFile, "s_224");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What about the other cities?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I've heard enough.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What else can you tell me about the city?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_226");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How are other cities tied to Mos Eisley?
	if (response == "s_235")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mos Eisley flourished after building starports as a viable alternative to Anchorhead, which many people at the time thought was too expensive. Mos Eisley really took off though after the podraces were banned. At the time Mos Espa was the capital of Tatooine, and still is according to the records, but after podracing died, Mos Espa lost a lot of business and Mos Eisley picked up the slack.
			string_id message = new string_id (c_stringFile, "s_242");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What about the Rodians?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's all the history I need.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Is there more information you could give me?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_248");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_250");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rodian refugees helped construct the very first starports in Mos Eisley. There are those that say that the vice and corruption that have filled Mos Eisley's alleyways over the years come from the influence of Rodian construction workers who were known to accept bribes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about the other cities?
	if (response == "s_226")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mos Eisley flourished after building starports as a viable alternative to Anchorhead, which many people at the time thought was too expensive. Mos Eisley really took off though after the podraces were banned. At the time Mos Espa was the capital of Tatooine, and still is according to the records, but after podracing died, Mos Espa lost a lot of business and Mos Eisley picked up the slack.
			string_id message = new string_id (c_stringFile, "s_242");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What about the Rodians?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's all the history I need.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Is there more information you could give me?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_248");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_250");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I've heard enough.
	if (response == "s_230")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's all right. Any time you want to come back and talk about it, I'll be happy to fill you in on the importance of Rodians to Mos Eisley's creation, and how the other cities of Tatooine affect and were affected by Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_214");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else can you tell me about the city?
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mos Eisley flourished after building starports as a viable alternative to Anchorhead, which many people at the time thought was too expensive. Mos Eisley really took off though after the podraces were banned. At the time Mos Espa was the capital of Tatooine, and still is according to the records, but after podracing died, Mos Espa lost a lot of business and Mos Eisley picked up the slack.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about the Rodians?
	if (response == "s_248")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rodian refugees helped construct the very first starports in Mos Eisley. There are those that say that the vice and corruption that have filled Mos Eisley's alleyways over the years come from the influence of Rodian construction workers who were known to accept bribes.
			string_id message = new string_id (c_stringFile, "s_224");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What about the other cities?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I've heard enough.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What else can you tell me about the city?
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_226");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's all the history I need.
	if (response == "s_250")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's all right. Any time you want to come back and talk about it, I'll be happy to fill you in on the importance of Rodians to Mos Eisley's creation, and how the other cities of Tatooine affect and were affected by Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_214");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there more information you could give me?
	if (response == "s_252")
	{
		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: What would you like to know about?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about Jabba.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the cantina.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know much about piloting, but I do know a few people on Tatooine who do. Lt. Akal Colzet represents the Empire, Dravis is a smuggler working out of the Mos Eisley cantina, and finally Da'la Socuna who is rumored to work for the rebellion. Any one of them will train you for various reasons.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
	if (response == "s_258")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: The Empire has started a new accelerated training program that will let you skip the academy and get right into the pilot's seat. Lt. Akal Colzet is taking applications in Bestine.
			string_id message = new string_id (c_stringFile, "s_260");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yea, that sounds like something I can do. Tell me where to find him.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to get involved with the Empire. Tell me who you know again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_262");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the smuggler.
	if (response == "s_289")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is our local boy, Dravis. He'a a bit of a scoundrel, but he'll teach you to fly just fine. Of course you'll have to do a few jobs for him in return.
			string_id message = new string_id (c_stringFile, "s_296");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do flight jobs for training. Tell me where to find Dravis.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, Dravis sounds like a criminal. Tell me about the other pilot trainers again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
	if (response == "s_290")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: I've heard rumors that she is in Mos Espa seeking pilots for some undisclosed mission.
			string_id message = new string_id (c_stringFile, "s_291");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's who I want to see. Can you give me directions?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not the rebellion. Tell me who can teach me to fly again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_292");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Empire has started a new accelerated training program that will let you skip the academy and get right into the pilot's seat. Lt. Akal Colzet is taking applications in Bestine.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yea, that sounds like something I can do. Tell me where to find him.
	if (response == "s_262")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			mos_eisley_mayor_action_giveImpPilot (player, npc);

			//-- NPC: Sure, here you go.
			string_id message = new string_id (c_stringFile, "s_267");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I want to get involved with the Empire. Tell me who you know again.
	if (response == "s_265")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Okay, but remember there are trainers on other planets also.
			string_id message = new string_id (c_stringFile, "s_268");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the smuggler.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_258");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay, but remember there are trainers on other planets also.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
	if (response == "s_258")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: The Empire has started a new accelerated training program that will let you skip the academy and get right into the pilot's seat. Lt. Akal Colzet is taking applications in Bestine.
			string_id message = new string_id (c_stringFile, "s_260");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yea, that sounds like something I can do. Tell me where to find him.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to get involved with the Empire. Tell me who you know again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_262");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the smuggler.
	if (response == "s_289")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is our local boy, Dravis. He'a a bit of a scoundrel, but he'll teach you to fly just fine. Of course you'll have to do a few jobs for him in return.
			string_id message = new string_id (c_stringFile, "s_296");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do flight jobs for training. Tell me where to find Dravis.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, Dravis sounds like a criminal. Tell me about the other pilot trainers again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
	if (response == "s_290")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: I've heard rumors that she is in Mos Espa seeking pilots for some undisclosed mission.
			string_id message = new string_id (c_stringFile, "s_291");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's who I want to see. Can you give me directions?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not the rebellion. Tell me who can teach me to fly again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_292");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He is our local boy, Dravis. He'a a bit of a scoundrel, but he'll teach you to fly just fine. Of course you'll have to do a few jobs for him in return.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do flight jobs for training. Tell me where to find Dravis.
	if (response == "s_297")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			mos_eisley_mayor_action_giveSmugPilot (player, npc);

			//-- NPC: Here's right here in town at the Mos Eisley cantina.
			string_id message = new string_id (c_stringFile, "s_299");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, Dravis sounds like a criminal. Tell me about the other pilot trainers again.
	if (response == "s_298")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sure, but remember there are trainers on other planets also.
			string_id message = new string_id (c_stringFile, "s_300");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the smuggler.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_258");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sure, but remember there are trainers on other planets also.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
	if (response == "s_258")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: The Empire has started a new accelerated training program that will let you skip the academy and get right into the pilot's seat. Lt. Akal Colzet is taking applications in Bestine.
			string_id message = new string_id (c_stringFile, "s_260");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yea, that sounds like something I can do. Tell me where to find him.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to get involved with the Empire. Tell me who you know again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_262");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the smuggler.
	if (response == "s_289")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is our local boy, Dravis. He'a a bit of a scoundrel, but he'll teach you to fly just fine. Of course you'll have to do a few jobs for him in return.
			string_id message = new string_id (c_stringFile, "s_296");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do flight jobs for training. Tell me where to find Dravis.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, Dravis sounds like a criminal. Tell me about the other pilot trainers again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
	if (response == "s_290")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: I've heard rumors that she is in Mos Espa seeking pilots for some undisclosed mission.
			string_id message = new string_id (c_stringFile, "s_291");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's who I want to see. Can you give me directions?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not the rebellion. Tell me who can teach me to fly again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_292");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've heard rumors that she is in Mos Espa seeking pilots for some undisclosed mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's who I want to see. Can you give me directions?
	if (response == "s_292")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "manipulate_medium");

			mos_eisley_mayor_action_giveRebPilot (player, npc);

			//-- NPC: Here is the information.
			string_id message = new string_id (c_stringFile, "s_294");
			utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not the rebellion. Tell me who can teach me to fly again.
	if (response == "s_293")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Of course, but remember there are trainers on other planets also.
			string_id message = new string_id (c_stringFile, "s_301");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the smuggler.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
			boolean hasResponse2 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_258");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int mos_eisley_mayor_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, but remember there are trainers on other planets also.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could you tell me about the Imperial trainer here on Tatooine?
	if (response == "s_258")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: The Empire has started a new accelerated training program that will let you skip the academy and get right into the pilot's seat. Lt. Akal Colzet is taking applications in Bestine.
			string_id message = new string_id (c_stringFile, "s_260");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yea, that sounds like something I can do. Tell me where to find him.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to get involved with the Empire. Tell me who you know again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_262");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the smuggler.
	if (response == "s_289")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is our local boy, Dravis. He'a a bit of a scoundrel, but he'll teach you to fly just fine. Of course you'll have to do a few jobs for him in return.
			string_id message = new string_id (c_stringFile, "s_296");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do flight jobs for training. Tell me where to find Dravis.
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, Dravis sounds like a criminal. Tell me about the other pilot trainers again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to speak to the Rebellion trainer, Da'la.
	if (response == "s_290")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: I've heard rumors that she is in Mos Espa seeking pilots for some undisclosed mission.
			string_id message = new string_id (c_stringFile, "s_291");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's who I want to see. Can you give me directions?
			boolean hasResponse0 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not the rebellion. Tell me who can teach me to fly again.
			boolean hasResponse1 = false;
			if (mos_eisley_mayor_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_292");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.mos_eisley_mayor");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setCondition (self, CONDITION_INTERESTING);
	ai_lib.setDefaultCalmBehavior (self, ai_lib.BEHAVIOR_SENTINEL);
	
	// My name is Mayor Mikdanyell Guh'rantt
	
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setCondition (self, CONDITION_INTERESTING);
	ai_lib.setDefaultCalmBehavior (self, ai_lib.BEHAVIOR_SENTINEL);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.mos_eisley_mayor");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (mos_eisley_mayor_condition_completedAllMayorQuests (player, npc))
	{
		//-- NPC: I've squared everything with Jabba's people. I couldn't have done it without you. Thank you.
		string_id message = new string_id (c_stringFile, "s_69");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do I need to do now?
		boolean hasResponse0 = false;
		if (mos_eisley_mayor_condition_needsToGoToVourk (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Tell me about the city's history.
		boolean hasResponse1 = false;
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_176");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_138");

			utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 1);

			npcStartConversation (player, npc, "mos_eisley_mayor", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (mos_eisley_mayor_condition_isDoingEntha (player, npc))
	{
		//-- NPC: Entha Kandela told me that you're still doing some work on the vermin. Go and speak with Entha.
		string_id message = new string_id (c_stringFile, "s_228");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (mos_eisley_mayor_condition_isDoingPeawp (player, npc))
	{
		//-- NPC: Peawp says you're still doing some investigating, you know, about the hooligans? Go speak with Peawp.
		string_id message = new string_id (c_stringFile, "s_229");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (mos_eisley_mayor_condition_isDoingPurvis (player, npc))
	{
		//-- NPC: Purvis says you're still looking into the Tusken problem. Go and speak with Purvis.
		string_id message = new string_id (c_stringFile, "s_231");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (mos_eisley_mayor_condition_hasAMayorQuest (player, npc))
	{
		//-- NPC: Thank you for your help. I may make it out of this situation with my hide intact!
		string_id message = new string_id (c_stringFile, "s_81");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've finished helping Entha with the wild vermin.
		boolean hasResponse0 = false;
		if (mos_eisley_mayor_condition_needsVerminReward (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I've finished helping Peawp with the local hoodlums.
		boolean hasResponse1 = false;
		if (mos_eisley_mayor_condition_needsHooligansReward (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I've taken care of the Tusken Raiders.
		boolean hasResponse2 = false;
		if (mos_eisley_mayor_condition_needsTuskenReward (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I still need to deal with the wild vermin.
		boolean hasResponse3 = false;
		if (mos_eisley_mayor_condition_needsVermin (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I still need to help fight the menacing hooligans.
		boolean hasResponse4 = false;
		if (mos_eisley_mayor_condition_needsHooligans (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		//-- PLAYER: I still need to help fend off the Tusken Raiders.
		boolean hasResponse5 = false;
		if (mos_eisley_mayor_condition_needsTusken (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse5 = true;
		}

		//-- PLAYER: Tell me about the city's history.
		boolean hasResponse6 = false;
		if (mos_eisley_mayor_condition_isCompletingAQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse6 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_188");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_189");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_187");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_207");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_209");

			if (hasResponse5)
				responses [responseIndex++] = new string_id (c_stringFile, "s_204");

			if (hasResponse6)
				responses [responseIndex++] = new string_id (c_stringFile, "s_142");

			utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 6);

			npcStartConversation (player, npc, "mos_eisley_mayor", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (mos_eisley_mayor_condition__defaultCondition (player, npc))
	{
		//-- NPC: Welcome to Mos Eisley! I'm Mayor Guh'rantt. Do you know the history of Mos Eisley? It's a beautiful city, full of life and character and one of the best cantinas in the known galaxy.
		string_id message = new string_id (c_stringFile, "s_85");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I hear you need some help with a debt owed to Jabba.
		boolean hasResponse0 = false;
		if (mos_eisley_mayor_condition_sentByVourk (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: That's nice. I think I'll be going now. (PICK POCKET)
		boolean hasResponse1 = false;
		if (mos_eisley_mayor_condition_mayorPickPocket (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I hear this city is a little...
		boolean hasResponse2 = false;
		if (!mos_eisley_mayor_condition_sentByVourk (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Tell me about the city's history.
		boolean hasResponse3 = false;
		if (!mos_eisley_mayor_condition_sentByVourk (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Do you know where I would go to start a pilot career?
		boolean hasResponse4 = false;
		if (mos_eisley_mayor_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_76");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_145");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_91");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_190");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_254");

			utils.setScriptVar (player, "conversation.mos_eisley_mayor.branchId", 22);

			npcStartConversation (player, npc, "mos_eisley_mayor", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "mos_eisley_mayor")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.mos_eisley_mayor.branchId");

	if (branchId == 1 && mos_eisley_mayor_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && mos_eisley_mayor_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && mos_eisley_mayor_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && mos_eisley_mayor_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && mos_eisley_mayor_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && mos_eisley_mayor_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && mos_eisley_mayor_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && mos_eisley_mayor_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && mos_eisley_mayor_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && mos_eisley_mayor_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && mos_eisley_mayor_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && mos_eisley_mayor_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && mos_eisley_mayor_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && mos_eisley_mayor_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && mos_eisley_mayor_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && mos_eisley_mayor_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && mos_eisley_mayor_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && mos_eisley_mayor_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && mos_eisley_mayor_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && mos_eisley_mayor_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && mos_eisley_mayor_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && mos_eisley_mayor_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && mos_eisley_mayor_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && mos_eisley_mayor_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && mos_eisley_mayor_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && mos_eisley_mayor_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && mos_eisley_mayor_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && mos_eisley_mayor_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && mos_eisley_mayor_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && mos_eisley_mayor_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && mos_eisley_mayor_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && mos_eisley_mayor_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && mos_eisley_mayor_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && mos_eisley_mayor_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && mos_eisley_mayor_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && mos_eisley_mayor_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && mos_eisley_mayor_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && mos_eisley_mayor_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && mos_eisley_mayor_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && mos_eisley_mayor_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && mos_eisley_mayor_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && mos_eisley_mayor_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && mos_eisley_mayor_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && mos_eisley_mayor_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && mos_eisley_mayor_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && mos_eisley_mayor_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && mos_eisley_mayor_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && mos_eisley_mayor_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && mos_eisley_mayor_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && mos_eisley_mayor_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && mos_eisley_mayor_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.mos_eisley_mayor.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

