// ======================================================================
//
// poi_tatooine_privateer.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.28 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.space_combat;
include library.space_flags;
include library.space_quest;
include library.space_skill;
include library.space_transition;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/poi_tatooine_privateer";

// ======================================================================
// Script Conditions
// ======================================================================

boolean poi_tatooine_privateer_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_failedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_1" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_1" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_failedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "patrol", "poi_tatooine_privateer_2" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "patrol", "poi_tatooine_privateer_2" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_failedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_3" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_3" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_hasCompletedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_1"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_hasCompletedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "patrol", "poi_tatooine_privateer_2"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_hasCompletedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_3"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_collectingQuestOneReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_1") &&
		!space_quest.hasReceivedReward( player, "delivery_no_pickup", "poi_tatooine_privateer_1" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_collectingQuestTwoReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "patrol", "poi_tatooine_privateer_2") &&
		!space_quest.hasReceivedReward( player, "patrol", "poi_tatooine_privateer_2" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_collectingQuestThreeReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "delivery_no_pickup", "poi_tatooine_privateer_3") &&
		!space_quest.hasReceivedReward( player, "delivery_no_pickup", "poi_tatooine_privateer_3" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_isCorrectFaction (obj_id player, obj_id npc)
{
	//if this is an Imperial trainer, make sure the player is an Imperial Pilot
	//if it is Rebel, then make sure the player is a rebel pilot, etc.
	//return FALSE if this NPC should NOT talk to this player!
	
	return ( hasSkill( player, "pilot_neutral_novice" ) );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_isNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, "jabba" ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_hasAnyQuest (obj_id player, obj_id npc)
{
	return space_quest.hasQuest ( player );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_privateer_condition_isTooFar (obj_id player, obj_id npc)
{
	space_combat.playCombatTauntSound( player );
	obj_id containingShip = space_transition.getContainingShip(player);
	return ( getDistance( npc, containingShip ) > space_transition.STATION_COMM_MAX_DISTANCE );
}

// ======================================================================
// Script Actions
// ======================================================================

void poi_tatooine_privateer_action_grantQuestOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "delivery_no_pickup", "poi_tatooine_privateer_1" );
}

// ----------------------------------------------------------------------

void poi_tatooine_privateer_action_grantQuestTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "patrol", "poi_tatooine_privateer_2" );
}

// ----------------------------------------------------------------------

void poi_tatooine_privateer_action_grantQuestThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "delivery_no_pickup", "poi_tatooine_privateer_3" );
}

// ----------------------------------------------------------------------

void poi_tatooine_privateer_action_rewardForQuestOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "delivery_no_pickup", "poi_tatooine_privateer_1" ))
	{
		space_quest.giveReward( player, "delivery_no_pickup", "poi_tatooine_privateer_1", 5000 );
	}
}

// ----------------------------------------------------------------------

void poi_tatooine_privateer_action_rewardForQuestTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "patrol", "poi_tatooine_privateer_2" ))
	{
		space_quest.giveReward( player, "patrol", "poi_tatooine_privateer_2", 10000 );
	}
}

// ----------------------------------------------------------------------

void poi_tatooine_privateer_action_rewardForQuestThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "delivery_no_pickup", "poi_tatooine_privateer_3" ))
	{
		space_quest.giveReward( player, "delivery_no_pickup", "poi_tatooine_privateer_3", 20000 );
	}
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int poi_tatooine_privateer_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And why have you returned so soon?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I kinda failed my mission.
	if (response == "s_fcf8c341")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is unfortunate to hear. I understand that the Valarians are a tough kreetle to crack. However, I expected you to do well. Do not prove me wrong again. Go out there and complete your mission.
			string_id message = new string_id (c_stringFile, "s_8842ba84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67e6df55");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is unfortunate to hear. I understand that the Valarians are a tough kreetle to crack. However, I expected you to do well. Do not prove me wrong again. Go out there and complete your mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay.
	if (response == "s_67e6df55")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestTwo (player, npc);

			//-- NPC: Be well.
			string_id message = new string_id (c_stringFile, "s_753c600d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You seemed to have failed in our time of dire need. What do you have to say for yourself?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry.
	if (response == "s_5c3ad40f")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sorry? You made us appear weak in the eyes of the galaxy, you... you! [Long Pause] I apologize. I implore you to try again. And may you do so with success.
			string_id message = new string_id (c_stringFile, "s_e48b5a8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67e6df55");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sorry? You made us appear weak in the eyes of the galaxy, you... you! [Long Pause] I apologize. I implore you to try again. And may you do so with success.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay.
	if (response == "s_67e6df55")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestThree (player, npc);

			//-- NPC: Be well.
			string_id message = new string_id (c_stringFile, "s_753c600d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see you have returned... and empty handed. It is imperative that I receive the documents from the informant at Jabba's Star. I expect you to try again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I will try my hardest not to fail this time.
	if (response == "s_2d8a838b")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. The information is the same. Now go. Do your duty and do it well. I expect success from you.
			string_id message = new string_id (c_stringFile, "s_6b51a7a7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67e6df55");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. The information is the same. Now go. Do your duty and do it well. I expect success from you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay.
	if (response == "s_67e6df55")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestOne (player, npc);

			//-- NPC: I wish you well.
			string_id message = new string_id (c_stringFile, "s_931fb8d6");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've completed your mission, and in due time. You deserve a reward for your effort.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why, thank you.
	if (response == "s_6613e8a2")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Soon, I will have more work for you. Visit me when you have the time.
			string_id message = new string_id (c_stringFile, "s_c5afcca4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will. Thank you.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2aa3e51d");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Soon, I will have more work for you. Visit me when you have the time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will. Thank you.
	if (response == "s_2aa3e51d")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_rewardForQuestOne (player, npc);

			//-- NPC: Be well.
			string_id message = new string_id (c_stringFile, "s_753c600d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've completed all the work I have for you at this time. Your effort and loyalty are highly respected among us. Here is a reward for your effort.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you. No more work, huh?
	if (response == "s_6fc5551a")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unfortunately so. Continue to share your skills and intelligence with others. The galaxy needs it, I assure you.
			string_id message = new string_id (c_stringFile, "s_4e0a91b7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay. Thank you again.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_27eedc3f");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unfortunately so. Continue to share your skills and intelligence with others. The galaxy needs it, I assure you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay. Thank you again.
	if (response == "s_27eedc3f")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_rewardForQuestThree (player, npc);

			//-- NPC: I wish you well.
			string_id message = new string_id (c_stringFile, "s_931fb8d6");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm growing quite fond of you, pilot. Here is a little coin for your purse. Check with me again and I'm sure I'll have more work for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you again. I will.
	if (response == "s_e7cb1e01")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_rewardForQuestTwo (player, npc);

			//-- NPC: Be well.
			string_id message = new string_id (c_stringFile, "s_753c600d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've done well, my friend, and have exacted the tasks of which I have given you with haste and precision. Unfortunately, I have no other work for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why did you have me help launch a battle against the space station?
	if (response == "s_e4bd704d")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: It was necessary. We must let the locals know that the Hutts still have the control in the Tatoo System. Unfortunately, you were just a pawn in our plans. You shouldn't trust individuals aligned with the Hutts, my friend. Lesson learned.
			string_id message = new string_id (c_stringFile, "s_5f5d3519");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How rude!
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4b48508f");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It was necessary. We must let the locals know that the Hutts still have the control in the Tatoo System. Unfortunately, you were just a pawn in our plans. You shouldn't trust individuals aligned with the Hutts, my friend. Lesson learned.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How rude!
	if (response == "s_4b48508f")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: [Garett just laughs.]
			string_id message = new string_id (c_stringFile, "s_3856c45c");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is good to see you. I've processed the information you gathered from the Valarians. The particular 'spy' has been dealt with. Trust me, he won't be spying on the Hutts again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [nod] Am I needed for anything else?
	if (response == "s_4dc8c70")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: In fact, you are. You continue to impress me and I feel you are ready for the most sensitive and important task I've received to date. We're ready to launch our attack. I need another courier. Are you interested?
			string_id message = new string_id (c_stringFile, "s_f4142e79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah, let me hear the details.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I really don't want to help right now.
			boolean hasResponse1 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f8ccf9dd");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d73b3f1");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In fact, you are. You continue to impress me and I feel you are ready for the most sensitive and important task I've received to date. We're ready to launch our attack. I need another courier. Are you interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, let me hear the details.
	if (response == "s_f8ccf9dd")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll need these orders delivered to the informants at Jabba's Star. You must do your task with haste. Simple as can be, no?
			string_id message = new string_id (c_stringFile, "s_7552334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds pretty simple.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not really interested in being a lackey.
			boolean hasResponse1 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1bce15e6");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_aef4404d");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really don't want to help right now.
	if (response == "s_8d73b3f1")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: How unfortunate.
			string_id message = new string_id (c_stringFile, "s_95d8887f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll need these orders delivered to the informants at Jabba's Star. You must do your task with haste. Simple as can be, no?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds pretty simple.
	if (response == "s_1bce15e6")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestThree (player, npc);

			//-- NPC: Good. Go then, and be quick about it.
			string_id message = new string_id (c_stringFile, "s_99dc1f68");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not really interested in being a lackey.
	if (response == "s_aef4404d")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see.
			string_id message = new string_id (c_stringFile, "s_61657d0f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've returned. As you can tell, I'm perplexed by the sudden attacks launched by the Valarians. It seems we have a spy in our midst, informing the Lady's thugs about our activities. It is time to find out what they know. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I agree. How do we find out?
	if (response == "s_6d43911a")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is quite simple. I need you to patrol the Dragon's Spine for the Lady's thugs. Perhaps one of them will have the information we need.
			string_id message = new string_id (c_stringFile, "s_936786d3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. I'm ready to take on this task.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm going to think about doing this later...
			boolean hasResponse1 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cccb49af");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_618da618");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is quite simple. I need you to patrol the Dragon's Spine for the Lady's thugs. Perhaps one of them will have the information we need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. I'm ready to take on this task.
	if (response == "s_cccb49af")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So eager. It is a quality I like. I will transmit the information needed to find the Valarian thugs we're looking for. I suspect what we're looking for will be on one of the fighters in this area.
			string_id message = new string_id (c_stringFile, "s_706c0c0c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [nod]
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather not take this on quite yet.
			boolean hasResponse1 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8e9d0848");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1c914ce3");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to think about doing this later...
	if (response == "s_618da618")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: A pity.
			string_id message = new string_id (c_stringFile, "s_8ff8682d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So eager. It is a quality I like. I will transmit the information needed to find the Valarian thugs we're looking for. I suspect what we're looking for will be on one of the fighters in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [nod]
	if (response == "s_8e9d0848")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestTwo (player, npc);

			//-- NPC: I wish you luck, my young pilot. Again, I expect only success.
			string_id message = new string_id (c_stringFile, "s_c45f4bb1");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather not take this on quite yet.
	if (response == "s_1c914ce3")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see.
			string_id message = new string_id (c_stringFile, "s_61657d0f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah. One of 'us'. I implore you to assist us on a most sensitive task, my friend. But first, let me introduce myself. I am Garett Erlskel, employed by the Hutts to take care of... business in the Tatoo System. However, recent events have made my job more difficult. At this time, I need the assistance of a young, but intelligent, sort. Are you such, young pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, but I really need to know what's going on.
	if (response == "s_dfce1c9a")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: For now, I need a courier. There are sensitive documents I need from an informant over at Jabba's Star. Unfortunately, they haven't come yet. I need for you to travel there and find out what the fuss is and why it's taking so long. Are you interested in this sort of task?
			string_id message = new string_id (c_stringFile, "s_3bf29799");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In fact, I am.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not really.
			boolean hasResponse1 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4470da");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c5a66e82");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wish I could help you.
	if (response == "s_3a510008")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see.
			string_id message = new string_id (c_stringFile, "s_61657d0f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For now, I need a courier. There are sensitive documents I need from an informant over at Jabba's Star. Unfortunately, they haven't come yet. I need for you to travel there and find out what the fuss is and why it's taking so long. Are you interested in this sort of task?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In fact, I am.
	if (response == "s_4470da")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			poi_tatooine_privateer_action_grantQuestOne (player, npc);

			//-- NPC: Excellent. Here, take these codes to the informant at Jabba's Star, our origin of affairs in the Tatoo System. You'll need to deliver the codes to the informant and receive the documents in return. After which, you'll return to me in due time. I wish you luck. Now, off you go.
			string_id message = new string_id (c_stringFile, "s_752f38d3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fc27931b");

				utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not really.
	if (response == "s_c5a66e82")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is most unfortunate to hear.
			string_id message = new string_id (c_stringFile, "s_1639204e");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. Here, take these codes to the informant at Jabba's Star, our origin of affairs in the Tatoo System. You'll need to deliver the codes to the informant and receive the documents in return. After which, you'll return to me in due time. I wish you luck. Now, off you go.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_fc27931b")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Run along.
			string_id message = new string_id (c_stringFile, "s_a388d49");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_privateer_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have nothing to say to you, friend. I am waiting for one aligned with the Hutt faction. You are not one of them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh. Okay.
	if (response == "s_d3874dd0")
	{
		//-- [NOTE] 
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I wish you well.
			string_id message = new string_id (c_stringFile, "s_931fb8d6");
			utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.poi_tatooine_privateer");

	setCondition (self, CONDITION_CONVERSABLE);
	
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.poi_tatooine_privateer");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_isTooFar (player, npc))
	{
		//-- NPC: I'm sorry, my friend. You're breaking up. You must be too far away.
		string_id message = new string_id (c_stringFile, "s_fc740f6a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_hasAnyQuest (player, npc))
	{
		//-- NPC: I apologize. You seem rather busy, my friend. If it is a task I have given you, I expect you to do it... and soon.
		string_id message = new string_id (c_stringFile, "s_736584d8");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!poi_tatooine_privateer_condition_isCorrectFaction (player, npc))
	{
		//-- NPC: I do not converse with those not belonging to the Hutt faction. I bid you good day.
		string_id message = new string_id (c_stringFile, "s_49904b3");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_isNegativeFaction (player, npc))
	{
		//-- NPC: Have you been doing tasks that would otherwise upset the Hutt faction? I've heard about you... ah, yes. I will not speak with you until you have increased your standing with the Hutts. Good day.
		string_id message = new string_id (c_stringFile, "s_f59dd698");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_failedQuestTwo (player, npc))
	{
		//-- NPC: And why have you returned so soon?
		string_id message = new string_id (c_stringFile, "s_36d6852");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I kinda failed my mission.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fcf8c341");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 5);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_failedQuestThree (player, npc))
	{
		//-- NPC: You seemed to have failed in our time of dire need. What do you have to say for yourself?
		string_id message = new string_id (c_stringFile, "s_42e25376");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm sorry.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5c3ad40f");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 8);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_failedQuestOne (player, npc))
	{
		//-- NPC: I see you have returned... and empty handed. It is imperative that I receive the documents from the informant at Jabba's Star. I expect you to try again.
		string_id message = new string_id (c_stringFile, "s_76924085");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I will try my hardest not to fail this time.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2d8a838b");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 11);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_collectingQuestOneReward (player, npc))
	{
		//-- NPC: You've completed your mission, and in due time. You deserve a reward for your effort.
		string_id message = new string_id (c_stringFile, "s_e20422e9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why, thank you.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6613e8a2");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 14);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_collectingQuestThreeReward (player, npc))
	{
		//-- NPC: You've completed all the work I have for you at this time. Your effort and loyalty are highly respected among us. Here is a reward for your effort.
		string_id message = new string_id (c_stringFile, "s_8d1e636e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you. No more work, huh?
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6fc5551a");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 17);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_collectingQuestTwoReward (player, npc))
	{
		//-- NPC: I'm growing quite fond of you, pilot. Here is a little coin for your purse. Check with me again and I'm sure I'll have more work for you.
		string_id message = new string_id (c_stringFile, "s_50cdd468");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you again. I will.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e7cb1e01");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 20);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_hasCompletedQuestThree (player, npc))
	{
		//-- NPC: You've done well, my friend, and have exacted the tasks of which I have given you with haste and precision. Unfortunately, I have no other work for you.
		string_id message = new string_id (c_stringFile, "s_458d24ab");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why did you have me help launch a battle against the space station?
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e4bd704d");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 22);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_hasCompletedQuestTwo (player, npc))
	{
		//-- NPC: It is good to see you. I've processed the information you gathered from the Valarians. The particular 'spy' has been dealt with. Trust me, he won't be spying on the Hutts again.
		string_id message = new string_id (c_stringFile, "s_68496504");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [nod] Am I needed for anything else?
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4dc8c70");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 25);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_hasCompletedQuestOne (player, npc))
	{
		//-- NPC: You've returned. As you can tell, I'm perplexed by the sudden attacks launched by the Valarians. It seems we have a spy in our midst, informing the Lady's thugs about our activities. It is time to find out what they know. 
		string_id message = new string_id (c_stringFile, "s_b71871d5");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I agree. How do we find out?
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6d43911a");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 31);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition_isCorrectFaction (player, npc))
	{
		//-- NPC: Ah. One of 'us'. I implore you to assist us on a most sensitive task, my friend. But first, let me introduce myself. I am Garett Erlskel, employed by the Hutts to take care of... business in the Tatoo System. However, recent events have made my job more difficult. At this time, I need the assistance of a young, but intelligent, sort. Are you such, young pilot?
		string_id message = new string_id (c_stringFile, "s_4004b748");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, but I really need to know what's going on.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I wish I could help you.
		boolean hasResponse1 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dfce1c9a");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3a510008");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 37);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
	{
		//-- NPC: I have nothing to say to you, friend. I am waiting for one aligned with the Hutt faction. You are not one of them.
		string_id message = new string_id (c_stringFile, "s_485816ee");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Oh. Okay.
		boolean hasResponse0 = false;
		if (poi_tatooine_privateer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d3874dd0");

			utils.setScriptVar (player, "conversation.poi_tatooine_privateer.branchId", 43);

			npcStartConversation (player, npc, "poi_tatooine_privateer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "poi_tatooine_privateer")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

	if (branchId == 5 && poi_tatooine_privateer_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && poi_tatooine_privateer_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && poi_tatooine_privateer_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && poi_tatooine_privateer_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && poi_tatooine_privateer_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && poi_tatooine_privateer_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && poi_tatooine_privateer_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && poi_tatooine_privateer_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && poi_tatooine_privateer_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && poi_tatooine_privateer_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && poi_tatooine_privateer_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && poi_tatooine_privateer_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && poi_tatooine_privateer_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && poi_tatooine_privateer_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && poi_tatooine_privateer_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && poi_tatooine_privateer_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && poi_tatooine_privateer_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && poi_tatooine_privateer_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && poi_tatooine_privateer_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && poi_tatooine_privateer_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && poi_tatooine_privateer_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && poi_tatooine_privateer_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && poi_tatooine_privateer_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.poi_tatooine_privateer.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

