// ======================================================================
//
// naboo_theed_hugo_eckener.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.badge;
include library.chat;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_theed_hugo_eckener";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_theed_hugo_eckener_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_readyForHugo (obj_id player, obj_id npc)
{
	return badge.hasBadge (player, "bdg_content_rsf_clearance_4");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_needsSkaakQuest (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_theed_goto_toff") &&
		   !groundquests.isQuestActive(player, "naboo_theed_hugo_skaak") && 
		   !groundquests.hasCompletedQuest(player, "naboo_theed_hugo_skaak");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_completedSkaakAndDarkwalker (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_theed_hugo_skaak") &&
	groundquests.hasCompletedQuest(player, "naboo_theed_hugo_darkwalker");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_hasSkaakOrDarkwalkerQuest (obj_id player, obj_id npc)
{
	return 	groundquests.isQuestActive(player, "naboo_theed_goto_toff") ||
			groundquests.isQuestActive(player, "naboo_theed_hugo_skaak") || 
			groundquests.hasCompletedQuest(player, "naboo_theed_hugo_skaak") ||
			groundquests.isQuestActive(player, "naboo_theed_goto_jorgellansel") ||
			groundquests.isQuestActive(player, "naboo_theed_hugo_darkwalker") || 
			groundquests.hasCompletedQuest(player, "naboo_theed_hugo_darkwalker");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_needsDarkwalkerQuest (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_theed_goto_jorgellansel") &&
		   !groundquests.isQuestActive(player, "naboo_theed_hugo_darkwalker") && 
		   !groundquests.hasCompletedQuest(player, "naboo_theed_hugo_darkwalker");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_finishedHugo (obj_id player, obj_id npc)
{
	return ( groundquests.isTaskActive(player, "naboo_theed_hugo_rescue", "theed_hugo_rescue_08") ||
			 groundquests.hasCompletedQuest(player, "naboo_theed_hugo_rescue") ||
			 groundquests.isTaskActive(player, "naboo_theed_hugo_rescue_skaak", "theed_hugo_rescue_08") ||
			 groundquests.hasCompletedQuest(player, "naboo_theed_hugo_rescue_skaak") ||
			 groundquests.isTaskActive(player, "naboo_theed_hugo_rescue_darkwalker", "theed_hugo_rescue_08") ||
			 groundquests.hasCompletedQuest(player, "naboo_theed_hugo_rescue_darkwalker") );
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_isOnBorvoQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_theed_hugo_borvo");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_lastStepBorvoQuest (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_theed_hugo_borvo", "theed_hugo_borvo_05") ||
	groundquests.hasCompletedQuest(player, "naboo_theed_hugo_borvo");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_lastStepRescueQuest (obj_id player, obj_id npc)
{
	return ( groundquests.isTaskActive(player, "naboo_theed_hugo_rescue", "theed_hugo_rescue_07") ||
			 groundquests.isTaskActive(player, "naboo_theed_hugo_rescue_skaak", "theed_hugo_rescue_07") ||
			 groundquests.isTaskActive(player, "naboo_theed_hugo_rescue_darkwalker", "theed_hugo_rescue_07") );
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_onRescueQuest (obj_id player, obj_id npc)
{
	return ( groundquests.isQuestActive(player, "naboo_theed_hugo_rescue") ||
			 groundquests.isQuestActive(player, "naboo_theed_hugo_rescue_skaak") ||
			 groundquests.isQuestActive(player, "naboo_theed_hugo_rescue_darkwalker") );
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_offerSkaakLoc (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_theed_hugo_goto_skaak");
}

// ----------------------------------------------------------------------

boolean naboo_theed_hugo_eckener_condition_offerDarkwalkerLoc (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_theed_hugo_goto_darkwalker");
}

// ======================================================================
// Script Actions
// ======================================================================

void naboo_theed_hugo_eckener_action_grantDarkwalkerQuest (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_theed_goto_jorgellansel");	
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantRescueQuest_skaak (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_theed_hugo_rescue_skaak");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantSkaakQuest (obj_id player, obj_id npc)
{	
	groundquests.requestGrantQuest(player, "naboo_theed_goto_toff");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantHugoBorvo (obj_id player, obj_id npc)
{
	if ( groundquests.isQuestActive(player, "naboo_theed_goto_pooja") )
	{
		groundquests.sendSignal(player, "theed_goto_pooja");
	}

	groundquests.requestGrantQuest(player, "naboo_theed_hugo_borvo");
	
	return;
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_signal_rescue_07 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "theed_hugo_rescue_07");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_endGotoHugo (obj_id player, obj_id npc)
{
	if ( groundquests.isQuestActive(player, "naboo_theed_goto_hugo") )
	{
		groundquests.sendSignal(player, "theed_goto_hugo");
	}
		
	return;
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_endHugoBorvoQuest (obj_id player, obj_id npc)
{
	if ( groundquests.isTaskActive(player, "naboo_theed_hugo_borvo", "theed_hugo_borvo_05") )
	{
		groundquests.sendSignal(player, "theed_hugo_borvo_05");
	}
	return;
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_endReturnToHugo (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "theed_hugo_return");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantDarkwalkerLoc (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_theed_hugo_goto_darkwalker");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantSkaakLoc (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_theed_hugo_goto_skaak");
}

// ----------------------------------------------------------------------

void naboo_theed_hugo_eckener_action_grantRescueQuest_darkwalker (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_theed_hugo_rescue_darkwalker");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_theed_hugo_eckener_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you! Karl is back. I've made sure he's safe. Thank you for everything.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else I can do?
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_signal_rescue_07 (player, npc);

			//-- NPC: Well, I guess you need to return to Pooja and speak with her. But as far as I'm concerned, you've already accomplished much more than I could have dare hoped. Thank you very much!
			string_id message = new string_id (c_stringFile, "s_101");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. No! We've done everything they've asked, and yet my son has not been released. I have no other choice. There's only one option left.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What option is that?
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: I need you to rescue my son, Karl. I know this might put his life at risk, not to mention your well being, but I see no other way. 
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not to worry, I'll help rescue him.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks. Not right now.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you wish, but return soon.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need you to rescue my son, Karl. I know this might put his life at risk, not to mention your well being, but I see no other way. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not to worry, I'll help rescue him.
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank the Force! The first problem is that I don't know if the Skaak Tippers have Karl or if the Darkwalkers do. Whichever it is, he'll most likely be at their base near Theed. You'll have to search them until you find Karl. Which would you like to start with?
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll start with the Skaak Tippers compound.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll start with the Darkwalker cave.
			boolean hasResponse1 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank the Force! The first problem is that I don't know if the Skaak Tippers have Karl or if the Darkwalkers do. Whichever it is, he'll most likely be at their base near Theed. You'll have to search them until you find Karl. Which would you like to start with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll start with the Skaak Tippers compound.
	if (response == "s_96")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantRescueQuest_skaak (player, npc);

			//-- NPC: Thank you! Thank you. Please hurry! There's no time to waste.
			string_id message = new string_id (c_stringFile, "s_98");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll start with the Darkwalker cave.
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantRescueQuest_darkwalker (player, npc);

			//-- NPC: Thank you! Thank you. Please hurry! There's no time to waste.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How is it going? I hope they are not asking too much, but I don't know what choice I have. I can't let them hurt my son.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Skaak Tipper contact.
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know, actually. You'll have to go talk to him.
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I'll go speak with him.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the Darkwalker contact.
	if (response == "s_65")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Jorgellansel will have to fill you in on the details. I don't know what he'll ask of you.
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I'll go see Jorgellansel.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, that's done, but unfortunately there's more. It gets a bit more complicated now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What makes it more complex?
	if (response == "s_67")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, the thing is that they each want me to attack the other. Fortunately, they do not know that Karl owes both of them and is working for each, but I can't risk them finding that out. So I'm going to send you to a Skaak Tipper contact and a Darkwalker contact. They can give you your next tasks and hopefully do so without knowing about the other.
			string_id message = new string_id (c_stringFile, "s_68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are these contacts?
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, the thing is that they each want me to attack the other. Fortunately, they do not know that Karl owes both of them and is working for each, but I can't risk them finding that out. So I'm going to send you to a Skaak Tipper contact and a Darkwalker contact. They can give you your next tasks and hopefully do so without knowing about the other.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are these contacts?
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Skaak Tipper contact is Toff Henrou. The Darkwalker one is known as Jorgellansel.
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does Toff Henrou want me to do?
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does Jorgellansel want me to do?
			boolean hasResponse1 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Not right now. I'll come back later.
			boolean hasResponse2 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Skaak Tipper contact is Toff Henrou. The Darkwalker one is known as Jorgellansel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does Toff Henrou want me to do?
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know, actually. You'll have to go talk to him.
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I'll go speak with him.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does Jorgellansel want me to do?
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Jorgellansel will have to fill you in on the details. I don't know what he'll ask of you.
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I'll go see Jorgellansel.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now. I'll come back later.
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well, but please do not delay too long.
			string_id message = new string_id (c_stringFile, "s_92");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know, actually. You'll have to go talk to him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, I'll go speak with him.
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantSkaakQuest (player, npc);

			//-- NPC: Thank you. Good luck.
			string_id message = new string_id (c_stringFile, "s_80");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Jorgellansel will have to fill you in on the details. I don't know what he'll ask of you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, I'll go see Jorgellansel.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantDarkwalkerQuest (player, npc);

			//-- NPC: Good. And thank you.
			string_id message = new string_id (c_stringFile, "s_88");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, you're the one Pooja sent. I have a bit of a dilemma and need your help. Did she tell you much?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, she said you would fill me in.
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right. Well then, this is it. My son, Karl, has gotten into a bit of trouble. Seems he has a gambling habit, and managed to lose quite a bit of money. To make matters worse, he owes money to both the Darkwalkers and the Skaak Tippers.
			string_id message = new string_id (c_stringFile, "s_56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: He owes money to both of them?
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right. Well then, this is it. My son, Karl, has gotten into a bit of trouble. Seems he has a gambling habit, and managed to lose quite a bit of money. To make matters worse, he owes money to both the Darkwalkers and the Skaak Tippers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He owes money to both of them?
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sadly, yes. And I do not have the means to pay his debt, especially with all the interest and such. Both are willing to let me work off Karl's debt to them by undertaking various tasks. Mostly against their rivals. I'm hoping you can help me with that.
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you need me to do?
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sadly, yes. And I do not have the means to pay his debt, especially with all the interest and such. Both are willing to let me work off Karl's debt to them by undertaking various tasks. Mostly against their rivals. I'm hoping you can help me with that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you need me to do?
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, both the Skaak Tippers and the Darkwalkers view Borvo's organization as a rival and want them knocked down a peg or two. They want me to handle this kind of thing so that it cannot be attributed to them.
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take care of it.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Is there no other option?
			boolean hasResponse1 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, both the Skaak Tippers and the Darkwalkers view Borvo's organization as a rival and want them knocked down a peg or two. They want me to handle this kind of thing so that it cannot be attributed to them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take care of it.
	if (response == "s_79")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantHugoBorvo (player, npc);

			//-- NPC: Thank you. Hopefully, we'll be done with this quickly and quietly.
			string_id message = new string_id (c_stringFile, "s_106");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there no other option?
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not that I've been able to devise. Pooja advised me to just do what they want, or Karl will never be safe.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I'll help.
			boolean hasResponse0 = false;
			if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_theed_hugo_eckener_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not that I've been able to devise. Pooja advised me to just do what they want, or Karl will never be safe.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, I'll help.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			naboo_theed_hugo_eckener_action_grantHugoBorvo (player, npc);

			//-- NPC: Thank you. Hopefully, we'll be done with this quickly and quietly.
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_theed_hugo_eckener");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	
	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_theed_hugo_eckener");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_finishedHugo (player, npc))
	{
		//-- NPC: Karl is safe, and I cannot thank you enough for that! I don't think the Skaak Tippers or the Darkwalkers will be bothering him for now, but I'm definitely going to have to do something about Karl's gambling problem.
		string_id message = new string_id (c_stringFile, "s_43");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_lastStepRescueQuest (player, npc))
	{
		//-- NPC: Thank you! Karl is back. I've made sure he's safe. Thank you for everything.
		string_id message = new string_id (c_stringFile, "s_99");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Is there anything else I can do?
		boolean hasResponse0 = false;
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_100");

			utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 2);

			npcStartConversation (player, npc, "naboo_theed_hugo_eckener", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_onRescueQuest (player, npc))
	{
		//-- NPC: Please, rescue my son, Karl. Don't let anything happen to him.
		string_id message = new string_id (c_stringFile, "s_83");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_completedSkaakAndDarkwalker (player, npc))
	{
		naboo_theed_hugo_eckener_action_endReturnToHugo (player, npc);

		//-- NPC: No. No! We've done everything they've asked, and yet my son has not been released. I have no other choice. There's only one option left.
		string_id message = new string_id (c_stringFile, "s_44");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What option is that?
		boolean hasResponse0 = false;
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thanks. Not right now.
		boolean hasResponse1 = false;
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_59");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 5);

			npcStartConversation (player, npc, "naboo_theed_hugo_eckener", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_hasSkaakOrDarkwalkerQuest (player, npc))
	{
		naboo_theed_hugo_eckener_action_endReturnToHugo (player, npc);

		//-- NPC: How is it going? I hope they are not asking too much, but I don't know what choice I have. I can't let them hurt my son.
		string_id message = new string_id (c_stringFile, "s_45");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Tell me about the Skaak Tipper contact.
		boolean hasResponse0 = false;
		if (naboo_theed_hugo_eckener_condition_needsSkaakQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Tell me about the Darkwalker contact.
		boolean hasResponse1 = false;
		if (naboo_theed_hugo_eckener_condition_needsDarkwalkerQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_66");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65");

			utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 11);

			npcStartConversation (player, npc, "naboo_theed_hugo_eckener", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_lastStepBorvoQuest (player, npc))
	{
		naboo_theed_hugo_eckener_action_endHugoBorvoQuest (player, npc);

		//-- NPC: Well, that's done, but unfortunately there's more. It gets a bit more complicated now.
		string_id message = new string_id (c_stringFile, "s_46");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What makes it more complex?
		boolean hasResponse0 = false;
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_67");

			utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 12);

			npcStartConversation (player, npc, "naboo_theed_hugo_eckener", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_isOnBorvoQuest (player, npc))
	{
		//-- NPC: Thank you for your help. I'll communicate with you and update what you need to do.
		string_id message = new string_id (c_stringFile, "s_50");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition_readyForHugo (player, npc))
	{
		naboo_theed_hugo_eckener_action_endGotoHugo (player, npc);

		//-- NPC: Oh, you're the one Pooja sent. I have a bit of a dilemma and need your help. Did she tell you much?
		string_id message = new string_id (c_stringFile, "s_52");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, she said you would fill me in.
		boolean hasResponse0 = false;
		if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_54");

			utils.setScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId", 21);

			npcStartConversation (player, npc, "naboo_theed_hugo_eckener", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_theed_hugo_eckener_condition__defaultCondition (player, npc))
	{
		//-- NPC: Karl, my son, how could he let this happen? I should have seen his gambling problem sooner.
		string_id message = new string_id (c_stringFile, "s_116");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_theed_hugo_eckener")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

	if (branchId == 2 && naboo_theed_hugo_eckener_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && naboo_theed_hugo_eckener_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && naboo_theed_hugo_eckener_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && naboo_theed_hugo_eckener_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && naboo_theed_hugo_eckener_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && naboo_theed_hugo_eckener_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_theed_hugo_eckener_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && naboo_theed_hugo_eckener_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && naboo_theed_hugo_eckener_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && naboo_theed_hugo_eckener_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && naboo_theed_hugo_eckener_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && naboo_theed_hugo_eckener_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && naboo_theed_hugo_eckener_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && naboo_theed_hugo_eckener_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && naboo_theed_hugo_eckener_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_theed_hugo_eckener.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

