// ======================================================================
//
// c_talus_grave_robbers_omkoo.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/c_talus_grave_robbers_omkoo";

// ======================================================================
// Script Conditions
// ======================================================================

boolean c_talus_grave_robbers_omkoo_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_needTalkWire1 (obj_id player, obj_id npc)
{
	if (groundquests.isTaskActive(player, "c_story1_3_imp", "talkWire1") ||
		groundquests.isTaskActive(player, "c_story1_3_neu", "talkWire1") ||
		groundquests.isTaskActive(player, "c_story1_3_reb", "talkWire1"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_onQuest (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "c_talus_grave_robbers_1"));
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_wonQuest (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedTask(player, "c_talus_grave_robbers_1", "retrieve1")&&
		groundquests.hasCompletedTask(player, "c_talus_grave_robbers_1", "retrieve2"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_finished (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "c_talus_grave_robbers_1"));
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_gotKey (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedTask(player, "c_talus_grave_robbers_1", "retrieve1"));
}

// ----------------------------------------------------------------------

boolean c_talus_grave_robbers_omkoo_condition_gotDocument (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedTask(player, "c_talus_grave_robbers_1", "retrieve2"));
}

// ======================================================================
// Script Actions
// ======================================================================

void c_talus_grave_robbers_omkoo_action_grantReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "giveRewardGraveRobbers");
}

// ----------------------------------------------------------------------

void c_talus_grave_robbers_omkoo_action_quitQuest (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "c_talus_grave_robbers_1");
}

// ----------------------------------------------------------------------

void c_talus_grave_robbers_omkoo_action_giveQuest1 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_talus_grave_robbers_1");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int c_talus_grave_robbers_omkoo_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Even though it's still a mystery what the TTLP want with the old Aqualish society, you've helped out greatly %TU. They will think twice about coming out to one of our gravesites and disturbing the fallen again. I will try to unveil the mysteries behind all this.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah it's weird indeed, I hope you'll find something out.
	if (response == "s_39")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			c_talus_grave_robbers_omkoo_action_grantReward (player, npc);

			//-- NPC: Me too %TU, me too. Anyway, you've earned your pay friend. Thank you again for your discretion and for taking care of this so smoothly.
			string_id message = new string_id (c_stringFile, "s_148");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, sure. Now there was the matter of payment.
	if (response == "s_40")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			c_talus_grave_robbers_omkoo_action_grantReward (player, npc);

			//-- NPC: Of course. Thank you for taking care of this so quickly %TU.
			string_id message = new string_id (c_stringFile, "s_147");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So the second shipment wasn't an artifact but rather the Tralus and Talus Liberation Party asking for help from the Rebels eh? It's strange; I don't understand what the TTLP would want at one of our gravesites. Maybe the second shipment will explain it. Are you on your way to retrieve it from the Nashal starport?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Indeed, I'm heading for Nashal right now.
	if (response == "s_144")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good, good. This is puzzling indeed. Be careful %TU.
			string_id message = new string_id (c_stringFile, "s_146");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't I'm afraid. I've had something really important come up.
	if (response == "s_145")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: But... you're almost done %TU, please don't stop now.
			string_id message = new string_id (c_stringFile, "s_139");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm, I suppose I can squeeze it in.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's out of my hands, sorry.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_141");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 9);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A very strange item indeed. I don't believe it's created by my people, at least I've seen nothing like it before. I will hold on to it and find out what I can. You on your way out to track down the other artifact?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'll be on my way out to that weapons depot.
	if (response == "s_136")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good, be careful out there %TU.
			string_id message = new string_id (c_stringFile, "s_138");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't I'm afraid. I've had something really important come up.
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: But... you're almost done %TU, please don't stop now.
			string_id message = new string_id (c_stringFile, "s_139");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm, I suppose I can squeeze it in.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's out of my hands, sorry.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_141");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 9);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: But... you're almost done %TU, please don't stop now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm, I suppose I can squeeze it in.
	if (response == "s_140")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow");

			//-- NPC: Thank you %TU, I'm very grateful.
			string_id message = new string_id (c_stringFile, "s_143");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's out of my hands, sorry.
	if (response == "s_141")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			c_talus_grave_robbers_omkoo_action_quitQuest (player, npc);

			//-- NPC: I'm really sorry to hear that. Hopefully I can find someone else to take over where you left off.
			string_id message = new string_id (c_stringFile, "s_142");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is there a problem %TU? It's quite urgent that action is taken in this matter.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No worries, I was just about to leave.
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			doAnimationAction (player, "goodbye");

			//-- NPC: Great. Good luck out there %TU. I will contact you when you reach the site.
			string_id message = new string_id (c_stringFile, "s_132");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've had an emergency come up, I have to cancel.
	if (response == "s_131")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			c_talus_grave_robbers_omkoo_action_quitQuest (player, npc);

			//-- NPC: That is dire news indeed but an emergency is an emergency. I will try to find someone else quickly.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh I've heard of you, you're %TU right? I think you might be just the person I need to help me out with something, if you're available?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, my schedule is quite full at the moment.
	if (response == "s_107")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			doAnimationAction (player, "goodbye");

			//-- NPC: As I suspected. That is too bad, I'll have to find someone else. Was a pleasure to meet you though %TU.
			string_id message = new string_id (c_stringFile, "s_109");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is I and yes, I might be interested.
	if (response == "s_108")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent! Let me explain the situation to you. As you may or may not know the Aqualish have been on the twin worlds for a long time. Our old buildings can be found at several places, now a day mostly in ruins. We don't care so much about them, they are part of an old history that we try to forget.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see, go on.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I didn't know that this was going to be a history lesson...
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent! Let me explain the situation to you. As you may or may not know the Aqualish have been on the twin worlds for a long time. Our old buildings can be found at several places, now a day mostly in ruins. We don't care so much about them, they are part of an old history that we try to forget.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see, go on.
	if (response == "s_111")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: There's however some areas that we don't like to see defiled by anyone, namely our gravesites. That's why I check up on them now and then and listen carefully for rumors about someone planning a trip out to them.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this leading to something that involves me?
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I assume that you've come across something now?
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_114");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't know that this was going to be a history lesson...
	if (response == "s_112")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: I'm just trying to give you some background to the situation. Should I go on?
			string_id message = new string_id (c_stringFile, "s_121");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, go on.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No I have things to do and got to go. See you around.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_123");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's however some areas that we don't like to see defiled by anyone, namely our gravesites. That's why I check up on them now and then and listen carefully for rumors about someone planning a trip out to them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this leading to something that involves me?
	if (response == "s_114")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes I'm getting to that part, sorry for taking so long. I just want to make sure you understand the background of my predicament.
			string_id message = new string_id (c_stringFile, "s_125");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well. So I take it something has happened now?
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I really don't have time for this, sorry but I got to go.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_127");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I assume that you've come across something now?
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Indeed. I've been informed of some thugs doing something near one of our oldest gravesites on Talus. I want you to go out there and investigate if they are indeed disturbing the dead and convince them to leave if so. Leave and never come back if you understand what I mean?
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand but must decline. I'm hardly an enforcer.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Completely. I can guarantee they won't be back again.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes I'm getting to that part, sorry for taking so long. I just want to make sure you understand the background of my predicament.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well. So I take it something has happened now?
	if (response == "s_126")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Indeed. I've been informed of some thugs doing something near one of our oldest gravesites on Talus. I want you to go out there and investigate if they are indeed disturbing the dead and convince them to leave if so. Leave and never come back if you understand what I mean?
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand but must decline. I'm hardly an enforcer.
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Completely. I can guarantee they won't be back again.
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really don't have time for this, sorry but I got to go.
	if (response == "s_127")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You were probably not the right person for this anyway %TU. Farewell.
			string_id message = new string_id (c_stringFile, "s_128");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed. I've been informed of some thugs doing something near one of our oldest gravesites on Talus. I want you to go out there and investigate if they are indeed disturbing the dead and convince them to leave if so. Leave and never come back if you understand what I mean?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand but must decline. I'm hardly an enforcer.
	if (response == "s_117")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			doAnimationAction (player, "goodbye");

			//-- NPC: Ah, I must have been misinformed. Very well then, I will try and find someone else. Thank you for taking the time to hear me out though %TU.
			string_id message = new string_id (c_stringFile, "s_119");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Completely. I can guarantee they won't be back again.
	if (response == "s_118")
	{
		doAnimationAction (player, "slit_throat");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			c_talus_grave_robbers_omkoo_action_giveQuest1 (player, npc);

			//-- NPC: I'm glad we understand each other. I will of course reward you for your services. Let me put in the coordinates of the site to your datapad. I will contact you again when you get out to the area.
			string_id message = new string_id (c_stringFile, "s_120");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_talus_grave_robbers_omkoo_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm just trying to give you some background to the situation. Should I go on?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine, go on.
	if (response == "s_122")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			//-- NPC: There's however some areas that we don't like to see defiled by anyone, namely our gravesites. That's why I check up on them now and then and listen carefully for rumors about someone planning a trip out to them.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this leading to something that involves me?
			boolean hasResponse0 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I assume that you've come across something now?
			boolean hasResponse1 = false;
			if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_114");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No I have things to do and got to go. See you around.
	if (response == "s_123")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: I guess I was misinformed about you %TU.
			string_id message = new string_id (c_stringFile, "s_124");
			utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.c_talus_grave_robbers_omkoo");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.c_talus_grave_robbers_omkoo");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition_finished (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: Good to see you again %TU. Thanks again for your help, it was invaluable. I'm still trying to figure out what this key is for and what the TTLP is actually up to.
		string_id message = new string_id (c_stringFile, "s_93");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition_wonQuest (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: Even though it's still a mystery what the TTLP want with the old Aqualish society, you've helped out greatly %TU. They will think twice about coming out to one of our gravesites and disturbing the fallen again. I will try to unveil the mysteries behind all this.
		string_id message = new string_id (c_stringFile, "s_5");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yeah it's weird indeed, I hope you'll find something out.
		boolean hasResponse0 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sure, sure. Now there was the matter of payment.
		boolean hasResponse1 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_39");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_40");

			utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 2);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_talus_grave_robbers_omkoo", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition_gotDocument (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		//-- NPC: So the second shipment wasn't an artifact but rather the Tralus and Talus Liberation Party asking for help from the Rebels eh? It's strange; I don't understand what the TTLP would want at one of our gravesites. Maybe the second shipment will explain it. Are you on your way to retrieve it from the Nashal starport?
		string_id message = new string_id (c_stringFile, "s_134");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Indeed, I'm heading for Nashal right now.
		boolean hasResponse0 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I can't I'm afraid. I've had something really important come up.
		boolean hasResponse1 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_144");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_145");

			utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 5);

			npcStartConversation (player, npc, "c_talus_grave_robbers_omkoo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition_gotKey (player, npc))
	{
		//-- NPC: A very strange item indeed. I don't believe it's created by my people, at least I've seen nothing like it before. I will hold on to it and find out what I can. You on your way out to track down the other artifact?
		string_id message = new string_id (c_stringFile, "s_135");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I'll be on my way out to that weapons depot.
		boolean hasResponse0 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I can't I'm afraid. I've had something really important come up.
		boolean hasResponse1 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_136");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_137");

			utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 7);

			npcStartConversation (player, npc, "c_talus_grave_robbers_omkoo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition_onQuest (player, npc))
	{
		doAnimationAction (npc, "nod");

		doAnimationAction (player, "greet");

		//-- NPC: Is there a problem %TU? It's quite urgent that action is taken in this matter.
		string_id message = new string_id (c_stringFile, "s_129");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No worries, I was just about to leave.
		boolean hasResponse0 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I've had an emergency come up, I have to cancel.
		boolean hasResponse1 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_130");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_131");

			utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 12);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_talus_grave_robbers_omkoo", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: Oh I've heard of you, you're %TU right? I think you might be just the person I need to help me out with something, if you're available?
		string_id message = new string_id (c_stringFile, "s_106");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm sorry, my schedule is quite full at the moment.
		boolean hasResponse0 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: That is I and yes, I might be interested.
		boolean hasResponse1 = false;
		if (c_talus_grave_robbers_omkoo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_107");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_108");

			utils.setScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId", 15);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_talus_grave_robbers_omkoo", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "c_talus_grave_robbers_omkoo")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

	if (branchId == 2 && c_talus_grave_robbers_omkoo_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && c_talus_grave_robbers_omkoo_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && c_talus_grave_robbers_omkoo_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && c_talus_grave_robbers_omkoo_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && c_talus_grave_robbers_omkoo_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && c_talus_grave_robbers_omkoo_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && c_talus_grave_robbers_omkoo_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && c_talus_grave_robbers_omkoo_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && c_talus_grave_robbers_omkoo_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && c_talus_grave_robbers_omkoo_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && c_talus_grave_robbers_omkoo_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.c_talus_grave_robbers_omkoo.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

