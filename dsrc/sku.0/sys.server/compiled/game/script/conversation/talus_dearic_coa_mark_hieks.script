// ======================================================================
//
// talus_dearic_coa_mark_hieks.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/talus_dearic_coa_mark_hieks";

// ======================================================================
// Script Conditions
// ======================================================================

boolean talus_dearic_coa_mark_hieks_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_imperial_faction (obj_id player, obj_id npc)
{
	// checks if player is imperial faction and has not accepted the optional task yet
	if(factions.isImperial(player) &&
	groundquests.hasCompletedQuest(player, "talus_dearic_coa_deep_cover"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_accepted_nsh_quest (obj_id player, obj_id npc)
{
	//checks to see if player has accepted the deep cover assignment from Galiir
	return groundquests.isTaskActive(player, "talus_dearic_coa_deep_cover", "talus_dearic_coa_mark_hieks_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_accepted_deep_cover_quest (obj_id player, obj_id npc)
{
	//checks to see if the PC has accepted the tasks from Mark Hieks
	return groundquests.hasCompletedTask(player, "talus_dearic_coa_deep_cover", "talus_dearic_coa_mark_hieks_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_completed_deep_cover_quest (obj_id player, obj_id npc)
{
	//checks to see if the deep cover quest has been completed
	if(factions.isImperial(player))
		if (groundquests.hasCompletedQuest(player, "talus_dearic_coa_deep_cover") &&
		(groundquests.hasCompletedQuest(player, "talus_dearic_coa_opt_imperial_quest") ||
		groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end")))
			return true;
		else
			return false;
	else
		return groundquests.hasCompletedQuest(player, "talus_dearic_coa_deep_cover");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_imp_opt_quest_active (obj_id player, obj_id npc)
{
	// checks if player has not completed the optional task yet
	return groundquests.isTaskActive(player, "talus_dearic_coa_opt_imperial_quest", "talus_dearic_coa_inspector_elimination_dsm");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_deep_cover_tasks_complete (obj_id player, obj_id npc)
{
	//checks to see if the deep cover quests are complete
	return groundquests.isTaskActive(player, "talus_dearic_coa_deep_cover", "talus_dearic_coa_report_back_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_imp_opt_quest_complete (obj_id player, obj_id npc)
{
	//checks to see if the optional Imperial quest has been completed
	if(factions.isImperial(player) &&
	groundquests.isTaskActive(player, "talus_dearic_coa_opt_imperial_quest", "talus_dearic_coa_rebels_eliminated_wfs"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_mark_hieks_condition_imp_opt_quest_unaccepted (obj_id player, obj_id npc)
{
	//checks to see if the optional Imperial quest has been accepted
	if(factions.isImperial(player) && 
	!groundquests.isQuestActiveOrComplete(player, "talus_dearic_coa_opt_imperial_quest") && 
	!groundquests.hasCompletedQuest(player, "talus_dearic_coa_deep_cover"))
		return true;
	else
		return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void talus_dearic_coa_mark_hieks_action_accept_deep_cover_quest (obj_id player, obj_id npc)
{
	// Sends the signal that the PC has accepted the deep cover tasks from Mark Hieks
	groundquests.sendSignal(player, "talus_dearic_coa_accepted_deep_cover_assignment");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_mark_hieks_action_complete_deep_cover_quest (obj_id player, obj_id npc)
{
	// Sends the signal that the PC has reported success in the deep cover assignment
	groundquests.sendSignal(player, "talus_dearic_coa_covert_report_submitted");
	// sends the signal that the PC has completed imperial primary quest
	groundquests.sendSignal(player, "talus_dearic_coa_spoke_with_mark");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_mark_hieks_action_complete_opt_imp_quest (obj_id player, obj_id npc)
{
	// Sends the signal that Mark knows the Rebel investigators have been eliminated
	groundquests.sendSignal(player, "talus_dearic_coa_report_rebels_eliminated");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_mark_hieks_action_accept_opt_imp_quest (obj_id player, obj_id npc)
{
	// grant the optional Imperial quest
	groundquests.grantQuest(player, "talus_dearic_coa_opt_imperial_quest");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_mark_hieks_action_grant_return_quest (obj_id player, obj_id npc)
{
	// sends signal to end primary imperial quest
	groundquests.sendSignal(player, "talus_dearic_coa_spoke_with_mark");
	// grants the return and report quest for the empire
	groundquests.grantQuest(player, "talus_dearic_coa_imperial_view_end");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_mark_hieks_action_grant_return_qst2 (obj_id player, obj_id npc)
{
	if(!groundquests.isQuestActiveOrComplete(player, "talus_dearic_coa_imperial_view_end"))
	{
		// sends signal to end primary imperial quest
		groundquests.sendSignal(player, "talus_dearic_coa_spoke_with_mark");
		// grants the return and report quest for the empire
		groundquests.grantQuest(player, "talus_dearic_coa_imperial_view_end");
	}
	else
		return;
	
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int talus_dearic_coa_mark_hieks_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you still doing here?  You need to leave before the A.C.L.O. discovers who you are.  Get going!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On my way.
	if (response == "s_77")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			talus_dearic_coa_mark_hieks_action_grant_return_qst2 (player, npc);

			//-- NPC: Take care.
			string_id message = new string_id (c_stringFile, "s_78");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You know how to clean up!  They reported at least ten deaths.  Here is that promised bonus.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.  I was glad to serve the Empire.
	if (response == "s_46")
	{
		doAnimationAction (player, "thank");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			talus_dearic_coa_mark_hieks_action_complete_opt_imp_quest (player, npc);

			//-- NPC: Right.  Now you need to get out of here.  Report back to Galiir so he can pay you for your earlier assitance with those computers.
			string_id message = new string_id (c_stringFile, "s_47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: More pay is good.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right.  Now you need to get out of here.  Report back to Galiir so he can pay you for your earlier assitance with those computers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: More pay is good.
	if (response == "s_79")
	{
		doAnimationAction (player, "laugh");

		talus_dearic_coa_mark_hieks_action_grant_return_quest (player, npc);

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Always!
			string_id message = new string_id (c_stringFile, "s_80");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Take out those Alliance officers before they leave.  Return to me and I'll toss in a bit more than what Galiir is paying you to help me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good.
	if (response == "s_81")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Don't take too long.
			string_id message = new string_id (c_stringFile, "s_82");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You haven't left the office yet?  Listen, I have another opportunity for you if you are looking to score some tofa points with the Empire.  You interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It would be an honor to serve the Empire.
	if (response == "s_36")
	{
		doAnimationAction (player, "bow5");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sure, kid.  One of the nurses was talking a minute ago about a group of Alliance officers who just arrived to take a look at the Organization.  If you were to take them out, it would show that the A.C.L.O. was incompetent in that it could not even protect its guests.  The relationship between them and the Alliance would be strained, maybe even to a breaking point.  You in?
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  That would be a critical effort to take against the Rebellion.  I'm in.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have time for something like that.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have severe time constraints.  I'll have to pass.
	if (response == "s_37")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			talus_dearic_coa_mark_hieks_action_grant_return_quest (player, npc);

			//-- NPC: I understand.  Be careful.
			string_id message = new string_id (c_stringFile, "s_38");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sure, kid.  One of the nurses was talking a minute ago about a group of Alliance officers who just arrived to take a look at the Organization.  If you were to take them out, it would show that the A.C.L.O. was incompetent in that it could not even protect its guests.  The relationship between them and the Alliance would be strained, maybe even to a breaking point.  You in?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  That would be a critical effort to take against the Rebellion.  I'm in.
	if (response == "s_40")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			doAnimationAction (player, "listen");

			talus_dearic_coa_mark_hieks_action_accept_opt_imp_quest (player, npc);

			//-- NPC: They are probably outside still debarking from the landing pad or in the building the A.C.L.O. uses for meetings, just off the main building.  If you succeed, come back to see me and I'll reward you out of my discretionary operating fund.
			string_id message = new string_id (c_stringFile, "s_43");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Reward?  Sounds promising.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have time for something like that.
	if (response == "s_41")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			talus_dearic_coa_mark_hieks_action_grant_return_quest (player, npc);

			//-- NPC: I understand.  Be careful.
			string_id message = new string_id (c_stringFile, "s_42");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They are probably outside still debarking from the landing pad or in the building the A.C.L.O. uses for meetings, just off the main building.  If you succeed, come back to see me and I'll reward you out of my discretionary operating fund.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Reward?  Sounds promising.
	if (response == "s_83")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "adjust");

			//-- NPC: Hurry back, but be careful.
			string_id message = new string_id (c_stringFile, "s_84");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We shouldn't speak unless you have finished planting taps on all those computers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: They are all in place.  The devices won't be found for some time to come.
	if (response == "s_29")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			talus_dearic_coa_mark_hieks_action_complete_deep_cover_quest (player, npc);

			//-- NPC: Excellent work!  When I get back to my desk, I'll send a coded message to Galiir informing him of your success.  You have my thanks, soldier.
			string_id message = new string_id (c_stringFile, "s_31");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Get to feeling better...and try not to shoot yourself any more.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright then.  I'll be back after I've finished.
	if (response == "s_51")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: Please be discrete
			string_id message = new string_id (c_stringFile, "s_53");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent work!  When I get back to my desk, I'll send a coded message to Galiir informing him of your success.  You have my thanks, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Get to feeling better...and try not to shoot yourself any more.
	if (response == "s_33")
	{
		doAnimationAction (player, "laugh");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition_imperial_faction (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Scoundrel!  Listen, I have another opportunity for you if you are looking to score some bofa points with the Empire.  You interested?
			string_id message = new string_id (c_stringFile, "s_48");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It would be an honor to serve the Empire.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have severe time constraints.  I'll have to pass.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			talus_dearic_coa_mark_hieks_action_grant_return_quest (player, npc);

			//-- NPC: Get out of here you scoundrel!
			string_id message = new string_id (c_stringFile, "s_75");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Scoundrel!  Listen, I have another opportunity for you if you are looking to score some bofa points with the Empire.  You interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It would be an honor to serve the Empire.
	if (response == "s_36")
	{
		doAnimationAction (player, "bow5");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sure, kid.  One of the nurses was talking a minute ago about a group of Alliance officers who just arrived to take a look at the Organization.  If you were to take them out, it would show that the A.C.L.O. was incompetent in that it could not even protect its guests.  The relationship between them and the Alliance would be strained, maybe even to a breaking point.  You in?
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.  That would be a critical effort to take against the Rebellion.  I'm in.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have time for something like that.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have severe time constraints.  I'll have to pass.
	if (response == "s_37")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			talus_dearic_coa_mark_hieks_action_grant_return_quest (player, npc);

			//-- NPC: I understand.  Be careful.
			string_id message = new string_id (c_stringFile, "s_38");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: (groaning) Who are you?  What are you doing in here?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you Mark Hieks?
	if (response == "s_59")
	{
		doAnimationAction (player, "greet");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "huh");

			//-- NPC: Yes, what can I do for you?
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Galiir Ac Yandar sent me to give you a hand with something.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing.  Wrong room.
	if (response == "s_88")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Alright.
			string_id message = new string_id (c_stringFile, "s_90");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, what can I do for you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Galiir Ac Yandar sent me to give you a hand with something.
	if (response == "s_63")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			doAnimationAction (player, "listen");

			//-- NPC: Galiir?  Oh, right.  He said he'd be sending someone.  What I need is easy enough.  I've been attempting to place sliceware monitoring components on several A.C.L.O. computers.  I almost got caught today and had to injure myself to shift the focus away from what I was doing in the wrong place.  I need you to finish what I started.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah, that shouldn't be hard at all.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Galiir?  Oh, right.  He said he'd be sending someone.  What I need is easy enough.  I've been attempting to place sliceware monitoring components on several A.C.L.O. computers.  I almost got caught today and had to injure myself to shift the focus away from what I was doing in the wrong place.  I need you to finish what I started.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, that shouldn't be hard at all.
	if (response == "s_67")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			talus_dearic_coa_mark_hieks_action_accept_deep_cover_quest (player, npc);

			//-- NPC: Excellent.  Here is a list of the computers I need monitored and here are the devices.  Please return to me to confirm that you have completed the job.
			string_id message = new string_id (c_stringFile, "s_69");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll return shortly.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_76")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: Then please see yourself out. I'll tell Galiir to send someone else while I recuperate.
			string_id message = new string_id (c_stringFile, "s_86");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_mark_hieks_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent.  Here is a list of the computers I need monitored and here are the devices.  Please return to me to confirm that you have completed the job.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll return shortly.
	if (response == "s_71")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Take your time, soldier.  Its better to get the job done right.
			string_id message = new string_id (c_stringFile, "s_73");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.talus_dearic_coa_mark_hieks");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.talus_dearic_coa_mark_hieks");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_completed_deep_cover_quest (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		doAnimationAction (player, "goodbye");

		//-- NPC: What are you still doing here?  You need to leave before the A.C.L.O. discovers who you are.  Get going!
		string_id message = new string_id (c_stringFile, "s_4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: On my way.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_77");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 1);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_imp_opt_quest_complete (player, npc))
	{
		doAnimationAction (npc, "belly_laugh");

		doAnimationAction (player, "expect_tip");

		//-- NPC: You know how to clean up!  They reported at least ten deaths.  Here is that promised bonus.
		string_id message = new string_id (c_stringFile, "s_44");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you.  I was glad to serve the Empire.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_46");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 3);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_imp_opt_quest_active (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: Take out those Alliance officers before they leave.  Return to me and I'll toss in a bit more than what Galiir is paying you to help me.
		string_id message = new string_id (c_stringFile, "s_45");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sounds good.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 6);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_imperial_faction (player, npc))
	{
		doAnimationAction (npc, "whisper");

		doAnimationAction (player, "listen");

		//-- NPC: You haven't left the office yet?  Listen, I have another opportunity for you if you are looking to score some tofa points with the Empire.  You interested?
		string_id message = new string_id (c_stringFile, "s_35");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It would be an honor to serve the Empire.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I have severe time constraints.  I'll have to pass.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_36");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_37");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 8);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_deep_cover_tasks_complete (player, npc))
	{
		doAnimationAction (npc, "wave_finger_warning");

		//-- NPC: We shouldn't speak unless you have finished planting taps on all those computers.
		string_id message = new string_id (c_stringFile, "s_27");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: They are all in place.  The devices won't be found for some time to come.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Alright then.  I'll be back after I've finished.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_29");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_51");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 14);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_accepted_deep_cover_quest (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: We shouldn't speak unless you have finished planting all those devices.
		string_id message = new string_id (c_stringFile, "s_55");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition_accepted_nsh_quest (player, npc))
	{
		doAnimationAction (npc, "rub_belly");

		//-- NPC: (groaning) Who are you?  What are you doing in here?
		string_id message = new string_id (c_stringFile, "s_57");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you Mark Hieks?
		boolean hasResponse0 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Nothing.  Wrong room.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_59");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_88");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId", 20);

			npcStartConversation (player, npc, "talus_dearic_coa_mark_hieks", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_mark_hieks_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		//-- NPC: I don't know you.  Please leave me be.
		string_id message = new string_id (c_stringFile, "s_92");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "talus_dearic_coa_mark_hieks")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

	if (branchId == 1 && talus_dearic_coa_mark_hieks_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && talus_dearic_coa_mark_hieks_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && talus_dearic_coa_mark_hieks_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && talus_dearic_coa_mark_hieks_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && talus_dearic_coa_mark_hieks_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && talus_dearic_coa_mark_hieks_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && talus_dearic_coa_mark_hieks_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && talus_dearic_coa_mark_hieks_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && talus_dearic_coa_mark_hieks_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && talus_dearic_coa_mark_hieks_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && talus_dearic_coa_mark_hieks_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && talus_dearic_coa_mark_hieks_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && talus_dearic_coa_mark_hieks_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && talus_dearic_coa_mark_hieks_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.talus_dearic_coa_mark_hieks.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

