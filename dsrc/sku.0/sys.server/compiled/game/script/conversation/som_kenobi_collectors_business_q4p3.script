// ======================================================================
//
// som_kenobi_collectors_business_q4p3.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/som_kenobi_collectors_business_q4p3";

// ======================================================================
// Script Conditions
// ======================================================================

boolean som_kenobi_collectors_business_q4p3_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean som_kenobi_collectors_business_q4p3_condition_levelTooLow (obj_id player, obj_id npc)
{
	int playerLevel = getLevel(player);
	if (playerLevel > 60)
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean som_kenobi_collectors_business_q4p3_condition_onQuest (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "som_kenobi_collectors_business_1"));
}

// ----------------------------------------------------------------------

boolean som_kenobi_collectors_business_q4p3_condition_wonQuest (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "som_kenobi_collectors_business_1", "foundHolocube");
}

// ----------------------------------------------------------------------

boolean som_kenobi_collectors_business_q4p3_condition_finished (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedTask(player, "som_kenobi_collectors_business_1", "foundHolocube"));
}

// ======================================================================
// Script Actions
// ======================================================================

void som_kenobi_collectors_business_q4p3_action_grantReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "talkedDroid");
}

// ----------------------------------------------------------------------

void som_kenobi_collectors_business_q4p3_action_quitQuest (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "som_kenobi_collectors_business_1");
}

// ----------------------------------------------------------------------

void som_kenobi_collectors_business_q4p3_action_giveQuest1 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "som_kenobi_collectors_business_1");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int som_kenobi_collectors_business_q4p3_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are back, %TU! It is marvelous to see you again. I'm getting the feeling that you have good news for me as well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hope so, Q4P3. I found this little thing.
	if (response == "s_39")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes! This looks...wait, no, this is not it. It's interesting though...seems to be an information storage device. Something odd about it. I think it has a secondary function, but I'm not sure what it is.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of information is stored on it?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Blah, blah, blah. Here, is this thing it?
	if (response == "s_40")
	{
		doAnimationAction (player, "mock");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let me see. No, sadly it's not. This seems to be an information storage device. Something odd about it... I think it has a secondary function, but I'm not sure what it is.
			string_id message = new string_id (c_stringFile, "s_166");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, isn't that great. What does it say?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes! This looks...wait, no, this is not it. It's interesting though...seems to be an information storage device. Something odd about it. I think it has a secondary function, but I'm not sure what it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of information is stored on it?
	if (response == "s_160")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's very old and I can only discern a fragment of it. The rest seems to be corrupted. It says, '...was going according to plans until yesterday. The weakling Jedi has some sort of secret weapon and I can feel the effects of it already now. I can sense that our master knows what it is, but he has revealed nothing, only forced us to press on even harder...'
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How odd. I wonder how old it is. Anyway, I'm sorry it's not the 'Codex'.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's very old and I can only discern a fragment of it. The rest seems to be corrupted. It says, '...was going according to plans until yesterday. The weakling Jedi has some sort of secret weapon and I can feel the effects of it already now. I can sense that our master knows what it is, but he has revealed nothing, only forced us to press on even harder...'

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How odd. I wonder how old it is. Anyway, I'm sorry it's not the 'Codex'.
	if (response == "s_162")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: As am I, %TU. Nevertheless, you have performed your part flawlessly. I am obligated and honored to reward you for your services. You can keep this device and I will deposit 10,000 credits to your bank account immediately.
			string_id message = new string_id (c_stringFile, "s_163");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Most kind Q4P3, thank your master for me.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 5);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As am I, %TU. Nevertheless, you have performed your part flawlessly. I am obligated and honored to reward you for your services. You can keep this device and I will deposit 10,000 credits to your bank account immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Most kind Q4P3, thank your master for me.
	if (response == "s_164")
	{
		doAnimationAction (player, "bow");

		som_kenobi_collectors_business_q4p3_action_grantReward (player, npc);

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I will indeed, %TU. You take well care of yourself now.
			string_id message = new string_id (c_stringFile, "s_165");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let me see. No, sadly it's not. This seems to be an information storage device. Something odd about it... I think it has a secondary function, but I'm not sure what it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, isn't that great. What does it say?
	if (response == "s_167")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's very old and I can only discern a fragment of it. The rest seems to be corrupted. It says, '...was going according to plans until yesterday. The weakling Jedi has some sort of secret weapon and I can feel the effects of it already now. I can sense that our master knows what it is, but he has revealed nothing, only forced us to press on even harder...'
			string_id message = new string_id (c_stringFile, "s_168");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting...well since it isn't the 'Codex', I can keep it right?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's very old and I can only discern a fragment of it. The rest seems to be corrupted. It says, '...was going according to plans until yesterday. The weakling Jedi has some sort of secret weapon and I can feel the effects of it already now. I can sense that our master knows what it is, but he has revealed nothing, only forced us to press on even harder...'

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting...well since it isn't the 'Codex', I can keep it right?
	if (response == "s_169")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, of course. Since you did your part, I'm also obligated to pay you for your services, so 10,000 credits will be deposited to your account immediately.
			string_id message = new string_id (c_stringFile, "s_170");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That money better be there when I get to the bank droid.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_171");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course. Since you did your part, I'm also obligated to pay you for your services, so 10,000 credits will be deposited to your account immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That money better be there when I get to the bank droid.
	if (response == "s_171")
	{
		doAnimationAction (player, "point_accusingly");

		som_kenobi_collectors_business_q4p3_action_grantReward (player, npc);

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "dismiss");

			//-- NPC: Absolutely, %TU. You have a pleasant day now, and don't spend all that money in the cantina.
			string_id message = new string_id (c_stringFile, "s_172");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's %TU! Great to see you. How may I be of service?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Save the pleasantries, wire brain. I'm working on your mission.
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great! I hope you don't get lost out there or eaten by any huge monsters, robbed by bandits, step into molten lava, or die from thirst. I'm sure nothing like that would happen to someone of your caliber, though, %TU.
			string_id message = new string_id (c_stringFile, "s_132");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You may not! I don't have time for your crazy mission!
	if (response == "s_131")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			som_kenobi_collectors_business_q4p3_action_quitQuest (player, npc);

			//-- NPC: Oh no! How will I ever get by without your friendly wit and charming personality, %TU? I guess I will have to make due. You take care now.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just wanted to let you know that I'm still working on your mission.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			//-- NPC: Excellent, %TU. Be very careful out there.
			string_id message = new string_id (c_stringFile, "s_157");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, Q4P3, but something has come up. I can't do this right now.
	if (response == "s_156")
	{
		som_kenobi_collectors_business_q4p3_action_quitQuest (player, npc);

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			//-- NPC: That is sad news indeed, %TU. I was sure that you would solve this for me. I understand, though. I'm sure you have important things to do and I wish you the best of luck.
			string_id message = new string_id (c_stringFile, "s_158");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excuse me, friend. I'm terribly sorry for interrupting you, but I am in need of assistance. Are you skilled in the...'arts' of combat.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I'm sorry. That's not what I do.
	if (response == "s_107")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: My mistake then, friend. Let me take up no more of your valuable time.
			string_id message = new string_id (c_stringFile, "s_55");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have time for your nonsense, droid. Leave me be.
	if (response == "s_108")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: A thousand apologies, friend!
			string_id message = new string_id (c_stringFile, "s_56");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can hold my own if I'm forced to. Why?
	if (response == "s_53")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you for taking the time to listen to me, friend. My master has sent me on a mission to find an item of great importance to him. But where are my manners? I am Q4P3. May I bother you for your name? %TU? What an extraordinary name. Now where was I?
			string_id message = new string_id (c_stringFile, "s_57");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Your master has sent you to...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 19);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, why? Do you need a beating?
	if (response == "s_81")
	{
		doAnimationAction (player, "belly_laugh");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodness no! I would like your assistance, though. My master has sent me on a mission to find an item of great importance to him. But where are my manners? I am Q4P3. May I bother you for your name? %TU? Thank you. Now where was I?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Your master had sent you to this forsaken place for...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 29);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you for taking the time to listen to me, friend. My master has sent me on a mission to find an item of great importance to him. But where are my manners? I am Q4P3. May I bother you for your name? %TU? What an extraordinary name. Now where was I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your master has sent you to...
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, of course, to find this item. That is right. It's a little pyramid-shaped trinket that is called the 'Codex'. I wouldn't know what it is for, but it must be terribly important to my master. Now why do I need your help? Well, I may have found the 'Codex' on this here fine planet, but it's much too dangerous out in the wilderness for me.
			string_id message = new string_id (c_stringFile, "s_59");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Well, if you haven't been there, how do you know...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course, to find this item. That is right. It's a little pyramid-shaped trinket that is called the 'Codex'. I wouldn't know what it is for, but it must be terribly important to my master. Now why do I need your help? Well, I may have found the 'Codex' on this here fine planet, but it's much too dangerous out in the wilderness for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Well, if you haven't been there, how do you know...
	if (response == "s_61")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Where the 'Codex' is? That it's actually the 'Codex'? It will be my pleasure to explain that, %TU. You see, the droids on this planet are not afraid to venture out into the wilds; in fact, it is their duty to work out there. I've been communicating with a few of them, which wasn't easy...let me tell you. Terribly basic communication skills.
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, they don't really need to communicate that much...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 21);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Where the 'Codex' is? That it's actually the 'Codex'? It will be my pleasure to explain that, %TU. You see, the droids on this planet are not afraid to venture out into the wilds; in fact, it is their duty to work out there. I've been communicating with a few of them, which wasn't easy...let me tell you. Terribly basic communication skills.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, they don't really need to communicate that much...
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are absolutely right, %TU. Very true indeed. Anyway, from the droids, I found out that one of their units reported coming across what fits with the description of the 'Codex' that my master gave me. Seeing how these very basic droids have no interest in such things, the unit just moved on to continue with his work.
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So you got the location from communicating with these droids?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_65");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 22);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are absolutely right, %TU. Very true indeed. Anyway, from the droids, I found out that one of their units reported coming across what fits with the description of the 'Codex' that my master gave me. Seeing how these very basic droids have no interest in such things, the unit just moved on to continue with his work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So you got the location from communicating with these droids?
	if (response == "s_65")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes! Actually, no. Since this happened a while ago, they had already wiped the coordinates from their mainframe. Luckily for us though, the droid in question, shortly after he had found the item, malfunctioned. He's still out there, waiting to be collected by his owners. He should still have the location in his memory bank, and I know where he is!
			string_id message = new string_id (c_stringFile, "s_66");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So you want me to go out there, find the droid...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes! Actually, no. Since this happened a while ago, they had already wiped the coordinates from their mainframe. Luckily for us though, the droid in question, shortly after he had found the item, malfunctioned. He's still out there, waiting to be collected by his owners. He should still have the location in his memory bank, and I know where he is!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So you want me to go out there, find the droid...
	if (response == "s_67")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: ...get the location of the item from his memory bank, using a scanner that I will lend you, then go and find the item and bring it back to me. Exactly, %TU! I couldn't have said it better myself. Upon conclusion of your services, my master has instructed me to pay a handsome reward.
			string_id message = new string_id (c_stringFile, "s_68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is your master anyway?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 24);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: ...get the location of the item from his memory bank, using a scanner that I will lend you, then go and find the item and bring it back to me. Exactly, %TU! I couldn't have said it better myself. Upon conclusion of your services, my master has instructed me to pay a handsome reward.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is your master anyway?
	if (response == "s_69")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: My master is the honorable Pann! Respected throughout the galaxy for his wisdom and chivalry!
			string_id message = new string_id (c_stringFile, "s_70");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, I believe I can assist you with this, Q4P3.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will have to pass for now, Q4P3. I have a lot to do.
			boolean hasResponse1 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My master is the honorable Pann! Respected throughout the galaxy for his wisdom and chivalry!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well, I believe I can assist you with this, Q4P3.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: This is fantastic news, %TU! Do you want a hug? No? Of course not. How stupid of me. Take this scanner and use that on the droid to find the 'Codex'. Also, you will need this communicator, so that we can stay in touch, and these coordinates to the last known location of the malfunctioned droid.
			string_id message = new string_id (c_stringFile, "s_74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Good, looks like I'm set.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 26);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will have to pass for now, Q4P3. I have a lot to do.
	if (response == "s_77")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is terribly bad news, %TU, but I completely understand and hold no grudge. I apologize for taking up so much of your time and wish you the best of luck.
			string_id message = new string_id (c_stringFile, "s_79");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is fantastic news, %TU! Do you want a hug? No? Of course not. How stupid of me. Take this scanner and use that on the droid to find the 'Codex'. Also, you will need this communicator, so that we can stay in touch, and these coordinates to the last known location of the malfunctioned droid.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good, looks like I'm set.
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			som_kenobi_collectors_business_q4p3_action_giveQuest1 (player, npc);

			//-- NPC: I agree, %TU! I wish you the best of luck and I can't wait to hear from you.
			string_id message = new string_id (c_stringFile, "s_76");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Goodness no! I would like your assistance, though. My master has sent me on a mission to find an item of great importance to him. But where are my manners? I am Q4P3. May I bother you for your name? %TU? Thank you. Now where was I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your master had sent you to this forsaken place for...
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, of course. To find this item, that is right. It's a little pyramid-shaped trinket that is called the 'Codex'. I wouldn't know what it is for, but it must be terribly important to my master. Now why do I need your help? Well, I may have found the 'Codex' on this here fine planet, but it's much too dangerous out in the wilderness for me.
			string_id message = new string_id (c_stringFile, "s_87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting...but if you haven't been there, how do you know...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course. To find this item, that is right. It's a little pyramid-shaped trinket that is called the 'Codex'. I wouldn't know what it is for, but it must be terribly important to my master. Now why do I need your help? Well, I may have found the 'Codex' on this here fine planet, but it's much too dangerous out in the wilderness for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting...but if you haven't been there, how do you know...
	if (response == "s_89")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Where the 'Codex' is? That it's actually the 'Codex'? Well, %TU. You see, the droids on this planet are not afraid to venture out into the wilds; in fact, it is their duty to work out there. I've been communicating with a few of them, which wasn't easy...let me tell you. Terribly basic communication skills.
			string_id message = new string_id (c_stringFile, "s_91");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Get to the point before I do something to your communication system.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_94");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 31);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Where the 'Codex' is? That it's actually the 'Codex'? Well, %TU. You see, the droids on this planet are not afraid to venture out into the wilds; in fact, it is their duty to work out there. I've been communicating with a few of them, which wasn't easy...let me tell you. Terribly basic communication skills.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Get to the point before I do something to your communication system.
	if (response == "s_94")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course, %TU. Of course! From the droids, I found out that one of their units reported coming across what fits with the description of the 'Codex' that my master gave me. Seeing how these very basic droids have no interest in such things, the unit just moved on to continue with his work.
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So give me the location and I'll go get it.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 32);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, %TU. Of course! From the droids, I found out that one of their units reported coming across what fits with the description of the 'Codex' that my master gave me. Seeing how these very basic droids have no interest in such things, the unit just moved on to continue with his work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So give me the location and I'll go get it.
	if (response == "s_98")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, of course. No. Wait. I can't! Since this happened a while ago, they had already wiped the coordinates from their mainframe. Luckily for us, the droid in question, shortly after he had found the item, malfunctioned. He's still out there, waiting to be collected by his owners. He should still have the location in his memory bank, and I know where he's at!
			string_id message = new string_id (c_stringFile, "s_100");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So let me guess... You want me to find this tin can...
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course. No. Wait. I can't! Since this happened a while ago, they had already wiped the coordinates from their mainframe. Luckily for us, the droid in question, shortly after he had found the item, malfunctioned. He's still out there, waiting to be collected by his owners. He should still have the location in his memory bank, and I know where he's at!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So let me guess... You want me to find this tin can...
	if (response == "s_102")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: ...get the location of the item from his memory bank, using a scanner that I will lend you, then go and find the item and bring it back to me. Exactly, %TU! I couldn't have said it better myself. Upon conclusion of your services, my master has instructed me to pay a handsome reward.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Reward, eh? Who is your master anyway?
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 34);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: ...get the location of the item from his memory bank, using a scanner that I will lend you, then go and find the item and bring it back to me. Exactly, %TU! I couldn't have said it better myself. Upon conclusion of your services, my master has instructed me to pay a handsome reward.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Reward, eh? Who is your master anyway?
	if (response == "s_109")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: My master is the honorable Pann! Respected throughout the galaxy for his wisdom and chivalry!
			string_id message = new string_id (c_stringFile, "s_111");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a wimp to me. Very well, I'll help you out.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds like a bunch of crap to me. I'm out of here, crazy droid.
			boolean hasResponse1 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_152");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My master is the honorable Pann! Respected throughout the galaxy for his wisdom and chivalry!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a wimp to me. Very well, I'll help you out.
	if (response == "s_113")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: This is fantastic news, %TU! Take this scanner and use that on the droid to find the 'Codex'. Also, you will need this communicator, so that we can stay in touch, and these coordinates to the last known location of the malfunctioned droid.
			string_id message = new string_id (c_stringFile, "s_115");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Alright, bucket boy, I'm out of here.
			boolean hasResponse0 = false;
			if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 36);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a bunch of crap to me. I'm out of here, crazy droid.
	if (response == "s_152")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course, of course. A bunch of nonsense is all. A thousand apologies for keeping you from squandering all your credits in the Cantina...I mean from your important business! Farewell!
			string_id message = new string_id (c_stringFile, "s_154");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int som_kenobi_collectors_business_q4p3_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is fantastic news, %TU! Take this scanner and use that on the droid to find the 'Codex'. Also, you will need this communicator, so that we can stay in touch, and these coordinates to the last known location of the malfunctioned droid.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, bucket boy, I'm out of here.
	if (response == "s_117")
	{
		//-- [NOTE] 
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			som_kenobi_collectors_business_q4p3_action_giveQuest1 (player, npc);

			//-- NPC: Marvelous, %TU! I hope something terrible happens to you...I mean, nothing terrible happens to you! I'm looking forward to hearing from you again soon.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.som_kenobi_collectors_business_q4p3");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.som_kenobi_collectors_business_q4p3");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (som_kenobi_collectors_business_q4p3_condition_finished (player, npc))
	{
		doAnimationAction (player, "nod");

		//-- NPC: Yes, I'm still here, %TU. Soon I will be on my way to the next planet to see if I can find the 'Codex' for my master there. Be well, friend.
		string_id message = new string_id (c_stringFile, "s_93");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (som_kenobi_collectors_business_q4p3_condition_wonQuest (player, npc))
	{
		doAnimationAction (player, "nod");

		//-- NPC: You are back, %TU! It is marvelous to see you again. I'm getting the feeling that you have good news for me as well.
		string_id message = new string_id (c_stringFile, "s_5");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I hope so, Q4P3. I found this little thing.
		boolean hasResponse0 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Blah, blah, blah. Here, is this thing it?
		boolean hasResponse1 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_39");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_40");

			utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 2);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "som_kenobi_collectors_business_q4p3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (som_kenobi_collectors_business_q4p3_condition_onQuest (player, npc))
	{
		doAnimationAction (player, "nod");

		//-- NPC: It's %TU! Great to see you. How may I be of service?
		string_id message = new string_id (c_stringFile, "s_129");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Save the pleasantries, wire brain. I'm working on your mission.
		boolean hasResponse0 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You may not! I don't have time for your crazy mission!
		boolean hasResponse1 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I just wanted to let you know that I'm still working on your mission.
		boolean hasResponse2 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm sorry, Q4P3, but something has come up. I can't do this right now.
		boolean hasResponse3 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_130");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_131");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_155");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_156");

			utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 11);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "som_kenobi_collectors_business_q4p3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (som_kenobi_collectors_business_q4p3_condition_levelTooLow (player, npc))
	{
		doAnimationAction (player, "nod");

		//-- NPC: Excuse me, friend. I'm terribly sorry for interrupting you, but I am in need of assistance. Are you skilled in the...'arts' of combat.
		string_id message = new string_id (c_stringFile, "s_106");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, I'm sorry. That's not what I do.
		boolean hasResponse0 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't have time for your nonsense, droid. Leave me be.
		boolean hasResponse1 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I can hold my own if I'm forced to. Why?
		boolean hasResponse2 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Yes, why? Do you need a beating?
		boolean hasResponse3 = false;
		if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_107");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_108");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_53");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81");

			utils.setScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId", 16);

			npcStartConversation (player, npc, "som_kenobi_collectors_business_q4p3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (som_kenobi_collectors_business_q4p3_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Greetings! If you come looking for work, I do have something I need help with. Unfortunately you seem to lack the experience to assist me. Please come back when you have gained some though, as I really could use the help.
		string_id message = new string_id (c_stringFile, "s_122");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "som_kenobi_collectors_business_q4p3")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

	if (branchId == 2 && som_kenobi_collectors_business_q4p3_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && som_kenobi_collectors_business_q4p3_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && som_kenobi_collectors_business_q4p3_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && som_kenobi_collectors_business_q4p3_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && som_kenobi_collectors_business_q4p3_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && som_kenobi_collectors_business_q4p3_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && som_kenobi_collectors_business_q4p3_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && som_kenobi_collectors_business_q4p3_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && som_kenobi_collectors_business_q4p3_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && som_kenobi_collectors_business_q4p3_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && som_kenobi_collectors_business_q4p3_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && som_kenobi_collectors_business_q4p3_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && som_kenobi_collectors_business_q4p3_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && som_kenobi_collectors_business_q4p3_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && som_kenobi_collectors_business_q4p3_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && som_kenobi_collectors_business_q4p3_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && som_kenobi_collectors_business_q4p3_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && som_kenobi_collectors_business_q4p3_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && som_kenobi_collectors_business_q4p3_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && som_kenobi_collectors_business_q4p3_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && som_kenobi_collectors_business_q4p3_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && som_kenobi_collectors_business_q4p3_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && som_kenobi_collectors_business_q4p3_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && som_kenobi_collectors_business_q4p3_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && som_kenobi_collectors_business_q4p3_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.som_kenobi_collectors_business_q4p3.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

