// ======================================================================
//
// imperial_empire_day_mara_jade.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.badge;
include library.buff;
include library.chat;
include library.collection;
include library.conversation;
include library.create;
include library.factions;
include library.groundquests;
include library.holiday;
include library.static_item;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/imperial_empire_day_mara_jade";

// ======================================================================
// Script Conditions
// ======================================================================

boolean imperial_empire_day_mara_jade_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isBelow60thLevelOrTraderEntertainer (obj_id player, obj_id npc)
{
	return (imperial_empire_day_mara_jade_condition_isBelow60thLevel(player, npc) || imperial_empire_day_mara_jade_condition_isEntertainer(player, npc) || imperial_empire_day_mara_jade_condition_isTrader(player, npc));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isEntertainer (obj_id player, obj_id npc)
{	
	faceTo(npc, player);
	return utils.isProfession(player, utils.ENTERTAINER);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isTrader (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return utils.isProfession(player, utils.TRADER);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isBelow60thLevel (obj_id player, obj_id npc)
{
	return (60 > getLevel(player));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasNotCompletedMission1 (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_01) && !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_01);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasAnIncompleteCombatMission (obj_id player, obj_id npc)
{
	return (!imperial_empire_day_mara_jade_condition_completed7thQuest(player, npc) && 
	(imperial_empire_day_mara_jade_condition_hasCompleted1stMissionNot2nd(player, npc) ||
	imperial_empire_day_mara_jade_condition_hasCompleted2ndMissionNot3rd(player, npc) || 
	imperial_empire_day_mara_jade_condition_hasCompleted3rdMissionNot4th(player, npc) ||
	imperial_empire_day_mara_jade_condition_hasCompleted4thMissionNot5th(player, npc) ||
	imperial_empire_day_mara_jade_condition_hasCompleted5thMissionNot6th(player, npc) ||
	imperial_empire_day_mara_jade_condition_hasCompleted6thMissionNot7th(player, npc)));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasNotStartedSecondMission (obj_id player, obj_id npc)
{
	return (!groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02)
	&& groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_01));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isChampion (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return hasCompletedCollectionSlot(player, holiday.REMEMBRANCE_DAY_CHAMPION_BADGE);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_completed7thQuest (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_completed7thQuestNoAutograph (obj_id player, obj_id npc)
{
	return imperial_empire_day_mara_jade_condition_completed7thQuest(player, npc) && !groundquests.isQuestActiveOrComplete(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_NUMBER);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isRebelPlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (factions.isRebel(player));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_isNeutralPlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return(!factions.isImperial(player) && !factions.isRebel(player));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_completed7thQuestHasAutograph (obj_id player, obj_id npc)
{
	return imperial_empire_day_mara_jade_condition_completed7thQuest(player, npc) && groundquests.isQuestActiveOrComplete(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_NUMBER);
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted7thMission (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted1stMissionNot2nd (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_01)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02)
	&& groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted2ndMissionNot3rd (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_03));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted3rdMissionNot4th (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_03)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_04));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted4thMissionNot5th (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_04)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_05));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted5thMissionNot6th (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return (groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_05)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_06));
}

// ----------------------------------------------------------------------

boolean imperial_empire_day_mara_jade_condition_hasCompleted6thMissionNot7th (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	return groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_06)
	&& !groundquests.hasCompletedQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07);
}

// ======================================================================
// Script Actions
// ======================================================================

void imperial_empire_day_mara_jade_action_grantMissionOne (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_01); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_grantMissionTwo (obj_id player, obj_id npc)
{
	if(getCollectionSlotValue(player, holiday.IMPERIAL_RESCUE_START_SLOT) <= 0)
			modifyCollectionSlotValue(player, holiday.IMPERIAL_RESCUE_START_SLOT, 1);

	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission2Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_02); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission3Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_03))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_03);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_03); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission4Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_04))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_04);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_04); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_spawnTroopers (obj_id player, obj_id npc)
{
	//spawn some mean enemies
	for (int i = 0; i < 3; i++)
	{
		location guardLocation = groundquests.getRandom2DLocationAroundLocation(npc, 1, 1, 5, 12);
		int mobLevel = getLevel(player);
		obj_id guard = create.object("rebel_emperorsday_ceremony_sentry", guardLocation, mobLevel);
		attachScript(guard, "event.emp_day.factional_guard_self_destruct");
		startCombat(guard, player);
	}
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission5Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_05))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_05);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_05); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission6Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_06))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_06);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_06); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_revokeMission7Regrant (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07))
	{
		groundquests.clearQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07);
	}
	
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_07); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_grantAutograph (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, holiday.EMPIREDAYQUEST_IMP_COMBAT_NUMBER); 
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_giveWaypoint (obj_id player, obj_id npc)
{
	location loc = new location(-6553, 398, 5990, "corellia");
	obj_id wpt = createWaypointInDatapad(player, loc);
	setWaypointName(wpt, "Detainment Facility");
	setWaypointActive(wpt, true);
}

// ----------------------------------------------------------------------

void imperial_empire_day_mara_jade_action_sendSignalToSpeak (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "hasSpokenToRecoveryQuestNpc");

}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string imperial_empire_day_mara_jade_tokenTO_timeLeftRecruitment (obj_id player, obj_id npc)
{
	string returnString = holiday.getTimeRemainingBeforeLockoutRemoved(player, holiday.EMPIRE_DAY_RECRUITMENT_TIMESTAMP);
	if(returnString == null || returnString.equals(""))
		return "might have to contact Customer Service. I can't seem to get any time data off your character.";
	return returnString;
}

// ----------------------------------------------------------------------

string imperial_empire_day_mara_jade_tokenTO_timeLeftPropaganda (obj_id player, obj_id npc)
{
	string returnString = holiday.getTimeRemainingBeforeLockoutRemoved(player, holiday.EMPIRE_DAY_PROPAGANDA_TIMESTAMP);
	if(returnString == null || returnString.equals(""))
		return "might have to contact Customer Service. I can't seem to get any time data off your character.";
	return returnString;
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

int imperial_empire_day_mara_jade_tokenDI_notUsed (obj_id player, obj_id npc)
{
	return 0;
}

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int imperial_empire_day_mara_jade_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Uh oh.  What happened at the Detainment Facility? Are you stuck?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need a waypoint to the facility.
	if (response == "s_83")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need you to reset my mission.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which one?
			string_id message = new string_id (c_stringFile, "s_87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The first officer mission.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted1stMissionNot2nd (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The second officer mission.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted2ndMissionNot3rd (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The third officer mission.
			boolean hasResponse2 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted3rdMissionNot4th (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The fourth officer mission.
			boolean hasResponse3 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted4thMissionNot5th (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The fifth officer mission.
			boolean hasResponse4 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted5thMissionNot6th (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: The sixth officer mission.
			boolean hasResponse5 = false;
			if (imperial_empire_day_mara_jade_condition_hasCompleted6thMissionNot7th (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Which one?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The first officer mission.
	if (response == "s_89")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_99");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The second officer mission.
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_103");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The third officer mission.
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_107");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The fourth officer mission.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_115");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The fifth officer mission.
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_127");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_129");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The sixth officer mission.
	if (response == "s_140")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure you want me to reset this mission?
			string_id message = new string_id (c_stringFile, "s_145");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_149");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_100")
	{
		imperial_empire_day_mara_jade_action_revokeMission2Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Done.
			string_id message = new string_id (c_stringFile, "s_191");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_104")
	{
		imperial_empire_day_mara_jade_action_revokeMission3Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay done. Do you need a waypoint to the facility?
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_123");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay done. Do you need a waypoint to the facility?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_123")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_111")
	{
		imperial_empire_day_mara_jade_action_revokeMission4Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay done. Do you need a waypoint to the facility?
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay done. Do you need a waypoint to the facility?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_117")
	{
		imperial_empire_day_mara_jade_action_revokeMission5Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay done. Do you need a waypoint to the facility?
			string_id message = new string_id (c_stringFile, "s_119");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay done. Do you need a waypoint to the facility?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_125")
	{
		imperial_empire_day_mara_jade_action_revokeMission5Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_129")
	{
		imperial_empire_day_mara_jade_action_revokeMission6Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay done. Do you need a waypoint to the facility?
			string_id message = new string_id (c_stringFile, "s_131");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_135");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay done. Do you need a waypoint to the facility?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_135")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want me to reset this mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_149")
	{
		imperial_empire_day_mara_jade_action_revokeMission7Regrant (player, npc);

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay done. Do you need a waypoint to the facility?
			string_id message = new string_id (c_stringFile, "s_153");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_156");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay done. Do you need a waypoint to the facility?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_156")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_giveWaypoint (player, npc);

			//-- NPC: Here you go.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I received word from Imperial High Command that all 6 officers have been rescued, %TU, fantastic work!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was challenging but somehow your plan worked.
	if (response == "s_158")
	{
		doAnimationAction (player, "thumb_up");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I heard you had to defeat a Force Sensitive too. That should make for a heroic story.
			string_id message = new string_id (c_stringFile, "s_160");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh, you know...all in a day's work.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_161");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I heard you had to defeat a Force Sensitive too. That should make for a heroic story.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh, you know...all in a day's work.
	if (response == "s_161")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: What are your plans now that you are a hero?
			string_id message = new string_id (c_stringFile, "s_162");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll probably relax at my mansion, maybe wash the Deluxe BARC speeder.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are your plans now that you are a hero?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll probably relax at my mansion, maybe wash the Deluxe BARC speeder.
	if (response == "s_163")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Wow, sounds great.
			string_id message = new string_id (c_stringFile, "s_164");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You should stop by sometime. I'll show you my pet Durni.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_173");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wow, sounds great.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You should stop by sometime. I'll show you my pet Durni.
	if (response == "s_173")
	{
		doAnimationAction (player, "cough_polite");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "kiss_blow_kiss");

			imperial_empire_day_mara_jade_action_grantAutograph (player, npc);

			//-- NPC: Sure, here is my number.  Give me a call sometime.
			string_id message = new string_id (c_stringFile, "s_174");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're back.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You asked me to come back. What now?
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition_isBelow60thLevel (player, npc))
		{
			//-- NPC: I like you, %TU, but you are a little green behind the ears for the next mission.
			string_id message = new string_id (c_stringFile, "s_54");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess I'll come back when I have more experience then.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Even though I lack the experience I still want to try.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 25);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition_isTrader (player, npc))
		{
			//-- NPC: I like you, %TU, but you being a trader makes things a little...complicated. You may not be suited for the next mission.
			string_id message = new string_id (c_stringFile, "s_68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh is combat involved?  Yeah I guess I'll pass.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Even though I am a Trader I am completely capable of doing combat missions.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 29);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition_isEntertainer (player, npc))
		{
			//-- NPC: I like you, %TU, but you being an entertainer makes things a little...complicated. You may not be suited for the next mission.
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh is combat involved?  Yeah I guess I'll pass.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Even though I am an Entertainer I am completely capable of doing combat missions.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 31);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here is the deal, %TU. I need you to infiltrate that detainment facility and rescue any Imperial personnel that may be inside.
			string_id message = new string_id (c_stringFile, "s_86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you know how many?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 32);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I like you, %TU, but you are a little green behind the ears for the next mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess I'll come back when I have more experience then.
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sounds good, %TU. See you soon I hope.
			string_id message = new string_id (c_stringFile, "s_58");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Even though I lack the experience I still want to try.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure? If you fail, you can't hold me responsible.
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am sure. Please tell me about the mission.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure? If you fail, you can't hold me responsible.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am sure. Please tell me about the mission.
	if (response == "s_64")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here is the deal, %TU. I need you to infiltrate that detainment facility and rescue any Imperial personnel that may be inside.
			string_id message = new string_id (c_stringFile, "s_66");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you know how many?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 32);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here is the deal, %TU. I need you to infiltrate that detainment facility and rescue any Imperial personnel that may be inside.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know how many?
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Based on the intelligence you collected there appear to be six Imperial Officers being held at that location.
			string_id message = new string_id (c_stringFile, "s_92");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to give it my best.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I like you, %TU, but you being a trader makes things a little...complicated. You may not be suited for the next mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh is combat involved?  Yeah I guess I'll pass.
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sounds good, %TU. See you around.
			string_id message = new string_id (c_stringFile, "s_72");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Even though I am a Trader I am completely capable of doing combat missions.
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure? If you fail, you can't hold me responsible.
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am sure. Please tell me about the mission.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I like you, %TU, but you being an entertainer makes things a little...complicated. You may not be suited for the next mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh is combat involved?  Yeah I guess I'll pass.
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sounds good, %TU. See you around.
			string_id message = new string_id (c_stringFile, "s_72");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Even though I am an Entertainer I am completely capable of doing combat missions.
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you sure? If you fail, you can't hold me responsible.
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am sure. Please tell me about the mission.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here is the deal, %TU. I need you to infiltrate that detainment facility and rescue any Imperial personnel that may be inside.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know how many?
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Based on the intelligence you collected there appear to be six Imperial Officers being held at that location.
			string_id message = new string_id (c_stringFile, "s_92");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to give it my best.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Based on the intelligence you collected there appear to be six Imperial Officers being held at that location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to give it my best.
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right, here is the plan. You'll need to fight your way in and in the confusion find an enemy uniform. Once you have the enemy uniform, give it to the officer to make an escape.
			string_id message = new string_id (c_stringFile, "s_97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That is your plan?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right, here is the plan. You'll need to fight your way in and in the confusion find an enemy uniform. Once you have the enemy uniform, give it to the officer to make an escape.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is your plan?
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do you have a better one?
			string_id message = new string_id (c_stringFile, "s_108");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. Send Ewoks in to cause a distraction.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Can we send in Vader to crush everyone's larynx first?
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: No I suppose not.
			boolean hasResponse2 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_110");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_138");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you have a better one?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. Send Ewoks in to cause a distraction.
	if (response == "s_110")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "wave_finger_warning");

			//-- NPC: Great idea! And perhaps you could lead the assault in hot pants and Ewok wings. Are you done making jokes?
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah okay.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can we send in Vader to crush everyone's larynx first?
	if (response == "s_126")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "backhand_threaten");

			//-- NPC: Uh, no. Are you ready for the mission or not?
			string_id message = new string_id (c_stringFile, "s_130");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah okay.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No I suppose not.
	if (response == "s_138")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, here is the mission. Don't mess this up, %TU, I am counting on you.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Kiss for good luck?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me Mara. I'm the best.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 38);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great idea! And perhaps you could lead the assault in hot pants and Ewok wings. Are you done making jokes?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah okay.
	if (response == "s_120")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, here is the mission. Don't mess this up, %TU, I am counting on you.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Kiss for good luck?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me Mara. I'm the best.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 38);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Uh, no. Are you ready for the mission or not?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah okay.
	if (response == "s_136")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, here is the mission. Don't mess this up, %TU, I am counting on you.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Kiss for good luck?
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me Mara. I'm the best.
			boolean hasResponse1 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 38);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, here is the mission. Don't mess this up, %TU, I am counting on you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Kiss for good luck?
	if (response == "s_175")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "kiss");

			//-- NPC: ...
			string_id message = new string_id (c_stringFile, "s_176");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: ...
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_179");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me Mara. I'm the best.
	if (response == "s_177")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			imperial_empire_day_mara_jade_action_grantMissionTwo (player, npc);

			//-- NPC: Right.
			string_id message = new string_id (c_stringFile, "s_178");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: ...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: ...
	if (response == "s_179")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			imperial_empire_day_mara_jade_action_grantMissionTwo (player, npc);

			//-- NPC: Now go!
			string_id message = new string_id (c_stringFile, "s_180");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm here to assist.
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I'm just here overseeing 'things.' What's your name? Oh right. I'm just overseeing things, %TU.
			string_id message = new string_id (c_stringFile, "s_166");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh.
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_168");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 44);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm just here overseeing 'things.' What's your name? Oh right. I'm just overseeing things, %TU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh.
	if (response == "s_168")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Hold that thought. I'm receiving a priority message from Imperial High Command.  
			string_id message = new string_id (c_stringFile, "s_170");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: ...
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_172");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hold that thought. I'm receiving a priority message from Imperial High Command.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: ...
	if (response == "s_172")
	{
		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. %TU, are you still available?  I need someone to, uh, look into something.
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes ma'am!
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 46);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. %TU, are you still available?  I need someone to, uh, look into something.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes ma'am!
	if (response == "s_184")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			//-- NPC: A Rebel ship has just crash landed on Corellia. I need you to investigate the location and recover any intelligence. Does this seem like something you can handle?
			string_id message = new string_id (c_stringFile, "s_186");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes ma'am!
			boolean hasResponse0 = false;
			if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_empire_day_mara_jade_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A Rebel ship has just crash landed on Corellia. I need you to investigate the location and recover any intelligence. Does this seem like something you can handle?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes ma'am!
	if (response == "s_188")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			imperial_empire_day_mara_jade_action_grantMissionOne (player, npc);

			//-- NPC: Here are the coordinates.
			string_id message = new string_id (c_stringFile, "s_192");
			utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.imperial_empire_day_mara_jade");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.imperial_empire_day_mara_jade");

	return SCRIPT_CONTINUE;
}

trigger OnDetach ()
{
	clearCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_isRebelPlayer (player, npc))
	{
		doAnimationAction (npc, "weeping");

		//-- NPC: Oh look! A Rebel who has no where to go. Whats-a-matter, do you wish you were Imperial?  Boo hoo!
		string_id message = new string_id (c_stringFile, "s_133");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_isNeutralPlayer (player, npc))
	{
		//-- NPC: Hello citizen.
		string_id message = new string_id (c_stringFile, "s_134");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_hasAnIncompleteCombatMission (player, npc))
	{
		imperial_empire_day_mara_jade_action_sendSignalToSpeak (player, npc);

		//-- NPC: Uh oh.  What happened at the Detainment Facility? Are you stuck?
		string_id message = new string_id (c_stringFile, "s_79");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I need a waypoint to the facility.
		boolean hasResponse0 = false;
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need you to reset my mission.
		boolean hasResponse1 = false;
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_83");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_84");

			utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 3);

			npcStartConversation (player, npc, "imperial_empire_day_mara_jade", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_completed7thQuestHasAutograph (player, npc))
	{
		//-- NPC: Hello again, %TU. I heard you got an award from  Imperial High Command. Congratulations friend.
		string_id message = new string_id (c_stringFile, "s_165");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_completed7thQuestNoAutograph (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: I received word from Imperial High Command that all 6 officers have been rescued, %TU, fantastic work!
		string_id message = new string_id (c_stringFile, "s_157");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was challenging but somehow your plan worked.
		boolean hasResponse0 = false;
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_158");

			utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 19);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "imperial_empire_day_mara_jade", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_hasNotStartedSecondMission (player, npc))
	{
		//-- NPC: You're back.
		string_id message = new string_id (c_stringFile, "s_50");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You asked me to come back. What now?
		boolean hasResponse0 = false;
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_52");

			utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 24);

			npcStartConversation (player, npc, "imperial_empire_day_mara_jade", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition_hasNotCompletedMission1 (player, npc))
	{
		//-- NPC: Why are you still here?
		string_id message = new string_id (c_stringFile, "s_189");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
	{
		//-- NPC: Yes?
		string_id message = new string_id (c_stringFile, "s_152");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm here to assist.
		boolean hasResponse0 = false;
		if (imperial_empire_day_mara_jade_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_155");

			utils.setScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId", 43);

			npcStartConversation (player, npc, "imperial_empire_day_mara_jade", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "imperial_empire_day_mara_jade")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

	if (branchId == 3 && imperial_empire_day_mara_jade_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && imperial_empire_day_mara_jade_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && imperial_empire_day_mara_jade_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && imperial_empire_day_mara_jade_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && imperial_empire_day_mara_jade_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && imperial_empire_day_mara_jade_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && imperial_empire_day_mara_jade_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && imperial_empire_day_mara_jade_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && imperial_empire_day_mara_jade_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && imperial_empire_day_mara_jade_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && imperial_empire_day_mara_jade_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && imperial_empire_day_mara_jade_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && imperial_empire_day_mara_jade_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && imperial_empire_day_mara_jade_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && imperial_empire_day_mara_jade_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && imperial_empire_day_mara_jade_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && imperial_empire_day_mara_jade_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && imperial_empire_day_mara_jade_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && imperial_empire_day_mara_jade_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && imperial_empire_day_mara_jade_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && imperial_empire_day_mara_jade_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && imperial_empire_day_mara_jade_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && imperial_empire_day_mara_jade_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && imperial_empire_day_mara_jade_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && imperial_empire_day_mara_jade_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && imperial_empire_day_mara_jade_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && imperial_empire_day_mara_jade_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && imperial_empire_day_mara_jade_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && imperial_empire_day_mara_jade_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && imperial_empire_day_mara_jade_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && imperial_empire_day_mara_jade_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && imperial_empire_day_mara_jade_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && imperial_empire_day_mara_jade_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && imperial_empire_day_mara_jade_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && imperial_empire_day_mara_jade_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && imperial_empire_day_mara_jade_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.imperial_empire_day_mara_jade.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

