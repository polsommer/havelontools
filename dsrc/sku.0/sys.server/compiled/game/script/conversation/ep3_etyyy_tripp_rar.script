// ======================================================================
//
// ep3_etyyy_tripp_rar.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.30 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_etyyy_tripp_rar";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_etyyy_tripp_rar_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_completedTrippHunts (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "ep3_hunt_tripp_collect_mouf_incisors");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_finishedCollectingMoufPelts (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_tripp_collect_mouf_pelts", "tripp_moufPelts") ||
				groundquests.hasCompletedQuest(player, "ep3_hunt_tripp_collect_mouf_pelts");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_speakWithTripp (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_tripp_collect_mouf_pelts", "tripp_talkToTripp");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_isCollectingMoufIncisors (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_tripp_collect_mouf_incisors", "tripp_collectingMoufIncisors");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_isCollectingMoufPelts (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_tripp_collect_mouf_pelts", "tripp_collectingMoufPelts");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_finishedCollectingMoufIncisors (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "ep3_hunt_tripp_collect_mouf_incisors", "tripp_moufIncisors");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_killedBrightclaw (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "ep3_hunt_loot_brightclaw_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_killedPaleclaw (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "ep3_hunt_loot_paleclaw_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (obj_id player, obj_id npc)
{
	// Previously defeated all other named Etyyy creatures except brightclaw.
	return groundquests.hasCompletedQuest(player, "ep3_hunt_loot_paleclaw_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_silkthrower_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_stoneleg_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_spiketop_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_greyclimber_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (obj_id player, obj_id npc)
{
	// Previously defeated all other named Etyyy creatures except paleclaw.
	return groundquests.hasCompletedQuest(player, "ep3_hunt_loot_brightclaw_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_silkthrower_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_stoneleg_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_spiketop_killed") &&
			groundquests.hasCompletedQuest(player, "ep3_hunt_loot_greyclimber_killed");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_spaceMissionOffer (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "ep3_hunt_tripp_collect_mouf_incisors") && 
		space_quest.hasWonQuest(player, "assassinate", "ep3_hunting_banol_destroy_tripps_goods");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_spaceMissionWon (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest(player, "escort", "ep3_hunting_tripp_protect_shipment");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_alreadyHasSpaceMission (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player);
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_isProtectingSpaceShipment (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player, "escort", "ep3_hunting_tripp_protect_shipment");
}

// ----------------------------------------------------------------------

boolean ep3_etyyy_tripp_rar_condition_spaceMissionFailed (obj_id player, obj_id npc)
{
	return space_quest.hasFailedQuest(player, "escort", "ep3_hunting_tripp_protect_shipment") ||
		space_quest.hasAbortedQuest(player, "escort", "ep3_hunting_tripp_protect_shipment");
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_etyyy_tripp_rar_action_collectMoufIncisors (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_hunt_tripp_collect_mouf_incisors");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_doneCollectingMoufPelts (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tripp_moufPelts");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_speakWithSordaan (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tripp_moufIncisors");
	
	groundquests.grantQuest(player, "ep3_hunt_sordaan_seek_sordaan");
	groundquests.sendSignal(player, "sordaan_trippSendsYou");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_collectMoufPelts (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tripp_talkToTripp");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_paleclawReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "lootQuest_defeatedPaleclaw");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_brightclawReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "lootQuest_defeatedBrightclaw");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "lootQuest_defeatedBrightclaw");
	groundquests.grantQuest(player, "ep3_hunt_loot_completed_all");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "lootQuest_defeatedPaleclaw");
	groundquests.grantQuest(player, "ep3_hunt_loot_completed_all");
}

// ----------------------------------------------------------------------

void ep3_etyyy_tripp_rar_action_grantSpaceMission (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "escort", "ep3_hunting_tripp_protect_shipment" );
	space_quest.grantQuest(player, "escort", "ep3_hunting_tripp_protect_shipment");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_etyyy_tripp_rar_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome, I trust all goes well for you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your shipment should be safe. I fought off the attackers.
	if (response == "s_372")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_spaceMissionWon (player, npc))
		{
			//-- NPC: My pilot told me how well you performed in helping them get my shipment of goods out of the system. I'm very grateful! Were you able to recognize any of your attackers?
			string_id message = new string_id (c_stringFile, "s_374");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Um, no. They just seemed like a random group of mercenaries.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_376");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_380")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My pilot told me how well you performed in helping them get my shipment of goods out of the system. I'm very grateful! Were you able to recognize any of your attackers?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, no. They just seemed like a random group of mercenaries.
	if (response == "s_376")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, I see. That's too bad. Well, at least you defeated them. That's the important thing.
			string_id message = new string_id (c_stringFile, "s_378");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's worse than I feared. Even with your help, my shipment of goods wasn't safe. I don't know what to do now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could try again.
	if (response == "s_230")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_750");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_grantSpaceMission (player, npc);

			//-- NPC: Ah, good. When you're ready launch into space here in the Kashyyyk system. We'll relay more information once you're there. Oh, and if you can identify whoever it is that's attacking my shipments, I'd really appreciate it.
			string_id message = new string_id (c_stringFile, "s_388");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry it didn't work out.
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: I suppose I'll think of something.
			string_id message = new string_id (c_stringFile, "s_235");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_241")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_243")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We'll relay coordinates to you for where you should meet the shipment once you're in space.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_237")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_239")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings again. Actually I'm glad you came by and spoke with me. I have a problem I thought you might be able to help me solve. The goods I and my hunters gather are shipped to other planets where I sell them, but lately many of my shipments are being attacked and often destroyed. I was hoping you might be interested in providing some extra protection for one of my shipments?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, sure, I suppose I could do that.
	if (response == "s_386")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_alreadyHasSpaceMission (player, npc))
		{
			//-- NPC: It looks like you already have a mission in space. Come back once you've completed that one.
			string_id message = new string_id (c_stringFile, "s_750");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_grantSpaceMission (player, npc);

			//-- NPC: Ah, good. When you're ready launch into space here in the Kashyyyk system. We'll relay more information once you're there. Oh, and if you can identify whoever it is that's attacking my shipments, I'd really appreciate it.
			string_id message = new string_id (c_stringFile, "s_388");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Er, no I'd better not.
	if (response == "s_390")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: I understand, but thanks anyway.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_394")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hello. How goes your hunting?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_400")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're becoming quite the hunter. These incisors are exactly as flawless as I'd hoped they would be. Well done. Go speak with Sordaan yet again. He has taken a strong interest in your success here, so I guess he wants to tempt you again with another wager.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go speak with Sordaan.
	if (response == "s_406")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_speakWithSordaan (player, npc);

			//-- NPC: Don't let him bully you. Sordaan has a vast fortune which lets him buy most things he might desire, but without his hunters, he could barely hold his own on a true hunt.
			string_id message = new string_id (c_stringFile, "s_408");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet. I'll go later.
	if (response == "s_410")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay. Farewell for now then. Return when you're ready.
			string_id message = new string_id (c_stringFile, "s_412");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_414")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_416")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please collect 18 flawless mouf incisors. You'll find vicious moufs in the northwest corner of Etyyy very close to where the vibrant moufs are.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_420")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_422")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: These are wonderful mouf pelts. Good job! Ready for your next hunting goal?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, what's next?
	if (response == "s_426")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_collectMoufIncisors (player, npc);

			//-- NPC: You probably noticed some vicious moufs in the same general area as the vibrant moufs. Many vicious ones have flawless incisors which fetch a really nice price back on my home planet. I need you to go collect 18 flawless mouf incisors from vicious moufs.
			string_id message = new string_id (c_stringFile, "s_428");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not just yet.
	if (response == "s_430")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay. Farewell for now then.
			string_id message = new string_id (c_stringFile, "s_432");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_434")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_436")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll find vibrant moufs in the northwest corner of the hunting grounds. Return to me when you have 14 pristine pelts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_440")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_442")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you're the hunter I've been hearing so much about. Ready to get back to the hunt? I'll have you hunting moufs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, definitely. Bring on the next hunt.
	if (response == "s_446")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent. I'll have you hunting moufs, as I said. You're after pristine mouf pelts. Specifically from vibrant moufs. I need 14 of them, please.
			string_id message = new string_id (c_stringFile, "s_448");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. I can't wait to get back on the hunt.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll try that later.
			boolean hasResponse1 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_450");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_454");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now. Maybe later.
	if (response == "s_458")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay. Farewell for now then.
			string_id message = new string_id (c_stringFile, "s_460");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_462")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_464")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I'll have you hunting moufs, as I said. You're after pristine mouf pelts. Specifically from vibrant moufs. I need 14 of them, please.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. I can't wait to get back on the hunt.
	if (response == "s_450")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_collectMoufPelts (player, npc);

			//-- NPC: You'll find vibrant moufs in the northwest corner of the region. They're past the Arcona compound, and they're fierce creatures, so be well prepared.
			string_id message = new string_id (c_stringFile, "s_452");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll try that later.
	if (response == "s_454")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay. Farewell for now then.
			string_id message = new string_id (c_stringFile, "s_456");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I apologize if I seem rude, but I'm busy looking into why my shipments of mouf pelts and mouf incisors are disappearing. Please excuse me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
	if (response == "s_468")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedBrightclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_470");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Sordaan.
			boolean hasResponse0 = false;
			if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_brightclawReward (player, npc);

			//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
	if (response == "s_478")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition_killedPaleclawPlusAll (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawRewardPlusAll (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Brightclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.
			string_id message = new string_id (c_stringFile, "s_480");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			ep3_etyyy_tripp_rar_action_paleclawReward (player, npc);

			//-- NPC: Very impressive. Paleclaw was a ferocious mouf. I'm certain that defeating him was not an easy hunt. Well done.
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_etyyy_tripp_rar_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very impressive. Brightclaw was not a typical mouf, and defeating him would take much skill and courage. Well done. I've heard that you've also defeated Spiketop, Stoneleg, Silkthrower, and Greyclimber. In addition, of course, to Paleclaw as you had already shown to me before this. I think Sordaan will be suitably amazed by this set of kills as to recognize your hunting prowess. Go speak with him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go speak with Sordaan.
	if (response == "s_472")
	{
		//-- [NOTE] 
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Even he would be impressed by this.
			string_id message = new string_id (c_stringFile, "s_474");
			utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.ep3_etyyy_tripp_rar");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_etyyy_tripp_rar");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_spaceMissionWon (player, npc))
	{
		//-- NPC: Welcome, I trust all goes well for you?
		string_id message = new string_id (c_stringFile, "s_370");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Your shipment should be safe. I fought off the attackers.
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_372");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_380");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_382");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 1);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_spaceMissionFailed (player, npc))
	{
		//-- NPC: It's worse than I feared. Even with your help, my shipment of goods wasn't safe. I don't know what to do now.
		string_id message = new string_id (c_stringFile, "s_156");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I could try again.
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sorry it didn't work out.
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse3 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_230");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_233");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_241");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_243");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 4);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_isProtectingSpaceShipment (player, npc))
	{
		//-- NPC: We'll relay coordinates to you for where you should meet the shipment once you're in space.
		string_id message = new string_id (c_stringFile, "s_749");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_237");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_239");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 6);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_spaceMissionOffer (player, npc))
	{
		//-- NPC: Greetings again. Actually I'm glad you came by and spoke with me. I have a problem I thought you might be able to help me solve. The goods I and my hunters gather are shipped to other planets where I sell them, but lately many of my shipments are being attacked and often destroyed. I was hoping you might be interested in providing some extra protection for one of my shipments?
		string_id message = new string_id (c_stringFile, "s_384");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Um, sure, I suppose I could do that.
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Er, no I'd better not.
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse3 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_386");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_390");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_394");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_396");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 7);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_completedTrippHunts (player, npc))
	{
		//-- NPC: Hello. How goes your hunting?
		string_id message = new string_id (c_stringFile, "s_398");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_400");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_402");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 11);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_finishedCollectingMoufIncisors (player, npc))
	{
		//-- NPC: You're becoming quite the hunter. These incisors are exactly as flawless as I'd hoped they would be. Well done. Go speak with Sordaan yet again. He has taken a strong interest in your success here, so I guess he wants to tempt you again with another wager.
		string_id message = new string_id (c_stringFile, "s_404");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'll go speak with Sordaan.
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not yet. I'll go later.
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse3 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_406");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_410");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_414");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_416");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 12);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_isCollectingMoufIncisors (player, npc))
	{
		//-- NPC: Please collect 18 flawless mouf incisors. You'll find vicious moufs in the northwest corner of Etyyy very close to where the vibrant moufs are.
		string_id message = new string_id (c_stringFile, "s_418");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_420");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_422");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 15);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_finishedCollectingMoufPelts (player, npc))
	{
		ep3_etyyy_tripp_rar_action_doneCollectingMoufPelts (player, npc);

		//-- NPC: These are wonderful mouf pelts. Good job! Ready for your next hunting goal?
		string_id message = new string_id (c_stringFile, "s_424");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, what's next?
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not just yet.
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse3 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_426");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_430");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_434");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_436");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 16);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_isCollectingMoufPelts (player, npc))
	{
		//-- NPC: You'll find vibrant moufs in the northwest corner of the hunting grounds. Return to me when you have 14 pristine pelts.
		string_id message = new string_id (c_stringFile, "s_438");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_440");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_442");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 19);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition_speakWithTripp (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: So you're the hunter I've been hearing so much about. Ready to get back to the hunt? I'll have you hunting moufs.
		string_id message = new string_id (c_stringFile, "s_444");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, definitely. Bring on the next hunt.
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not right now. Maybe later.
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse2 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse3 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_446");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_458");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_462");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_464");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 20);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_etyyy_tripp_rar_condition__defaultCondition (player, npc))
	{
		//-- NPC: I apologize if I seem rude, but I'm busy looking into why my shipments of mouf pelts and mouf incisors are disappearing. Please excuse me.
		string_id message = new string_id (c_stringFile, "s_466");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Show Brightclaw's Jaw to Tripp]
		boolean hasResponse0 = false;
		if (ep3_etyyy_tripp_rar_condition_killedBrightclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Show Paleclaw's Jaw to Tripp]
		boolean hasResponse1 = false;
		if (ep3_etyyy_tripp_rar_condition_killedPaleclaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_468");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_478");

			utils.setScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId", 25);

			npcStartConversation (player, npc, "ep3_etyyy_tripp_rar", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_etyyy_tripp_rar")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

	if (branchId == 1 && ep3_etyyy_tripp_rar_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && ep3_etyyy_tripp_rar_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_etyyy_tripp_rar_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && ep3_etyyy_tripp_rar_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && ep3_etyyy_tripp_rar_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && ep3_etyyy_tripp_rar_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && ep3_etyyy_tripp_rar_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && ep3_etyyy_tripp_rar_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_etyyy_tripp_rar_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && ep3_etyyy_tripp_rar_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && ep3_etyyy_tripp_rar_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_etyyy_tripp_rar_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && ep3_etyyy_tripp_rar_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && ep3_etyyy_tripp_rar_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_etyyy_tripp_rar.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

