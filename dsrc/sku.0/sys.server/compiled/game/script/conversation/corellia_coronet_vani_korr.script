// ======================================================================
//
// corellia_coronet_vani_korr.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/corellia_coronet_vani_korr";

// ======================================================================
// Script Conditions
// ======================================================================

boolean corellia_coronet_vani_korr_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_hasViewScreen (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_begin", "meatlumpsAct1_vaniKorr");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_gettingDatapads (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_part2", "meatlumpsAct1_collectDatapads");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_refusedDatpads (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_begin", "meatlumpsAct1_refusedDatapads");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_finishedDatapads (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_part2", "meatlumpsAct1_datapadsToVani");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_refusedPassword (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_part2", "meatlumpsAct1_refusedPassword");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_gettingPassword (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "corellia_coronet_meatlump_act1_part3");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_failedPassword (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "corellia_coronet_meatlump_act1_part3", "meatlumpsAct1_failedPassword");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_gotPassword (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "corellia_coronet_meatlump_act1_end");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_act1_completedAct1 (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "corellia_coronet_meatlump_act1_end") && getLevel(player)< 55;
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_isLevelForMtp (obj_id player, obj_id npc)
{
	return getLevel(player) >= 55;
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_returning_mtpHideout02 (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "mtp_hideout_access_02", "mtp_hideout_access_02_04") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_02");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_readyForMtpHideout (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "corellia_coronet_meatlump_act1_end") && getLevel(player)>= 55;
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout01 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_01") || 
	groundquests.isQuestActive(player, "mtp_hideout_access_high_01");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_returning_mtpHideout01 (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "mtp_hideout_access_01", "mtp_hideout_access_01_07") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_01") ||
	groundquests.isTaskActive(player, "mtp_hideout_access_high_01", "mtp_hideout_access_01_07") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_high_01");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout02 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_02");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout03 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_03") || 
	groundquests.isQuestActive(player, "mtp_hideout_access_high_03");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout04 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_04") || 
	groundquests.isQuestActive(player, "mtp_hideout_access_high_04");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_returning_mtpHideout04 (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "mtp_hideout_access_04", "mtp_hideout_access_04_04") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_04") ||
	groundquests.isTaskActive(player, "mtp_hideout_access_high_04", "mtp_hideout_access_04_04") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_high_04");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout05 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_05");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout06 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_06") || 
	groundquests.isQuestActive(player, "mtp_hideout_access_high_06");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_active_mtpHideout07 (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_hideout_access_07") || 
	groundquests.isQuestActive(player, "mtp_hideout_access_high_07");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_returning_mtpHideout07 (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "mtp_hideout_access_07", "mtp_hideout_access_07_04") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_07") ||
	groundquests.isTaskActive(player, "mtp_hideout_access_high_07", "mtp_hideout_access_07_04") ||
	groundquests.hasCompletedQuest(player, "mtp_hideout_access_high_07");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_hasHideoutPointer (obj_id player, obj_id npc)
{
	return groundquests.isQuestActiveOrComplete(player, "mtp_hideout_pointer");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_needs_mtpHideout04 (obj_id player, obj_id npc)
{
	return ( (groundquests.hasCompletedQuest(player, "mtp_hideout_access_03") &&
	!groundquests.isQuestActiveOrComplete(player, "mtp_hideout_access_04")) ||
	(groundquests.hasCompletedQuest(player, "mtp_hideout_access_high_03") &&
	!groundquests.isQuestActiveOrComplete(player, "mtp_hideout_access_high_04")) );
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_hasAct2StoryQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "mtp_meatlump_king_story");
}

// ----------------------------------------------------------------------

boolean corellia_coronet_vani_korr_condition_completedAct2StoryQuest (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "mtp_meatlump_king_story");
}

// ======================================================================
// Script Actions
// ======================================================================

void corellia_coronet_vani_korr_action_act1_getDatapads (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "meatlumpsAct1_vaniKorr");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act1_theyRefuseDatapads (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "meatlumpsAct1_refused");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act1_getPassword (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "meatlumpsAct1_datapadsToVani");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act1_theyRefusePassword (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "meatlumpsAct1_refusedAgain");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act1_regrantPasswordQuest (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "corellia_coronet_meatlump_act1_part3");
	groundquests.grantQuest(player, "corellia_coronet_meatlump_act1_part3");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act1_Complete (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "meatlumpsAct1_gotPassword");	
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grant_mtpHideout01 (obj_id player, obj_id npc)
{
	if ( getLevel(player) >= 82 )
	{
		groundquests.grantQuest(player, "mtp_hideout_access_high_01");
	}
	else
	{
		groundquests.grantQuest(player, "mtp_hideout_access_01");
	}
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_signal_mtpHideout01 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mtp_hideout_access_01_07");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grant_mtpHideout02 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "mtp_hideout_access_02");
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grant_mtpHideout03 (obj_id player, obj_id npc)
{
	if ( getLevel(player) >= 82 )
	{
		groundquests.grantQuest(player, "mtp_hideout_access_high_03");
	}
	else
	{
		groundquests.grantQuest(player, "mtp_hideout_access_03");
	}
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_signal_mtpHideout02 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mtp_hideout_access_02_04");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grant_mtpHideout05 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "mtp_hideout_access_05");
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_signal_mtpHideout07 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mtp_hideout_access_07_04");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_signal_mtpHideout04 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mtp_hideout_access_04_04");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grantHideoutPointer (obj_id player, obj_id npc)
{
	if ( !groundquests.isQuestActiveOrComplete(player, "mtp_hideout_pointer") )
	{
		groundquests.grantQuest(player, "mtp_hideout_pointer");
	}
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_grant_mtpHideout04Pointer (obj_id player, obj_id npc)
{
	if ( !groundquests.isQuestActive(player, "mtp_hideout_access_04_pointer") )
	{
		groundquests.grantQuest(player, "mtp_hideout_access_04_pointer");
	}
	return;
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_act2_storySignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "mtp_king_story");
}

// ----------------------------------------------------------------------

void corellia_coronet_vani_korr_action_signal_pointer (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "corellia_coronet_meatlump_act2_pointer");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int corellia_coronet_vani_korr_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh my, you found the Meatlump King?!! Hooray! I can write my next article. Let me get started...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: May I have a copy of your new story?
	if (response == "s_198")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act2_storySignal (player, npc);

			//-- NPC: Of course you may. Take this. It's a first draft, but I think it'll do.
			string_id message = new string_id (c_stringFile, "s_199");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well done! Now we not only know where their main hideout is...right here in Coronet no less...but you have free access to it as a Meatlump initiate.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do now?
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_grantHideoutPointer (player, npc);

			//-- NPC: Explore the Meatlump Hideout. Find the Meatlump King, if he exists. OH, and I should introduce you to an associate of mine from the Corellia Times. He is going to aid me with this story while I'm still recovering. Be sure to speak with him for guidance.
			string_id message = new string_id (c_stringFile, "s_190");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm beginning to wonder if the Meatlump King has avoided being found simply due to the buffoonery of his followers. I found a report of another Meatlump smashing a generator here in Coronet, but I'm starting to wonder if it's even worth pursuing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think it is.
	if (response == "s_154")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_grant_mtpHideout05 (player, npc);

			//-- NPC: Well then I'm revitalized. Go find that Meatlump. He's smashing a generator somewhere in Northeast Coronet.
			string_id message = new string_id (c_stringFile, "s_155");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think it is.
	if (response == "s_156")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: You're probably right.
			string_id message = new string_id (c_stringFile, "s_157");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A Droid Farm?? He actually planted droid parts in the ground and expected droids to grow from them? Amazing! I may have to do a story on that guy. I can't believe I called him a Droid Engineer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, any new leads on possible Meatlump activities?
	if (response == "s_147")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: What? Oh right. Back to business. And yes, actually, I have a good lead this time. A moderately well known speeder bike racer named Sul Prine claims that some Meatlumps destroyed his speeder bikes. He specifically names the Meatlumps as the ones who did it.
			string_id message = new string_id (c_stringFile, "s_148");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a solid lead.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_149");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What? Oh right. Back to business. And yes, actually, I have a good lead this time. A moderately well known speeder bike racer named Sul Prine claims that some Meatlumps destroyed his speeder bikes. He specifically names the Meatlumps as the ones who did it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a solid lead.
	if (response == "s_149")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_grant_mtpHideout03 (player, npc);

			//-- NPC: It does! Sul Prine's place is on Talus. Which is interesting. If the Meatlumps were truly responsible for the destruction of those bikes, that means they are branching out to other planets. I wonder how many Meatlumps have died when they destroyed the transport on which they were traveling.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That was interesting, though a dead end. Oh well, moving on. Next up is a droid engineer who claims his droids have been sabotaged.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sabotaged droids...I'll look into it.
	if (response == "s_143")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_grant_mtpHideout02 (player, npc);

			//-- NPC: Good. Hopefully this time the Meatlumps were involved.
			string_id message = new string_id (c_stringFile, "s_144");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have another assignment for you. We need to find out more about this rumored Meatlump King. The first step, I think, is to find him. The Meatlumps have a primary hideout somewhere. That is where we'll find the Meatlump King. I'm certain of it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on it.
	if (response == "s_136")
	{
		corellia_coronet_vani_korr_action_signal_pointer (player, npc);

		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Our best bet to find out something about the Meatlump Hideout is to convince a Meatlump Lieutenant to tell us about it. I've been tracking recent crimes of vandalism against machinery and technology. You will investigate them and hopefully find a link to the Meatlumps.
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I start?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good, but I can't help right now.
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but come speak with me again when you can.
			string_id message = new string_id (c_stringFile, "s_138");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] got the password for the datapads
	//-- NPC: Oh, yes! You did it. And the password is... The password is 'meatlump.' I can't believe this. I absolutely do not believe this. Some tech team we've got at the Corellia Times. Top notch. Second to none. [*quieter*] I can't believe I didn't think to try that myself. [*cough*] Anyway. Now we have the password, so let's see what it reveals.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did the datapads reveal anything?
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think I have, indeed, found something. Exactly what we sought and perhaps even more. One communication makes mention of a 'King of the Meatlumps.' That is exactly the kind of scoop I was hoping for. This will do nicely for the first article. Thank you very much.  You shall receive an advanced copy of my article. And if you're interested, I'll let you know when I'm ready to pursue my next article. But that will have to wait.
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what were their names?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think I have, indeed, found something. Exactly what we sought and perhaps even more. One communication makes mention of a 'King of the Meatlumps.' That is exactly the kind of scoop I was hoping for. This will do nicely for the first article. Thank you very much.  You shall receive an advanced copy of my article. And if you're interested, I'll let you know when I'm ready to pursue my next article. But that will have to wait.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what were their names?
	if (response == "s_62")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition_isLevelForMtp (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_Complete (player, npc);

			//-- NPC: Hush. I'm almost done. Yes, that should do it. Here is your copy. Are you ready for another assignment?
			string_id message = new string_id (c_stringFile, "s_63");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not yet.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_123");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_Complete (player, npc);

			//-- NPC: Hush. I'm almost done. Yes, that should do it. Here is your copy. Thank you, and come speak with me again once you've gained even more experience and skill. I may have another assignment for you.
			string_id message = new string_id (c_stringFile, "s_127");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hush. I'm almost done. Yes, that should do it. Here is your copy. Are you ready for another assignment?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am.
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent. We need to find out more about this rumored Meatlump King. The first step, I think, is to find him. The Meatlumps have a primary hideout somewhere. That is where we'll find the Meatlump King. I'm certain of it.
			string_id message = new string_id (c_stringFile, "s_122");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm on it.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet.
	if (response == "s_123")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay, but come speak with me again when you are.
			string_id message = new string_id (c_stringFile, "s_124");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. We need to find out more about this rumored Meatlump King. The first step, I think, is to find him. The Meatlumps have a primary hideout somewhere. That is where we'll find the Meatlump King. I'm certain of it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on it.
	if (response == "s_125")
	{
		corellia_coronet_vani_korr_action_signal_pointer (player, npc);

		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Our best bet to find out something about the Meatlump Hideout is to convince a Meatlump Lieutenant to tell us about it. I've been tracking recent crimes of vandalism against machinery and technology. You will investigate them and hopefully find a link to the Meatlumps.
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I start?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Our best bet to find out something about the Meatlump Hideout is to convince a Meatlump Lieutenant to tell us about it. I've been tracking recent crimes of vandalism against machinery and technology. You will investigate them and hopefully find a link to the Meatlumps.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I start?
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_grant_mtpHideout01 (player, npc);

			//-- NPC: A manufacturing company was recently vandalized. They make crates and some of their machinery and crates were destroyed. Go speak to the owner, Talan Joben.
			string_id message = new string_id (c_stringFile, "s_140");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay, so it didn't work so well that time. Time to try again, right?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I'd like to try again.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_regrantPasswordQuest (player, npc);

			//-- NPC: I'm encouraged by your determination. Remember, go to any of the Meatlump camps outside of Coronet and use the radio to send a distress signal. A Meatlump lieutenant will respond to the signal. When he does, get the password from him in any way you can.
			string_id message = new string_id (c_stringFile, "s_110");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thank you. Maybe later.
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. I'll be here awaiting your next spark of courage. Return when you feel its flame.
			string_id message = new string_id (c_stringFile, "s_111");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] going to meatlump came to radio for a lieutenant
	//-- NPC: Go to any of the Meatlump camps outside of town and use the radio to send a distress signal. A Meatlump lieutenant will respond to the signal. When he does, get the password from him in any way you can.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay.
	if (response == "s_104")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good luck.
			string_id message = new string_id (c_stringFile, "s_106");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to restart this part.
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_regrantPasswordQuest (player, npc);

			//-- NPC: Very well. Remember, go to any of the Meatlump camps outside of Coronet and use the radio to send a distress signal. A Meatlump lieutenant will respond to the signal. When he does, get the password from him in any way you can.
			string_id message = new string_id (c_stringFile, "s_107");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] delayed taking password task
	//-- NPC: Good, you're back. Our techs have had no luck breaking the encryption or hacking the password. Are you ready to help with this task?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is that task exactly?
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: To find the password for these datapads. More than likely a lieutenant among the Meatlumps will know the password for these. I can't imagine they would trust your average Meatlump to remember it. Go to one of the Meatlump camps outside of town and use the radio in the camp to send a distress signal. According to my sources, a Meatlump lieutenant will be dispatched to answer the signal. 
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And then what?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] completed gathering of meatlump datapads
	//-- NPC: You have them all? Well done. Very well done! Now let's see what secrets these things hold. [*attempts to access some of the datapads*] Hmm... I didn't anticipate this. The information is encrypted. I'll need a password in order to get to any thing these hold. That then will be your next task.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is that task exactly?
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: To find the password for these datapads. More than likely a lieutenant among the Meatlumps will know the password for these. I can't imagine they would trust your average Meatlump to remember it. Go to one of the Meatlump camps outside of town and use the radio in the camp to send a distress signal. According to my sources, a Meatlump lieutenant will be dispatched to answer the signal. 
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And then what?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: To find the password for these datapads. More than likely a lieutenant among the Meatlumps will know the password for these. I can't imagine they would trust your average Meatlump to remember it. Go to one of the Meatlump camps outside of town and use the radio in the camp to send a distress signal. According to my sources, a Meatlump lieutenant will be dispatched to answer the signal. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And then what?
	if (response == "s_77")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: And then convince him to tell you the password, of course. If you can trick him into telling you without resorting to violence, then do so. But don't expect that to be easy. I'll give you a list of coded responses to try, but I have no idea if they will work. Sometimes they do and sometimes they don't. We've never been able to crack their code. But it's worth trying. If it fails, you probably have to fight him, so be prepared.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I understand. I'll be back with the password.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe later. I don't think I want to do this right now.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And then convince him to tell you the password, of course. If you can trick him into telling you without resorting to violence, then do so. But don't expect that to be easy. I'll give you a list of coded responses to try, but I have no idea if they will work. Sometimes they do and sometimes they don't. We've never been able to crack their code. But it's worth trying. If it fails, you probably have to fight him, so be prepared.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, I understand. I'll be back with the password.
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_getPassword (player, npc);

			//-- NPC: Excellent. And do be careful. Those Meatlump lieutenants can be pretty tough.
			string_id message = new string_id (c_stringFile, "s_83");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe later. I don't think I want to do this right now.
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_theyRefusePassword (player, npc);

			//-- NPC: Very well. I'll see if our techs can crack the encryption. But it would be best if you would help.
			string_id message = new string_id (c_stringFile, "s_87");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] delayed helping with meatlumps
	//-- NPC: You again? Have you summoned up the courage to help an injured reporter complete her story? Are you ready to be my agent in the field on this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What exactly do you mean by that?
	if (response == "s_116")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I will lead the investigation and write my articles, but you will help me in the field. You will become my eyes and ears as I recover. You will investigate the Meatlumps and report what you find back to me.
			string_id message = new string_id (c_stringFile, "s_118");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, what would you like me to do first?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This does not sound like a good idea.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_178");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think so.
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe another time.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Definitely no chance.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] from corellia times editor
	//-- NPC: Hello. Look, I really don't have time to talk. I'm trying to recover from an attack.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have your view screen.
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: My...? Where? How did? You got it from a Meatlump, didn't you? They attacked my speeder. Overturned it while I was driving. I was thrown clear and knocked unconscious. When I awoke, I was here at the hospital. I don't know how I got here and none of the doctors or medical staff have known any different. I was lucky to survive even if I do not know how it happened, because I believe that attack was no coincidence.
			string_id message = new string_id (c_stringFile, "s_97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you mean?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I apologize for disturbing you. I hope you recover well.
	if (response == "s_196")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you and farewell.
			string_id message = new string_id (c_stringFile, "s_202");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My...? Where? How did? You got it from a Meatlump, didn't you? They attacked my speeder. Overturned it while I was driving. I was thrown clear and knocked unconscious. When I awoke, I was here at the hospital. I don't know how I got here and none of the doctors or medical staff have known any different. I was lucky to survive even if I do not know how it happened, because I believe that attack was no coincidence.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_99")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I mean that it was no random attack. The Meatlumps somehow discovered I was investigating them and apparently decided to stop me. I'm not sure how they found out. I had thought I was being discreet, but not enough it seems. You see, I'm a reporter for the Corellia Times. My goal is to do a series of articles on the Meatlumps to try and shed some light on who they are and why they do the things they do.
			string_id message = new string_id (c_stringFile, "s_101");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a dangerous goal.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I mean that it was no random attack. The Meatlumps somehow discovered I was investigating them and apparently decided to stop me. I'm not sure how they found out. I had thought I was being discreet, but not enough it seems. You see, I'm a reporter for the Corellia Times. My goal is to do a series of articles on the Meatlumps to try and shed some light on who they are and why they do the things they do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a dangerous goal.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perhaps. More so than I originally thought, that's for certain. Now that they know what I'm doing, maybe doubly so. I don't know how I'll... Wait. A thought occurs to me. They know who I am, so I can't continue directly. Not to mention the fact that the doctors tell me it will be some time before I can be released from this hospital. But the Meatlumps do not know you. You could be my agent in the field.
			string_id message = new string_id (c_stringFile, "s_114");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What exactly do you mean by that?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think so.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_116");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perhaps. More so than I originally thought, that's for certain. Now that they know what I'm doing, maybe doubly so. I don't know how I'll... Wait. A thought occurs to me. They know who I am, so I can't continue directly. Not to mention the fact that the doctors tell me it will be some time before I can be released from this hospital. But the Meatlumps do not know you. You could be my agent in the field.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What exactly do you mean by that?
	if (response == "s_116")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I will lead the investigation and write my articles, but you will help me in the field. You will become my eyes and ears as I recover. You will investigate the Meatlumps and report what you find back to me.
			string_id message = new string_id (c_stringFile, "s_118");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, what would you like me to do first?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This does not sound like a good idea.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_178");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think so.
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe another time.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Definitely no chance.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will lead the investigation and write my articles, but you will help me in the field. You will become my eyes and ears as I recover. You will investigate the Meatlumps and report what you find back to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, what would you like me to do first?
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rumor has it that the Meatlumps are led by three brothers. Virtually nothing is known about these brothers. So far I've generally been able to confirm that there are three brothers running the Meatlump show. I'll start you off with something relatively small and easy: find out the names of these three brothers.
			string_id message = new string_id (c_stringFile, "s_129");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Any idea how I should go about doing that?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_131");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This does not sound like a good idea.
	if (response == "s_178")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe another time.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Definitely no chance.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rumor has it that the Meatlumps are led by three brothers. Virtually nothing is known about these brothers. So far I've generally been able to confirm that there are three brothers running the Meatlump show. I'll start you off with something relatively small and easy: find out the names of these three brothers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any idea how I should go about doing that?
	if (response == "s_131")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: As a matter of fact, I have a very good idea. Most Meatlumps use a datapad. You have to understand that your average Meatlump thug is not the brightest star in the Galaxy. More like a gravity well from which nothing escapes and in which everything is destroyed.
			string_id message = new string_id (c_stringFile, "s_133");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do the datapads come in?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As a matter of fact, I have a very good idea. Most Meatlumps use a datapad. You have to understand that your average Meatlump thug is not the brightest star in the Galaxy. More like a gravity well from which nothing escapes and in which everything is destroyed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do the datapads come in?
	if (response == "s_162")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Meatlump leaders distribute a datapad to each Meatlump mostly so that the lesser members can use it to help remember their basic tasks, and in some cases, other information like their own name, where they live, and their favorite foods. I'm hoping that we'll find something that will point to the brothers.
			string_id message = new string_id (c_stringFile, "s_164");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So I should go get some of these Meatlump datapads?
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I'm interested in this.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_166");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_176");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Meatlump leaders distribute a datapad to each Meatlump mostly so that the lesser members can use it to help remember their basic tasks, and in some cases, other information like their own name, where they live, and their favorite foods. I'm hoping that we'll find something that will point to the brothers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So I should go get some of these Meatlump datapads?
	if (response == "s_166")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: In a word, yes. You'll need to take down some Meatlumps to accomplish anything. It won't be easy. They usually destroy their datapads when they know they are going to be arrested or defeated. But I have total faith in you. I also have little other choice. I do not think you'll find this too daunting a task, but do please be careful. Return to me when you have 9 Meatlump datapads. That should be enough for a good sampling.
			string_id message = new string_id (c_stringFile, "s_168");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well. I'll come back when I have 9 of them.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thank you. Find someone else to run your errands.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I'm interested in this.
	if (response == "s_176")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe another time.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Definitely no chance.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In a word, yes. You'll need to take down some Meatlumps to accomplish anything. It won't be easy. They usually destroy their datapads when they know they are going to be arrested or defeated. But I have total faith in you. I also have little other choice. I do not think you'll find this too daunting a task, but do please be careful. Return to me when you have 9 Meatlump datapads. That should be enough for a good sampling.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well. I'll come back when I have 9 of them.
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_getDatapads (player, npc);

			//-- NPC: I eagerly await your triumphant return!
			string_id message = new string_id (c_stringFile, "s_172");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thank you. Find someone else to run your errands.
	if (response == "s_174")
	{
		//-- [NOTE] 
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe another time.
			boolean hasResponse0 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Definitely no chance.
			boolean hasResponse1 = false;
			if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_coronet_vani_korr_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. I thought maybe it was courage I was seeing in you. But perhaps it was just bad lighting. Are you certain you are not interested in helping me?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe another time.
	if (response == "s_184")
	{
		//-- [NOTE] delay quest
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_theyRefuseDatapads (player, npc);

			//-- NPC: An open mind. I like that. Come speak with me again when you feel the time is right.
			string_id message = new string_id (c_stringFile, "s_186");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Definitely no chance.
	if (response == "s_188")
	{
		//-- [NOTE] clear quest
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			corellia_coronet_vani_korr_action_act1_theyRefuseDatapads (player, npc);

			//-- NPC: Very well. I thank you for the return of my view screen. Farewell.
			string_id message = new string_id (c_stringFile, "s_193");
			utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.corellia_coronet_vani_korr");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.corellia_coronet_vani_korr");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_completedAct2StoryQuest (player, npc))
	{
		//-- NPC: Thank you for the assistance! I would not have been able to report on the Meatlumps without your help.
		string_id message = new string_id (c_stringFile, "s_200");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_hasAct2StoryQuest (player, npc))
	{
		//-- NPC: Oh my, you found the Meatlump King?!! Hooray! I can write my next article. Let me get started...
		string_id message = new string_id (c_stringFile, "s_197");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: May I have a copy of your new story?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_198");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 2);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_hasHideoutPointer (player, npc))
	{
		//-- NPC: Explore the Meatlump Hideout. Find the Meatlump King, if he exists. And continue to help with the Corellia Times investigative report on the Meatlumps.
		string_id message = new string_id (c_stringFile, "s_191");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_returning_mtpHideout07 (player, npc))
	{
		corellia_coronet_vani_korr_action_signal_mtpHideout07 (player, npc);

		//-- NPC: Well done! Now we not only know where their main hideout is...right here in Coronet no less...but you have free access to it as a Meatlump initiate.
		string_id message = new string_id (c_stringFile, "s_161");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do I do now?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_189");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 5);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout07 (player, npc))
	{
		//-- NPC: You're making excellent progress with Kaiya...keep it up.
		string_id message = new string_id (c_stringFile, "s_160");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout06 (player, npc))
	{
		//-- NPC: This sounds promising. If that Meatlump lieutenant, Kaiya Merel, will recruit you as a replacement for the old Meatlump, then this could be an even better way in than I ever expected.
		string_id message = new string_id (c_stringFile, "s_159");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout05 (player, npc))
	{
		//-- NPC: If this doesn't work out, I can always do a story on that guy who was trying to grow droids on a farm.
		string_id message = new string_id (c_stringFile, "s_158");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_returning_mtpHideout04 (player, npc))
	{
		corellia_coronet_vani_korr_action_signal_mtpHideout04 (player, npc);

		//-- NPC: I'm beginning to wonder if the Meatlump King has avoided being found simply due to the buffoonery of his followers. I found a report of another Meatlump smashing a generator here in Coronet, but I'm starting to wonder if it's even worth pursuing.
		string_id message = new string_id (c_stringFile, "s_152");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I think it is.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't think it is.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_154");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_156");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 10);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout04 (player, npc))
	{
		//-- NPC: Keep working with Strilath Farles. If you keep him happy, maybe he'll reveal the location of their hideout.
		string_id message = new string_id (c_stringFile, "s_153");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_needs_mtpHideout04 (player, npc))
	{
		corellia_coronet_vani_korr_action_grant_mtpHideout04Pointer (player, npc);

		//-- NPC: You need to do whatever Strilath Farles asks of you. Go back to Doaba Guerfel and speak with him.
		string_id message = new string_id (c_stringFile, "s_195");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout03 (player, npc))
	{
		//-- NPC: This is our best lead. Hopefully it will lead to something.
		string_id message = new string_id (c_stringFile, "s_151");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_returning_mtpHideout02 (player, npc))
	{
		corellia_coronet_vani_korr_action_signal_mtpHideout02 (player, npc);

		//-- NPC: A Droid Farm?? He actually planted droid parts in the ground and expected droids to grow from them? Amazing! I may have to do a story on that guy. I can't believe I called him a Droid Engineer.
		string_id message = new string_id (c_stringFile, "s_146");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: So, any new leads on possible Meatlump activities?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_147");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 16);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout02 (player, npc))
	{
		//-- NPC: I wonder what the Meatlump Hideout is like? Probably a huge cavern, if I had to guess.
		string_id message = new string_id (c_stringFile, "s_145");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_returning_mtpHideout01 (player, npc))
	{
		corellia_coronet_vani_korr_action_signal_mtpHideout01 (player, npc);

		//-- NPC: That was interesting, though a dead end. Oh well, moving on. Next up is a droid engineer who claims his droids have been sabotaged.
		string_id message = new string_id (c_stringFile, "s_142");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sabotaged droids...I'll look into it.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_143");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 20);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_active_mtpHideout01 (player, npc))
	{
		//-- NPC: If we find that hideout, we're on our way to finding the Meatlump King himself. Go to it!
		string_id message = new string_id (c_stringFile, "s_141");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_readyForMtpHideout (player, npc))
	{
		//-- NPC: I have another assignment for you. We need to find out more about this rumored Meatlump King. The first step, I think, is to find him. The Meatlumps have a primary hideout somewhere. That is where we'll find the Meatlump King. I'm certain of it.
		string_id message = new string_id (c_stringFile, "s_135");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm on it.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sounds good, but I can't help right now.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_136");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_137");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 23);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Act I complete
	if (corellia_coronet_vani_korr_condition_act1_completedAct1 (player, npc))
	{
		//-- NPC: I'm not yet ready to start on my next article, but I appreciate your eagerness. I'll let you know when the time comes.
		string_id message = new string_id (c_stringFile, "s_37");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] got the password for the datapads
	if (corellia_coronet_vani_korr_condition_act1_gotPassword (player, npc))
	{
		//-- NPC: Oh, yes! You did it. And the password is... The password is 'meatlump.' I can't believe this. I absolutely do not believe this. Some tech team we've got at the Corellia Times. Top notch. Second to none. [*quieter*] I can't believe I didn't think to try that myself. [*cough*] Anyway. Now we have the password, so let's see what it reveals.
		string_id message = new string_id (c_stringFile, "s_39");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Did the datapads reveal anything?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 26);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_coronet_vani_korr_condition_act1_failedPassword (player, npc))
	{
		//-- NPC: Okay, so it didn't work so well that time. Time to try again, right?
		string_id message = new string_id (c_stringFile, "s_103");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. I'd like to try again.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No thank you. Maybe later.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_108");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_109");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 34);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] going to meatlump came to radio for a lieutenant
	if (corellia_coronet_vani_korr_condition_act1_gettingPassword (player, npc))
	{
		//-- NPC: Go to any of the Meatlump camps outside of town and use the radio to send a distress signal. A Meatlump lieutenant will respond to the signal. When he does, get the password from him in any way you can.
		string_id message = new string_id (c_stringFile, "s_59");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Okay.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need to restart this part.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_104");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_105");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 37);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] delayed taking password task
	if (corellia_coronet_vani_korr_condition_act1_refusedPassword (player, npc))
	{
		//-- NPC: Good, you're back. Our techs have had no luck breaking the encryption or hacking the password. Are you ready to help with this task?
		string_id message = new string_id (c_stringFile, "s_69");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What is that task exactly?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_73");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 41);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] completed gathering of meatlump datapads
	if (corellia_coronet_vani_korr_condition_act1_finishedDatapads (player, npc))
	{
		//-- NPC: You have them all? Well done. Very well done! Now let's see what secrets these things hold. [*attempts to access some of the datapads*] Hmm... I didn't anticipate this. The information is encrypted. I'll need a password in order to get to any thing these hold. That then will be your next task.
		string_id message = new string_id (c_stringFile, "s_71");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What is that task exactly?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_73");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 41);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] gathering meatlump datapads
	if (corellia_coronet_vani_korr_condition_act1_gettingDatapads (player, npc))
	{
		//-- NPC: Go get 9 Meatlump datapads. You can potentially get one from any type of Meatlump thug you find.
		string_id message = new string_id (c_stringFile, "s_89");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] delayed helping with meatlumps
	if (corellia_coronet_vani_korr_condition_act1_refusedDatpads (player, npc))
	{
		//-- NPC: You again? Have you summoned up the courage to help an injured reporter complete her story? Are you ready to be my agent in the field on this?
		string_id message = new string_id (c_stringFile, "s_91");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What exactly do you mean by that?
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't think so.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_116");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_180");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 51);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] from corellia times editor
	if (corellia_coronet_vani_korr_condition_act1_hasViewScreen (player, npc))
	{
		//-- NPC: Hello. Look, I really don't have time to talk. I'm trying to recover from an attack.
		string_id message = new string_id (c_stringFile, "s_93");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I have your view screen.
		boolean hasResponse0 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I apologize for disturbing you. I hope you recover well.
		boolean hasResponse1 = false;
		if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_95");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_196");

			utils.setScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId", 48);

			npcStartConversation (player, npc, "corellia_coronet_vani_korr", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] not on quests
	if (corellia_coronet_vani_korr_condition__defaultCondition (player, npc))
	{
		//-- NPC: I can't believe some Meatlump Stooges attacked me. They must know that I've been investigating them, but how? Was I too open with my inquiries? They don't really seem smart enough to have caught on so easily. And now they have my view screen. I really need that back.
		string_id message = new string_id (c_stringFile, "s_204");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "corellia_coronet_vani_korr")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

	if (branchId == 2 && corellia_coronet_vani_korr_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && corellia_coronet_vani_korr_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && corellia_coronet_vani_korr_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && corellia_coronet_vani_korr_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && corellia_coronet_vani_korr_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && corellia_coronet_vani_korr_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && corellia_coronet_vani_korr_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && corellia_coronet_vani_korr_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && corellia_coronet_vani_korr_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && corellia_coronet_vani_korr_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && corellia_coronet_vani_korr_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && corellia_coronet_vani_korr_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && corellia_coronet_vani_korr_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && corellia_coronet_vani_korr_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && corellia_coronet_vani_korr_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && corellia_coronet_vani_korr_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && corellia_coronet_vani_korr_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && corellia_coronet_vani_korr_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && corellia_coronet_vani_korr_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && corellia_coronet_vani_korr_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && corellia_coronet_vani_korr_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && corellia_coronet_vani_korr_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && corellia_coronet_vani_korr_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && corellia_coronet_vani_korr_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && corellia_coronet_vani_korr_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && corellia_coronet_vani_korr_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && corellia_coronet_vani_korr_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && corellia_coronet_vani_korr_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && corellia_coronet_vani_korr_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.corellia_coronet_vani_korr.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

