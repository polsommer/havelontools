// ======================================================================
//
// naboo_imperial_tier4.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_imperial_tier4";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_imperial_tier4_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isWrongFaction (obj_id player, obj_id npc)
{
	//check the player has the correct novice skill box for this trainer
	return (!hasSkill(player,"pilot_imperial_navy_novice"));
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasCompletedTier3 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_imperial_navy_starships_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_procedures_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_droid_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_weapons_03" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierThree(player);
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isOnMission (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest(player) );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_faliedMissionOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "patrol", "naboo_imperial_tier4_1" ) ||
		 space_quest.hasFailedQuestRecursive( player, "patrol", "naboo_imperial_tier4_1" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_failedMissionTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "recovery", "naboo_imperial_tier4_2" ) ||
		 space_quest.hasFailedQuestRecursive( player, "recovery", "naboo_imperial_tier4_2" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_failedMissionThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "survival", "naboo_imperial_tier4_3" ) ||
		 space_quest.hasFailedQuestRecursive( player, "survival", "naboo_imperial_tier4_3" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_failedMissionFour (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "escort", "naboo_imperial_tier4_4" ) ||
		 space_quest.hasFailedQuestRecursive( player, "escort", "naboo_imperial_tier4_4" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_failedMasterMission (obj_id player, obj_id npc)
{

	if ( space_quest.hasAbortedQuestRecursive( player, "destroy", "naboo_imperial_master" ) ||
		 space_quest.hasFailedQuestRecursive( player, "destroy", "naboo_imperial_master" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isReadyForTraining (obj_id player, obj_id npc)
{
	//see if the player has NOT completed all of tier 4
	//AND has enough XP to buy a tier-4 skill
	if (naboo_imperial_tier4_condition_hasCompletedTier4(player,npc))
		return false;//you're already done
		
	return ( space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_04" ) );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasCompletedTier4 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_imperial_navy_starships_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_procedures_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_droid_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_weapons_04" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierFour(player);
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasMasterSkill (obj_id player, obj_id npc)
{
	return (hasSkill( player, "pilot_imperial_navy_master" ));
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isGettingMissionOneReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "patrol", "naboo_imperial_tier4_1" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "patrol", "naboo_imperial_tier4_1" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isGettingMissionTwoReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "recovery", "naboo_imperial_tier4_2" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "recovery", "naboo_imperial_tier4_2" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isGettingMissionThreeReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "survival", "naboo_imperial_tier4_3" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "survival", "naboo_imperial_tier4_3" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isGettingMissionFourReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "escort", "naboo_imperial_tier4_4" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "escort", "naboo_imperial_tier4_4" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isGettingMasterMissionReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "destroy", "naboo_imperial_master" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "destroy", "naboo_imperial_master" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasCompletedMissionThree (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "survival", "naboo_imperial_tier4_3" ))
		return true;
		
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasCompletedMissionTwo (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "recovery", "naboo_imperial_tier4_2" ))
		return true;
		
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasCompletedMissionOne (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "patrol", "naboo_imperial_tier4_1" ))
		return true;
		
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasDroidSkill04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_imperial_navy_droid_04" );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasWeaponSkill04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_imperial_navy_weapons_04" );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasProcedureSkill04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_imperial_navy_procedures_04" );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasStarshipSkill04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_imperial_navy_starships_04" );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.IMPERIAL_NABOO);
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierThree(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasMetMe (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "metTier4");
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_IMPERIAL ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean naboo_imperial_tier4_condition_isReadyForMission (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "readyForTier4Mission");
}

// ======================================================================
// Script Actions
// ======================================================================

void naboo_imperial_tier4_action_grantMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "patrol", "naboo_imperial_tier4_1" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery", "naboo_imperial_tier4_2" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantMissionThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "survival", "naboo_imperial_tier4_3" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantMissionFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort", "naboo_imperial_tier4_4" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantMasterMission (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy", "naboo_imperial_master" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantDutyMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "naboo_imperial_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantDutyMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "naboo_imperial_tier4_2" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantDutyMissionThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "naboo_imperial_tier4_3" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantDutyMissionFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "rescue_duty", "naboo_imperial_tier4_4" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_rewardForMissionOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "patrol", "naboo_imperial_tier4_1" ))
	{
		space_quest.giveReward( player, "patrol", "naboo_imperial_tier4_1", 10000, "object/tangible/ship/components/weapon/wpn_mission_reward_imperial_sds_boltdriver.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_rewardForMissionTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "naboo_imperial_tier4_2" ))
	{
		space_quest.giveReward( player, "recovery", "naboo_imperial_tier4_2", 10000, "object/tangible/ship/components/shield_generator/shd_mission_reward_imperial_cygnus_holoscreen.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_rewardForMissionThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "survival", "naboo_imperial_tier4_3" ))
	{
		space_quest.giveReward( player, "survival", "naboo_imperial_tier4_3", 10000, "object/tangible/ship/components/armor/arm_mission_reward_imperial_rss_special_durasteel.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_rewardForMissionFour (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "escort", "naboo_imperial_tier4_4" ))
	{
		space_quest.giveReward( player, "escort", "naboo_imperial_tier4_4", 10000, "object/tangible/ship/components/reactor/rct_mission_reward_imperial_rss_advanced_military.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_rewardForMasterMission (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "destroy", "naboo_imperial_master" ))
	{
		space_quest.giveReward( player, "destroy", "naboo_imperial_master", 5000 );
		grantSkill( player, "pilot_imperial_navy_master");
	}
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantProcedureSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_procedures_04" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantStarshipSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_starships_04" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantDroidSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_droid_04" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_grantWeaponSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_weapons_04" );
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_setMetMe (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "metTier4", true);
}

// ----------------------------------------------------------------------

void naboo_imperial_tier4_action_setReadyForMission (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "readyForTier4Mission", true);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_imperial_tier4_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have heard bad things about you, %TU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Like what?
	if (response == "s_53de9d8f")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: I have heard that you've been assisting the Rebel Alliance against the Empire.  This concerns me a great deal, as you can imagine.  You cannot be trusted with any more assignments.
			string_id message = new string_id (c_stringFile, "s_9e131808");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ever?!
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8feb33c1");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have heard that you've been assisting the Rebel Alliance against the Empire.  This concerns me a great deal, as you can imagine.  You cannot be trusted with any more assignments.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ever?!
	if (response == "s_8feb33c1")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Not until you improve your standing with the Empire.  Until then consider yourself grounded.
			string_id message = new string_id (c_stringFile, "s_3686a31b");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, a young pilot. What brings you here, so far from your assigned squadron?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to request a mission.
	if (response == "s_4854758d")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition_canFlyNonTrackDuty (player, npc))
		{
			//-- NPC: Hmm, this is highly unorthodox. Although I do have some elective duty missions if you are interested. Would you like to hear the briefing?
			string_id message = new string_id (c_stringFile, "s_1832fe3c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, please.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, thank you.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c82e9a2f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90ce1297");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll bet you would, wouldn't you? I have no need for untrained and incompetent pilots. Perhaps you should return to your commanding officer and learn a thing or two before seeing me again.
			string_id message = new string_id (c_stringFile, "s_1c3578bb");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm, this is highly unorthodox. Although I do have some elective duty missions if you are interested. Would you like to hear the briefing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, please.
	if (response == "s_c82e9a2f")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  
			string_id message = new string_id (c_stringFile, "s_85c9e37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d7e0eff");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thank you.
	if (response == "s_90ce1297")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then quite wasting my time. I am a very busy man and cannot be bothered to stop and chat.
			string_id message = new string_id (c_stringFile, "s_1769a080");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 1, do it over.
	//-- NPC: So you have failed. That is most distressing. I tasked you with such a simple task and you come back here with your tail between your legs like some mongrel dog.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm trying.
	if (response == "s_67183c1c")
	{
		//-- [NOTE] For you, there is no try. You do your job, or you die. Please, continue your efforts.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "listen");

			//-- NPC: Did you say...you're trying?
			string_id message = new string_id (c_stringFile, "s_a6f30b2b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I mean I'll do it!
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ec457ebc");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Give me another chance. I will not fail again.
	if (response == "s_26bb0194")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Very well. But you had better understand one thing...failure is not tolerated in the Inquisition. Failing in your duty is paramount to treason. And you know what we do to traitors, don't you?
			string_id message = new string_id (c_stringFile, "s_487cad");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b6b25f13");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] For you, there is no try. You do your job, or you die. Please, continue your efforts.
	//-- NPC: Did you say...you're trying?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I mean I'll do it!
	if (response == "s_ec457ebc")
	{
		doAnimationAction (player, "nervous");

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: That's what  I thought.
			string_id message = new string_id (c_stringFile, "s_f7e33371");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. But you had better understand one thing...failure is not tolerated in the Inquisition. Failing in your duty is paramount to treason. And you know what we do to traitors, don't you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_b6b25f13")
	{
		doAnimationAction (player, "nervous");

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: As long as we have come to an agreement. Dismissed!
			string_id message = new string_id (c_stringFile, "s_b1a3b711");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 2, do it over.
	//-- NPC: %TU, you were given this assignment because you were good. But you don't seem particularly skilled.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That problem was just a temporary setback. Don't worry.
	if (response == "s_97ce1c41")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Inquisitors don't worry. But you SHOULD be worried. You don't want an Inquisitor to be angry with you, now do you?
			string_id message = new string_id (c_stringFile, "s_a72c3c89");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Definitely not.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f115f554");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get the job done.
	if (response == "s_e69b471b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			naboo_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: I suggest you do.
			string_id message = new string_id (c_stringFile, "s_659c15a1");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Inquisitors don't worry. But you SHOULD be worried. You don't want an Inquisitor to be angry with you, now do you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Definitely not.
	if (response == "s_f115f554")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			naboo_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Complete your mission, and perhaps all will be forgiven.
			string_id message = new string_id (c_stringFile, "s_5e0158c");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 3, do it over.
	//-- NPC: Where is the data from that communications satellite?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I haven't been able to bring it back yet, sir. But I'll take care of it.
	if (response == "s_85b1adc5")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Without that information, we won't know who's behind all this. And you wouldn't want the Inquisition to be left in the dark would you?
			string_id message = new string_id (c_stringFile, "s_da128253");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, sir. I will get us that information.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9c6ec037");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My mission's not complete.
	if (response == "s_873e726e")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then why are you here at the Emperor's Retreat?
			string_id message = new string_id (c_stringFile, "s_424a2157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I...um...
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9ec59458");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Without that information, we won't know who's behind all this. And you wouldn't want the Inquisition to be left in the dark would you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, sir. I will get us that information.
	if (response == "s_9c6ec037")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: That's a good little pilot. Get out of my sight before I lose my temper.
			string_id message = new string_id (c_stringFile, "s_57274357");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then why are you here at the Emperor's Retreat?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I...um...
	if (response == "s_9ec59458")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			naboo_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Don't waste your breath telling me lies. You have work to do. Go do it! 
			string_id message = new string_id (c_stringFile, "s_f435fbd2");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 4, do it over.
	//-- NPC: How unfortunate that you are unable to do your job.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It'll get done.
	if (response == "s_7017e938")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: See that it does.
			string_id message = new string_id (c_stringFile, "s_5f1cd2f8");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's harder than it looks, you know.
	if (response == "s_39ec8285")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "listen");

			//-- NPC: What's this? A complaint?
			string_id message = new string_id (c_stringFile, "s_8bfb7a2f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Um, no.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dbb3a834");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What's this? A complaint?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, no.
	if (response == "s_dbb3a834")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: What a relief. I'd hate to have to discipline you. I'm disappointed in you as it is.
			string_id message = new string_id (c_stringFile, "s_ecd3f704");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do it.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17d2691");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What a relief. I'd hate to have to discipline you. I'm disappointed in you as it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do it.
	if (response == "s_c17d2691")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			naboo_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: We'll see if you can. Dismissed.
			string_id message = new string_id (c_stringFile, "s_7e2d0f69");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission one and so here is your reward.
	//-- NPC: So you have returned. We have just received those interesting rocks you recovered from that unauthorized vessel. Did you leave the pilot just floating out there or did you finish him off after the search...wait! Don't tell me, I find it more amusing to think of him floating helpless in the cold depths of space.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What were those crystals, sir?
	if (response == "s_834bed59")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are being analyzed by our top men. Those crystals are no longer your concern. You have done well this day and deserve to be rewarded for your loyal service. You want your reward don't you?
			string_id message = new string_id (c_stringFile, "s_9d1c334d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. Thank you.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I do this for the duty, sir. No reward is necessary.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1cd21b47");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d0918370");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: See, I told you I would get this job done.
	if (response == "s_5c9b37f9")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, so the worm made it back. You have done very well to slip from my hook. Perhaps one day. Perhaps one day soon, eh worm?
			string_id message = new string_id (c_stringFile, "s_d5225828");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not me. I am too slippery.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am not a worm!
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54ed82f4");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41040de1");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He got what was coming to him for his disobedience.
	if (response == "s_e479ad44")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am sure he did. That crystal you brought back is most interesting. Do you have any idea what it is?
			string_id message = new string_id (c_stringFile, "s_9bc48781");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I was glowing but other than that, no.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1ef1e040");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They are being analyzed by our top men. Those crystals are no longer your concern. You have done well this day and deserve to be rewarded for your loyal service. You want your reward don't you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. Thank you.
	if (response == "s_1cd21b47")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionOne (player, npc);

			//-- NPC: That is a good, loyal pilot. Here you go. Try not to spend it all at once. When you are ready for some more lessons or to continue your duty come back and see me again. Perhaps I will have more need for you.
			string_id message = new string_id (c_stringFile, "s_722463c0");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do this for the duty, sir. No reward is necessary.
	if (response == "s_d0918370")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. That will be all pilot.
			string_id message = new string_id (c_stringFile, "s_b12a7f6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Umm...
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416d1887");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. That will be all pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Umm...
	if (response == "s_416d1887")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionOne (player, npc);

			//-- NPC: What? Now you want your reward! Of course you do. Because all good, loyal pilots take their reward when they do something well. Here take this. You are a good pilot. A very good pilot.
			string_id message = new string_id (c_stringFile, "s_af5329b0");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, so the worm made it back. You have done very well to slip from my hook. Perhaps one day. Perhaps one day soon, eh worm?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not me. I am too slippery.
	if (response == "s_54ed82f4")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionOne (player, npc);

			//-- NPC: We will see. I will issue your duty pay. When you are ready for some more lessons or to continue your duty come back and see me again. Perhaps I will have more need for you. That rock you brought back is most interesting. We have top men working on it now.
			string_id message = new string_id (c_stringFile, "s_7bc04afa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_719a036e");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am not a worm!
	if (response == "s_41040de1")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: So you are not all bluster. That is good. I was beginning to wonder if you were right for this job. You are still a worm but maybe one with a little bit of a backbone. I was thinking of withholding your duty pay but I guess you have earned it.
			string_id message = new string_id (c_stringFile, "s_725be20b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I did earn it.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52c3d844");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We will see. I will issue your duty pay. When you are ready for some more lessons or to continue your duty come back and see me again. Perhaps I will have more need for you. That rock you brought back is most interesting. We have top men working on it now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who?
	if (response == "s_719a036e")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Top...men.
			string_id message = new string_id (c_stringFile, "s_36af2d20");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you are not all bluster. That is good. I was beginning to wonder if you were right for this job. You are still a worm but maybe one with a little bit of a backbone. I was thinking of withholding your duty pay but I guess you have earned it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I did earn it.
	if (response == "s_52c3d844")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionOne (player, npc);

			//-- NPC: Yes. Here is your pay. I am going to have that crystal you brought back analyzed. While that is being done you can go on leave or take some duties. When we have the crystal analyzed, perhaps I will have more for you to do. You may leave my presence now.
			string_id message = new string_id (c_stringFile, "s_dc31882");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am sure he did. That crystal you brought back is most interesting. Do you have any idea what it is?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was glowing but other than that, no.
	if (response == "s_1ef1e040")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionOne (player, npc);

			//-- NPC: Well we will find out soon. It is in the lab being analyzed. While that is taking place I will issue your duty pay. You have done the Emperor's work very well.
			string_id message = new string_id (c_stringFile, "s_da53e28f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is your bidding now?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0f7c528");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well we will find out soon. It is in the lab being analyzed. While that is taking place I will issue your duty pay. You have done the Emperor's work very well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is your bidding now?
	if (response == "s_c0f7c528")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Until we know what that crystal is there is no need to continue the main operation. For now you may go on leave or take some duty missions. Once we have what we need and you are ready, we will continue our investigation.
			string_id message = new string_id (c_stringFile, "s_7c92f77a");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission two and so here is your reward.
	//-- NPC: So, yet again, you have accomplished the task that I placed before you. The Emperor was most pleased with your progress and has issued a reward for you. Here it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir. What is the next step?
	if (response == "s_64ce1b1d")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you recovered was indeed filled with more of the crystals from Dathomir. That can only mean that they are working with someone who has an operation on the planet's surface with the capability to mine these. They would have to have access to a lot just to pay for the Coynite.
			string_id message = new string_id (c_stringFile, "s_90f30b97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who could it be?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What about the Coynite I captured?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8a38a5ed");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a459860a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Excellent. I was getting a little short on credits.
	if (response == "s_40671b7a")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I take it that frugality is not one of your strong suits. That is alright...the Empire is very wealthy and a pilot in the right position can make a healthy sum.
			string_id message = new string_id (c_stringFile, "s_30d23b2c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what is the next step?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bdebb4cc");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored that the Emperor took notice of his humble servant.
	if (response == "s_f5d2aa8d")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Emperor pays attention to far more than you could possibly imagine.
			string_id message = new string_id (c_stringFile, "s_1cfa3230");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What am I to do next?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_aa695923");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The freighter you recovered was indeed filled with more of the crystals from Dathomir. That can only mean that they are working with someone who has an operation on the planet's surface with the capability to mine these. They would have to have access to a lot just to pay for the Coynite.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who could it be?
	if (response == "s_8a38a5ed")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: At this time, I don't know. But we will find out. I am hoping that the Coynite you captured will be able to tell me more. The people of Coyn are well known for their resiliency but he will crack...they all do. Until then you can continue our duty operations or go on leave. I am sure that I will have more use for you later.
			string_id message = new string_id (c_stringFile, "s_c25d28ef");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about the Coynite I captured?
	if (response == "s_a459860a")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is to be...questioned. The Coynite are well known for their strength. I will find it most interesting to test my resolve against his strength. I will win of course, but perhaps he will hold on long enough to make it interesting. In the end he will tell me everything he knows. Until then you may go on leave or continue our duty operations. I am sure I will have need for you later.
			string_id message = new string_id (c_stringFile, "s_4c65eeef");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I take it that frugality is not one of your strong suits. That is alright...the Empire is very wealthy and a pilot in the right position can make a healthy sum.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what is the next step?
	if (response == "s_bdebb4cc")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you recovered was indeed filled with more of the crystals from Dathomir. That can only mean that they are working with someone who has an operation on the planet's surface with the capability to mine these. They would have to have access to a lot just to pay for the Coynite.
			string_id message = new string_id (c_stringFile, "s_90f30b97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who could it be?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What about the Coynite I captured?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8a38a5ed");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a459860a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Emperor pays attention to far more than you could possibly imagine.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What am I to do next?
	if (response == "s_aa695923")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you recovered was indeed filled with more of the crystals from Dathomir. That can only mean that they are working with someone who has an operation on the planet's surface with the capability to mine these. They would have to have access to a lot just to pay for the Coynite.
			string_id message = new string_id (c_stringFile, "s_90f30b97");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who could it be?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What about the Coynite I captured?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8a38a5ed");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a459860a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission three and so here is your reward.
	//-- NPC: The Coynite should no longer be a problem for us in the Dathomir system. Without their flagship they will have no staging point to continue their activities. You've completed your mission to the Emperor's satisfaction. Here is your duty pay.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir. Will there be anything else?
	if (response == "s_28b58d98")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nothing is pressing at this time. We will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.
			string_id message = new string_id (c_stringFile, "s_bfcf1757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you mean?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77e48d5b");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to spend every credit of it!
	if (response == "s_32bd6884")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very good. We like pilots who have no money. Keeps them motivated.
			string_id message = new string_id (c_stringFile, "s_185e40da");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You will use any edge you get, won't you?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e9065e37");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Coynite were foolish to attempt to circumvent the will of the Emperor.
	if (response == "s_593c68fd")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, you made quite sure that they were adequately punished. We will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.
			string_id message = new string_id (c_stringFile, "s_6145c468");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you mean?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77e48d5b");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nothing is pressing at this time. We will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_77e48d5b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, the post at the prison is a life time assignment. Once you are there, you do not leave. Naturally, every officer stationed at the planet wants to leave. Think about it. If one group forms a plan to escape and doesn't let the other group in on it, they would be rather upset.
			string_id message = new string_id (c_stringFile, "s_6d60481e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can see that.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3dd8800a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, the post at the prison is a life time assignment. Once you are there, you do not leave. Naturally, every officer stationed at the planet wants to leave. Think about it. If one group forms a plan to escape and doesn't let the other group in on it, they would be rather upset.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can see that.
	if (response == "s_3dd8800a")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am sort of curious about what they will actually do though. Call it professional curiosity. Maybe one of them will put it in a report. As for you...you are free to do as you wish for now, perhaps continue with our duties in the Dathomir system. There are still a few Coynite that may continue to cause minor problems that need to be cleaned.
			string_id message = new string_id (c_stringFile, "s_ac4bb3e6");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very good. We like pilots who have no money. Keeps them motivated.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You will use any edge you get, won't you?
	if (response == "s_e9065e37")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. There is always some way to manipulate anyone. The key is just finding out what. On a side note, we will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.
			string_id message = new string_id (c_stringFile, "s_34aaab36");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you mean?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77e48d5b");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. There is always some way to manipulate anyone. The key is just finding out what. On a side note, we will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_77e48d5b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, the post at the prison is a life time assignment. Once you are there, you do not leave. Naturally, every officer stationed at the planet wants to leave. Think about it. If one group forms a plan to escape and doesn't let the other group in on it, they would be rather upset.
			string_id message = new string_id (c_stringFile, "s_6d60481e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can see that.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3dd8800a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, you made quite sure that they were adequately punished. We will be dealing with the officers on Dathomir by telling the others that were not involved what was happening. They will deal with the traitorous officers in their own way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_77e48d5b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, the post at the prison is a life time assignment. Once you are there, you do not leave. Naturally, every officer stationed at the planet wants to leave. Think about it. If one group forms a plan to escape and doesn't let the other group in on it, they would be rather upset.
			string_id message = new string_id (c_stringFile, "s_6d60481e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can see that.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3dd8800a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission four and so here is your reward.
	//-- NPC: You have performed wonderfully with an alarming situation. It would seem that I had under estimated the resolve of the Coynite to finish a job that they were paid to do. I am most impressed with them. Based off of the single one I had dealings with I wouldn't have thought they had it in them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think they are finished now, sir.
	if (response == "s_57a5120c")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionFour (player, npc);

			//-- NPC: Even if the Coynite are not, the traitorous prison officers are no longer alive to attempt escape. The Coynite have no reason to stay in the region anymore so they will move along. This is for you. You have earned it. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_fe2a11f4");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I told you and you wouldn't listen...I am the BEST!
	if (response == "s_2bfb5526")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionFour (player, npc);

			//-- NPC: Bah! I give you the slightest of praise and you cannot help but blow up like an Inerbion Gasbag. Here take this and get out of my sight.
			string_id message = new string_id (c_stringFile, "s_8e075bc2");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: They should have left well enough alone.
	if (response == "s_44867e8a")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_rewardForMissionFour (player, npc);

			//-- NPC: Yes, I will agree with you. But some people simply don't know when to quit. Here, this is for you. I look forward to our next chat. Good day, pilot %NU.
			string_id message = new string_id (c_stringFile, "s_f82c2226");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you are done wasting time, there is work to be done. Are you ready?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course.
	if (response == "s_52917b0d")
	{
		//-- [NOTE] Now go do Mission Four.
		if (naboo_imperial_tier4_condition_hasCompletedMissionThree (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.
			string_id message = new string_id (c_stringFile, "s_673b4c9b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are your orders, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Great, time for me to save the Empire, yet again.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to test out my new ability.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_336");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_344");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (naboo_imperial_tier4_condition_hasCompletedMissionTwo (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.
			string_id message = new string_id (c_stringFile, "s_ad56bc53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you learn from him?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am sorry you didn't enjoy your work.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: There is no strength of will in people anymore.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two.
		if (naboo_imperial_tier4_condition_hasCompletedMissionOne (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: We have completed our analysis of that crystal you recovered.
			string_id message = new string_id (c_stringFile, "s_b0feed48");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find out about it, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That joke, and I use that term loosely, was terrible.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to serve, if the Emperor wills it.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_462");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I have need of your...unique talents. After all, idle hands are a dangerous thing.
			string_id message = new string_id (c_stringFile, "s_b0abb9a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready to serve, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's about time you let me do my thing.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am yours to command, High Inquisitor.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Four.
	//-- NPC: It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are your orders, sir?
	if (response == "s_336")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The prison drop shuttle that we were holding until the Coynite issue was dealt with is ready to drop its payload of prisoners on Dathomir. I need you to escort it through the system.
			string_id message = new string_id (c_stringFile, "s_338");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. Right away, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_340");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Great, time for me to save the Empire, yet again.
	if (response == "s_344")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Save the Empire? You? Do not make me laugh, little worm. I will admit your flying skills are impressive but the might of the Empire hardly lies in the skills of one pilot with an overblown ego. I am thinking that you should reconsider your choice to become an Inquisitor...you will not go far.
			string_id message = new string_id (c_stringFile, "s_346");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would be a great Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_348");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to test out my new ability.
	if (response == "s_352")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: We will start you off with something slow. I need a prison drop shuttle escorted to the prison on Dathomir. We have been holding off shipping those prisoners while we dealt with the Coynite issue and it is time that they were sent home.
			string_id message = new string_id (c_stringFile, "s_354");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: As you command, High Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_356");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Three.
	//-- NPC: I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you learn from him?
	if (response == "s_362")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.
			string_id message = new string_id (c_stringFile, "s_364");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you have any idea who is helping them?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_366");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am sorry you didn't enjoy your work.
	if (response == "s_378")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I wouldn't say that. It just wasn't as fulfilling as I had hoped it would be. High expectations always lead to the greatest disappointments. On the bright side I did manage to get most of the information we were looking for out of him.
			string_id message = new string_id (c_stringFile, "s_380");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? What did he say?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There is no strength of will in people anymore.
	if (response == "s_398")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course there isn't. If there was, there would be no need for the Emperor or the Empire. We are the rock in the middle of the decay of strength and character. This was all caused by the Old Republic of course. If they had done their duty long ago, none of this would be necessary.
			string_id message = new string_id (c_stringFile, "s_400");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did the Coynite speak of?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Two.
	//-- NPC: We have completed our analysis of that crystal you recovered.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you find out about it, sir?
	if (response == "s_408")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have the report right here. Let me see. The crystal is composed of...alichite...30 perc...timmerosu...AH! Here is the important part that you need to know about. The crystal is found on only one planet in the entire universe, Dathomir. It is clear that this smuggler landed on the planets surface and recovered the rock. A very unfortunate situation.
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would he land on Dathomir for a crystal?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why is it unfortunate?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_412");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That joke, and I use that term loosely, was terrible.
	if (response == "s_432")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am afraid that I do not have much practice with joviality. My talents have always seemed to lie elsewhere but I always try to bring a little bit of merriment to the job. A light heart makes even the heaviest of tasks easier.
			string_id message = new string_id (c_stringFile, "s_434");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: We are the Inquisition. I didn't think happy was our thing.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_436");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to serve, if the Emperor wills it.
	if (response == "s_462")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Emperor does indeed wish you to serve. The lab has finished analyzing the crystal you recovered. A most interesting piece of rock. Most interesting and most rare, indeed. In fact that particular crystal can only be found one place in the entire galaxy...Dathomir.
			string_id message = new string_id (c_stringFile, "s_464");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So the smuggler had to land on the planet.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_466");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission One.
	//-- NPC: I have need of your...unique talents. After all, idle hands are a dangerous thing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ready to serve, sir.
	if (response == "s_480")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are very eager, my young pilot. That is good. I have much need for someone who is willing to get the job done and done quickly.
			string_id message = new string_id (c_stringFile, "s_482");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_484");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's about time you let me do my thing.
	if (response == "s_504")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let you do your thing? Ah...you mean that you are a skilled pilot and I have been holding you back. Most interesting. You must indeed have some small measure of skill or you would not have risen so far so fast. I agree with you. It is time for me to measure your 'vaunted' skill as a pilot.
			string_id message = new string_id (c_stringFile, "s_506");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I knew you would see it my way.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That sounded like you were mocking me.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_508");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_528");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am yours to command, High Inquisitor.
	if (response == "s_544")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A willing mind? How refreshing. I was getting so tired of the standard military pilots. Such wastes. But I suppose they do have their uses...they are nice fodder for the war effort. Don't you agree?
			string_id message = new string_id (c_stringFile, "s_546");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I could care less about those weak fools.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Someone has to die. Might as well be them.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_548");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're ready for a new skill, which would you like?
	//-- NPC: You must be here for your skills upgrade. Well, let's make this quick.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What skill am I to learn?
	if (response == "s_319")
	{
		//-- [NOTE] 
		if (!naboo_imperial_tier4_condition_hasStarshipSkill04 (player, npc))
		{
			//-- NPC: It is time for you to learn about experimental TIE vessels.
			string_id message = new string_id (c_stringFile, "s_320");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_324");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!naboo_imperial_tier4_condition_hasWeaponSkill04 (player, npc))
		{
			//-- NPC: It is time for you to learn about heavy starship component use.
			string_id message = new string_id (c_stringFile, "s_321");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_328");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!naboo_imperial_tier4_condition_hasProcedureSkill04 (player, npc))
		{
			//-- NPC: It is time for you to learn about elite TIE guard training.
			string_id message = new string_id (c_stringFile, "s_322");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_330");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is time for you to learn about droid intelligence theory.
			string_id message = new string_id (c_stringFile, "s_323");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_332");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is time for you to learn about experimental TIE vessels.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_324")
	{
		naboo_imperial_tier4_action_grantStarshipSkill (player, npc);

		//-- [NOTE] Now go do Mission Four.
		if (naboo_imperial_tier4_condition_hasCompletedMissionThree (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: You are nearly finished with your training. It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.
			string_id message = new string_id (c_stringFile, "s_334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are your orders, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Great, time for me to save the Empire, yet again.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to test out my new ability.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_336");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_344");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (naboo_imperial_tier4_condition_hasCompletedMissionTwo (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I hope that your skills serve me well as we begin the next stage of our operation. I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.
			string_id message = new string_id (c_stringFile, "s_360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you learn from him?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am sorry you didn't enjoy your work.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: There is no strength of will in people anymore.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two.
		if (naboo_imperial_tier4_condition_hasCompletedMissionOne (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: It is a good thing that you returned for training when you did, I was about to send a probe droid out after you. Just a little humor there, but in all seriousness, it is good that you have returned. We have completed our analysis of that crystal you recovered.
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find out about it, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That joke, and I use that term loosely, was terrible.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to serve, if the Emperor wills it.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_462");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I think that you might find that skill very useful. Especially now that I have need of your...unique talents. After all, idle hands are a dangerous thing.
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready to serve, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's about time you let me do my thing.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am yours to command, High Inquisitor.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Four.
	//-- NPC: You are nearly finished with your training. It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are your orders, sir?
	if (response == "s_336")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The prison drop shuttle that we were holding until the Coynite issue was dealt with is ready to drop its payload of prisoners on Dathomir. I need you to escort it through the system.
			string_id message = new string_id (c_stringFile, "s_338");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. Right away, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_340");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Great, time for me to save the Empire, yet again.
	if (response == "s_344")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Save the Empire? You? Do not make me laugh, little worm. I will admit your flying skills are impressive but the might of the Empire hardly lies in the skills of one pilot with an overblown ego. I am thinking that you should reconsider your choice to become an Inquisitor...you will not go far.
			string_id message = new string_id (c_stringFile, "s_346");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would be a great Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_348");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to test out my new ability.
	if (response == "s_352")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: We will start you off with something slow. I need a prison drop shuttle escorted to the prison on Dathomir. We have been holding off shipping those prisoners while we dealt with the Coynite issue and it is time that they were sent home.
			string_id message = new string_id (c_stringFile, "s_354");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: As you command, High Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_356");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The prison drop shuttle that we were holding until the Coynite issue was dealt with is ready to drop its payload of prisoners on Dathomir. I need you to escort it through the system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. Right away, sir.
	if (response == "s_340")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Good. There shouldn't be any issues but there is still something that bothers me about the Coynite situation. I would rather be safe then sorry. We cannot have our prisoners running free all over the galaxy, now can we? You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_342");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Save the Empire? You? Do not make me laugh, little worm. I will admit your flying skills are impressive but the might of the Empire hardly lies in the skills of one pilot with an overblown ego. I am thinking that you should reconsider your choice to become an Inquisitor...you will not go far.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would be a great Inquisitor.
	if (response == "s_348")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Get out of my sight! Go escort a prison drop shuttle through the Dathomir system on its way to drop its payload on the prison. Begone, worm!
			string_id message = new string_id (c_stringFile, "s_350");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We will start you off with something slow. I need a prison drop shuttle escorted to the prison on Dathomir. We have been holding off shipping those prisoners while we dealt with the Coynite issue and it is time that they were sent home.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As you command, High Inquisitor.
	if (response == "s_356")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: The Emperor's blessing be with you, %NU.
			string_id message = new string_id (c_stringFile, "s_358");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Three.
	//-- NPC: I hope that your skills serve me well as we begin the next stage of our operation. I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you learn from him?
	if (response == "s_362")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.
			string_id message = new string_id (c_stringFile, "s_364");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you have any idea who is helping them?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_366");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am sorry you didn't enjoy your work.
	if (response == "s_378")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I wouldn't say that. It just wasn't as fulfilling as I had hoped it would be. High expectations always lead to the greatest disappointments. On the bright side I did manage to get most of the information we were looking for out of him.
			string_id message = new string_id (c_stringFile, "s_380");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really? What did he say?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There is no strength of will in people anymore.
	if (response == "s_398")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course there isn't. If there was, there would be no need for the Emperor or the Empire. We are the rock in the middle of the decay of strength and character. This was all caused by the Old Republic of course. If they had done their duty long ago, none of this would be necessary.
			string_id message = new string_id (c_stringFile, "s_400");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did the Coynite speak of?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you have any idea who is helping them?
	if (response == "s_366")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, I have several theories but I do not like to work on theory. Cold, hard fact has always been more to my liking.
			string_id message = new string_id (c_stringFile, "s_368");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So, now we don't have any way to find out who is helping the Coynite?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_370");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, I have several theories but I do not like to work on theory. Cold, hard fact has always been more to my liking.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, now we don't have any way to find out who is helping the Coynite?
	if (response == "s_370")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Didn't I mention that he told me about the satellite receiver that they are using to get instructions from the planet? I could have sworn I told you that. No matter. You are to travel to that satellite and tap into their communications. It should be fairly easy, except that the Coynite have the satellite under constant surveillance, so you will have to guard against them while running your tap. But then again that is what you are here for.
			string_id message = new string_id (c_stringFile, "s_372");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_374");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Didn't I mention that he told me about the satellite receiver that they are using to get instructions from the planet? I could have sworn I told you that. No matter. You are to travel to that satellite and tap into their communications. It should be fairly easy, except that the Coynite have the satellite under constant surveillance, so you will have to guard against them while running your tap. But then again that is what you are here for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_374")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: You have your orders. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_376");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I wouldn't say that. It just wasn't as fulfilling as I had hoped it would be. High expectations always lead to the greatest disappointments. On the bright side I did manage to get most of the information we were looking for out of him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Really? What did he say?
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.
			string_id message = new string_id (c_stringFile, "s_384");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe you should have tried harder?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe you should have tried harder?
	if (response == "s_386")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Silence! I will have none of your lip today. Do not try my patience or I just might see if I can find fulfillment with questioning you. I did manage to get one very important piece of information out of him...how they communicate.
			string_id message = new string_id (c_stringFile, "s_388");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Open their mouths...talk to each other. That is how we do it.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Silence! I will have none of your lip today. Do not try my patience or I just might see if I can find fulfillment with questioning you. I did manage to get one very important piece of information out of him...how they communicate.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Open their mouths...talk to each other. That is how we do it.
	if (response == "s_390")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Fool! I meant how their friends on the ground send instructions to the Coynite. They use a satellite to send signals from the prison, then the Coynite listen in. It is a one way communication but is enough to suit their needs. You are going to travel to that satellite and tap into their instructions.
			string_id message = new string_id (c_stringFile, "s_392");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is that it?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_394");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fool! I meant how their friends on the ground send instructions to the Coynite. They use a satellite to send signals from the prison, then the Coynite listen in. It is a one way communication but is enough to suit their needs. You are going to travel to that satellite and tap into their instructions.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is that it?
	if (response == "s_394")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Well, the Coynite have the satellite under constant surveillance so they will most likely attack you while you are trying to tap into the signal. If you succeed you will have some very valuable information for me. If you fail then you will be dead. Sounds like a win win situation for me. You have you orders. Carry on, pilot.
			string_id message = new string_id (c_stringFile, "s_396");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course there isn't. If there was, there would be no need for the Emperor or the Empire. We are the rock in the middle of the decay of strength and character. This was all caused by the Old Republic of course. If they had done their duty long ago, none of this would be necessary.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did the Coynite speak of?
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.
			string_id message = new string_id (c_stringFile, "s_404");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you have any idea who is helping them?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_366");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Coynite and the smugglers are one and the same. Just before he expired, he also told me all about their friends on the planets surface. It would seem that they are receiving aid from someone in the prison. Whoever their friend, or friends, are they are paying the Coynite with the crystals. I lost him before he could tell me who or why. Not my best work but we have what we need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you have any idea who is helping them?
	if (response == "s_366")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, I have several theories but I do not like to work on theory. Cold, hard fact has always been more to my liking.
			string_id message = new string_id (c_stringFile, "s_368");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So, now we don't have any way to find out who is helping the Coynite?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_370");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Two.
	//-- NPC: It is a good thing that you returned for training when you did, I was about to send a probe droid out after you. Just a little humor there, but in all seriousness, it is good that you have returned. We have completed our analysis of that crystal you recovered.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you find out about it, sir?
	if (response == "s_408")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have the report right here. Let me see. The crystal is composed of...alichite...30 perc...timmerosu...AH! Here is the important part that you need to know about. The crystal is found on only one planet in the entire universe, Dathomir. It is clear that this smuggler landed on the planets surface and recovered the rock. A very unfortunate situation.
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would he land on Dathomir for a crystal?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why is it unfortunate?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_412");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That joke, and I use that term loosely, was terrible.
	if (response == "s_432")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am afraid that I do not have much practice with joviality. My talents have always seemed to lie elsewhere but I always try to bring a little bit of merriment to the job. A light heart makes even the heaviest of tasks easier.
			string_id message = new string_id (c_stringFile, "s_434");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: We are the Inquisition. I didn't think happy was our thing.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_436");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to serve, if the Emperor wills it.
	if (response == "s_462")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Emperor does indeed wish you to serve. The lab has finished analyzing the crystal you recovered. A most interesting piece of rock. Most interesting and most rare, indeed. In fact that particular crystal can only be found one place in the entire galaxy...Dathomir.
			string_id message = new string_id (c_stringFile, "s_464");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So the smuggler had to land on the planet.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_466");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have the report right here. Let me see. The crystal is composed of...alichite...30 perc...timmerosu...AH! Here is the important part that you need to know about. The crystal is found on only one planet in the entire universe, Dathomir. It is clear that this smuggler landed on the planets surface and recovered the rock. A very unfortunate situation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would he land on Dathomir for a crystal?
	if (response == "s_412")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The crystals are worth a very handsome sum to the right people. They are rumored to have strange...properties. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.
			string_id message = new string_id (c_stringFile, "s_414");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I thought Dathomir was forbidden. How do you know this?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why is it unfortunate?
	if (response == "s_428")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is not a matter for you to have to worry about. Your only concerns are what I tell them to be. That crystal can fetch a very large sum to the right people. It is said to contain 'unique' powers, if you believe in that sort of thing. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.
			string_id message = new string_id (c_stringFile, "s_430");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I thought Dathomir was forbidden. How do you know this?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The crystals are worth a very handsome sum to the right people. They are rumored to have strange...properties. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I thought Dathomir was forbidden. How do you know this?
	if (response == "s_416")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is my business to know things. That and we maintain a prison on the planet's surface. Prisoners are dropped in from orbit, never to leave again. The guards who maintain the prison have surveyed a large portion of the planets unique flora, fauna, and, thankfully, geology.
			string_id message = new string_id (c_stringFile, "s_418");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what is the next step, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_420");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is my business to know things. That and we maintain a prison on the planet's surface. Prisoners are dropped in from orbit, never to leave again. The guards who maintain the prison have surveyed a large portion of the planets unique flora, fauna, and, thankfully, geology.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what is the next step, sir?
	if (response == "s_420")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I did not believe that all the reports I had been receiving were for this one lone individual, so I dispatched a set of recon shuttles to the system. Their scans revealed that a number of these vessels are moving around the system. We have a lock on one that recently touched down on the planet. Incidentally, or so it would seem, near the location of the prison. You are to capture that ship when it returns to orbit.
			string_id message = new string_id (c_stringFile, "s_422");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I did not believe that all the reports I had been receiving were for this one lone individual, so I dispatched a set of recon shuttles to the system. Their scans revealed that a number of these vessels are moving around the system. We have a lock on one that recently touched down on the planet. Incidentally, or so it would seem, near the location of the prison. You are to capture that ship when it returns to orbit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_424")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: That is a good pilot. I knew that you could be counted on. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_426");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is not a matter for you to have to worry about. Your only concerns are what I tell them to be. That crystal can fetch a very large sum to the right people. It is said to contain 'unique' powers, if you believe in that sort of thing. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I thought Dathomir was forbidden. How do you know this?
	if (response == "s_416")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is my business to know things. That and we maintain a prison on the planet's surface. Prisoners are dropped in from orbit, never to leave again. The guards who maintain the prison have surveyed a large portion of the planets unique flora, fauna, and, thankfully, geology.
			string_id message = new string_id (c_stringFile, "s_418");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what is the next step, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_420");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am afraid that I do not have much practice with joviality. My talents have always seemed to lie elsewhere but I always try to bring a little bit of merriment to the job. A light heart makes even the heaviest of tasks easier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We are the Inquisition. I didn't think happy was our thing.
	if (response == "s_436")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is not for the people we deal with, but there is no reason why we cannot enjoy the fruits of our labor once in a while. Never mind, my advice is simply going to be wasted on you. Back to work. The lab finished the analysis of the crystal you recovered. With some very interesting results. I suppose you would like to know what those are, eh worm?
			string_id message = new string_id (c_stringFile, "s_438");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Wait a minute...this is all an act?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, what did they find out?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_440");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_460");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is not for the people we deal with, but there is no reason why we cannot enjoy the fruits of our labor once in a while. Never mind, my advice is simply going to be wasted on you. Back to work. The lab finished the analysis of the crystal you recovered. With some very interesting results. I suppose you would like to know what those are, eh worm?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wait a minute...this is all an act?
	if (response == "s_440")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Almost any persona is half an act. It is actions that always speak the loudest about an individuals resolve. I assure you my resolve is far greater than my persona will ever be. Care to find out?
			string_id message = new string_id (c_stringFile, "s_442");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, thanks. How about you tell me about the crystal instead?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_444");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, what did they find out?
	if (response == "s_460")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The crystals are worth a very handsome sum to the right people. They are rumored to have strange...properties. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.
			string_id message = new string_id (c_stringFile, "s_446");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Isn't Dathomir was forbidden. How do you know this?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Almost any persona is half an act. It is actions that always speak the loudest about an individuals resolve. I assure you my resolve is far greater than my persona will ever be. Care to find out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thanks. How about you tell me about the crystal instead?
	if (response == "s_444")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The crystals are worth a very handsome sum to the right people. They are rumored to have strange...properties. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.
			string_id message = new string_id (c_stringFile, "s_446");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Isn't Dathomir was forbidden. How do you know this?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The crystals are worth a very handsome sum to the right people. They are rumored to have strange...properties. Of course, the question is how did that pilot get it? These crystals cannot be found just sitting around on the ground for any fool to pick up. They are only found deep under the surface.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Isn't Dathomir was forbidden. How do you know this?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is my business to know things, worm. That and we maintain a prison on the planet's surface. Prisoners are dropped in from orbit, never to leave again. The guards who maintain the prison have surveyed a large portion of the planets unique flora, fauna, and, thankfully, geology.
			string_id message = new string_id (c_stringFile, "s_450");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well what do you want me to do?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is my business to know things, worm. That and we maintain a prison on the planet's surface. Prisoners are dropped in from orbit, never to leave again. The guards who maintain the prison have surveyed a large portion of the planets unique flora, fauna, and, thankfully, geology.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well what do you want me to do?
	if (response == "s_452")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I did not believe that all the reports I had been receiving were for this one lone individual, so I dispatched a set of recon shuttles to the system. Their scans revealed that a number of these vessels are moving around the system. We have a lock on one that recently touched down on the planet. Incidentally, or so it would seem, near the location of the prison. You are to capture that ship when it returns to orbit.
			string_id message = new string_id (c_stringFile, "s_454");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: For anyone else but me that might be difficult.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_456");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I did not believe that all the reports I had been receiving were for this one lone individual, so I dispatched a set of recon shuttles to the system. Their scans revealed that a number of these vessels are moving around the system. We have a lock on one that recently touched down on the planet. Incidentally, or so it would seem, near the location of the prison. You are to capture that ship when it returns to orbit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: For anyone else but me that might be difficult.
	if (response == "s_456")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Then I trust you will not fail me. It would be a most unwise decision on your part if you did.
			string_id message = new string_id (c_stringFile, "s_458");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Emperor does indeed wish you to serve. The lab has finished analyzing the crystal you recovered. A most interesting piece of rock. Most interesting and most rare, indeed. In fact that particular crystal can only be found one place in the entire galaxy...Dathomir.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So the smuggler had to land on the planet.
	if (response == "s_466")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes. In clear violation of Imperial law. Of course, he is not working alone. All those reports I received would not have been generated by one lone individual. So I took the liberty of sending out several recon shuttles into the Dathomir system. It would appear that there are several vessels all working in unison in this little venture of theirs.
			string_id message = new string_id (c_stringFile, "s_468");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then I must destroy them.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 102);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes. In clear violation of Imperial law. Of course, he is not working alone. All those reports I received would not have been generated by one lone individual. So I took the liberty of sending out several recon shuttles into the Dathomir system. It would appear that there are several vessels all working in unison in this little venture of theirs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then I must destroy them.
	if (response == "s_470")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: All in good time. I have a feeling that this goes a little bit deeper than that. The recon shuttle has tracked one of the vessels that landed on the planet's surface before we could stop it. You are to immediately capture that vessel as soon as it reenters orbit. If that ship looks like it is about to get away you are to destroy it. Take no chances that it will get out of the system. Is that understood?
			string_id message = new string_id (c_stringFile, "s_472");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. If I cannot capture the vessel, it will die.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All in good time. I have a feeling that this goes a little bit deeper than that. The recon shuttle has tracked one of the vessels that landed on the planet's surface before we could stop it. You are to immediately capture that vessel as soon as it reenters orbit. If that ship looks like it is about to get away you are to destroy it. Take no chances that it will get out of the system. Is that understood?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. If I cannot capture the vessel, it will die.
	if (response == "s_474")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Good. Now get to Dathomir and wait for your prey to arrive.
			string_id message = new string_id (c_stringFile, "s_476");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission One.
	//-- NPC: I think that you might find that skill very useful. Especially now that I have need of your...unique talents. After all, idle hands are a dangerous thing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ready to serve, sir.
	if (response == "s_480")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are very eager, my young pilot. That is good. I have much need for someone who is willing to get the job done and done quickly.
			string_id message = new string_id (c_stringFile, "s_482");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_484");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's about time you let me do my thing.
	if (response == "s_504")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let you do your thing? Ah...you mean that you are a skilled pilot and I have been holding you back. Most interesting. You must indeed have some small measure of skill or you would not have risen so far so fast. I agree with you. It is time for me to measure your 'vaunted' skill as a pilot.
			string_id message = new string_id (c_stringFile, "s_506");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I knew you would see it my way.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That sounded like you were mocking me.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_508");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_528");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am yours to command, High Inquisitor.
	if (response == "s_544")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A willing mind? How refreshing. I was getting so tired of the standard military pilots. Such wastes. But I suppose they do have their uses...they are nice fodder for the war effort. Don't you agree?
			string_id message = new string_id (c_stringFile, "s_546");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I could care less about those weak fools.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Someone has to die. Might as well be them.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_548");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are very eager, my young pilot. That is good. I have much need for someone who is willing to get the job done and done quickly.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you need me to do, sir?
	if (response == "s_484")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.
			string_id message = new string_id (c_stringFile, "s_486");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. Right away.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What business does the Inquisition have in Dathomir?
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_488");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_492");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. Right away.
	if (response == "s_488")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Excellent. I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. Dismissed.
			string_id message = new string_id (c_stringFile, "s_490");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What business does the Inquisition have in Dathomir?
	if (response == "s_492")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Inquisition has business in all systems. But if you must know we have a special duty with the Dathomir system. Not only do we maintain a prison on the planet's surface, we are the only Imperial agency with the authorization to operation freely in the system. Everyone else must get special permission to even enter the system. Therefore, it is logical that we also maintain the security of that forbidden system.
			string_id message = new string_id (c_stringFile, "s_494");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why is Dathomir a forbidden system?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_496");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 109);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Inquisition has business in all systems. But if you must know we have a special duty with the Dathomir system. Not only do we maintain a prison on the planet's surface, we are the only Imperial agency with the authorization to operation freely in the system. Everyone else must get special permission to even enter the system. Therefore, it is logical that we also maintain the security of that forbidden system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why is Dathomir a forbidden system?
	if (response == "s_496")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: There are some things that you should not question. The Emperor has decreed it as so and that is all you need to know.
			string_id message = new string_id (c_stringFile, "s_498");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_500");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 110);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There are some things that you should not question. The Emperor has decreed it as so and that is all you need to know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, sir.
	if (response == "s_500")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Good. Now your assignment...I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. Dismissed.
			string_id message = new string_id (c_stringFile, "s_502");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let you do your thing? Ah...you mean that you are a skilled pilot and I have been holding you back. Most interesting. You must indeed have some small measure of skill or you would not have risen so far so fast. I agree with you. It is time for me to measure your 'vaunted' skill as a pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I knew you would see it my way.
	if (response == "s_508")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You still have much to learn, my young pilot. There is no YOUR way. There is only the way of the Inquisition and the way of the Emperor. Nothing else matters. To ever be more than just a simple pilot, you must lose your pathetic, self-indulgent ego. I can show you the way down the path to true power but until you choose to take it, you will be nothing more than a slimy, little worm.
			string_id message = new string_id (c_stringFile, "s_510");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Please show me the way to true power, High Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, thanks. I am so good power and glory will just come a knockin'.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_512");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_520");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounded like you were mocking me.
	if (response == "s_528")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mock you? You are not even worthy of my contempt. I suggest you put your mind on the task that I am about to place before you, rather than focusing on your own pathetic existence. You are only here to serve me and your life hangs on my whims. Are we understood?
			string_id message = new string_id (c_stringFile, "s_530");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I hear you loud and clear.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_532");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 118);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You still have much to learn, my young pilot. There is no YOUR way. There is only the way of the Inquisition and the way of the Emperor. Nothing else matters. To ever be more than just a simple pilot, you must lose your pathetic, self-indulgent ego. I can show you the way down the path to true power but until you choose to take it, you will be nothing more than a slimy, little worm.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Please show me the way to true power, High Inquisitor.
	if (response == "s_512")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: First you must complete the tasks that I will lay before you. You will travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. I want answers about what is going on.
			string_id message = new string_id (c_stringFile, "s_514");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: As you command, High Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_516");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thanks. I am so good power and glory will just come a knockin'.
	if (response == "s_520")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well, worm. Let me know when it shows up, but until that time you have work to do...MY WORK! Your next assignment is the Dathomir system. There have been an increasing number of reports of unauthorized access to the system. This begs many questions and I want the answers. You will get me those answers...understood?
			string_id message = new string_id (c_stringFile, "s_522");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure. Sounds like a cake walk.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_524");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 116);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First you must complete the tasks that I will lay before you. You will travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. I want answers about what is going on.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As you command, High Inquisitor.
	if (response == "s_516")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I will have command transmit a patrol route that you will fly once you enter the Dathomir system. Keep a careful watch for any unauthorized activity. I have a strange feeling that this will only be the first step down a long path. You may leave my presence now.
			string_id message = new string_id (c_stringFile, "s_518");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well, worm. Let me know when it shows up, but until that time you have work to do...MY WORK! Your next assignment is the Dathomir system. There have been an increasing number of reports of unauthorized access to the system. This begs many questions and I want the answers. You will get me those answers...understood?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure. Sounds like a cake walk.
	if (response == "s_524")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I will forgive your insolence and call it the follies of youth. But make no mistake...Dathomir is not for the weak of spirit. I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. Now get out of my sight before I decide that youth isn't a good enough excuse. Oh, and worm...fail me and you will find yourself firmly on a hook!
			string_id message = new string_id (c_stringFile, "s_526");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch118 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mock you? You are not even worthy of my contempt. I suggest you put your mind on the task that I am about to place before you, rather than focusing on your own pathetic existence. You are only here to serve me and your life hangs on my whims. Are we understood?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hear you loud and clear.
	if (response == "s_532")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: You think that you are strong and unbendable? I have found the harder it is to bend the easier it is to break. You...I could crumble into dust in scant seconds. But I do not have even those scant seconds to waste. You have to do an assignment for me...perhaps we can get back to this later.
			string_id message = new string_id (c_stringFile, "s_534");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perhaps. Now what do you want me to do?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_536");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 119);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch119 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You think that you are strong and unbendable? I have found the harder it is to bend the easier it is to break. You...I could crumble into dust in scant seconds. But I do not have even those scant seconds to waste. You have to do an assignment for me...perhaps we can get back to this later.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps. Now what do you want me to do?
	if (response == "s_536")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are to travel to Dathomir, my little worm. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.
			string_id message = new string_id (c_stringFile, "s_538");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure thing. Shouldn't be a problem.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_540");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch120 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to travel to Dathomir, my little worm. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure thing. Shouldn't be a problem.
	if (response == "s_540")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I hope for your sake that it is not. I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. Oh, and worm...fail me and you will find yourself firmly on a hook!
			string_id message = new string_id (c_stringFile, "s_542");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A willing mind? How refreshing. I was getting so tired of the standard military pilots. Such wastes. But I suppose they do have their uses...they are nice fodder for the war effort. Don't you agree?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could care less about those weak fools.
	if (response == "s_548")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: This just gets better and better. You remind me of one of my children...of course, I had to put them all to the question some time ago...
			string_id message = new string_id (c_stringFile, "s_550");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: High Inquisitor?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_552");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 123);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Someone has to die. Might as well be them.
	if (response == "s_572")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: My thoughts exactly. The true power of the Empire lies only in the Emperor and those who understand that. I can see you understand that. Enough pleasantries, time for the reason you are here. You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.
			string_id message = new string_id (c_stringFile, "s_574");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: At the Emperor's will, my lord.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_576");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 129);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch123 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This just gets better and better. You remind me of one of my children...of course, I had to put them all to the question some time ago...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: High Inquisitor?
	if (response == "s_552")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is nothing. Just old memories. Pilot, never listen to your memories! They tell nothing but lies. Now, on to your assignment. You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.
			string_id message = new string_id (c_stringFile, "s_554");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Dathomir? Interesting world.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: As you wish, my lord.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_556");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_568");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch124 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is nothing. Just old memories. Pilot, never listen to your memories! They tell nothing but lies. Now, on to your assignment. You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Dathomir? Interesting world.
	if (response == "s_556")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I hope you have never been there. The planet, Dathomir, is forbidden to all by Imperial decree and there is only one punishment for violating the order of the Emperor...slow, painful death! You cannot even enter the system without proper authorization. It would be such a shame to have to waste a talent like yours.
			string_id message = new string_id (c_stringFile, "s_558");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I go where I please.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have never had a reason to go to Dathomir.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_560");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_564");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 125);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As you wish, my lord.
	if (response == "s_568")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Excellent. I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. You have your command...now go!
			string_id message = new string_id (c_stringFile, "s_570");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch125 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope you have never been there. The planet, Dathomir, is forbidden to all by Imperial decree and there is only one punishment for violating the order of the Emperor...slow, painful death! You cannot even enter the system without proper authorization. It would be such a shame to have to waste a talent like yours.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I go where I please.
	if (response == "s_560")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I will simply assume that means no. I cannot afford to lose you at this moment. I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. You may leave now.
			string_id message = new string_id (c_stringFile, "s_562");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have never had a reason to go to Dathomir.
	if (response == "s_564")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Good. You are to stay off that planet. Now I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. Dismissed.
			string_id message = new string_id (c_stringFile, "s_566");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch129 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My thoughts exactly. The true power of the Empire lies only in the Emperor and those who understand that. I can see you understand that. Enough pleasantries, time for the reason you are here. You are to travel to Dathomir. I have been receiving some very disturbing reports of unauthorized activity within the system. You will find out what is going on there for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: At the Emperor's will, my lord.
	if (response == "s_576")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I will have command transmit a patrol route that I wish you to fly once you enter the Dathomir system. Follow the route and keep a careful watch for any unauthorized activity. These reports I have been receiving have left me feeling uneasy. I will know what is going on there. May the Emperor's blessing be on you, %NU.
			string_id message = new string_id (c_stringFile, "s_578");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch131 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is time for you to learn about heavy starship component use.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_328")
	{
		naboo_imperial_tier4_action_grantWeaponSkill (player, npc);

		//-- [NOTE] Now go do Mission Four.
		if (naboo_imperial_tier4_condition_hasCompletedMissionThree (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: You are nearly finished with your training. It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.
			string_id message = new string_id (c_stringFile, "s_334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are your orders, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Great, time for me to save the Empire, yet again.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to test out my new ability.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_336");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_344");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (naboo_imperial_tier4_condition_hasCompletedMissionTwo (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I hope that your skills serve me well as we begin the next stage of our operation. I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.
			string_id message = new string_id (c_stringFile, "s_360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you learn from him?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am sorry you didn't enjoy your work.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: There is no strength of will in people anymore.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two.
		if (naboo_imperial_tier4_condition_hasCompletedMissionOne (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: It is a good thing that you returned for training when you did, I was about to send a probe droid out after you. Just a little humor there, but in all seriousness, it is good that you have returned. We have completed our analysis of that crystal you recovered.
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find out about it, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That joke, and I use that term loosely, was terrible.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to serve, if the Emperor wills it.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_462");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I think that you might find that skill very useful. Especially now that I have need of your...unique talents. After all, idle hands are a dangerous thing.
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready to serve, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's about time you let me do my thing.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am yours to command, High Inquisitor.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch132 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is time for you to learn about elite TIE guard training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_330")
	{
		naboo_imperial_tier4_action_grantProcedureSkill (player, npc);

		//-- [NOTE] Now go do Mission Four.
		if (naboo_imperial_tier4_condition_hasCompletedMissionThree (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: You are nearly finished with your training. It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.
			string_id message = new string_id (c_stringFile, "s_334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are your orders, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Great, time for me to save the Empire, yet again.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to test out my new ability.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_336");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_344");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (naboo_imperial_tier4_condition_hasCompletedMissionTwo (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I hope that your skills serve me well as we begin the next stage of our operation. I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.
			string_id message = new string_id (c_stringFile, "s_360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you learn from him?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am sorry you didn't enjoy your work.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: There is no strength of will in people anymore.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two.
		if (naboo_imperial_tier4_condition_hasCompletedMissionOne (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: It is a good thing that you returned for training when you did, I was about to send a probe droid out after you. Just a little humor there, but in all seriousness, it is good that you have returned. We have completed our analysis of that crystal you recovered.
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find out about it, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That joke, and I use that term loosely, was terrible.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to serve, if the Emperor wills it.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_462");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I think that you might find that skill very useful. Especially now that I have need of your...unique talents. After all, idle hands are a dangerous thing.
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready to serve, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's about time you let me do my thing.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am yours to command, High Inquisitor.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch133 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is time for you to learn about droid intelligence theory.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_332")
	{
		naboo_imperial_tier4_action_grantDroidSkill (player, npc);

		//-- [NOTE] Now go do Mission Four.
		if (naboo_imperial_tier4_condition_hasCompletedMissionThree (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: You are nearly finished with your training. It has been a long journey for you but you are nearing the end. I do have need of an extra pilot though. And since you are already here, you will do nicely.
			string_id message = new string_id (c_stringFile, "s_334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are your orders, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Great, time for me to save the Empire, yet again.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to test out my new ability.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_336");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_344");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (naboo_imperial_tier4_condition_hasCompletedMissionTwo (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I hope that your skills serve me well as we begin the next stage of our operation. I broke the Coynite mercenary, as I knew I would. Sadly he was no where near as strong as I had hoped he would be. Such a disappointment.
			string_id message = new string_id (c_stringFile, "s_360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you learn from him?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am sorry you didn't enjoy your work.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: There is no strength of will in people anymore.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two.
		if (naboo_imperial_tier4_condition_hasCompletedMissionOne (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: It is a good thing that you returned for training when you did, I was about to send a probe droid out after you. Just a little humor there, but in all seriousness, it is good that you have returned. We have completed our analysis of that crystal you recovered.
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find out about it, sir?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That joke, and I use that term loosely, was terrible.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am ready to serve, if the Emperor wills it.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_462");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One.
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: I think that you might find that skill very useful. Especially now that I have need of your...unique talents. After all, idle hands are a dangerous thing.
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready to serve, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: It's about time you let me do my thing.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am yours to command, High Inquisitor.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've been waiting for you, pilot. It's about time you got here. There's no time to waste. I've prepped a briefing for you, are you ready?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course.
	if (response == "s_277")
	{
		naboo_imperial_tier4_action_setMetMe (player, npc);

		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  
			string_id message = new string_id (c_stringFile, "s_85c9e37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d7e0eff");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch135 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	//-- NPC: Work teaches discipline! Never waste a minute of your time. The Emperor needs your service, always. Tell me, are you ready to accept a duty mission, or would you like to hear the briefing again?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Those pirates won't know what hit them.
	if (response == "s_851406fb")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. I wish you luck. Pirates must die.
			string_id message = new string_id (c_stringFile, "s_1a40d259");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
	if (response == "s_82095b20")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: I enjoy prisons, myself. Always full of men in need of discipline. 
			string_id message = new string_id (c_stringFile, "s_84350489");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I'd like to bring those rogue Imperials in.
	if (response == "s_60a8bfcb")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: Yes. Quite unusual! Imperials are usually so well-behaved. Maybe it's just a paperwork error. Regardless, bring them in.
			string_id message = new string_id (c_stringFile, "s_647c9fa9");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: I'll clear those damaged ships.
	if (response == "s_be7e95c")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Please do. They're an eyesore.
			string_id message = new string_id (c_stringFile, "s_5ca877f1");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  
			string_id message = new string_id (c_stringFile, "s_85c9e37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d7e0eff");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch140 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm.
	if (response == "s_8d7e0eff")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Or you could escort prison ships to Dathomir - the guards are always eager to see a new face.
			string_id message = new string_id (c_stringFile, "s_327da557");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch141 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Or you could escort prison ships to Dathomir - the guards are always eager to see a new face.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: We need a pilot to bring in a few Imperial ships that are here without authorization.
			string_id message = new string_id (c_stringFile, "s_f76cec26");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Anything else?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362a48e0");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 142);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch142 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We need a pilot to bring in a few Imperial ships that are here without authorization.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anything else?
	if (response == "s_362a48e0")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: There are always ships taking damage in this system. They need a pilot to guide them in for repairs. 
			string_id message = new string_id (c_stringFile, "s_ee9d18a3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Those pirates won't know what hit them.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to bring those rogue Imperials in.
			boolean hasResponse2 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'll clear those damaged ships.
			boolean hasResponse3 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Can I hear the briefing again?
			boolean hasResponse4 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851406fb");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82095b20");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60a8bfcb");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_be7e95c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 135);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch143 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There are always ships taking damage in this system. They need a pilot to guide them in for repairs. 

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Those pirates won't know what hit them.
	if (response == "s_851406fb")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. I wish you luck. Pirates must die.
			string_id message = new string_id (c_stringFile, "s_1a40d259");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
	if (response == "s_82095b20")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: I enjoy prisons, myself. Always full of men in need of discipline. 
			string_id message = new string_id (c_stringFile, "s_84350489");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I'd like to bring those rogue Imperials in.
	if (response == "s_60a8bfcb")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: Yes. Quite unusual! Imperials are usually so well-behaved. Maybe it's just a paperwork error. Regardless, bring them in.
			string_id message = new string_id (c_stringFile, "s_647c9fa9");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: I'll clear those damaged ships.
	if (response == "s_be7e95c")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Please do. They're an eyesore.
			string_id message = new string_id (c_stringFile, "s_5ca877f1");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  
			string_id message = new string_id (c_stringFile, "s_85c9e37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d7e0eff");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch144 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A very interesting order came across my desk just a few moments ago. What is your relationship with Grand Admiral Nial Declann?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Grand Admiral Nial Declann?
	if (response == "s_7177c3f2")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hmm, you really don't know do you? Admiral Nial Declann is one of the twelve men in charge of the Imperial Navy. He wields great power and is said to be favored by the Emperor. I am just curious as to why this order says that you are to be immediately transferred under his command?
			string_id message = new string_id (c_stringFile, "s_55905a28");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I really don't know, Inquisitor.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a4b30c88");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 145);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know Grand Admiral Nial Declann.
	if (response == "s_fae9dc1b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perhaps. Perhaps not. You are ordered to report to Grand Admiral Nial Declann immediately. Why he has asked for you I do not yet know, but I assure you I will find out. I do not like this but I do not have the authority to ignore a direct order from a Grand Admiral.
			string_id message = new string_id (c_stringFile, "s_cd04b926");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where am I to report to?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58edcac7");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 149);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh, me and Grand Admiral Nial Declann go way back.
	if (response == "s_a3aef707")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I do not find your pathetic attempt at humor amusing. You are speaking about a Grand Admiral of the Imperial Navy and someone who has the ear of the Emperor. Even I would not be foolish enough to make light of such a man.
			string_id message = new string_id (c_stringFile, "s_c33416a7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, Inquisitor. It won't happen again.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3b9d259a");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 152);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch145 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm, you really don't know do you? Admiral Nial Declann is one of the twelve men in charge of the Imperial Navy. He wields great power and is said to be favored by the Emperor. I am just curious as to why this order says that you are to be immediately transferred under his command?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really don't know, Inquisitor.
	if (response == "s_a4b30c88")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perhaps it wouldn't be a bad thing to have a member of the Inquisition working for a Grand Admiral. Who knows what secrets we might uncover. Yes, I think that this will be most enlightening.
			string_id message = new string_id (c_stringFile, "s_3e261fd0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you say so, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6844241f");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 146);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch146 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perhaps it wouldn't be a bad thing to have a member of the Inquisition working for a Grand Admiral. Who knows what secrets we might uncover. Yes, I think that this will be most enlightening.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you say so, sir.
	if (response == "s_6844241f")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I do indeed, as you put it...say so. You are to report to Grand Admiral Nial Declann, perform your duties for him without question, and you are to keep your eyes open. Learn everything you can about this man and his goals. I think we can both learn from this experience.
			string_id message = new string_id (c_stringFile, "s_a9a7c838");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do my best. Where am I to report to?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_270e6f7b");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 147);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch147 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I do indeed, as you put it...say so. You are to report to Grand Admiral Nial Declann, perform your duties for him without question, and you are to keep your eyes open. Learn everything you can about this man and his goals. I think we can both learn from this experience.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do my best. Where am I to report to?
	if (response == "s_270e6f7b")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Grand Admiral is stationed in Theed Palace. From what I understand its gaudy and worldly walls suit his personality just right. Go now. Do not keep the Grand Admiral waiting. There is much work to be done.
			string_id message = new string_id (c_stringFile, "s_a0d28eb");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch149 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perhaps. Perhaps not. You are ordered to report to Grand Admiral Nial Declann immediately. Why he has asked for you I do not yet know, but I assure you I will find out. I do not like this but I do not have the authority to ignore a direct order from a Grand Admiral.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where am I to report to?
	if (response == "s_58edcac7")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Grand Admiral is stationed inside the palace walls of that treacherous woman. I still am not sure why the Emperor has allowed her to continue to rule and not turned her over to me. Regardless, I am sure he has his reasons.
			string_id message = new string_id (c_stringFile, "s_365243f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you mean Theed Palace and Queen Kylantha?
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83803b19");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 150);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch150 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Grand Admiral is stationed inside the palace walls of that treacherous woman. I still am not sure why the Emperor has allowed her to continue to rule and not turned her over to me. Regardless, I am sure he has his reasons.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you mean Theed Palace and Queen Kylantha?
	if (response == "s_83803b19")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Who do you think I was talking about? Sometimes I really wonder about you and what your agenda is. But I have time to find out, oh yes, I always have time. You are dismissed, do not keep the Grand Admiral waiting. I understand that he is an extremely impatient man. 
			string_id message = new string_id (c_stringFile, "s_ee94373b");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch152 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I do not find your pathetic attempt at humor amusing. You are speaking about a Grand Admiral of the Imperial Navy and someone who has the ear of the Emperor. Even I would not be foolish enough to make light of such a man.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, Inquisitor. It won't happen again.
	if (response == "s_3b9d259a")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: See that it doesn't, or you may find yourself back here answering a few more questions. I have orders here that you are to be transferred to the Grand Admiral in the Theed Palace. I find it most interesting that you were asked for by name. Doesn't it seem strange to you that a Grand Admiral would even know your name?
			string_id message = new string_id (c_stringFile, "s_d8b3a5bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perhaps he has records, sir.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, it does seem strange.
			boolean hasResponse1 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3b2c48b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5dff5608");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 153);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch153 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: See that it doesn't, or you may find yourself back here answering a few more questions. I have orders here that you are to be transferred to the Grand Admiral in the Theed Palace. I find it most interesting that you were asked for by name. Doesn't it seem strange to you that a Grand Admiral would even know your name?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps he has records, sir.
	if (response == "s_3b2c48b2")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bah! I assure you that I will find out the truth of why he asked for you. If I could I would keep you here until I found out the truth but even I cannot ignore an order from a Grand Admiral. You are to immediately report to the Grand Admiral Declann. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_8bae75a0");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, it does seem strange.
	if (response == "s_5dff5608")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Report to the Grand Admiral Declann immediately. Just remember where your allegiance lies, pilot. Because if it ever falters not even a Grand Admiral can protect you from me. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_c28f20f3");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_imperial_tier4_handleBranch156 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you are back. Did your visit with the Grand Admiral go well? Are you here for my pleasant company or did you come back looking for work?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Those pirates won't know what hit them.
	if (response == "s_851406fb")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. I wish you luck. Pirates must die.
			string_id message = new string_id (c_stringFile, "s_1a40d259");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
	if (response == "s_82095b20")
	{
		//-- [NOTE] Get to work
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: I enjoy prisons, myself. Always full of men in need of discipline. 
			string_id message = new string_id (c_stringFile, "s_84350489");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I'd like to bring those rogue Imperials in.
	if (response == "s_60a8bfcb")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: Yes. Quite unusual! Imperials are usually so well-behaved. Maybe it's just a paperwork error. Regardless, bring them in.
			string_id message = new string_id (c_stringFile, "s_647c9fa9");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: I'll clear those damaged ships.
	if (response == "s_be7e95c")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			naboo_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Please do. They're an eyesore.
			string_id message = new string_id (c_stringFile, "s_5ca877f1");
			utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well. The situation report is as follows: Smugglers continue to infiltrate this system. Diplomacy's no use with them; they only understand the business end of a space blaster. So, you could clear them out.  
			string_id message = new string_id (c_stringFile, "s_85c9e37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm.
			boolean hasResponse0 = false;
			if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d7e0eff");

				utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_imperial_tier4");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_IMPERIAL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_IMPERIAL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_imperial_tier4");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] You're the wrong faction.
	if (naboo_imperial_tier4_condition_isWrongFaction (player, npc))
	{
		//-- NPC: I have no idea how you managed to get down this far but I would suggest that you leave immediately before something happens to you. People who don't belong here often find themselves losing everything.
		string_id message = new string_id (c_stringFile, "s_8a7c509a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_imperial_tier4_condition_isPilot (player, npc))
	{
		//-- NPC: I am sure that you are just filled with fascinating stories. But I would rather not listen to any of them. I am in need of skilled pilots, not ground pounders.
		string_id message = new string_id (c_stringFile, "s_4b509b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_imperial_tier4_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "cover_mouth");

		//-- NPC: I have heard bad things about you, %TU.
		string_id message = new string_id (c_stringFile, "s_e3ea301");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Like what?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_53de9d8f");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 3);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "naboo_imperial_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_imperial_tier4_condition_onMyTrack (player, npc))
	{
		//-- NPC: Ah, a young pilot. What brings you here, so far from your assigned squadron?
		string_id message = new string_id (c_stringFile, "s_3a3805e3");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I would like to request a mission.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4854758d");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 6);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're not through tier-3 yet
	if (!naboo_imperial_tier4_condition_hasCompletedTier3 (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: You are one of our younger pilots, are you not? Of course you are. Is discipline in the ranks of the Inquisition breaking down so much that junior pilots think they can talk to a Grand Inquisitor unannounced? Perhaps it is time to purge out our slothful and weak...Why haven't you left yet?
		string_id message = new string_id (c_stringFile, "s_a11a905b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're busy.  Already doing a mission.  Hup hup, go do it.
	if (naboo_imperial_tier4_condition_isOnMission (player, npc))
	{
		//-- NPC: You are already on a task. The Emperor would be most displeased to find out that his pilots are derelict in their duties. Get back to work.
		string_id message = new string_id (c_stringFile, "s_fcbb92d0");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 1, do it over.
	if (naboo_imperial_tier4_condition_faliedMissionOne (player, npc))
	{
		//-- NPC: So you have failed. That is most distressing. I tasked you with such a simple task and you come back here with your tail between your legs like some mongrel dog.
		string_id message = new string_id (c_stringFile, "s_a6380860");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm trying.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Give me another chance. I will not fail again.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_67183c1c");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_26bb0194");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 12);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 2, do it over.
	if (naboo_imperial_tier4_condition_failedMissionTwo (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		//-- NPC: %TU, you were given this assignment because you were good. But you don't seem particularly skilled.
		string_id message = new string_id (c_stringFile, "s_cfb7c310");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: That problem was just a temporary setback. Don't worry.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll get the job done.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_97ce1c41");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e69b471b");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 17);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "naboo_imperial_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 3, do it over.
	if (naboo_imperial_tier4_condition_failedMissionThree (player, npc))
	{
		doAnimationAction (npc, "hair_flip");

		//-- NPC: Where is the data from that communications satellite?
		string_id message = new string_id (c_stringFile, "s_1bfd2d3e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I haven't been able to bring it back yet, sir. But I'll take care of it.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: My mission's not complete.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_85b1adc5");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_873e726e");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 21);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 4, do it over.
	if (naboo_imperial_tier4_condition_failedMissionFour (player, npc))
	{
		//-- NPC: How unfortunate that you are unable to do your job.
		string_id message = new string_id (c_stringFile, "s_91d10a84");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It'll get done.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's harder than it looks, you know.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_7017e938");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_39ec8285");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 26);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission one and so here is your reward.
	if (naboo_imperial_tier4_condition_isGettingMissionOneReward (player, npc))
	{
		//-- NPC: So you have returned. We have just received those interesting rocks you recovered from that unauthorized vessel. Did you leave the pilot just floating out there or did you finish him off after the search...wait! Don't tell me, I find it more amusing to think of him floating helpless in the cold depths of space.
		string_id message = new string_id (c_stringFile, "s_417ab2a4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What were those crystals, sir?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: See, I told you I would get this job done.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: He got what was coming to him for his disobedience.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_834bed59");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5c9b37f9");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e479ad44");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 31);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission two and so here is your reward.
	if (naboo_imperial_tier4_condition_isGettingMissionTwoReward (player, npc))
	{
		naboo_imperial_tier4_action_rewardForMissionTwo (player, npc);

		//-- NPC: So, yet again, you have accomplished the task that I placed before you. The Emperor was most pleased with your progress and has issued a reward for you. Here it is.
		string_id message = new string_id (c_stringFile, "s_c4f74be1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, sir. What is the next step?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Excellent. I was getting a little short on credits.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I am honored that the Emperor took notice of his humble servant.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_64ce1b1d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_40671b7a");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f5d2aa8d");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 44);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission three and so here is your reward.
	if (naboo_imperial_tier4_condition_isGettingMissionThreeReward (player, npc))
	{
		naboo_imperial_tier4_action_rewardForMissionThree (player, npc);

		//-- NPC: The Coynite should no longer be a problem for us in the Dathomir system. Without their flagship they will have no staging point to continue their activities. You've completed your mission to the Emperor's satisfaction. Here is your duty pay.
		string_id message = new string_id (c_stringFile, "s_bcd45d4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, sir. Will there be anything else?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm going to spend every credit of it!
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: The Coynite were foolish to attempt to circumvent the will of the Emperor.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_28b58d98");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_32bd6884");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_593c68fd");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 50);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission four and so here is your reward.
	if (naboo_imperial_tier4_condition_isGettingMissionFourReward (player, npc))
	{
		//-- NPC: You have performed wonderfully with an alarming situation. It would seem that I had under estimated the resolve of the Coynite to finish a job that they were paid to do. I am most impressed with them. Based off of the single one I had dealings with I wouldn't have thought they had it in them.
		string_id message = new string_id (c_stringFile, "s_5a0327df");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I think they are finished now, sir.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I told you and you wouldn't listen...I am the BEST!
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: They should have left well enough alone.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_57a5120c");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2bfb5526");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_44867e8a");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 57);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_imperial_tier4_condition_isReadyForMission (player, npc))
	{
		//-- NPC: If you are done wasting time, there is work to be done. Are you ready?
		string_id message = new string_id (c_stringFile, "s_ace49d41");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_52917b0d");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 61);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're ready for a new skill, which would you like?
	if (naboo_imperial_tier4_condition_isReadyForTraining (player, npc))
	{
		doAnimationAction (npc, "tap_foot");

		//-- NPC: You must be here for your skills upgrade. Well, let's make this quick.
		string_id message = new string_id (c_stringFile, "s_5dce257f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What skill am I to learn?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_319");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 66);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_imperial_tier4_condition_hasMetMe (player, npc))
	{
		//-- NPC: I've been waiting for you, pilot. It's about time you got here. There's no time to waste. I've prepped a briefing for you, are you ready?
		string_id message = new string_id (c_stringFile, "s_59da8c80");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_277");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 134);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	if (!naboo_imperial_tier4_condition_hasCompletedTier4 (player, npc))
	{
		//-- NPC: Work teaches discipline! Never waste a minute of your time. The Emperor needs your service, always. Tell me, are you ready to accept a duty mission, or would you like to hear the briefing again?
		string_id message = new string_id (c_stringFile, "s_d70698c1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Those pirates won't know what hit them.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'd like to bring those rogue Imperials in.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'll clear those damaged ships.
		boolean hasResponse3 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Can I hear the briefing again?
		boolean hasResponse4 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_851406fb");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_82095b20");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60a8bfcb");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_be7e95c");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 135);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_imperial_tier4_condition_hasMasterSkill (player, npc))
	{
		//-- NPC: A very interesting order came across my desk just a few moments ago. What is your relationship with Grand Admiral Nial Declann?
		string_id message = new string_id (c_stringFile, "s_6fb4f06a");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Who is Grand Admiral Nial Declann?
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't know Grand Admiral Nial Declann.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Oh, me and Grand Admiral Nial Declann go way back.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_7177c3f2");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fae9dc1b");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a3aef707");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 144);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
	{
		//-- NPC: So you are back. Did your visit with the Grand Admiral go well? Are you here for my pleasant company or did you come back looking for work?
		string_id message = new string_id (c_stringFile, "s_145d7cc3");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Those pirates won't know what hit them.
		boolean hasResponse0 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll take those prisoners to Dathomir. Sounds like fun.
		boolean hasResponse1 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'd like to bring those rogue Imperials in.
		boolean hasResponse2 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'll clear those damaged ships.
		boolean hasResponse3 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Can I hear the briefing again?
		boolean hasResponse4 = false;
		if (naboo_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_851406fb");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_82095b20");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60a8bfcb");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_be7e95c");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

			utils.setScriptVar (player, "conversation.naboo_imperial_tier4.branchId", 135);

			npcStartConversation (player, npc, "naboo_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_imperial_tier4")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

	if (branchId == 3 && naboo_imperial_tier4_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && naboo_imperial_tier4_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && naboo_imperial_tier4_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && naboo_imperial_tier4_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && naboo_imperial_tier4_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_imperial_tier4_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && naboo_imperial_tier4_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && naboo_imperial_tier4_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && naboo_imperial_tier4_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && naboo_imperial_tier4_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && naboo_imperial_tier4_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && naboo_imperial_tier4_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && naboo_imperial_tier4_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && naboo_imperial_tier4_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && naboo_imperial_tier4_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && naboo_imperial_tier4_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && naboo_imperial_tier4_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && naboo_imperial_tier4_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && naboo_imperial_tier4_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && naboo_imperial_tier4_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && naboo_imperial_tier4_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && naboo_imperial_tier4_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && naboo_imperial_tier4_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && naboo_imperial_tier4_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && naboo_imperial_tier4_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && naboo_imperial_tier4_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && naboo_imperial_tier4_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && naboo_imperial_tier4_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && naboo_imperial_tier4_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && naboo_imperial_tier4_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && naboo_imperial_tier4_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && naboo_imperial_tier4_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && naboo_imperial_tier4_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && naboo_imperial_tier4_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && naboo_imperial_tier4_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && naboo_imperial_tier4_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && naboo_imperial_tier4_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && naboo_imperial_tier4_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && naboo_imperial_tier4_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && naboo_imperial_tier4_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && naboo_imperial_tier4_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && naboo_imperial_tier4_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && naboo_imperial_tier4_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && naboo_imperial_tier4_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && naboo_imperial_tier4_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && naboo_imperial_tier4_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && naboo_imperial_tier4_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && naboo_imperial_tier4_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && naboo_imperial_tier4_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && naboo_imperial_tier4_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && naboo_imperial_tier4_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && naboo_imperial_tier4_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && naboo_imperial_tier4_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && naboo_imperial_tier4_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && naboo_imperial_tier4_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && naboo_imperial_tier4_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && naboo_imperial_tier4_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && naboo_imperial_tier4_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && naboo_imperial_tier4_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && naboo_imperial_tier4_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && naboo_imperial_tier4_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && naboo_imperial_tier4_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && naboo_imperial_tier4_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && naboo_imperial_tier4_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && naboo_imperial_tier4_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && naboo_imperial_tier4_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && naboo_imperial_tier4_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && naboo_imperial_tier4_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && naboo_imperial_tier4_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && naboo_imperial_tier4_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && naboo_imperial_tier4_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && naboo_imperial_tier4_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && naboo_imperial_tier4_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && naboo_imperial_tier4_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && naboo_imperial_tier4_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && naboo_imperial_tier4_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && naboo_imperial_tier4_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && naboo_imperial_tier4_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && naboo_imperial_tier4_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 118 && naboo_imperial_tier4_handleBranch118 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 119 && naboo_imperial_tier4_handleBranch119 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 120 && naboo_imperial_tier4_handleBranch120 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && naboo_imperial_tier4_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 123 && naboo_imperial_tier4_handleBranch123 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 124 && naboo_imperial_tier4_handleBranch124 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 125 && naboo_imperial_tier4_handleBranch125 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 129 && naboo_imperial_tier4_handleBranch129 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 131 && naboo_imperial_tier4_handleBranch131 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 132 && naboo_imperial_tier4_handleBranch132 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 133 && naboo_imperial_tier4_handleBranch133 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && naboo_imperial_tier4_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 135 && naboo_imperial_tier4_handleBranch135 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 140 && naboo_imperial_tier4_handleBranch140 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 141 && naboo_imperial_tier4_handleBranch141 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 142 && naboo_imperial_tier4_handleBranch142 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 143 && naboo_imperial_tier4_handleBranch143 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 144 && naboo_imperial_tier4_handleBranch144 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 145 && naboo_imperial_tier4_handleBranch145 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 146 && naboo_imperial_tier4_handleBranch146 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 147 && naboo_imperial_tier4_handleBranch147 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 149 && naboo_imperial_tier4_handleBranch149 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 150 && naboo_imperial_tier4_handleBranch150 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 152 && naboo_imperial_tier4_handleBranch152 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 153 && naboo_imperial_tier4_handleBranch153 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 156 && naboo_imperial_tier4_handleBranch156 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_imperial_tier4.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

