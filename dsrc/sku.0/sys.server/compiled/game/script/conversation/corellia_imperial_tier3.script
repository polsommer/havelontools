// ======================================================================
//
// corellia_imperial_tier3.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/corellia_imperial_tier3";

// ======================================================================
// Script Conditions
// ======================================================================

boolean corellia_imperial_tier3_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_isCorrectFaction (obj_id player, obj_id npc)
{
	//if this is an Imperial trainer, make sure the player is an Imperial Pilot
	//if it is Rebel, then make sure the player is a rebel pilot, etc.
	//return FALSE if this NPC should NOT talk to this player!
	
	return ( hasSkill( player, "pilot_imperial_navy_novice" ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_isReadyForTier3 (obj_id player, obj_id npc)
{
	/*
	//if you're missing any of these skills, then you aren't ready for tier3
	if (!hasSkill( player, "pilot_imperial_navy_starships_02") )
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_procedures_02") )
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_weapons_02") )
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_droid_02" ) )
		return false;
	else	
		return true;
	*/
	
	return space_flags.hasCompletedTierTwo(player);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_isOnQuest (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest( player ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_failedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "patrol", "corellia_imperial_tier3_1" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "patrol", "corellia_imperial_tier3_1" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_failedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "recovery", "corellia_imperial_tier3_2" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "recovery", "corellia_imperial_tier3_2" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_failedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "rescue", "corellia_imperial_tier3_3" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "rescue", "corellia_imperial_tier3_3" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_failedQuestFour (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "recovery", "corellia_imperial_tier3_4" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "recovery", "corellia_imperial_tier3_4" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.IMPERIAL_CORELLIA);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_collectingQuestOneReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "patrol", "corellia_imperial_tier3_1"))
		return false;//you haven't completed it, so you can't be here for the reward

	//for quest One, we say they have not been rewarded yet if they have no tier3 skills:
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") ||
         hasSkill( player, "pilot_imperial_navy_procedures_03") ||
		 hasSkill( player, "pilot_imperial_navy_weapons_03")  ||
		 hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		 {
		 	return false;//you have a skill so you must have already been rewarded
		 }
	return true;//you must be here for the reward
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_collectingQuestTwoReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier3_2"))
		return false;//haven't done it, so must not be here for the reward

	//we assume if you have two skills then you have already been rewarded for this quest
	int skillCount = 0;
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") )
		skillCount++;
		
	if ( hasSkill( player, "pilot_imperial_navy_procedures_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_weapons_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		skillCount++;
		
	if ( skillCount < 2 )
		return true;//return true because you have less than 2 skills, must not have been rewarded for this
	else
		return false;//you must have already been rewarded for this	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_collectingQuestThreeReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "rescue", "corellia_imperial_tier3_3"))
		return false;//haven't completed this yet, so must not be here for the reward
		
	//we assume if you have three skills then you have already been rewarded for this quest
	int skillCount = 0;
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") )
		skillCount++;
		
	if ( hasSkill( player, "pilot_imperial_navy_procedures_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_weapons_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		skillCount++;
		
	if ( skillCount < 3 )
		return true;//return true because you have less than 3 skills, must not have been rewarded for this
	else
		return false;//you must have already been rewarded for this	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_collectingQuestFourReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier3_4"))
		return false;//haven't completed this yet, so must not be here for the reward
		
	//if you do NOT have ALL FOUR skills then you have NOT been rewarded for this quest
	if (!hasSkill( player, "pilot_imperial_navy_starships_03") )
		return true;//guess you need a reward
		
	if (!hasSkill( player, "pilot_imperial_navy_procedures_03") )
		return true;//guess you need a reward
	
	if (!hasSkill( player, "pilot_imperial_navy_weapons_03") )
		return true;//guess you need a reward
	
	if (!hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		return true;//guess you need a reward
		
	return false;//you must have already been rewarded for this, because you have all the skills
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_IMPERIAL ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasCompletedQuestOne (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return ( space_quest.hasCompletedQuestRecursive( player, "patrol", "corellia_imperial_tier3_1"));
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasCompletedQuestTwo (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return (space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier3_2"));
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasCompletedQuestThree (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return (space_quest.hasCompletedQuestRecursive( player, "rescue", "corellia_imperial_tier3_3"));
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasCompletedQuestFour (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return ( space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier3_4"));
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasStarship03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_starships_03" ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasProcedure03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_procedures_03" ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasWeapon03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_weapons_03" ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier3_condition_hasDroid03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_droid_03" ) );
}

// ======================================================================
// Script Actions
// ======================================================================

void corellia_imperial_tier3_action_grantQuestOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "patrol", "corellia_imperial_tier3_1");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantQuestTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery", "corellia_imperial_tier3_2");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantQuestThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "rescue", "corellia_imperial_tier3_3");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantQuestFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery", "corellia_imperial_tier3_4");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_rewardForQuestOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "patrol", "corellia_imperial_tier3_1") )
	{
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
		space_quest.giveReward( player, "patrol", "corellia_imperial_tier3_1", 25000, "object/tangible/ship/components/weapon_capacitor/cap_mission_reward_imperial_rendili_k_class.iff");
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_rewardForQuestTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "corellia_imperial_tier3_2") )
	{
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
		space_quest.giveReward( player, "recovery", "corellia_imperial_tier3_2", 25000, "object/tangible/ship/components/droid_interface/ddi_mission_reward_imperial_sfs_military_grade.iff");
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_rewardForQuestThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "rescue", "corellia_imperial_tier3_3") )
	{
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
		space_quest.giveReward( player, "rescue", "corellia_imperial_tier3_3", 25000, "object/tangible/ship/components/reactor/rct_mission_reward_imperial_sds_high_output.iff");
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_rewardForQuestFour (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "corellia_imperial_tier3_4") )
	{
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
		space_quest.giveReward( player, "recovery", "corellia_imperial_tier3_4", 25000, "object/tangible/ship/components/engine/eng_mission_reward_imperial_cygnus_megadrive.iff");
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantProceduresSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_procedures_03");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantDroidSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_droid_03" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantWeaponSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_weapons_03");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier3_action_grantStarshipSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_starships_03");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int corellia_imperial_tier3_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You treasonous worm.  How dare you even show your face.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_77e48d5b")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Reports are you've been working against the Empire... assisting the Rebel Alliance.  Well?  What do you have to say for yourself?
			string_id message = new string_id (c_stringFile, "s_28d87347");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm loyal to the Empire!
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_765d3767");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Reports are you've been working against the Empire... assisting the Rebel Alliance.  Well?  What do you have to say for yourself?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm loyal to the Empire!
	if (response == "s_765d3767")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			//-- NPC: That's what you call 'loyalty'?  You don't know the meaning of the word, maggot.  If you ever want to fly for the Imperial Navy again, you'd better re-evaluate some of your past decisions.
			string_id message = new string_id (c_stringFile, "s_50e8d95e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_900f01d1");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's what you call 'loyalty'?  You don't know the meaning of the word, maggot.  If you ever want to fly for the Imperial Navy again, you'd better re-evaluate some of your past decisions.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What?
	if (response == "s_900f01d1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "smack_self");

			//-- NPC: Either improve your standing with the Empire, or shoot yourself in the head.  I don't care which you choose... either option will earn my forgiveness.
			string_id message = new string_id (c_stringFile, "s_c82eaa27");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed quest one.  You must start over.
	//-- NPC: Should have known.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was harder than it looked.
	if (response == "s_a5d90aff")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			corellia_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Do I look like I want to hear excuses from you? Get out of here! And don't come back until the job is done.
			string_id message = new string_id (c_stringFile, "s_1f1da1b8");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Second time's the charm.
	if (response == "s_9c5ae9a")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Why should I give you a second shot? 
			string_id message = new string_id (c_stringFile, "s_30b6b17c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Because I'll get the job done right.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_883481e3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why should I give you a second shot? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Because I'll get the job done right.
	if (response == "s_883481e3")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			corellia_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: That's what you said the last time. Get back up there. Put your money where your mouth is.
			string_id message = new string_id (c_stringFile, "s_73c4833");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed quest two.  You must start over.
	//-- NPC: Nice work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think you're being sarcastic.
	if (response == "s_b713f64f")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			corellia_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: Mm, you think? Get back out there.
			string_id message = new string_id (c_stringFile, "s_823cc9e1");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I blew it. I know.
	if (response == "s_e6e69be4")
	{
		doAnimationAction (player, "slump_head");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			corellia_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: 'Blew it' doesn't begin to describe this scenario. It's time for you to do your job, soldier.
			string_id message = new string_id (c_stringFile, "s_d32315a8");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed quest three.  You must start over.
	//-- NPC: Is that what I asked you to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, no.
	if (response == "s_dbb3a834")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			corellia_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: I didn't think so. This time, there better not be any mistakes. Get going.
			string_id message = new string_id (c_stringFile, "s_4c47ba68");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Rebels had another idea.
	if (response == "s_d8a7505")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			corellia_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: Maybe they have the right idea when they start taking potshots at you. This mission is critical, soldier: don't blow it.
			string_id message = new string_id (c_stringFile, "s_cf274903");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed quest four.  You must start over.
	//-- NPC: What am I going to do with you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Send me back out there!
	if (response == "s_d8db54f6")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: I think I will. Now beat it!
			string_id message = new string_id (c_stringFile, "s_c0cca856");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It won't happen again.
	if (response == "s_31dd2d63")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			corellia_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: It better not. Get back to your ship.
			string_id message = new string_id (c_stringFile, "s_fdbdc3c3");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest one, so here it is!
	//-- NPC: I've seen worse - and I've seen better, too. If you want to stay with Black Epsilon, you'll need more skills.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think my mission was successful.
	if (response == "s_b200234c")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: So you do. Well it is a good thing that we don't judge success on what you think. Fortunately we have both the operations plan and the Rebel officer.
			string_id message = new string_id (c_stringFile, "s_b695af6b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Did we find out how Nym and the Rebellion are working together?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c7b60e");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you do. Well it is a good thing that we don't judge success on what you think. Fortunately we have both the operations plan and the Rebel officer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did we find out how Nym and the Rebellion are working together?
	if (response == "s_2c7b60e")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You're just full of questions. But I suppose you are on the need-to-know list. Apparently there is a loose alliance between the Rebels and Nym that was forged by some Rebel officer. In exchange for Nym's help the Rebels are giving him a portion of the salvage. Fortunately for us, the deal is contingent on Nym not taking extensive losses.
			string_id message = new string_id (c_stringFile, "s_2b261439");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would Nym care about losses?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72418db3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're just full of questions. But I suppose you are on the need-to-know list. Apparently there is a loose alliance between the Rebels and Nym that was forged by some Rebel officer. In exchange for Nym's help the Rebels are giving him a portion of the salvage. Fortunately for us, the deal is contingent on Nym not taking extensive losses.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would Nym care about losses?
	if (response == "s_72418db3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Apparently, Storm Squadron hit him pretty hard in the Lok system and he is still attempting to recover from that blow. We are currently working on ways to exploit his current timidness, because we feel that will be the key to causing the split.
			string_id message = new string_id (c_stringFile, "s_a1b009ed");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why don't we just directly assault Nym's forces?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8c751827");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Apparently, Storm Squadron hit him pretty hard in the Lok system and he is still attempting to recover from that blow. We are currently working on ways to exploit his current timidness, because we feel that will be the key to causing the split.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't we just directly assault Nym's forces?
	if (response == "s_8c751827")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: This is why we pay you to fly and not to think. A direct assault on Nym will have the desired effect but could also be costly for us as well. That is just the sort of advantage that the Rebels are waiting for. Sometimes the direct, kick down the door approach works just fine. But if you are going to learn anything from me, learn this...it is always better to have someone else do your dirty work for you.
			string_id message = new string_id (c_stringFile, "s_a4f70dc9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8efde2ae");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is why we pay you to fly and not to think. A direct assault on Nym will have the desired effect but could also be costly for us as well. That is just the sort of advantage that the Rebels are waiting for. Sometimes the direct, kick down the door approach works just fine. But if you are going to learn anything from me, learn this...it is always better to have someone else do your dirty work for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_8efde2ae")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We will figure out how to split Nym and the Rebels, I assure you. But right now we need to focus on you. In order for you to be any use at all to me, you are going to need some training.
			string_id message = new string_id (c_stringFile, "s_8dcf50f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of training?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We will figure out how to split Nym and the Rebels, I assure you. But right now we need to focus on you. In order for you to be any use at all to me, you are going to need some training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of training?
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: Today you will learn about advanced capability TIE vessels. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: Today you will learn about advanced starship components. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: Today you will learn about special forces training. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_135");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: Today you will learn about system balance programming. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_136");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest two, so here it is!
	//-- NPC: So you made it back in one piece. I would have thought the Hutts would be serving you for dinner right now. You don't know how glad that I am you survived.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you sir, it was tough but I pulled through.
	if (response == "s_a6944d2")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I told you that subtlety is lost on you. Regardless, I am happy to report that our operation seems to have been a complete success. The Hutts are furious with Nym and are basically attacking his ships on sight. Nym's men are putting up a good defense, but the Hutts are not under the same constraints as Nym.  They're just tossing men at him in order to get revenge.
			string_id message = new string_id (c_stringFile, "s_bd1d7bf2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a beautiful thing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b779a3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why do I get the feeling that you are mocking me?
	if (response == "s_ddfa7bdb")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because I am. Regardless, I am happy to report that our operation seems to have been a complete success. The Hutts are furious with Nym and are basically attacking his ships on sight. Nym's men are putting up a good defense but the Hutts are not under the same constraints as Nym.  They are just tossing men at him in order to get revenge.
			string_id message = new string_id (c_stringFile, "s_a1314746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a beautiful thing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b779a3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I told you that subtlety is lost on you. Regardless, I am happy to report that our operation seems to have been a complete success. The Hutts are furious with Nym and are basically attacking his ships on sight. Nym's men are putting up a good defense, but the Hutts are not under the same constraints as Nym.  They're just tossing men at him in order to get revenge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a beautiful thing, sir.
	if (response == "s_b779a3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: It sure is. 'Nothing better than accomplishing your goal and not having to pay any of the costs. Not only do we start breaking the bridge between Nym and the Rebels, but we also get to eliminate some Hutts in the process. I love it when a plan comes together.
			string_id message = new string_id (c_stringFile, "s_62ccc48d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmmm, where have I heard that before?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107391a2");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It sure is. 'Nothing better than accomplishing your goal and not having to pay any of the costs. Not only do we start breaking the bridge between Nym and the Rebels, but we also get to eliminate some Hutts in the process. I love it when a plan comes together.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmmm, where have I heard that before?
	if (response == "s_107391a2")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "smack_self");

			//-- NPC: What! Don't think about it too hard.  You will damage what little you have left of your brain. And you are going to need it in order to receive your new training.
			string_id message = new string_id (c_stringFile, "s_47132c0f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of training?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What! Don't think about it too hard.  You will damage what little you have left of your brain. And you are going to need it in order to receive your new training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of training?
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: Today you will learn about advanced capability TIE vessels. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: Today you will learn about advanced starship components. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: Today you will learn about special forces training. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_135");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: Today you will learn about system balance programming. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_136");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because I am. Regardless, I am happy to report that our operation seems to have been a complete success. The Hutts are furious with Nym and are basically attacking his ships on sight. Nym's men are putting up a good defense but the Hutts are not under the same constraints as Nym.  They are just tossing men at him in order to get revenge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a beautiful thing, sir.
	if (response == "s_b779a3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: It sure is. 'Nothing better than accomplishing your goal and not having to pay any of the costs. Not only do we start breaking the bridge between Nym and the Rebels, but we also get to eliminate some Hutts in the process. I love it when a plan comes together.
			string_id message = new string_id (c_stringFile, "s_62ccc48d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmmm, where have I heard that before?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107391a2");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest three, so here it is!
	//-- NPC: You have done a man's work today. Without the emissary, the Rebels do not have the only man in this operation that Nym trusts. This combined with the heavy fighting with the Hutts is sure to cause an impassable rift between the two.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you sure about Nym's lack of resolve?
	if (response == "s_657cb9bd")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: In this matter I would have to say yes. If nothing else Nym will probably remove his direct support of the Rebellion for the time being. And without Nym's support the Rebels once again find themselves at a major disadvantage. I think that the local security forces can handle the rest of the operation in Yavin.
			string_id message = new string_id (c_stringFile, "s_91e2ca48");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you think they will find out it was us?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1c74e041");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In this matter I would have to say yes. If nothing else Nym will probably remove his direct support of the Rebellion for the time being. And without Nym's support the Rebels once again find themselves at a major disadvantage. I think that the local security forces can handle the rest of the operation in Yavin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you think they will find out it was us?
	if (response == "s_1c74e041")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I would be rather shocked if they didn't already know. I don't like Nym or the Hutts, but never assume that either group is stupid. The thing is that it doesn't matter. There is so much bad blood between the two groups that all they really needed was an excuse to start fighting. All they needed was a little push.
			string_id message = new string_id (c_stringFile, "s_26b0b5d1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You risked all your effort and planning on a hunch?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f7a9cb6c");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would be rather shocked if they didn't already know. I don't like Nym or the Hutts, but never assume that either group is stupid. The thing is that it doesn't matter. There is so much bad blood between the two groups that all they really needed was an excuse to start fighting. All they needed was a little push.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You risked all your effort and planning on a hunch?
	if (response == "s_f7a9cb6c")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: I wasn't really risking all that much... just you. If you failed then I would have simply started over with another angle. I took a minimal risk and received maximum gain, that is what being a great leader is all about. Now you are in need of training, are you not?
			string_id message = new string_id (c_stringFile, "s_847e468b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of training?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I wasn't really risking all that much... just you. If you failed then I would have simply started over with another angle. I took a minimal risk and received maximum gain, that is what being a great leader is all about. Now you are in need of training, are you not?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of training?
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: Today you will learn about advanced capability TIE vessels. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: Today you will learn about advanced starship components. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: Today you will learn about special forces training. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_135");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: Today you will learn about system balance programming. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_136");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest four, so here it is!
	//-- NPC: That felt good, didn't it? I can just imagine Nym squirming in his Stronghold. Probably cursing the day that emissary convinced him to help the Rebellion.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must admit I sort of enjoyed that one.
	if (response == "s_84bc2cb6")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Of course it was. Smash your enemies and all that. We didn't join Black Epsilon so we could take part in peace-keeping missions. I think that there is still something you can learn from me. Are you ready for training?
			string_id message = new string_id (c_stringFile, "s_726bfa38");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of training?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What if he tries to get revenge?
	if (response == "s_1d2c73ce")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_chest");

			//-- NPC: Oh, no! I didn't think of that. Big, bad Nym is coming to get me. If you are afraid of making enemies you should have become a moisture farmer. You are an Imperial pilot in the Imperial Navy, most of the galaxy already hates you. What is one more? Punish them before they punish you, that's what I say.
			string_id message = new string_id (c_stringFile, "s_ea45b3c5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Good philosophy.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d9391333");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course it was. Smash your enemies and all that. We didn't join Black Epsilon so we could take part in peace-keeping missions. I think that there is still something you can learn from me. Are you ready for training?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of training?
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: Today you will learn about advanced capability TIE vessels. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: Today you will learn about advanced starship components. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: Today you will learn about special forces training. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_135");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: Today you will learn about system balance programming. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_136");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, no! I didn't think of that. Big, bad Nym is coming to get me. If you are afraid of making enemies you should have become a moisture farmer. You are an Imperial pilot in the Imperial Navy, most of the galaxy already hates you. What is one more? Punish them before they punish you, that's what I say.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good philosophy.
	if (response == "s_d9391333")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: See, you do still have something to learn from me. Now, are you ready for training?
			string_id message = new string_id (c_stringFile, "s_1dab174a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of training?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: See, you do still have something to learn from me. Now, are you ready for training?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of training?
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: Today you will learn about advanced capability TIE vessels. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: Today you will learn about advanced starship components. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!corellia_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			corellia_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: Today you will learn about special forces training. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_135");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: Today you will learn about system balance programming. When you're finished studying the data, come back and maybe I'll give you another mission.
			string_id message = new string_id (c_stringFile, "s_136");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You haven't done quest one yet, so go do it. 
	//-- NPC: %TU. What kind of name is that?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A good one.
	if (response == "s_fd236a42")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Not in my book it isn't. Who sent you? I need soldiers! And this is what I get.
			string_id message = new string_id (c_stringFile, "s_b622a494");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Prisk Kith'Vys told me to report to you for my new assignment.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You got yourself a fine soldier.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d547e29b");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_19be2c59");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not in my book it isn't. Who sent you? I need soldiers! And this is what I get.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Prisk Kith'Vys told me to report to you for my new assignment.
	if (response == "s_d547e29b")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lucky me. Listen up. As you probably know the Empire has been running salvage operations in this system. Unfortunately, we are not the only ones who have taken an interest in the wreckage of the Death Star. We have to deal with pirates, on top of members of the Rebel Alliance trying to get their hands on top secret technologies.
			string_id message = new string_id (c_stringFile, "s_ecfe85ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a job for local security to handle.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7af5dab4");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You got yourself a fine soldier.
	if (response == "s_19be2c59")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: That is something I will be the judge of. It says in your record that you served under Prisk Kith'Vys. Usually he is a good judge of talent but I am not so sure about his choice this time. What do you have to say for yourself, pilot?
			string_id message = new string_id (c_stringFile, "s_18509eaa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, I was told to report to you for my new assignment.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b93b0c31");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lucky me. Listen up. As you probably know the Empire has been running salvage operations in this system. Unfortunately, we are not the only ones who have taken an interest in the wreckage of the Death Star. We have to deal with pirates, on top of members of the Rebel Alliance trying to get their hands on top secret technologies.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a job for local security to handle.
	if (response == "s_7af5dab4")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Storm Squadron has done the brunt of the work already in this system, but they are in the process of being reassigned. Not to mention that a new threat has emerged and High Command thinks that we are just the right people to take care of it.
			string_id message = new string_id (c_stringFile, "s_7bef2106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would this new problem be?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1969477d");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron has done the brunt of the work already in this system, but they are in the process of being reassigned. Not to mention that a new threat has emerged and High Command thinks that we are just the right people to take care of it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What would this new problem be?
	if (response == "s_1969477d")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Did I say you could ask questions? I will explain it all in good time and I can do without your comments. Anyway, it would seem that Nym and the Rebellion have decided to work together in harrying Imperial forces while grabbing as much salvage as they can.
			string_id message = new string_id (c_stringFile, "s_53126084");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [wait]
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f2993921");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did I say you could ask questions? I will explain it all in good time and I can do without your comments. Anyway, it would seem that Nym and the Rebellion have decided to work together in harrying Imperial forces while grabbing as much salvage as they can.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [wait]
	if (response == "s_f2993921")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: So you can be silent when required. That is a good thing. Nym is a pirate chief from the Lok system. We have known for a long time that he sympathized with the Rebellion but, as long as he stayed out of the way, we didn't care. It looks like he has had a policy change.
			string_id message = new string_id (c_stringFile, "s_586a7d64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So we are to try to split the alliance between Nym and the Rebellion?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_12c769cf");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you can be silent when required. That is a good thing. Nym is a pirate chief from the Lok system. We have known for a long time that he sympathized with the Rebellion but, as long as he stayed out of the way, we didn't care. It looks like he has had a policy change.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So we are to try to split the alliance between Nym and the Rebellion?
	if (response == "s_12c769cf")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You catch on quick. Our first task is to locate a Rebel officer or spy and try to find out about their joint operation. If we can discover how the two forces are working together we can figure out how best to break their alliance. You are to take patrol inside the Yavin system and perform scans of the zone until you can find a ranking member of the Rebel Alliance. Capture and inspect that ship to see if they have the information we are looking for.
			string_id message = new string_id (c_stringFile, "s_daab08d3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b6b25f13");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You catch on quick. Our first task is to locate a Rebel officer or spy and try to find out about their joint operation. If we can discover how the two forces are working together we can figure out how best to break their alliance. You are to take patrol inside the Yavin system and perform scans of the zone until you can find a ranking member of the Rebel Alliance. Capture and inspect that ship to see if they have the information we are looking for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_b6b25f13")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			corellia_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: While you are up there, do not be surprised if we contact you again. This operation will involve careful timing and precise actions. Do not fail me.
			string_id message = new string_id (c_stringFile, "s_e3bbe83c");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is something I will be the judge of. It says in your record that you served under Prisk Kith'Vys. Usually he is a good judge of talent but I am not so sure about his choice this time. What do you have to say for yourself, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, I was told to report to you for my new assignment.
	if (response == "s_b93b0c31")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lucky me. Listen up. As you probably know the Empire has been running salvage operations in this system. Unfortunately, we are not the only ones who have taken an interest in the wreckage of the Death Star. We have to deal with pirates, on top of members of the Rebel Alliance trying to get their hands on top secret technologies.
			string_id message = new string_id (c_stringFile, "s_ecfe85ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a job for local security to handle.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7af5dab4");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You haven't done quest two yet, so go do it.
	//-- NPC: OK, junior, new mission. We have careful reviewed all of the data that you somehow managed to provide us, and we believe that we have a course of action that will cause Nym to withdraw his aid to the Rebellion in this sector.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready and willing, sir.
	if (response == "s_5eb7a1e3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: How did I know that you were going to say that? Remember how I mentioned that there were other pirates at work in this system? Of course you don't. Hutts, man...Hutts are also working on salvaging as much as they can get their hands on. It would appear that they have a deal with Nym and the Rebels not to get in each other's way. Well, that is about to change.
			string_id message = new string_id (c_stringFile, "s_fe5bcaa2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't quite follow you.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2ef3848a");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How did I know that you were going to say that? Remember how I mentioned that there were other pirates at work in this system? Of course you don't. Hutts, man...Hutts are also working on salvaging as much as they can get their hands on. It would appear that they have a deal with Nym and the Rebels not to get in each other's way. Well, that is about to change.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't quite follow you.
	if (response == "s_2ef3848a")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: It's so simple. We start a fight between the Hutts and Nym. The Hutts do our dirty work for us and suddenly it becomes too expensive for Nym to operate in this system. He cannot afford to fight with both the Empire and Hutts.
			string_id message = new string_id (c_stringFile, "s_1bf62740");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do we get those two factions to start fighting?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7c05dd60");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's so simple. We start a fight between the Hutts and Nym. The Hutts do our dirty work for us and suddenly it becomes too expensive for Nym to operate in this system. He cannot afford to fight with both the Empire and Hutts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do we get those two factions to start fighting?
	if (response == "s_7c05dd60")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "snap_finger2");

			//-- NPC: Glad you asked. First we are going to need one of the Hutt's smuggler ships. You will capture that ship for us. We will retrofit that vessel with a special sensor jammer that will increase its signature, masking other ships flying with it.
			string_id message = new string_id (c_stringFile, "s_22f895e3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So you want me to get you a Hutt smuggler?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44750833");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad you asked. First we are going to need one of the Hutt's smuggler ships. You will capture that ship for us. We will retrofit that vessel with a special sensor jammer that will increase its signature, masking other ships flying with it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So you want me to get you a Hutt smuggler?
	if (response == "s_44750833")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Correct! And after you capture the ship we will need you to stir up Nym's gang a bit with some Hutt broadcasts. Then you will be traveling with the retrofitted vessel in order to destroy some of Nym's fighters.
			string_id message = new string_id (c_stringFile, "s_1e26f934");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah, I see. With the enlarged signature it will appear that the Hutt vessel is destroying Nym's men.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24f21f71");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Correct! And after you capture the ship we will need you to stir up Nym's gang a bit with some Hutt broadcasts. Then you will be traveling with the retrofitted vessel in order to destroy some of Nym's fighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, I see. With the enlarged signature it will appear that the Hutt vessel is destroying Nym's men.
	if (response == "s_24f21f71")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			corellia_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: I am surprised. You are a little brighter than you look..not much, but a little. If all goes well Nym's forces will retaliate on the Hutts, who will simply think that Nym has double-crossed them.  And they in turn, will respond with force.
			string_id message = new string_id (c_stringFile, "s_bc65ef6a");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You haven't done quest three yet, so go do it.
	//-- NPC: OK %TU - you're up. We just received word that one of our salvage transports was hit hard and left for dead. We have reason to believe that it was hit by a joint force of Nym's men and Rebels Alliance starfighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I thought their alliance was shattered.
	if (response == "s_ecd826ee")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: We caused some cracks that will grow in time, but I think if we hit it one more time we can break it apart now.
			string_id message = new string_id (c_stringFile, "s_3af86b40");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what is this have to do with that transport?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d0f9703");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We caused some cracks that will grow in time, but I think if we hit it one more time we can break it apart now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what is this have to do with that transport?
	if (response == "s_d0f9703")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: Intelligence doesn't believe that Nym approached the Rebellion. He is far too cautious for that. Reports from the inside suggest that a Rebel emissary met with Nym, and the pirate chief took such a liking to this Rebel that he agreed to help out. We figure if this emissary is eliminated, then Nym will back out of the agreement.
			string_id message = new string_id (c_stringFile, "s_8bbc7303");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can we find the emissary?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_af020de3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Intelligence doesn't believe that Nym approached the Rebellion. He is far too cautious for that. Reports from the inside suggest that a Rebel emissary met with Nym, and the pirate chief took such a liking to this Rebel that he agreed to help out. We figure if this emissary is eliminated, then Nym will back out of the agreement.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can we find the emissary?
	if (response == "s_af020de3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: That is where the freighter comes in. Nym's men will not take orders from any member of the Rebellion regardless of the agreement. But they will follow anyone who Nym tells them too. In this case the only member of the Rebellion that we can see Nym having his men follow is this emissary. So if the freighter was hit by a joint attack of Rebels and Nym's men, then it was probably lead by the emissary.
			string_id message = new string_id (c_stringFile, "s_85e02cc1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah, so the freighter might have some clue as to where the emissary went.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1e44f54");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is where the freighter comes in. Nym's men will not take orders from any member of the Rebellion regardless of the agreement. But they will follow anyone who Nym tells them too. In this case the only member of the Rebellion that we can see Nym having his men follow is this emissary. So if the freighter was hit by a joint attack of Rebels and Nym's men, then it was probably lead by the emissary.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, so the freighter might have some clue as to where the emissary went.
	if (response == "s_d1e44f54")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			corellia_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: You earn your gold star for the day. Get out to that freighter, assist it with any repairs it might need, and escort it back to port. We can question the pilot and check its computer logs to see if we can get a lock on the emissary's ship. Dismissed.
			string_id message = new string_id (c_stringFile, "s_66ebf9d3");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You haven't done quest four yet, so go do it.
	//-- NPC: Maybe you've got what it takes, after all.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_fc27931b")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: Don't thank me yet. I haven't thrown you any curveballs - until now. Prepare to head for Lok.
			string_id message = new string_id (c_stringFile, "s_27e5eff7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why am I heading to Lok?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c9015929");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Don't thank me yet. I haven't thrown you any curveballs - until now. Prepare to head for Lok.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why am I heading to Lok?
	if (response == "s_c9015929")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let me use small words so you can understand. Lok is Nym's base of power. Nym was helping the Rebellion. The Empire cannot allow Nym to flaunt its authority like that. We are going to punish Nym.
			string_id message = new string_id (c_stringFile, "s_36900273");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I like the sound of that.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd445db2");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let me use small words so you can understand. Lok is Nym's base of power. Nym was helping the Rebellion. The Empire cannot allow Nym to flaunt its authority like that. We are going to punish Nym.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I like the sound of that.
	if (response == "s_cd445db2")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			corellia_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: So does the Emperor. Our goals will be to first take one of Nym's transport ships. They usually have detailed records of shipping lanes and that sort of thing in the Lok system. Once we have that we can find out where Nym's military forces are and hammer them with everything we got. Go capture and inspect me one of those transports.
			string_id message = new string_id (c_stringFile, "s_271e95b3");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You must have completed tier3 completely.  Hope you have all your skills!  Now I will tell you to go talk to a tier-4 guy.
	//-- NPC: Well %TU, I've had about enough of you. Time to hand you off.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's my next assignment?
	if (response == "s_d2e23af2")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: From now on, you'll be reporting to someone named Insurgent. And I thought YOU had a ridiculous name the first time we met.
			string_id message = new string_id (c_stringFile, "s_91cf92a7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who's that?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24a3fa0c");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: From now on, you'll be reporting to someone named Insurgent. And I thought YOU had a ridiculous name the first time we met.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who's that?
	if (response == "s_24a3fa0c")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: I have absolutely no idea. He showed up here today and tossed an Imperial order on my desk. And wouldn't you know it that order was signed by the Emperor himself.
			string_id message = new string_id (c_stringFile, "s_c18b617e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did the order say?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1474f13c");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have absolutely no idea. He showed up here today and tossed an Imperial order on my desk. And wouldn't you know it that order was signed by the Emperor himself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did the order say?
	if (response == "s_1474f13c")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: The order simply read, 'Obey this man as you would obey me'. As far as I can tell it is completely legit. Then that Insurgent fellow told me that I was to transfer you over to his command immediately.
			string_id message = new string_id (c_stringFile, "s_6d0b02b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: He asked for me by name?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b5a6b23");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier3_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The order simply read, 'Obey this man as you would obey me'. As far as I can tell it is completely legit. Then that Insurgent fellow told me that I was to transfer you over to his command immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He asked for me by name?
	if (response == "s_9b5a6b23")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I don't know what he wants with you and frankly I wasn't about to ask. There was something about him that made me feel real uneasy. Regardless he told me that you were to meet him at the Imperial Outpost on Dantooine and then jumped in his ship and took off. I suggest that you don't keep him waiting. I get the feeling that he isn't someone who likes to be kept waiting. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_c65e1fa7");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.corellia_imperial_tier3");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	setName( self, "Haymir Rendundi" );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	setName( self, "Haymir Rendundi" );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);
	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.corellia_imperial_tier3");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!corellia_imperial_tier3_condition_isPilot (player, npc))
	{
		//-- NPC: You don't look like you could pilot a pair of shoes, much less a starship. Get out of here.
		string_id message = new string_id (c_stringFile, "s_8ccf2f5f");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're the wrong faction.
	if (!corellia_imperial_tier3_condition_isCorrectFaction (player, npc))
	{
		//-- NPC: Keep moving, puke.
		string_id message = new string_id (c_stringFile, "s_7bcc420b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!corellia_imperial_tier3_condition_onMyTrack (player, npc))
	{
		//-- NPC: I don't have time for you, maggot. If you are interested in becoming a good pilot, I suggest you lose your current unit and transfer to the Black Epsilon.
		string_id message = new string_id (c_stringFile, "s_9be798dc");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're not through tier2 yet!
	if (!corellia_imperial_tier3_condition_isReadyForTier3 (player, npc))
	{
		doAnimationAction (npc, "point_away");

		//-- NPC: You think you're ready to play with grownups? Get out of here; your mama's waiting for you.
		string_id message = new string_id (c_stringFile, "s_8eaae252");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier3_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "slit_throat");

		//-- NPC: You treasonous worm.  How dare you even show your face.
		string_id message = new string_id (c_stringFile, "s_ff9d26dd");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do you mean?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_77e48d5b");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 5);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are busy.  Already on a quest.  Go do it.
	if (corellia_imperial_tier3_condition_isOnQuest (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: You've got a job to do, maggot.
		string_id message = new string_id (c_stringFile, "s_2e69b8ed");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed quest one.  You must start over.
	if (corellia_imperial_tier3_condition_failedQuestOne (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		//-- NPC: Should have known.
		string_id message = new string_id (c_stringFile, "s_c6844d2a");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was harder than it looked.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Second time's the charm.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a5d90aff");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9c5ae9a");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 10);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed quest two.  You must start over.
	if (corellia_imperial_tier3_condition_failedQuestTwo (player, npc))
	{
		doAnimationAction (npc, "hold_nose");

		//-- NPC: Nice work.
		string_id message = new string_id (c_stringFile, "s_64d5bea6");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I think you're being sarcastic.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I blew it. I know.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b713f64f");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e6e69be4");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 14);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed quest three.  You must start over.
	if (corellia_imperial_tier3_condition_failedQuestThree (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: Is that what I asked you to do?
		string_id message = new string_id (c_stringFile, "s_3f9b3561");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Um, no.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: The Rebels had another idea.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dbb3a834");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d8a7505");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 17);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed quest four.  You must start over.
	if (corellia_imperial_tier3_condition_failedQuestFour (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		//-- NPC: What am I going to do with you?
		string_id message = new string_id (c_stringFile, "s_38be6beb");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Send me back out there!
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It won't happen again.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d8db54f6");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_31dd2d63");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 20);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest one, so here it is!
	if (corellia_imperial_tier3_condition_collectingQuestOneReward (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		corellia_imperial_tier3_action_rewardForQuestOne (player, npc);

		//-- NPC: I've seen worse - and I've seen better, too. If you want to stay with Black Epsilon, you'll need more skills.
		string_id message = new string_id (c_stringFile, "s_14060a1c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I think my mission was successful.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b200234c");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 23);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest two, so here it is!
	if (corellia_imperial_tier3_condition_collectingQuestTwoReward (player, npc))
	{
		corellia_imperial_tier3_action_rewardForQuestTwo (player, npc);

		//-- NPC: So you made it back in one piece. I would have thought the Hutts would be serving you for dinner right now. You don't know how glad that I am you survived.
		string_id message = new string_id (c_stringFile, "s_6cef5164");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you sir, it was tough but I pulled through.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Why do I get the feeling that you are mocking me?
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a6944d2");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ddfa7bdb");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 33);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest three, so here it is!
	if (corellia_imperial_tier3_condition_collectingQuestThreeReward (player, npc))
	{
		corellia_imperial_tier3_action_rewardForQuestThree (player, npc);

		//-- NPC: You have done a man's work today. Without the emissary, the Rebels do not have the only man in this operation that Nym trusts. This combined with the heavy fighting with the Hutts is sure to cause an impassable rift between the two.
		string_id message = new string_id (c_stringFile, "s_d3306841");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you sure about Nym's lack of resolve?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_657cb9bd");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 38);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest four, so here it is!
	if (corellia_imperial_tier3_condition_collectingQuestFourReward (player, npc))
	{
		corellia_imperial_tier3_action_rewardForQuestFour (player, npc);

		//-- NPC: That felt good, didn't it? I can just imagine Nym squirming in his Stronghold. Probably cursing the day that emissary convinced him to help the Rebellion.
		string_id message = new string_id (c_stringFile, "s_dd4ea40c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I must admit I sort of enjoyed that one.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What if he tries to get revenge?
		boolean hasResponse1 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_84bc2cb6");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1d2c73ce");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 42);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You haven't done quest one yet, so go do it. 
	if (!corellia_imperial_tier3_condition_hasCompletedQuestOne (player, npc))
	{
		doAnimationAction (npc, "laugh_titter");

		//-- NPC: %TU. What kind of name is that?
		string_id message = new string_id (c_stringFile, "s_1c0f4063");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: A good one.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fd236a42");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 46);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You haven't done quest two yet, so go do it.
	if (!corellia_imperial_tier3_condition_hasCompletedQuestTwo (player, npc))
	{
		doAnimationAction (npc, "beckon");

		//-- NPC: OK, junior, new mission. We have careful reviewed all of the data that you somehow managed to provide us, and we believe that we have a course of action that will cause Nym to withdraw his aid to the Rebellion in this sector.
		string_id message = new string_id (c_stringFile, "s_fdda16c7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am ready and willing, sir.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5eb7a1e3");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 55);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You haven't done quest three yet, so go do it.
	if (!corellia_imperial_tier3_condition_hasCompletedQuestThree (player, npc))
	{
		doAnimationAction (npc, "beckon");

		//-- NPC: OK %TU - you're up. We just received word that one of our salvage transports was hit hard and left for dead. We have reason to believe that it was hit by a joint force of Nym's men and Rebels Alliance starfighters.
		string_id message = new string_id (c_stringFile, "s_424f249d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I thought their alliance was shattered.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ecd826ee");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 61);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You haven't done quest four yet, so go do it.
	if (!corellia_imperial_tier3_condition_hasCompletedQuestFour (player, npc))
	{
		//-- NPC: Maybe you've got what it takes, after all.
		string_id message = new string_id (c_stringFile, "s_799d2952");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fc27931b");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 66);

			npcStartConversation (player, npc, "corellia_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You must have completed tier3 completely.  Hope you have all your skills!  Now I will tell you to go talk to a tier-4 guy.
	if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Well %TU, I've had about enough of you. Time to hand you off.
		string_id message = new string_id (c_stringFile, "s_daaff7a");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What's my next assignment?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d2e23af2");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier3.branchId", 70);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "corellia_imperial_tier3")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

	if (branchId == 5 && corellia_imperial_tier3_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && corellia_imperial_tier3_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && corellia_imperial_tier3_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && corellia_imperial_tier3_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && corellia_imperial_tier3_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && corellia_imperial_tier3_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && corellia_imperial_tier3_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && corellia_imperial_tier3_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && corellia_imperial_tier3_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && corellia_imperial_tier3_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && corellia_imperial_tier3_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && corellia_imperial_tier3_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && corellia_imperial_tier3_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && corellia_imperial_tier3_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && corellia_imperial_tier3_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && corellia_imperial_tier3_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && corellia_imperial_tier3_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && corellia_imperial_tier3_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && corellia_imperial_tier3_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && corellia_imperial_tier3_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && corellia_imperial_tier3_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && corellia_imperial_tier3_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && corellia_imperial_tier3_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && corellia_imperial_tier3_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && corellia_imperial_tier3_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && corellia_imperial_tier3_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && corellia_imperial_tier3_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && corellia_imperial_tier3_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && corellia_imperial_tier3_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && corellia_imperial_tier3_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && corellia_imperial_tier3_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && corellia_imperial_tier3_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && corellia_imperial_tier3_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && corellia_imperial_tier3_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && corellia_imperial_tier3_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && corellia_imperial_tier3_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && corellia_imperial_tier3_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && corellia_imperial_tier3_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && corellia_imperial_tier3_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && corellia_imperial_tier3_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && corellia_imperial_tier3_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && corellia_imperial_tier3_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && corellia_imperial_tier3_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && corellia_imperial_tier3_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && corellia_imperial_tier3_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && corellia_imperial_tier3_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && corellia_imperial_tier3_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && corellia_imperial_tier3_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && corellia_imperial_tier3_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && corellia_imperial_tier3_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && corellia_imperial_tier3_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.corellia_imperial_tier3.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

