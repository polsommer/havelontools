// ======================================================================
//
// legacy_button_jawatracks_cunan.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.features;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/legacy_button_jawatracks_cunan";

// ======================================================================
// Script Conditions
// ======================================================================

boolean legacy_button_jawatracks_cunan_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_onBody (obj_id player, obj_id npc)
{	
	int questId1 = questGetQuestId("quest/legacy_button_jawatracks");
	int legacy_button_jawatracks_cunan_condition_onBody = groundquests.getTaskId(questId1, "legacy_button_jawatracks_e2"); 
	int questId2 = questGetQuestId("quest/legacy_button_jawatracks_reb");
	int onBody2 = groundquests.getTaskId(questId2, "legacy_button_jawatracks_e2r"); 
	
	boolean onTask = questIsTaskActive(questId1, legacy_button_jawatracks_cunan_condition_onBody, player)
						||questIsTaskActive(questId2, onBody2, player);
	
	return onTask;

}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_onDataPadRetreve (obj_id player, obj_id npc)
{	
	int questId1 = questGetQuestId("quest/legacy_button_jawatracks");
	int legacy_button_jawatracks_cunan_condition_onBody = groundquests.getTaskId(questId1, "legacy_button_jawatracks_e7"); 
	int questId2 = questGetQuestId("quest/legacy_button_jawatracks_reb");
	int onBody2 = groundquests.getTaskId(questId2, "legacy_button_jawatracks_e7r"); 

	
	boolean onTask = questIsTaskActive(questId1, legacy_button_jawatracks_cunan_condition_onBody, player)
						||questIsTaskActive(questId2, onBody2, player);
	
	return onTask;

}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_failRebHomestead (obj_id player, obj_id npc)
{

            int questId1 = questGetQuestId("quest/legacy_button_jawatracks_reb");
			int questId2 = questGetQuestId("quest/legacy_button_jawatracks_reb_pt2");

                        

            boolean OnTask = (questIsQuestComplete (questId1, player)) 
            				&& ( !(questIsQuestActive(questId2, player)) 
            					&& 	!(questIsQuestComplete (questId2, player)));

                                                                        

            return OnTask;                                                   

            

}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_failImpHomestead (obj_id player, obj_id npc)
{

            int questId1 = questGetQuestId("quest/legacy_button_jawatracks");
			int questId2 = questGetQuestId("quest/legacy_button_jawatracks_pt2");

                        

            boolean OnTask = (questIsQuestComplete (questId1, player)) 
            				&& ( !(questIsQuestActive(questId2, player)) 
            					&& 	!(questIsQuestComplete (questId2, player)));

                                                                        

            return OnTask;                                                   

            

}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_questToscheComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/legacy_button_jawatracks");
	int questId2 = questGetQuestId("quest/legacy_button_jawatracks_reb");
	
	boolean OnTask = questIsQuestComplete(questId1, player)
						||questIsQuestComplete(questId2, player);
	
return OnTask;

}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_noFlowers (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActiveOrComplete(player, "tatooine_tosche_shmi_flowers") ||
		   groundquests.isQuestActiveOrComplete(player, "tatooine_tosche_shmi_flowers_side"));
}

// ----------------------------------------------------------------------

boolean legacy_button_jawatracks_cunan_condition_onTracksQuest (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/legacy_button_jawatracks");
	int questId2 = questGetQuestId("quest/legacy_button_jawatracks_reb");
	
	
	boolean OnTask =  	(questIsQuestActive(questId1, player))
							||(questIsQuestActive(questId2, player));
						
	return OnTask;					
	
}

// ======================================================================
// Script Actions
// ======================================================================

void legacy_button_jawatracks_cunan_action_signalManager (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_button_jawatracks_launch_e2");

}

// ----------------------------------------------------------------------

void legacy_button_jawatracks_cunan_action_grantRebHomestead (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "legacy_button_jawatracks_reb_pt2");

}

// ----------------------------------------------------------------------

void legacy_button_jawatracks_cunan_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void legacy_button_jawatracks_cunan_action_grantImpHomestead (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "legacy_button_jawatracks_pt2");

}

// ----------------------------------------------------------------------

void legacy_button_jawatracks_cunan_action_grantFlowers (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "tatooine_tosche_goto_sorna");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int legacy_button_jawatracks_cunan_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I sure miss Janus. If only you could have been able to save him. But I really appreciate the effort. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anytime.
	if (response == "s_25")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again
			string_id message = new string_id (c_stringFile, "s_26");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to find the next stop.
	if (response == "s_28")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantImpHomestead (player, npc);

			//-- NPC: Here is the information.
			string_id message = new string_id (c_stringFile, "s_30");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to find the Jawas' next stop.
	if (response == "s_32")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantRebHomestead (player, npc);

			//-- NPC: Here is the information.
			string_id message = new string_id (c_stringFile, "s_34");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else I can do for you?
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: You can help out Sorna. She still needs someone to perform a task for her..
			string_id message = new string_id (c_stringFile, "s_53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You can help out Sorna. She still needs someone to perform a task for her..

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok.
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantFlowers (player, npc);

			//-- NPC: You can find her just behind these hovels.
			string_id message = new string_id (c_stringFile, "s_59");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Janus is dead, you say. He was a good man, we need more like him, and seem to be losing more than we should. We need to stick to the mission and not let his death be in vain. Did you search for his datapad?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No I forgot.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shoo");

			//-- NPC: Well then you better go back out there, find it and download the information you need. 
			string_id message = new string_id (c_stringFile, "s_147");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There where more demons around. I had to get out in a hurry.
	if (response == "s_148")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Well  desert demons or no, I don't have the information that you need. Get back out there and download the inventory.
			string_id message = new string_id (c_stringFile, "s_149");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Now that your friend is dead, I have time to help that lady out.
	if (response == "s_55")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: What!? Oh, you mean Sorna. Yes, she still needs some help.
			string_id message = new string_id (c_stringFile, "s_56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_57");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What!? Oh, you mean Sorna. Yes, she still needs some help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find her?
	if (response == "s_57")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantFlowers (player, npc);

			//-- NPC: She is right behind these hovels.
			string_id message = new string_id (c_stringFile, "s_58");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing back here? Janus is still stuck out in the mountains with a busted speeder. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I changed my mind about helping Sorna. Can you tell me where she is?
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantFlowers (player, npc);

			//-- NPC: She is right behind these hovels.
			string_id message = new string_id (c_stringFile, "s_61");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] D1
	//-- NPC: Welcome to Tosche Station. If you are looking to get the most out of your speeder I have what you need. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am more interested in any recent purchases that you have made from some Jawas.
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Yeah, I took in a shipment, but my warehouse manager, Janus, handled the details. You need to talk with him. 
			string_id message = new string_id (c_stringFile, "s_119");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just dump the info into my datapad.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is he?
			boolean hasResponse1 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_131");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_135");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks, I'll look around.
	if (response == "s_116")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "adjust");

			legacy_button_jawatracks_cunan_action_facePlayer (player, npc);

			//-- NPC: Feel free to browse. Oh! I just got in a new shipment of power converters and control modules that you might be interested in.
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you know anyone in town that might need help?
			boolean hasResponse0 = false;
			if (!legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yeah, I took in a shipment, but my warehouse manager, Janus, handled the details. You need to talk with him. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just dump the info into my datapad.
	if (response == "s_131")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_signalManager (player, npc);

			//-- NPC: Here is the location. Just get him the parts and he should be able to give you the information that you need. 
			string_id message = new string_id (c_stringFile, "s_136");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is he?
	if (response == "s_135")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: We bought a load of power converters and control modules from the Jawas. He decided to test out some of them in his speeder. He headed off into the wilderness an hour ago. I just got a call that he is stuck out there.
			string_id message = new string_id (c_stringFile, "s_137");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So you want me to play service department and get his speeder started again?
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You know I am not really interested in helping out.
			boolean hasResponse1 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_138");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here is the location. Just get him the parts and he should be able to give you the information that you need. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got it.
	if (response == "s_37")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: I was wondering if you could help out a friend named Sorna as well.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No. I have what I need.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure, tell me what you need.
			boolean hasResponse1 = false;
			if (!legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I have already spoken with her.
			boolean hasResponse2 = false;
			if (legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was wondering if you could help out a friend named Sorna as well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. I have what I need.
	if (response == "s_41")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok.
			string_id message = new string_id (c_stringFile, "s_43");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, tell me what you need.
	if (response == "s_45")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: A simple task, but one that would make a few some people very happy.
			string_id message = new string_id (c_stringFile, "s_47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about it.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have already spoken with her.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent. You are most efficient.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A simple task, but one that would make a few some people very happy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about it.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_grantFlowers (player, npc);

			//-- NPC: Talk to her here in Tosche. She has something she needs delivered to the old Lars homestead.
			string_id message = new string_id (c_stringFile, "s_51");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We bought a load of power converters and control modules from the Jawas. He decided to test out some of them in his speeder. He headed off into the wilderness an hour ago. I just got a call that he is stuck out there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So you want me to play service department and get his speeder started again?
	if (response == "s_138")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			legacy_button_jawatracks_cunan_action_facePlayer (player, npc);

			//-- NPC: Well I run the place. You can't expect me to go off and help out a wayward employee, can you? Janus has all of the invoices and inventory lists on his datapad anyway. So just run out to him, help him fix his speeder and he can give you the information that you want. 
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok I'll do it.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe later.
			boolean hasResponse1 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_143");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You know I am not really interested in helping out.
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well Janus isn't going anywhere soon.
			string_id message = new string_id (c_stringFile, "s_140");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well I run the place. You can't expect me to go off and help out a wayward employee, can you? Janus has all of the invoices and inventory lists on his datapad anyway. So just run out to him, help him fix his speeder and he can give you the information that you want. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok I'll do it.
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			legacy_button_jawatracks_cunan_action_signalManager (player, npc);

			//-- NPC: Here is the location. Just get him the parts and he should be able to give you the information that you need. 
			string_id message = new string_id (c_stringFile, "s_136");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe later.
	if (response == "s_143")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well Janus isn't going anywhere soon.
			string_id message = new string_id (c_stringFile, "s_140");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Feel free to browse. Oh! I just got in a new shipment of power converters and control modules that you might be interested in.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know anyone in town that might need help?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Kind of you to ask. I do, indeed. Please talk to Sorna. You can find her behind these hovels.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do that.
			boolean hasResponse0 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, No thanks.
			boolean hasResponse1 = false;
			if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83");

				utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int legacy_button_jawatracks_cunan_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Kind of you to ask. I do, indeed. Please talk to Sorna. You can find her behind these hovels.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do that.
	if (response == "s_79")
	{
		legacy_button_jawatracks_cunan_action_grantFlowers (player, npc);

		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_81");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, No thanks.
	if (response == "s_83")
	{
		//-- [NOTE] 
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you wish.
			string_id message = new string_id (c_stringFile, "s_87");
			utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.legacy_button_jawatracks_cunan");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Cuan Talon");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Cuan Talon");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.legacy_button_jawatracks_cunan");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (legacy_button_jawatracks_cunan_condition_questToscheComplete (player, npc))
	{
		doAnimationAction (npc, "shoo");

		legacy_button_jawatracks_cunan_action_facePlayer (player, npc);

		//-- NPC: I sure miss Janus. If only you could have been able to save him. But I really appreciate the effort. 
		string_id message = new string_id (c_stringFile, "s_101");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Anytime.
		boolean hasResponse0 = false;
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need to find the next stop.
		boolean hasResponse1 = false;
		if (legacy_button_jawatracks_cunan_condition_failImpHomestead (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I need to find the Jawas' next stop.
		boolean hasResponse2 = false;
		if (legacy_button_jawatracks_cunan_condition_failRebHomestead (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Is there anything else I can do for you?
		boolean hasResponse3 = false;
		if (!legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_25");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_28");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_32");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_52");

			utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 1);

			npcStartConversation (player, npc, "legacy_button_jawatracks_cunan", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (legacy_button_jawatracks_cunan_condition_onDataPadRetreve (player, npc))
	{
		//-- NPC: Janus is dead, you say. He was a good man, we need more like him, and seem to be losing more than we should. We need to stick to the mission and not let his death be in vain. Did you search for his datapad?
		string_id message = new string_id (c_stringFile, "s_145");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No I forgot.
		boolean hasResponse0 = false;
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: There where more demons around. I had to get out in a hurry.
		boolean hasResponse1 = false;
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Now that your friend is dead, I have time to help that lady out.
		boolean hasResponse2 = false;
		if (!legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_146");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_148");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_55");

			utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 7);

			npcStartConversation (player, npc, "legacy_button_jawatracks_cunan", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (legacy_button_jawatracks_cunan_condition_onBody (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		legacy_button_jawatracks_cunan_action_facePlayer (player, npc);

		//-- NPC: What are you doing back here? Janus is still stuck out in the mountains with a busted speeder. 
		string_id message = new string_id (c_stringFile, "s_144");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I changed my mind about helping Sorna. Can you tell me where she is?
		boolean hasResponse0 = false;
		if (!legacy_button_jawatracks_cunan_condition_noFlowers (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 12);

			npcStartConversation (player, npc, "legacy_button_jawatracks_cunan", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] D1
	if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
	{
		legacy_button_jawatracks_cunan_action_facePlayer (player, npc);

		//-- NPC: Welcome to Tosche Station. If you are looking to get the most out of your speeder I have what you need. 
		string_id message = new string_id (c_stringFile, "s_805");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am more interested in any recent purchases that you have made from some Jawas.
		boolean hasResponse0 = false;
		if (legacy_button_jawatracks_cunan_condition_onTracksQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Thanks, I'll look around.
		boolean hasResponse1 = false;
		if (legacy_button_jawatracks_cunan_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_115");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_116");

			utils.setScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId", 14);

			npcStartConversation (player, npc, "legacy_button_jawatracks_cunan", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "legacy_button_jawatracks_cunan")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

	if (branchId == 1 && legacy_button_jawatracks_cunan_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && legacy_button_jawatracks_cunan_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && legacy_button_jawatracks_cunan_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && legacy_button_jawatracks_cunan_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && legacy_button_jawatracks_cunan_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && legacy_button_jawatracks_cunan_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && legacy_button_jawatracks_cunan_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && legacy_button_jawatracks_cunan_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && legacy_button_jawatracks_cunan_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && legacy_button_jawatracks_cunan_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && legacy_button_jawatracks_cunan_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && legacy_button_jawatracks_cunan_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && legacy_button_jawatracks_cunan_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && legacy_button_jawatracks_cunan_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.legacy_button_jawatracks_cunan.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

