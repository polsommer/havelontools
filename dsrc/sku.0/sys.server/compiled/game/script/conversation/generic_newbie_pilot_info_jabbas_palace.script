// ======================================================================
//
// generic_newbie_pilot_info_jabbas_palace.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.28 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.features;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.space_skill;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/generic_newbie_pilot_info_jabbas_palace";

// ======================================================================
// Script Conditions
// ======================================================================

boolean generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_remembersPlayer (obj_id player, obj_id npc)
{
	return ( utils.hasScriptVar( player, "metNewbiePilot" ));
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_hasAccessDocuments (obj_id player, obj_id npc)
{
	// Look for the form in their inventory.
	obj_id pInv = utils.getInventoryContainer( player );
	if ( pInv == null )
		return false;

	obj_id[] items = getContents( pInv );
	if ( items == null )
		return false;
		
	for ( int i=0; i<items.length; i++ )
	{
		string name = getTemplateName( items[i] );
		if ( name.equals( "object/tangible/space/mission_objects/palace_access_doc.iff" ) )
		{
			utils.setScriptVar( player, "auth", items[i] );
			return true;
		}
	}

	return false;
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_hasIncorrectDocuments (obj_id player, obj_id npc)
{
	obj_id auth = utils.getObjIdScriptVar( player, "auth" );
	if ( !isIdValid( auth ) )
		return true;
	string sign = getStringObjVar( auth, "signature" );
	string name = getName( player );
	if ( sign.equals( name ) )
		return false;
	else
		return true;
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_isImperialPilot (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_imperial_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_isRebelPilot (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_hasUnsignedDocuments (obj_id player, obj_id npc)
{
	obj_id auth = utils.getObjIdScriptVar( player, "auth" );
	if ( !isIdValid( auth ) )
		return true;
	string sign = getStringObjVar( auth, "signature" );
	if ( sign == null )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_notCorrectPilot (obj_id player, obj_id npc)
{
	if 	(!space_flags.isSpaceTrack(player, space_flags.PRIVATEER_TATOOINE))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_isPrivateerPilot (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_neutral_novice" );
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_hasSpaceExpansion (obj_id player, obj_id npc)
{
	return ( features.isSpaceEdition( player ) );
}

// ----------------------------------------------------------------------

boolean generic_newbie_pilot_info_jabbas_palace_condition_hasSpaceShip (obj_id player, obj_id npc)
{
	return ( space_quest.hasShip( player ) );
}

// ======================================================================
// Script Actions
// ======================================================================

void generic_newbie_pilot_info_jabbas_palace_action_rememberPlayer (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "metNewbiePilot", true );
}

// ----------------------------------------------------------------------

void generic_newbie_pilot_info_jabbas_palace_action_removeAccessDocuments (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer( player );
	if ( pInv == null )
		return;

	obj_id[] items = getContents( pInv );
	if ( items == null )
		return;
	
	for ( int i=0; i<items.length; i++ )
	{
		string name = getTemplateName( items[i] );
		if ( name.equals( "object/tangible/space/mission_objects/palace_access_doc.iff" ) )
		{
			obj_id transferauth = items[i];
			if 	(destroyObject(transferauth))
				setObjVar (player, "space_access_jabba", 30);
		}
	}
	return;
}

// ----------------------------------------------------------------------

void generic_newbie_pilot_info_jabbas_palace_action_grantQuestOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest ( player, "delivery", "tatooine_newbie_1");
	space_quest.grantNewbieShip( player, "rebel");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int generic_newbie_pilot_info_jabbas_palace_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, hi there. Sorry... I'm a little dazed. My friends and I had to run an errand for Porcellus. I had no idea it was going to be so difficult! What can I do for you, friend?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to get in the palace.
	if (response == "s_daa8544b")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There's only one way into the palace... without getting shot by Hutt assassins or getting thrown to the Sarlacc pit.
			string_id message = new string_id (c_stringFile, "s_9bd20141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What way is that?
			boolean hasResponse0 = false;
			if (!generic_newbie_pilot_info_jabbas_palace_condition_hasAccessDocuments (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well I have these papers?
			boolean hasResponse1 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition_hasAccessDocuments (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5c484c74");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f97d453c");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of errand did you run?
	if (response == "s_b8b50032")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: My friend is the guy to ask, honestly. I'm just a hired gun. Porcellus needed us to take down a rare animal for a special dish he's preparing for Jabba. Sounded simple enough - but we got in over our heads.
			string_id message = new string_id (c_stringFile, "s_8583811b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Over your head? Against a simple creature?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d94b37db");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I better let you rest.
	if (response == "s_bc4e70bf")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Thanks. Take care of yourself, pal.
			string_id message = new string_id (c_stringFile, "s_29430ed4");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's only one way into the palace... without getting shot by Hutt assassins or getting thrown to the Sarlacc pit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What way is that?
	if (response == "s_5c484c74")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: You have to become a friend of the Hutts. You need to get Jabba's associates to trust you.
			string_id message = new string_id (c_stringFile, "s_6fa59967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I do that?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a9e4fd02");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well I have these papers?
	if (response == "s_f97d453c")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition_notCorrectPilot (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Yes they looks to be in order but you're not a part of the Smugglers Alliance are you? Get your priorities straight and then come back to see me.
			string_id message = new string_id (c_stringFile, "s_3385ded9");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition_hasUnsignedDocuments (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Hmm, yes, yes these looks to be correct. See this dotted line at the bottom though? You're supposed to sign it, come back to me when you have.
			string_id message = new string_id (c_stringFile, "s_2b167dbd");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition_hasIncorrectDocuments (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Let's see...Hmm yes these looks to be in order. I thought you said your name was %TU though? So why haven't you signed with your correct name? Get that fixed and come back to see me when you have.
			string_id message = new string_id (c_stringFile, "s_f7d7d0fe");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, pp);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			generic_newbie_pilot_info_jabbas_palace_action_removeAccessDocuments (player, npc);

			//-- NPC: I can't believe we're still using paper documents. Let's see here... hmm, yes these looks to be correct I suppose. I will inform the guards of your privileges. Keep in mind though, if you abuse Jabba's rules, you will be in deep trouble.
			string_id message = new string_id (c_stringFile, "s_51bcd889");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Me? Trouble? Never.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d06b92dc");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have to become a friend of the Hutts. You need to get Jabba's associates to trust you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I do that?
	if (response == "s_a9e4fd02")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Start by doing some favors for Reelo Baruk. He's in the main entry of the palace because he needs to coordinate with a lot of lower-level folks in the Hutt organization... folks that Jabba doesn't want to see face-to-face, you know?
			string_id message = new string_id (c_stringFile, "s_d11dc1bf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What sort of favors?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do you meet Jabba face-to-face?
			boolean hasResponse1 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse2 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cba77fff");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ebf8ee6f");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Start by doing some favors for Reelo Baruk. He's in the main entry of the palace because he needs to coordinate with a lot of lower-level folks in the Hutt organization... folks that Jabba doesn't want to see face-to-face, you know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of favors?
	if (response == "s_cba77fff")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: It depends. You'll probably see a lot of combat when working for Jabba the Hutt. I know I have!
			string_id message = new string_id (c_stringFile, "s_6d6fc618");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And then what?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d038a005");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do you meet Jabba face-to-face?
	if (response == "s_ebf8ee6f")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do favors for Reelo, then he'll pass you on up the chain. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.
			string_id message = new string_id (c_stringFile, "s_8aeca88d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It depends. You'll probably see a lot of combat when working for Jabba the Hutt. I know I have!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And then what?
	if (response == "s_d038a005")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			//-- NPC: After doing favors for Reelo, he'll pass you on up the chain of command. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.
			string_id message = new string_id (c_stringFile, "s_9dd79035");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: After doing favors for Reelo, he'll pass you on up the chain of command. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do favors for Reelo, then he'll pass you on up the chain. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I can't believe we're still using paper documents. Let's see here... hmm, yes these looks to be correct I suppose. I will inform the guards of your privileges. Keep in mind though, if you abuse Jabba's rules, you will be in deep trouble.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Me? Trouble? Never.
	if (response == "s_d06b92dc")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "smell_air");

			//-- NPC: You better not. *sniff* *sniff* Strange...is that glue I sme...
			string_id message = new string_id (c_stringFile, "s_6f8371ee");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My friend is the guy to ask, honestly. I'm just a hired gun. Porcellus needed us to take down a rare animal for a special dish he's preparing for Jabba. Sounded simple enough - but we got in over our heads.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Over your head? Against a simple creature?
	if (response == "s_d94b37db")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Don't take that tone with me, friend! I'd like to see how well you do in the same situation.
			string_id message = new string_id (c_stringFile, "s_aefb75dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You survived, though.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80f90f12");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Don't take that tone with me, friend! I'd like to see how well you do in the same situation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You survived, though.
	if (response == "s_80f90f12")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "smack_self");

			//-- NPC: Only by rolling a fragmentation grenade into the creature's mouth as it tried to swallow me whole! I don't think there's enough for Porcellus to make a meal... let alone a special meal for Jabba himself! Unless he enjoys picking shrapnel out of his entrees.
			string_id message = new string_id (c_stringFile, "s_6b059369");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I need to get in the palace.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_daa8544b");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Only by rolling a fragmentation grenade into the creature's mouth as it tried to swallow me whole! I don't think there's enough for Porcellus to make a meal... let alone a special meal for Jabba himself! Unless he enjoys picking shrapnel out of his entrees.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to get in the palace.
	if (response == "s_daa8544b")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There's only one way into the palace... without getting shot by Hutt assassins or getting thrown to the Sarlacc pit.
			string_id message = new string_id (c_stringFile, "s_9bd20141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What way is that?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5c484c74");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's only one way into the palace... without getting shot by Hutt assassins or getting thrown to the Sarlacc pit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What way is that?
	if (response == "s_5c484c74")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: You have to become a friend of the Hutts. You need to get Jabba's associates to trust you.
			string_id message = new string_id (c_stringFile, "s_6fa59967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I do that?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a9e4fd02");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have to become a friend of the Hutts. You need to get Jabba's associates to trust you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I do that?
	if (response == "s_a9e4fd02")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Do some favors for Reelo Baruk. He's in the main entry of the palace because he needs to coordinate with a lot of lower-level folks in the Hutt organization... folks that Jabba doesn't want to see face-to-face, you know?
			string_id message = new string_id (c_stringFile, "s_37388d12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What sort of favors?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do you meet Jabba face-to-face?
			boolean hasResponse1 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse2 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cba77fff");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ebf8ee6f");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do some favors for Reelo Baruk. He's in the main entry of the palace because he needs to coordinate with a lot of lower-level folks in the Hutt organization... folks that Jabba doesn't want to see face-to-face, you know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of favors?
	if (response == "s_cba77fff")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: It depends. You'll probably see a lot of combat when working for Jabba the Hutt. I know I have!
			string_id message = new string_id (c_stringFile, "s_6d6fc618");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And then what?
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d038a005");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do you meet Jabba face-to-face?
	if (response == "s_ebf8ee6f")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do favors for Reelo, then he'll pass you on up the chain. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.
			string_id message = new string_id (c_stringFile, "s_8aeca88d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It depends. You'll probably see a lot of combat when working for Jabba the Hutt. I know I have!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And then what?
	if (response == "s_d038a005")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			//-- NPC: After doing favors for Reelo, he'll pass you on up the chain of command. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.
			string_id message = new string_id (c_stringFile, "s_9dd79035");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. Thanks.
			boolean hasResponse0 = false;
			if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c017871");

				utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: After doing favors for Reelo, he'll pass you on up the chain of command. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int generic_newbie_pilot_info_jabbas_palace_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do favors for Reelo, then he'll pass you on up the chain. Other friends of Jabba will have assignments for you. As you complete those assignments, you'll be recommended to more higher-ranking Hutts. Soon enough you'll be face-to-face with Jabba himself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. Thanks.
	if (response == "s_2c017871")
	{
		//-- [NOTE] 
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Don't mention it!
			string_id message = new string_id (c_stringFile, "s_bc324892");
			utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.generic_newbie_pilot_info_jabbas_palace");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setName (self, "Smuggler Pilot");

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setName (self, "Smuggler Pilot");

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );
	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.generic_newbie_pilot_info_jabbas_palace");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Oh, hi there. Sorry... I'm a little dazed. My friends and I had to run an errand for Porcellus. I had no idea it was going to be so difficult! What can I do for you, friend?
		string_id message = new string_id (c_stringFile, "s_b543ec60");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I need to get in the palace.
		boolean hasResponse0 = false;
		if (generic_newbie_pilot_info_jabbas_palace_condition_hasSpaceShip (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What sort of errand did you run?
		boolean hasResponse1 = false;
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I better let you rest.
		boolean hasResponse2 = false;
		if (generic_newbie_pilot_info_jabbas_palace_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_daa8544b");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b8b50032");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_bc4e70bf");

			utils.setScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId", 1);

			npcStartConversation (player, npc, "generic_newbie_pilot_info_jabbas_palace", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "generic_newbie_pilot_info_jabbas_palace")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

	if (branchId == 1 && generic_newbie_pilot_info_jabbas_palace_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && generic_newbie_pilot_info_jabbas_palace_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && generic_newbie_pilot_info_jabbas_palace_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && generic_newbie_pilot_info_jabbas_palace_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && generic_newbie_pilot_info_jabbas_palace_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && generic_newbie_pilot_info_jabbas_palace_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && generic_newbie_pilot_info_jabbas_palace_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && generic_newbie_pilot_info_jabbas_palace_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && generic_newbie_pilot_info_jabbas_palace_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && generic_newbie_pilot_info_jabbas_palace_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && generic_newbie_pilot_info_jabbas_palace_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && generic_newbie_pilot_info_jabbas_palace_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && generic_newbie_pilot_info_jabbas_palace_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && generic_newbie_pilot_info_jabbas_palace_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && generic_newbie_pilot_info_jabbas_palace_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && generic_newbie_pilot_info_jabbas_palace_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && generic_newbie_pilot_info_jabbas_palace_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.generic_newbie_pilot_info_jabbas_palace.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

