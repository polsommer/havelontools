// ======================================================================
//
// tatooine_eisley_gendra.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.content;
include library.groundquests;
include library.space_flags;
include library.static_item;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_eisley_gendra";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_eisley_gendra_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnTeaQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "quest/newbie_gendra_spiced_tea");
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnJerkyQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "quest/newbie_gendra_meat_jerky");
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnGlassQuest (obj_id player, obj_id npc)
{
	if (groundquests.isQuestActive(player, "quest/newbie_gendra_small_glass"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishedTeaQuest (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive (player, "quest/newbie_gendra_spiced_tea", "deliveredTea") && utils.isProfession(player, utils.TRADER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishedGlassQuest (obj_id player, obj_id npc)
{
	return ((groundquests.isTaskActive (player, "quest/newbie_gendra_small_glass", "deliveredGlasses") || groundquests.hasCompletedQuest (player, "quest/newbie_gendra_small_glass")) &&
			utils.isProfession(player, utils.TRADER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishedJerkyQuest (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "quest/newbie_gendra_meat_jerky") && utils.isProfession(player, utils.TRADER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_doneWorking (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedQuest (player, "quest/newbie_gendra_spiced_tea") || groundquests.hasCompletedQuest (player, "quest/newbie_gendra_cantina_entertainer"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnDanceQuest (obj_id player, obj_id npc)
{
	if (groundquests.isQuestActive(player, "quest/newbie_gendra_cantina_dance"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnMusicQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "quest/newbie_gendra_cantina_music");
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isOnEntertainerQuest (obj_id player, obj_id npc)
{
	if (groundquests.isQuestActive(player, "quest/newbie_gendra_cantina_entertainer"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishingDance (obj_id player, obj_id npc)
{
	return ((groundquests.isTaskActive(player, "quest/newbie_gendra_cantina_dance", "doneDancing") || (groundquests.hasCompletedQuest (player, "quest/newbie_gendra_cantina_dance"))) &&
			utils.isProfession(player, utils.ENTERTAINER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishingMusic (obj_id player, obj_id npc)
{
	return ((groundquests.isTaskActive (player, "quest/newbie_gendra_cantina_music", "doneMusic") || (groundquests.hasCompletedQuest (player, "quest/newbie_gendra_cantina_music"))) &&
			utils.isProfession(player, utils.ENTERTAINER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_finishingEntertainer (obj_id player, obj_id npc)
{
	return ((groundquests.isTaskActive (player, "quest/newbie_gendra_cantina_entertainer", "doneEntertaining") || (groundquests.hasCompletedQuest (player, "quest/newbie_gendra_cantina_entertainer"))) &&
			utils.isProfession(player, utils.ENTERTAINER));
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isACrafter (obj_id player, obj_id npc)
{
	if (content.isCrafter(player))
	{
		return true;
	}
	return false;		
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_isAnEntertainer (obj_id player, obj_id npc)
{
	if (content.isEntertainer(player))
	{
		return true;
	}
	return false;		
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_gendrasPocketPicking (obj_id player, obj_id npc)
{
	if (groundquests.isTaskActive(player, "quest/steal_speeder", "pickGendrasPocket"))
	{
		return true;
	}
	return false;		
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_needsVehicle (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedQuest (player, "quest/gendra_speeder"))
		return false;
	else if (groundquests.hasCompletedQuest (player, "quest/speeder_quest"))
		return false;
	else
		return true;
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_needsHorn (obj_id player, obj_id npc)
{
	return utils.playerHasStaticItemInBankOrInventory(player, "item_npe_smooth_slitherhorn_01_01");
}

// ----------------------------------------------------------------------

boolean tatooine_eisley_gendra_condition_hasTalkToTrehla (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "quest/tatooine_eisley_gototrehla_v2");
}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_eisley_gendra_action_grantJerkyQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_meat_jerky");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantGlassQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_small_glass");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantTeaQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_spiced_tea");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantDanceQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_cantina_dance");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantMusicQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_cantina_music");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantEntertainerQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_cantina_entertainer");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendDanceSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "dancedForGendra");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendMusicSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "playedForGendra");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendEntertainerSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "entertainedForGendra");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_showNeutralPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_neutral_pilot");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_showRebelPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_rebel_pilot");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_showImperialPilot (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_gendra_imperial_pilot");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_showCraftingTerminal (obj_id player, obj_id npc)
{
	groundquests.grantQuest (player, "quest/newbie_crafter_terminal");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_showEntertainerTerminal (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/newbie_entertainer_terminal");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendGlassSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "doneGlassQuest");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendTeaSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "doneTeaQuest");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_pocketPickingSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "gendrasPocketPicked");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_givespeeder (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest (player, "quest/gendra_speeder");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_sendToTrehla (obj_id player, obj_id npc)
{
	if (groundquests.isQuestActiveOrComplete (player, "quest/tatooine_eisley_gototrehla_v2"))
	{
		groundquests.clearQuest (player, "quest/tatooine_eisley_gototrehla_v2");	
	}
    	groundquests.grantQuest (player, "quest/tatooine_eisley_gototrehla_v2");
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_giveHorn (obj_id player, obj_id npc)
{
	obj_id horn = static_item.createNewItemFunction("item_npe_smooth_slitherhorn_01_01", player);
	obj_id[] items = new obj_id[1];
	items[0] = horn;
	showLootBox(player, items);
}

// ----------------------------------------------------------------------

void tatooine_eisley_gendra_action_grantLegacyQuest (obj_id player, obj_id npc)
{
	if(!groundquests.isQuestActiveOrComplete(player, "tatooine_eisley_legacy"))
		groundquests.grantQuest(player, "tatooine_eisley_legacy");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_eisley_gendra_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid I don't have any more work for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you tell me about piloting?
	if (response == "s_211")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the crafting terminals?
	if (response == "s_226")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showCraftingTerminal (player, npc);

			//-- NPC: I'll show you. I'm sure you'll get some great jobs from the terminals. People always need things crafted.
			string_id message = new string_id (c_stringFile, "s_59");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's fine. What else can I do?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the entertainment terminals?
	if (response == "s_228")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showEntertainerTerminal (player, npc);

			//-- NPC: I'll mark their location for you. People always need some entertainers around. Good luck in the future to you.
			string_id message = new string_id (c_stringFile, "s_94");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need a vehicle.
	if (response == "s_251")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_givespeeder (player, npc);

			//-- NPC: Here, I have one that you can take. It's one a friend crafted for me, but I don't need it. I'll just put it in your inventory, and you can just use it to generate a vehicle.
			string_id message = new string_id (c_stringFile, "s_253");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need some general information.
	if (response == "s_210")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_sendToTrehla (player, npc);

			//-- NPC: Ah, then you might want to see Trehla Keelo. She can help you out with more generalized information.
			string_id message = new string_id (c_stringFile, "s_212");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're going to be famous one day, you know that? I hear your work was outstanding.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks for the compliment.
	if (response == "s_89")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's well deserved. If you're looking for something else to do, you can always try the entertainment terminals.
			string_id message = new string_id (c_stringFile, "s_90");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where are these terminals?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who else can I talk to?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_225");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_198")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's well deserved. If you're looking for something else to do, you can always try the entertainment terminals.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are these terminals?
	if (response == "s_92")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showEntertainerTerminal (player, npc);

			//-- NPC: I'll mark their location for you. People always need some entertainers around. Good luck in the future to you.
			string_id message = new string_id (c_stringFile, "s_94");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who else can I talk to?
	if (response == "s_225")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Things like using the bank? Bazaar terminals? That kind of information?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes! Where can I learn about that?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, that's not what I mean.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, that tea was great! I mean, um...I didn't have any of it, but it smelled great. The taste was exquisite. Or, I mean, um, it would have been. If I had some.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's all right. As long as I got paid.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm glad you don't get upset when I do that. I mean, I pay my friend out of my own pocket for what I eat and drink, but it's still bad form, you know?
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's fine. What else can I do?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You should show some restraint.
	if (response == "s_50")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: I should, but it's difficult. Some of the food and drinks that go through here, I just can't help myself.
			string_id message = new string_id (c_stringFile, "s_51");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok. Well, what else can I do?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_197")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm glad you don't get upset when I do that. I mean, I pay my friend out of my own pocket for what I eat and drink, but it's still bad form, you know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's fine. What else can I do?
	if (response == "s_53")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I'm afraid that's all I have for right now. You could do some crafting on your own, or you could try the crafting terminals if you're looking for more work.
			string_id message = new string_id (c_stringFile, "s_55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll just go off on my own.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me where the terminals are.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who else can I talk to?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, I'm afraid that's all I have for right now. You could do some crafting on your own, or you could try the crafting terminals if you're looking for more work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll just go off on my own.
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks for all your help. Maybe someday we'll work together again.
			string_id message = new string_id (c_stringFile, "s_57");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me where the terminals are.
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showCraftingTerminal (player, npc);

			//-- NPC: I'll show you. I'm sure you'll get some great jobs from the terminals. People always need things crafted.
			string_id message = new string_id (c_stringFile, "s_59");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's fine. What else can I do?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who else can I talk to?
	if (response == "s_219")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Things like using the bank? Bazaar terminals? That kind of information?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes! Where can I learn about that?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, that's not what I mean.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll show you. I'm sure you'll get some great jobs from the terminals. People always need things crafted.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's fine. What else can I do?
	if (response == "s_53")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I'm afraid that's all I have for right now. You could do some crafting on your own, or you could try the crafting terminals if you're looking for more work.
			string_id message = new string_id (c_stringFile, "s_55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll just go off on my own.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me where the terminals are.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who else can I talk to?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I should, but it's difficult. Some of the food and drinks that go through here, I just can't help myself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok. Well, what else can I do?
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I'm afraid that's all I have for right now. You could do some crafting on your own, or you could try the crafting terminals if you're looking for more work.
			string_id message = new string_id (c_stringFile, "s_55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll just go off on my own.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me where the terminals are.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Who else can I talk to?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hear you play music just about as well as you dance. Congratulations, you're going to get a good reputation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. What else can I do?
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Funny you should ask. My friend was just saying how popular you were, both dancing and playing music. Want to go back for an encore?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doing which?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. I'm going to head off on my own now.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Suit yourself. If you're ever looking for anything to do just come back and see me.
			string_id message = new string_id (c_stringFile, "s_254");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_196")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Funny you should ask. My friend was just saying how popular you were, both dancing and playing music. Want to go back for an encore?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doing which?
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: He says it doesn't matter. You choose. You go do a set of either dancing or music, and he'll be happy.
			string_id message = new string_id (c_stringFile, "s_85");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, I'd be happy to.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He says it doesn't matter. You choose. You go do a set of either dancing or music, and he'll be happy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, I'd be happy to.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantEntertainerQuest (player, npc);

			//-- NPC: I'll make sure he knows you're on the way. Thanks for doing this.
			string_id message = new string_id (c_stringFile, "s_87");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, those glasses were perfect! My friend thanks you. He was wondering, though, if you had some more free time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah. I'd like to get some more work.
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perfect! I told him you'd be up for it. He's had a problem with his spiced tea distributor. Could you make him some spiced tea?
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I sure can!
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Is it hard?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I'm done working for now.
	if (response == "s_99")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, just come back whenever you need something else to do.
			string_id message = new string_id (c_stringFile, "s_101");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_195")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perfect! I told him you'd be up for it. He's had a problem with his spiced tea distributor. Could you make him some spiced tea?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I sure can!
	if (response == "s_67")
	{
		tatooine_eisley_gendra_action_grantTeaQuest (player, npc);

		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Superb. Bring ten spiced teas to my friend Muna Skish. He's usually somewhere near the cantina.
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is it hard?
	if (response == "s_72")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, spiced tea is a little more involved than making glases or meat jerky. You have to make glasses to put the spiced tea in first.
			string_id message = new string_id (c_stringFile, "s_74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So I make the glasses and then the spiced tea?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, spiced tea is a little more involved than making glases or meat jerky. You have to make glasses to put the spiced tea in first.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So I make the glasses and then the spiced tea?
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's right, one of the components of spiced tea is a glass to put it in. Just make more small glasses like you did before, and then you can put tea in them.
			string_id message = new string_id (c_stringFile, "s_78");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think I can do that.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not sure, this sounds like a lot of work.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's right, one of the components of spiced tea is a glass to put it in. Just make more small glasses like you did before, and then you can put tea in them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I can do that.
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Superb. Bring ten spiced teas to my friend Muna Skish. He's usually somewhere near the cantina.
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not sure, this sounds like a lot of work.
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, just come back whenever you need something else to do.
			string_id message = new string_id (c_stringFile, "s_101");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hear your dancing was exquisite. I'm glad that you could help out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else I can do?
	if (response == "s_110")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Matter of fact, there is. Can you play music?
			string_id message = new string_id (c_stringFile, "s_112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Music? I can handle that.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_199");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm tired. I think I'll take some time off.
	if (response == "s_127")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Suit yourself. If you're ever looking for anything to do just come back and see me.
			string_id message = new string_id (c_stringFile, "s_254");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_194")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Matter of fact, there is. Can you play music?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Music? I can handle that.
	if (response == "s_199")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do you have your own instrument? This is very important. If you don't have one, you'll need to go get one before you can perform.
			string_id message = new string_id (c_stringFile, "s_201");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm set. What do you need?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an instrument.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_245");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you have your own instrument? This is very important. If you don't have one, you'll need to go get one before you can perform.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set. What do you need?
	if (response == "s_230")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: A musician was supposed to be arriving to play a set in the cantina, but apparently he was arrested at the starport. Could you fill in?
			string_id message = new string_id (c_stringFile, "s_232");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why was he arrested?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I can do that.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_234");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_242");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have an instrument.
	if (response == "s_245")
	{
		//-- [NOTE] 
		if (!tatooine_eisley_gendra_condition_needsHorn (player, npc))
		{
			tatooine_eisley_gendra_action_giveHorn (player, npc);

			//-- NPC: You're in luck! I just happen to have a spare slitherhorn. Take good care of it. After all, you can't expect people to just hand you things whenever you need it.
			string_id message = new string_id (c_stringFile, "s_233");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm set. What do you need?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an instrument.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_245");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: And I don't have one to give you. You should try the bazaar. Sometimes people sell them. Get yourself a nice slitherhorn, and then you'll be ready to go.
			string_id message = new string_id (c_stringFile, "s_246");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A musician was supposed to be arriving to play a set in the cantina, but apparently he was arrested at the starport. Could you fill in?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why was he arrested?
	if (response == "s_234")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Something about a package that was supposed to be delivered? He was on Tansarii Point Station when Han Solo was there and there was some trouble. I don't know much more about it.
			string_id message = new string_id (c_stringFile, "s_236");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, I'll be happy to play in the cantina.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I'll just go.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_238");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_240");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I can do that.
	if (response == "s_242")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantMusicQuest (player, npc);

			//-- NPC: My friend will be very pleased. I'll let him know you're coming.
			string_id message = new string_id (c_stringFile, "s_244");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Something about a package that was supposed to be delivered? He was on Tansarii Point Station when Han Solo was there and there was some trouble. I don't know much more about it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I'll be happy to play in the cantina.
	if (response == "s_238")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantMusicQuest (player, npc);

			//-- NPC: My friend will be very pleased. I'll let him know you're coming.
			string_id message = new string_id (c_stringFile, "s_244");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I'll just go.
	if (response == "s_240")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Suit yourself. If you're ever looking for anything to do just come back and see me.
			string_id message = new string_id (c_stringFile, "s_254");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're in luck! I just happen to have a spare slitherhorn. Take good care of it. After all, you can't expect people to just hand you things whenever you need it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm set. What do you need?
	if (response == "s_230")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: A musician was supposed to be arriving to play a set in the cantina, but apparently he was arrested at the starport. Could you fill in?
			string_id message = new string_id (c_stringFile, "s_232");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why was he arrested?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I can do that.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_234");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_242");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have an instrument.
	if (response == "s_245")
	{
		//-- [NOTE] 
		if (!tatooine_eisley_gendra_condition_needsHorn (player, npc))
		{
			tatooine_eisley_gendra_action_giveHorn (player, npc);

			//-- NPC: You're in luck! I just happen to have a spare slitherhorn. Take good care of it. After all, you can't expect people to just hand you things whenever you need it.
			string_id message = new string_id (c_stringFile, "s_233");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm set. What do you need?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an instrument.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_230");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_245");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: And I don't have one to give you. You should try the bazaar. Sometimes people sell them. Get yourself a nice slitherhorn, and then you'll be ready to go.
			string_id message = new string_id (c_stringFile, "s_246");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, that meat was fantastic. Er, I mean it looked fantastic. I didn't sample it. No, not at all. But if I had I would have said you were a great chef.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think you sampled it.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I might have kept one for myself, but I paid for it, you bet I did.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else I can do?
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is. My friend hired perhaps the clumsiest waiter he could find, and the guy keeps smashing glasses. Could you make my friend some new glassware?
			string_id message = new string_id (c_stringFile, "s_138");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I believe I can do that.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_193")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is. My friend hired perhaps the clumsiest waiter he could find, and the guy keeps smashing glasses. Could you make my friend some new glassware?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I believe I can do that.
	if (response == "s_140")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantGlassQuest (player, npc);

			//-- NPC: Great! He could probably use about seven new glasses. Perhaps this time you should take them directly over to the cantina and give them to my friend, Lurval.
			string_id message = new string_id (c_stringFile, "s_142");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, hello! Han Solo said you might be coming along. You're interested in things other than combat. Is that right?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I like crafting.
	if (response == "s_151")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's great, just great. We need some people like you. If you're interested in some work, that is.
			string_id message = new string_id (c_stringFile, "s_247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think I'll be fine on my own.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd love to get some work.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_256");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm an entertainer.
	if (response == "s_166")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, very well, I have some work if you're interested. A friend of mine owns a cantina and could use some help.
			string_id message = new string_id (c_stringFile, "s_168");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of help?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to work right now.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_178");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need general information.
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Things like using the bank? Bazaar terminals? That kind of information?
			string_id message = new string_id (c_stringFile, "s_182");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes! Where can I learn about that?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, that's not what I mean.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_184");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_188");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I become a pilot?
	if (response == "s_208")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is the Neutral trainer?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where is the Imperial trainer?
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is the Rebel trainer?
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to have a vehicle...
	if (response == "s_249")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_givespeeder (player, npc);

			//-- NPC: Here, I have one that you can take. It's one a friend crafted for me, but I don't need it. I'll just put it in your inventory, and you can just use it to generate a vehicle.
			string_id message = new string_id (c_stringFile, "s_253");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, that's great, just great. We need some people like you. If you're interested in some work, that is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I'll be fine on my own.
	if (response == "s_252")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Suit yourself. If you're ever looking for anything to do just come back and see me.
			string_id message = new string_id (c_stringFile, "s_254");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd love to get some work.
	if (response == "s_256")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great! I have a friend, runs a cantina, he's looking to sell some food, but he wants to start basic. Can you make some Meat Jerky?
			string_id message = new string_id (c_stringFile, "s_258");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do that.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds dull.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_260");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_264");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great! I have a friend, runs a cantina, he's looking to sell some food, but he wants to start basic. Can you make some Meat Jerky?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do that.
	if (response == "s_260")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantJerkyQuest (player, npc);

			//-- NPC: Ok, make five stacks of Meat Jerky and then bring them back to me.
			string_id message = new string_id (c_stringFile, "s_262");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I get meat?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds dull.
	if (response == "s_264")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I guess you'll be off on your own then. Come back and see me if you change your mind.
			string_id message = new string_id (c_stringFile, "s_266");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, make five stacks of Meat Jerky and then bring them back to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I get meat?
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Meat can be found by harvesting it from creatures that have been killed. Simply use the carcass and collect the meat. You can also get hides and bones this way.
			string_id message = new string_id (c_stringFile, "s_216");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What if I don't want to kill anything?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_217");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Meat can be found by harvesting it from creatures that have been killed. Simply use the carcass and collect the meat. You can also get hides and bones this way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What if I don't want to kill anything?
	if (response == "s_217")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, you can either get it from the bazaar, or perhaps you can find someone willing to trade you some raw meat. Better still, perhaps you can find a partner, someone to kill the creature and then let you have the meat. Either way, you should be fine.
			string_id message = new string_id (c_stringFile, "s_218");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, very well, I have some work if you're interested. A friend of mine owns a cantina and could use some help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of help?
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of the dancers who works for him slipped on some spilled spiced tea, and he needs someone to fill in for a short while so she can go get her clothes cleaned.
			string_id message = new string_id (c_stringFile, "s_172");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can do that.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I want to work right now.
	if (response == "s_178")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Suit yourself. If you're ever looking for anything to do just come back and see me.
			string_id message = new string_id (c_stringFile, "s_254");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of the dancers who works for him slipped on some spilled spiced tea, and he needs someone to fill in for a short while so she can go get her clothes cleaned.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do that.
	if (response == "s_174")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_grantDanceQuest (player, npc);

			//-- NPC: Great. I'll let him know you're coming.
			string_id message = new string_id (c_stringFile, "s_176");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Things like using the bank? Bazaar terminals? That kind of information?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes! Where can I learn about that?
	if (response == "s_184")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_sendToTrehla (player, npc);

			//-- NPC: I have just the person for you to see. Just come back when you're ready to start working.
			string_id message = new string_id (c_stringFile, "s_186");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, that's not what I mean.
	if (response == "s_188")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, all I know about is crafting and entertaining.
			string_id message = new string_id (c_stringFile, "s_190");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm a crafter.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition_isACrafter (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about entertainment.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition_isAnEntertainer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ok, then I guess that's it.
			boolean hasResponse2 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_192");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_202");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_204");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, all I know about is crafting and entertaining.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a crafter.
	if (response == "s_192")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's great, just great. We need some people like you. If you're interested in some work, that is.
			string_id message = new string_id (c_stringFile, "s_247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think I'll be fine on my own.
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd love to get some work.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_256");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about entertainment.
	if (response == "s_202")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, very well, I have some work if you're interested. A friend of mine owns a cantina and could use some help.
			string_id message = new string_id (c_stringFile, "s_168");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of help?
			boolean hasResponse0 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I want to work right now.
			boolean hasResponse1 = false;
			if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_178");

				utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, then I guess that's it.
	if (response == "s_204")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, all right then.
			string_id message = new string_id (c_stringFile, "s_206");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_eisley_gendra_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll need to see a pilot trainer for that. I can show you where one is if you'd like?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is the Neutral trainer?
	if (response == "s_220")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showNeutralPilot (player, npc);

			//-- NPC: Here, I'll give you a marker on your datapad. You should be able to find the trainer when you get there. He's right here in town, in fact.
			string_id message = new string_id (c_stringFile, "s_222");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is the Imperial trainer?
	if (response == "s_224")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showImperialPilot (player, npc);

			//-- NPC: Here, I'll give you a marker on your datapad. The Imperial trainer is in Bestine, but you can take a shuttle to get there. I'll give you a waypoint to the shuttle, and then you can buy a ticket and go to Bestine if you'd like.
			string_id message = new string_id (c_stringFile, "s_229");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is the Rebel trainer?
	if (response == "s_239")
	{
		//-- [NOTE] 
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			tatooine_eisley_gendra_action_showRebelPilot (player, npc);

			//-- NPC: The Rebel trainer is in Mos Espa, you'll have to take a shuttle. I'll mark the shuttle port for you, then you can head to Mos Espa and I'll make sure you have a waypoint to the trainer there.
			string_id message = new string_id (c_stringFile, "s_243");
			utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_eisley_gendra");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_eisley_gendra");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_doneWorking (player, npc))
	{
		//-- NPC: I'm afraid I don't have any more work for you.
		string_id message = new string_id (c_stringFile, "s_60");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Can you tell me about piloting?
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Where are the crafting terminals?
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition_isACrafter (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Where are the entertainment terminals?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition_isAnEntertainer (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I need a vehicle.
		boolean hasResponse3 = false;
		if (tatooine_eisley_gendra_condition_needsVehicle (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I need some general information.
		boolean hasResponse4 = false;
		if (!tatooine_eisley_gendra_condition_hasTalkToTrehla (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_211");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_226");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_228");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_251");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_210");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 1);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishingEntertainer (player, npc))
	{
		tatooine_eisley_gendra_action_sendEntertainerSignal (player, npc);

		//-- NPC: You're going to be famous one day, you know that? I hear your work was outstanding.
		string_id message = new string_id (c_stringFile, "s_80");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks for the compliment.
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_89");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_198");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 3);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishedTeaQuest (player, npc))
	{
		tatooine_eisley_gendra_action_sendTeaSignal (player, npc);

		//-- NPC: Oh, that tea was great! I mean, um...I didn't have any of it, but it smelled great. The taste was exquisite. Or, I mean, um, it would have been. If I had some.
		string_id message = new string_id (c_stringFile, "s_48");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It's all right. As long as I got paid.
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You should show some restraint.
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_50");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_197");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 6);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnEntertainerQuest (player, npc))
	{
		tatooine_eisley_gendra_action_sendEntertainerSignal (player, npc);

		//-- NPC: The patrons are getting rowdy with no entertainment. I hope you make it over to the cantina soon.
		string_id message = new string_id (c_stringFile, "s_88");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnTeaQuest (player, npc))
	{
		//-- NPC: My friend needs that spiced tea just as soon as you can get it.
		string_id message = new string_id (c_stringFile, "s_47");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishingMusic (player, npc))
	{
		tatooine_eisley_gendra_action_sendMusicSignal (player, npc);

		//-- NPC: I hear you play music just about as well as you dance. Congratulations, you're going to get a good reputation.
		string_id message = new string_id (c_stringFile, "s_70");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks. What else can I do?
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Thanks. I'm going to head off on my own now.
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_82");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_196");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 14);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishedGlassQuest (player, npc))
	{
		tatooine_eisley_gendra_action_sendGlassSignal (player, npc);

		//-- NPC: Oh, those glasses were perfect! My friend thanks you. He was wondering, though, if you had some more free time.
		string_id message = new string_id (c_stringFile, "s_61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yeah. I'd like to get some more work.
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I think I'm done working for now.
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_63");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_99");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_195");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 18);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnMusicQuest (player, npc))
	{
		//-- NPC: My friend needs a musician as soon as you can get over there and help out.
		string_id message = new string_id (c_stringFile, "s_104");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnGlassQuest (player, npc))
	{
		//-- NPC: My friend's having a hard time running his business. He needs more small glasses to serve drinks in.
		string_id message = new string_id (c_stringFile, "s_106");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishingDance (player, npc))
	{
		tatooine_eisley_gendra_action_sendDanceSignal (player, npc);

		//-- NPC: I hear your dancing was exquisite. I'm glad that you could help out.
		string_id message = new string_id (c_stringFile, "s_108");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Is there anything else I can do?
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm tired. I think I'll take some time off.
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_110");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_127");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_194");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 26);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_finishedJerkyQuest (player, npc))
	{
		//-- NPC: Ah, that meat was fantastic. Er, I mean it looked fantastic. I didn't sample it. No, not at all. But if I had I would have said you were a great chef.
		string_id message = new string_id (c_stringFile, "s_130");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I think you sampled it.
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Is there anything else I can do?
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse2 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_132");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_136");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_193");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 34);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnJerkyQuest (player, npc))
	{
		//-- NPC: I'm waiting for you to bring me back some Meat Jerky. Those patrons in the cantina are getting hungry. If you have it, just hand it to me.
		string_id message = new string_id (c_stringFile, "s_145");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition_isOnDanceQuest (player, npc))
	{
		//-- NPC: Have you gone over to fill in for the dancer yet? My friend really needs some help.
		string_id message = new string_id (c_stringFile, "s_147");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
	{
		//-- NPC: Well, hello! Han Solo said you might be coming along. You're interested in things other than combat. Is that right?
		string_id message = new string_id (c_stringFile, "s_149");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I like crafting.
		boolean hasResponse0 = false;
		if (tatooine_eisley_gendra_condition_isACrafter (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm an entertainer.
		boolean hasResponse1 = false;
		if (tatooine_eisley_gendra_condition_isAnEntertainer (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I need general information.
		boolean hasResponse2 = false;
		if (!tatooine_eisley_gendra_condition_hasTalkToTrehla (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: How do I become a pilot?
		boolean hasResponse3 = false;
		if (tatooine_eisley_gendra_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I would like to have a vehicle...
		boolean hasResponse4 = false;
		if (tatooine_eisley_gendra_condition_needsVehicle (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_151");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_166");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_180");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_208");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_249");

			utils.setScriptVar (player, "conversation.tatooine_eisley_gendra.branchId", 40);

			npcStartConversation (player, npc, "tatooine_eisley_gendra", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_eisley_gendra")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

	if (branchId == 1 && tatooine_eisley_gendra_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && tatooine_eisley_gendra_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && tatooine_eisley_gendra_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && tatooine_eisley_gendra_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && tatooine_eisley_gendra_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && tatooine_eisley_gendra_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && tatooine_eisley_gendra_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && tatooine_eisley_gendra_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && tatooine_eisley_gendra_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && tatooine_eisley_gendra_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && tatooine_eisley_gendra_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && tatooine_eisley_gendra_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && tatooine_eisley_gendra_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && tatooine_eisley_gendra_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_eisley_gendra_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && tatooine_eisley_gendra_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && tatooine_eisley_gendra_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && tatooine_eisley_gendra_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && tatooine_eisley_gendra_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && tatooine_eisley_gendra_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && tatooine_eisley_gendra_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && tatooine_eisley_gendra_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && tatooine_eisley_gendra_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && tatooine_eisley_gendra_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && tatooine_eisley_gendra_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && tatooine_eisley_gendra_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && tatooine_eisley_gendra_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && tatooine_eisley_gendra_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && tatooine_eisley_gendra_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && tatooine_eisley_gendra_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && tatooine_eisley_gendra_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && tatooine_eisley_gendra_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && tatooine_eisley_gendra_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.tatooine_eisley_gendra.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

