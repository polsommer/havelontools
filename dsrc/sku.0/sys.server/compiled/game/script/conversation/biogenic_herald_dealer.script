// ======================================================================
//
// biogenic_herald_dealer.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/biogenic_herald_dealer";

// ======================================================================
// Script Conditions
// ======================================================================

boolean biogenic_herald_dealer_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean biogenic_herald_dealer_condition_get_waypoint (obj_id player, obj_id npc)
{
	location loc;
	
	obj_id[] waypoints = getWaypointsInDatapad(player);
	
	for(int x = 0; x < waypoints.length; x++) {
	
		loc = getWaypointLocation(waypoints[x]);
		
		if(loc.x == -6488f && loc.z == -417f) {
		
			return true;
		}
	}

	return false;
}

// ----------------------------------------------------------------------

boolean biogenic_herald_dealer_condition_check_inv (obj_id player, obj_id npc)
{
	string datatable = "datatables/npc/relic_dealer/relic_geonosian_bio_bunker.iff";
	
	string item = "";
	string itemTemplate = "";
	
	int itemLength = dataTableGetNumRows(datatable);
	
	int x = 0;
	int y = 0;
	
	obj_id inventory = utils.getInventoryContainer(player);
	
	if(isIdValid(inventory))
	{
		obj_id[] contents = utils.getContents(inventory, true);

		if(contents != null)
		{
			for(x = 0; x < contents.length; x++)
			{
				y = 0;
				
				itemTemplate = getTemplateName(contents[x]);
					
				while(y < itemLength) {
	
					item = dataTableGetString(datatable, y, "items");
						
					if(itemTemplate == item) {
					
						return true;
					}
					
					y++;
				}
			}
		}
	}
	
	return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void biogenic_herald_dealer_action_give_waypoint (obj_id player, obj_id npc)
{
	location cave = new location(-6488, 0, -417);
	obj_id waypoint = createWaypointInDatapad(player, cave);
	
	setWaypointName(waypoint, "Mysterious Cave");
	setWaypointColor(waypoint, "blue");
	setWaypointVisible(waypoint, true);
	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void biogenic_herald_dealer_action_face_to (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void biogenic_herald_dealer_action_start_dealing (obj_id player, obj_id npc)
{
	dictionary params = new dictionary();
	params.put("player", player);
	
	messageTo(npc, "startDealing", params, 1.0f, false);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int biogenic_herald_dealer_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did you find that mountain? Did you see the cave? I'm not crazy am I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're right, there was a cave there.
	if (response == "s_520ae1e7")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?
			string_id message = new string_id (c_stringFile, "s_8a046130");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I have a few things you might be interested in.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition_check_inv (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I don't have anything, sorry.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52beeae8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2b7c5c5a");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I didn't see anything.
	if (response == "s_93f3969d")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: No! It can't be. I know that I'm not crazy!
			string_id message = new string_id (c_stringFile, "s_f2d5ae08");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I have a few things you might be interested in.
	if (response == "s_52beeae8")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_start_dealing (player, npc);

			//-- NPC: Alright, let's see what you have.
			string_id message = new string_id (c_stringFile, "s_551304d2");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I don't have anything, sorry.
	if (response == "s_2b7c5c5a")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's OK. At least I have your word to back me up. Thanks for checking it out for me.
			string_id message = new string_id (c_stringFile, "s_ce4b0ac8");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eh... you don't look much like a miner, but then again we've been getting several strange folk comin' through this outpost of late. Several strange things goin' on 'round here too. Some funny times these days if you ask me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean by strange folk?
	if (response == "s_321d898b")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ever since all that debris came raining down we've had all sorts through here. Thugs, gangsters, adventurers, Imperials, and probably some from that rebellion, too. We used to be just a quiet mining outpost.
			string_id message = new string_id (c_stringFile, "s_bbf0856c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you not usually have that sort of people around here?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the strange things that have been going on.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's very interesting. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b1be0157");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e13e9abc");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d78255c2");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of strange things have been going on?
	if (response == "s_14b834bb")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I'll tell you something that struck me as curious. No one else around here really believes me though. They think I'm crazy...
			string_id message = new string_id (c_stringFile, "s_2688b2a3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, tell me please.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you tell me about those strange folk?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Frankly, I don't think much better of you. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61f5ac3");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_253d6dd2");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4399b8ac");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You don't say? Good-bye.
	if (response == "s_490e56dd")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_163");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ever since all that debris came raining down we've had all sorts through here. Thugs, gangsters, adventurers, Imperials, and probably some from that rebellion, too. We used to be just a quiet mining outpost.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you not usually have that sort of people around here?
	if (response == "s_b1be0157")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Being a mining outpost, we've always had a couple of seedy characters hanging around, but usually looking for work or somethin'. Now they're just all over the place. Asking lots of questions sometimes, too.
			string_id message = new string_id (c_stringFile, "s_3dc0cd9d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who has been asking questions?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What kind of questions?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Am I a seedy character?
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse3 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_aa4a4ec4");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f51b07ff");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1f5ef4a0");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the strange things that have been going on.
	if (response == "s_e13e9abc")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I'll tell you something that struck me as curious. No one else around here really believes me though. They think I'm crazy...
			string_id message = new string_id (c_stringFile, "s_2688b2a3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, tell me please.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you tell me about those strange folk?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Frankly, I don't think much better of you. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61f5ac3");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_253d6dd2");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4399b8ac");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's very interesting. Good-bye.
	if (response == "s_d78255c2")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_58");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Being a mining outpost, we've always had a couple of seedy characters hanging around, but usually looking for work or somethin'. Now they're just all over the place. Asking lots of questions sometimes, too.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who has been asking questions?
	if (response == "s_aa4a4ec4")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Several people. Some folk coming in from Tatooine on the shuttle. Some Imperial types. I know they're Imperial because they wear those flashy uniforms.
			string_id message = new string_id (c_stringFile, "s_ac44ebc8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of questions are they asking?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7828a8aa");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4e38e80");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of questions?
	if (response == "s_f51b07ff")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sometimes they ask about all that debris. Sometimes they ask questions about mining. I do remember some of those Imperials asking us if we'd seen anything unusual.
			string_id message = new string_id (c_stringFile, "s_827f01ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you tell them?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Had you seen anything unusual?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0036582");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_674fdb0a");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Am I a seedy character?
	if (response == "s_1f5ef4a0")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I dunno. Probably.
			string_id message = new string_id (c_stringFile, "s_e998f1ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who has been asking questions?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What kind of questions have people been asking?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85f5abed");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_54");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Several people. Some folk coming in from Tatooine on the shuttle. Some Imperial types. I know they're Imperial because they wear those flashy uniforms.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of questions are they asking?
	if (response == "s_7828a8aa")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sometimes they ask about all that debris. Sometimes they ask questions about mining. I do remember some of those Imperials asking us if we'd seen anything unusual.
			string_id message = new string_id (c_stringFile, "s_827f01ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you tell them?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Had you seen anything unusual?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0036582");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_674fdb0a");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_e4e38e80")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_188c477d");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sometimes they ask about all that debris. Sometimes they ask questions about mining. I do remember some of those Imperials asking us if we'd seen anything unusual.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you tell them?
	if (response == "s_c0036582")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I told 'em no. Hardly anythin' unusual ever happened around here. But if I had seen then what I've seen now, I would have changed my answer.
			string_id message = new string_id (c_stringFile, "s_12f0f46");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it that you saw?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ecc5ef7");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_27");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Had you seen anything unusual?
	if (response == "s_674fdb0a")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: At the time, no I hadn't. Hardly anythin' unusual ever happened around here. But if I had seen then what I had seen now, I would definitely had told 'em.
			string_id message = new string_id (c_stringFile, "s_a70cda4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it that you saw?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_39")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_41");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I told 'em no. Hardly anythin' unusual ever happened around here. But if I had seen then what I've seen now, I would have changed my answer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was it that you saw?
	if (response == "s_6ecc5ef7")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, not long ago we had an earthquake or somthin' nearby. Some thought it was an explosion, but either way, stuff like that is important to a miner. So I went over to check it out... see if there was any damage to any equipment...
			string_id message = new string_id (c_stringFile, "s_5b67bd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Did you find anything?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, this story is boring. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d32acbf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_156");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_27")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_29");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: At the time, no I hadn't. Hardly anythin' unusual ever happened around here. But if I had seen then what I had seen now, I would definitely had told 'em.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was it that you saw?
	if (response == "s_33")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, not long ago we had an earthquake or somthin' nearby. Some thought it was an explosion, but either way, stuff like that is important to a miner. So I went over to check it out... see if there was any damage to any equipment...
			string_id message = new string_id (c_stringFile, "s_5b67bd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Did you find anything?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, this story is boring. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d32acbf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_156");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_35")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_37");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I dunno. Probably.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who has been asking questions?
	if (response == "s_45")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Several people. Some folk coming in from Tatooine on the shuttle. Some Imperial types. I know they're Imperial because they wear those flashy uniforms.
			string_id message = new string_id (c_stringFile, "s_ac44ebc8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of questions are they asking?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7828a8aa");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4e38e80");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of questions have people been asking?
	if (response == "s_85f5abed")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sometimes they ask about all that debris. Sometimes they ask questions about mining. I do remember some of those Imperials asking us if we'd seen anything unusual.
			string_id message = new string_id (c_stringFile, "s_827f01ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you tell them?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Had you seen anything unusual?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sorry, I've got to go. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0036582");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_674fdb0a");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I've got to go. Good-bye.
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long, stranger.
			string_id message = new string_id (c_stringFile, "s_50");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, I'll tell you something that struck me as curious. No one else around here really believes me though. They think I'm crazy...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: OK, tell me please.
	if (response == "s_61f5ac3")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, not long ago we had an earthquake or somthin' nearby. Some thought it was an explosion, but either way, stuff like that is important to a miner. So I went over to check it out... see if there was any damage to any equipment...
			string_id message = new string_id (c_stringFile, "s_5b67bd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Did you find anything?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, this story is boring. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d32acbf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_156");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you tell me about those strange folk?
	if (response == "s_253d6dd2")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ever since all that debris came raining down we've had all sorts through here. Thugs, gangsters, adventurers, Imperials, and probably some from that rebellion, too. We used to be just a quiet mining outpost.
			string_id message = new string_id (c_stringFile, "s_bbf0856c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you not usually have that sort of people around here?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me about the strange things that have been going on.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's very interesting. Good-bye.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b1be0157");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e13e9abc");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d78255c2");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Frankly, I don't think much better of you. Good-bye.
	if (response == "s_4399b8ac")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well I don't think much of you, either. Good-bye.
			string_id message = new string_id (c_stringFile, "s_5c031163");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, not long ago we had an earthquake or somthin' nearby. Some thought it was an explosion, but either way, stuff like that is important to a miner. So I went over to check it out... see if there was any damage to any equipment...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did you find anything?
	if (response == "s_8d32acbf")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Darn right I did. Turns out the quake was centered near a small mountain. We never did start any mining there as there was nothin' worth digging up. But I checked out the mountain anyway. And that's when the weird thing happened...
			string_id message = new string_id (c_stringFile, "s_86db3ca8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What happened?
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, this story is boring. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e00ac98e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53fdb2c3");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, this story is boring. Good-bye.
	if (response == "s_156")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well, sorry. Good-bye.
			string_id message = new string_id (c_stringFile, "s_2608508b");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Darn right I did. Turns out the quake was centered near a small mountain. We never did start any mining there as there was nothin' worth digging up. But I checked out the mountain anyway. And that's when the weird thing happened...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What happened?
	if (response == "s_e00ac98e")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I saw a cave in the mountain. But not a natural cave, someone put that cave there on purpose. The weird thing, though, is that I didn't see the cave there when I looked the first time. Then when I turned away and looked back, it was gone again.
			string_id message = new string_id (c_stringFile, "s_83b0842f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that I've been to this place that you're talking about.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition_check_inv (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Wow. What did you do?
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: You're obviously crazy.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_894992c6");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72308e43");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9c48be16");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, this story is boring. Good-bye.
	if (response == "s_53fdb2c3")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well, sorry. Good-bye.
			string_id message = new string_id (c_stringFile, "s_2608508b");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, I saw a cave in the mountain. But not a natural cave, someone put that cave there on purpose. The weird thing, though, is that I didn't see the cave there when I looked the first time. Then when I turned away and looked back, it was gone again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that I've been to this place that you're talking about.
	if (response == "s_894992c6")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?
			string_id message = new string_id (c_stringFile, "s_46aee9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You're right, there was a cave there.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry, I didn't see anything.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wow. What did you do?
	if (response == "s_72308e43")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Came straight back here obviously. I know better than to stick my head into odd caves that may or may not exist. Trouble is... no one here believes me. They all think it was just my eyes playin' tricks.
			string_id message = new string_id (c_stringFile, "s_1945c2e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that I've been to this place that you're talking about.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition_check_inv (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to go take a look at this mountain.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Those people are right. You're nuts.
			boolean hasResponse2 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113ae28f");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1fc825af");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're obviously crazy.
	if (response == "s_9c48be16")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_give_waypoint (player, npc);

			//-- NPC: Well if you don't believe me, why don't you go check it out yourself. Here, I'll give you the location of the cave. Go see it with your own eyes. If do find it, bring back any relics or junk you might come across. I'll buy it from you for proof!
			string_id message = new string_id (c_stringFile, "s_153");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're right, there was a cave there.
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I have a few things you might be interested in.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I don't have anything, sorry.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I didn't see anything.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: No! It can't be. I know that I'm not crazy!
			string_id message = new string_id (c_stringFile, "s_84");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I have a few things you might be interested in.
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_start_dealing (player, npc);

			//-- NPC: Alright, let's see what you have.
			string_id message = new string_id (c_stringFile, "s_76");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I don't have anything, sorry.
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's OK. At least I have your word to back me up. Thanks for checking it out for me.
			string_id message = new string_id (c_stringFile, "s_80");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Came straight back here obviously. I know better than to stick my head into odd caves that may or may not exist. Trouble is... no one here believes me. They all think it was just my eyes playin' tricks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that I've been to this place that you're talking about.
	if (response == "s_88")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?
			string_id message = new string_id (c_stringFile, "s_90");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You're right, there was a cave there.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry, I didn't see anything.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to go take a look at this mountain.
	if (response == "s_113ae28f")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_give_waypoint (player, npc);

			//-- NPC: Sure, here is the location of the mountain. You go check it out yourself, then everyone will know that I'm not seein' things. If do find it, bring back any relics or junk you might come across. I'll buy it from you for proof!
			string_id message = new string_id (c_stringFile, "s_b9c59c4a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that I've been to this place that you're talking about.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition_check_inv (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_110");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Those people are right. You're nuts.
	if (response == "s_1fc825af")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_give_waypoint (player, npc);

			//-- NPC: Well if you don't believe me, why don't you go check it out yourself. Here, I'll give you the location of the cave. Go see it with your own eyes. If do find it, bring back any relics or junk you might come across. I'll buy it from you for proof!
			string_id message = new string_id (c_stringFile, "s_ec4e1fe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that I've been to this place that you're talking about.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition_check_inv (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're right, there was a cave there.
	if (response == "s_92")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I have a few things you might be interested in.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I don't have anything, sorry.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I didn't see anything.
	if (response == "s_104")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: No! It can't be. I know that I'm not crazy!
			string_id message = new string_id (c_stringFile, "s_106");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I have a few things you might be interested in.
	if (response == "s_96")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_start_dealing (player, npc);

			//-- NPC: Alright, let's see what you have.
			string_id message = new string_id (c_stringFile, "s_98");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I don't have anything, sorry.
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's OK. At least I have your word to back me up. Thanks for checking it out for me.
			string_id message = new string_id (c_stringFile, "s_102");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sure, here is the location of the mountain. You go check it out yourself, then everyone will know that I'm not seein' things. If do find it, bring back any relics or junk you might come across. I'll buy it from you for proof!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that I've been to this place that you're talking about.
	if (response == "s_110")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?
			string_id message = new string_id (c_stringFile, "s_112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You're right, there was a cave there.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry, I didn't see anything.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_114");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're right, there was a cave there.
	if (response == "s_114")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I have a few things you might be interested in.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I don't have anything, sorry.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I didn't see anything.
	if (response == "s_126")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: No! It can't be. I know that I'm not crazy!
			string_id message = new string_id (c_stringFile, "s_128");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I have a few things you might be interested in.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_start_dealing (player, npc);

			//-- NPC: Alright, let's see what you have.
			string_id message = new string_id (c_stringFile, "s_120");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I don't have anything, sorry.
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's OK. At least I have your word to back me up. Thanks for checking it out for me.
			string_id message = new string_id (c_stringFile, "s_124");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well if you don't believe me, why don't you go check it out yourself. Here, I'll give you the location of the cave. Go see it with your own eyes. If do find it, bring back any relics or junk you might come across. I'll buy it from you for proof!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that I've been to this place that you're talking about.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?
			string_id message = new string_id (c_stringFile, "s_134");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You're right, there was a cave there.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry, I didn't see anything.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_148");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've been there? Did you find that mountain? Did you see the cave? I'm not crazy am I?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're right, there was a cave there.
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?
			string_id message = new string_id (c_stringFile, "s_138");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I have a few things you might be interested in.
			boolean hasResponse0 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I don't have anything, sorry.
			boolean hasResponse1 = false;
			if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_144");

				utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I didn't see anything.
	if (response == "s_148")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: No! It can't be. I know that I'm not crazy!
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_herald_dealer_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew it! Wait 'til I tell everyone. Now they'll know I'm not crazy! Did you find any relics that I might be able to buy from you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I have a few things you might be interested in.
	if (response == "s_140")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			biogenic_herald_dealer_action_start_dealing (player, npc);

			//-- NPC: Alright, let's see what you have.
			string_id message = new string_id (c_stringFile, "s_142");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I don't have anything, sorry.
	if (response == "s_144")
	{
		//-- [NOTE] 
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, that's OK. At least I have your word to back me up. Thanks for checking it out for me.
			string_id message = new string_id (c_stringFile, "s_146");
			utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.biogenic_herald_dealer");

	setCondition (self, CONDITION_CONVERSABLE);
	
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.biogenic_herald_dealer");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (biogenic_herald_dealer_condition_get_waypoint (player, npc))
	{
		biogenic_herald_dealer_action_face_to (player, npc);

		//-- NPC: Did you find that mountain? Did you see the cave? I'm not crazy am I?
		string_id message = new string_id (c_stringFile, "s_ec7227cf");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You're right, there was a cave there.
		boolean hasResponse0 = false;
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm sorry, I didn't see anything.
		boolean hasResponse1 = false;
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_520ae1e7");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_93f3969d");

			utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 1);

			npcStartConversation (player, npc, "biogenic_herald_dealer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
	{
		biogenic_herald_dealer_action_face_to (player, npc);

		//-- NPC: Eh... you don't look much like a miner, but then again we've been getting several strange folk comin' through this outpost of late. Several strange things goin' on 'round here too. Some funny times these days if you ask me.
		string_id message = new string_id (c_stringFile, "s_ca3bfa0f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do you mean by strange folk?
		boolean hasResponse0 = false;
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What kind of strange things have been going on?
		boolean hasResponse1 = false;
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: You don't say? Good-bye.
		boolean hasResponse2 = false;
		if (biogenic_herald_dealer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_321d898b");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_14b834bb");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_490e56dd");

			utils.setScriptVar (player, "conversation.biogenic_herald_dealer.branchId", 6);

			npcStartConversation (player, npc, "biogenic_herald_dealer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "biogenic_herald_dealer")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

	if (branchId == 1 && biogenic_herald_dealer_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && biogenic_herald_dealer_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && biogenic_herald_dealer_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && biogenic_herald_dealer_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && biogenic_herald_dealer_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && biogenic_herald_dealer_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && biogenic_herald_dealer_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && biogenic_herald_dealer_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && biogenic_herald_dealer_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && biogenic_herald_dealer_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && biogenic_herald_dealer_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && biogenic_herald_dealer_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && biogenic_herald_dealer_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && biogenic_herald_dealer_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && biogenic_herald_dealer_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && biogenic_herald_dealer_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && biogenic_herald_dealer_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && biogenic_herald_dealer_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && biogenic_herald_dealer_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && biogenic_herald_dealer_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && biogenic_herald_dealer_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && biogenic_herald_dealer_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && biogenic_herald_dealer_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && biogenic_herald_dealer_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && biogenic_herald_dealer_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.biogenic_herald_dealer.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

