// ======================================================================
//
// npe_prof_marksman_alik.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.34 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/npe_prof_marksman_alik";

// ======================================================================
// Script Conditions
// ======================================================================

boolean npe_prof_marksman_alik_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_completeDalyrakes (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedTask (player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_dalyrakes"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_completeDroids (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedTask (player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_droids"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_completeSmugglers (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedTask (player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_droids"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_isOnTask1 (obj_id player, obj_id npc)
{
	if (groundquests.isTaskActive(player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_dalyrakes"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_isOnTask2 (obj_id player, obj_id npc)
{
	if (groundquests.isTaskActive(player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_droids"))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean npe_prof_marksman_alik_condition_isOnTask3 (obj_id player, obj_id npc)
{
	if (groundquests.isTaskActive(player, "quest/npe_prof_marksman", "npe_prof_marksman_kill_smugglers"))
	{
		return true;
	}
	return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void npe_prof_marksman_alik_action_grantQuestOne (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/npe_prof_marksman");
}

// ----------------------------------------------------------------------

void npe_prof_marksman_alik_action_startTaskThree (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "start_task_3");
}

// ----------------------------------------------------------------------

void npe_prof_marksman_alik_action_startTaskTwo (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "start_task_2");
}

// ----------------------------------------------------------------------

void npe_prof_marksman_alik_action_Reward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "marksman_weapons_reward");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int npe_prof_marksman_alik_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well you have some potential.  I'd love to see how far you can take that talent of yours.  Here are some weapons to help you along your path.  Use them wisely.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.  Anything else I can do for you?
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think you have risen above and beyond the call of duty.  I hope our paths will cross again.
			string_id message = new string_id (c_stringFile, "s_124");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hey there droid killer.  Ready for some real action?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As soon as Im paid I will be.
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: I just heard some roughneck smugglers have infiltrated one of the docking bays.  They are the worst kind of thieves.  Back in my day we would practice special moves on them.
			string_id message = new string_id (c_stringFile, "s_102");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Special moves?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, I guess, why whats going on?
	if (response == "s_116")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: I just heard some roughneck smugglers have infiltrated one of the docking bays.  They are the worst kind of thieves.  Back in my day we would practice special moves on them.
			string_id message = new string_id (c_stringFile, "s_102");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Special moves?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm pretty tired.  Maybe later.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well that's your prerogative I guess.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_97");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I just heard some roughneck smugglers have infiltrated one of the docking bays.  They are the worst kind of thieves.  Back in my day we would practice special moves on them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Special moves?
	if (response == "s_104")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: Each of the disciplines of marksman allows you to learn special attacks.  These can be very useful. Things like Aimed Shot and Roll Shot are very important.  They increase your accuracy, or sometimes your damage, or sometimes even your defense when you use them.  But be careful not to overuse them.  If you get tired and run out of energy you'll have to rest before you can do anything else.
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I like the sound of that.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Each of the disciplines of marksman allows you to learn special attacks.  These can be very useful. Things like Aimed Shot and Roll Shot are very important.  They increase your accuracy, or sometimes your damage, or sometimes even your defense when you use them.  But be careful not to overuse them.  If you get tired and run out of energy you'll have to rest before you can do anything else.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I like the sound of that.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: The guards are holding the roughneck smugglers off but just barely.  They could use a hired gun to put an end to it all together.  I bet you could take out at least 10.  It would greatly help the guards in docking bay 1.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe I could use some special moves.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The guards are holding the roughneck smugglers off but just barely.  They could use a hired gun to put an end to it all together.  I bet you could take out at least 10.  It would greatly help the guards in docking bay 1.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I could use some special moves.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thumb_up");

			npe_prof_marksman_alik_action_startTaskThree (player, npc);

			//-- NPC: That's the spirit.  Return when your done and maybe I'll have something special for you.
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you've survived a dalyrake hunt have you?  The gardeners in the greenhouse thank you and tell me you were fearless and quite skillful.  That's good, bravery and skill will come in handy for you real soon as will these credits.  Just a little something for helping me out with those dalyrakes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A LITTLE something is right.
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well theres more where that came from.  There is a bit of a droid you might be able to help with. That is if your skill matches your weapons DPS.
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Whats DPS?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why?  Whats happening soon?
	if (response == "s_92")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: Well I was thinking of sending you to help with the droid problem.  That is if your skill matches your weapons DPS.
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Whats DPS?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks! I think I have had enough of this though. I'll be going now.
	if (response == "s_96")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well that's your prerogative I guess.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_97");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well theres more where that came from.  There is a bit of a droid you might be able to help with. That is if your skill matches your weapons DPS.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Whats DPS?
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: DPS is Damage Per Second. A marksman is only as good as his weapon.  Well, that's not entirely true, your skill will play a great part in how well you use the weapon, but the weapon is an important part of the equation.  You want a weapon that has the highest DPS possible.
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can I tell what the DPS is on weapon?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: DPS is Damage Per Second. A marksman is only as good as his weapon.  Well, that's not entirely true, your skill will play a great part in how well you use the weapon, but the weapon is an important part of the equation.  You want a weapon that has the highest DPS possible.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can I tell what the DPS is on weapon?
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: Just examine it and find the DPS entry.  The higher the numbers the better the the DPS.  Don't fret if one umber is higher than the other. Damage per second is a function of the amount of damage a weapon can do divided by the amount of time it takes to refire.  A weapon that does low damage with a high rate of fire is just as good as a weapon that does a lot of damage but fires slowly.
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I get it. So how can I get more credits out of you?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I see.  So droid problem huh?
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Just examine it and find the DPS entry.  The higher the numbers the better the the DPS.  Don't fret if one umber is higher than the other. Damage per second is a function of the amount of damage a weapon can do divided by the amount of time it takes to refire.  A weapon that does low damage with a high rate of fire is just as good as a weapon that does a lot of damage but fires slowly.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I get it. So how can I get more credits out of you?
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: The darndest thing happened, seems while repairing a renegade droid, the engineer uncovered sort of a virus that quickly spread to all the droids in the shop. So now we have crazy droids running amuck. Why don't you go to the droid repair room and see what you can do?  10 disabled ra7 droids should help bring things back to normal.
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: On my way.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.  So droid problem huh?
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: The darndest thing happened, seems while repairing a renegade droid, the engineer uncovered sort of a virus that quickly spread to all the droids in the shop. So now we have crazy droids running amuck. Why don't you go to the droid repair room and see what you can do?  10 disabled ra7 droids should help bring things back to normal.
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: On my way.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The darndest thing happened, seems while repairing a renegade droid, the engineer uncovered sort of a virus that quickly spread to all the droids in the shop. So now we have crazy droids running amuck. Why don't you go to the droid repair room and see what you can do?  10 disabled ra7 droids should help bring things back to normal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On my way.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			npe_prof_marksman_alik_action_startTaskTwo (player, npc);

			//-- NPC: Come back and see me, if you still have all your limbs.
			string_id message = new string_id (c_stringFile, "s_88");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well I was thinking of sending you to help with the droid problem.  That is if your skill matches your weapons DPS.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Whats DPS?
	if (response == "s_74")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: DPS is Damage Per Second. A marksman is only as good as his weapon.  Well, that's not entirely true, your skill will play a great part in how well you use the weapon, but the weapon is an important part of the equation.  You want a weapon that has the highest DPS possible.
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can I tell what the DPS is on weapon?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well you look like you could blast a trandoshan fly off the edge of a lum pitcher without even scratching the glass.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are you talking about?
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: Trandoshan fly as in small insect, lum pitcher as in popular cantina ale, blast as in firing a pistol, carbine, or rifle.  You know, fancy shooting tricks. Would you like to try?
			string_id message = new string_id (c_stringFile, "s_40");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure I'll give it try.  Wheres that lum pitcher and trandoshan fly?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't really think that's where my talents lie.
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You bet I could!
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: I'd like to see you try it with a pistol, carbine and rifle.  How about it?
			string_id message = new string_id (c_stringFile, "s_105");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just show me the lum pitcher.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have nothing to prove.
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmmm I never heard that before.
	if (response == "s_117")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: You want to give it try? Just pick your poison here.  I have pistols, carbines and rifles.
			string_id message = new string_id (c_stringFile, "s_121");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well if you have a fly on a lum pitcher then I guess were good to go.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Oh that's alright I think I'll pass on the shooting gallery.
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_129");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Trandoshan fly as in small insect, lum pitcher as in popular cantina ale, blast as in firing a pistol, carbine, or rifle.  You know, fancy shooting tricks. Would you like to try?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure I'll give it try.  Wheres that lum pitcher and trandoshan fly?
	if (response == "s_42")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: Ha ha your a funny one.  That's just an expression. Lets start you out with something a little less difficult and a little more practical shall we?
			string_id message = new string_id (c_stringFile, "s_44");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's more practical than shooting flies?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't really think that's where my talents lie.
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well that's your prerogative I guess.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_97");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ha ha your a funny one.  That's just an expression. Lets start you out with something a little less difficult and a little more practical shall we?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's more practical than shooting flies?
	if (response == "s_46")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Although it's a fun trick to shoot small critters off very breakable items, marksmanship is really about protecting yourself and others without getting too close to danger.  The further away you want to be will determine what kind of firearm you will use.
			string_id message = new string_id (c_stringFile, "s_48");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why does that matter?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The farther the better.
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Although it's a fun trick to shoot small critters off very breakable items, marksmanship is really about protecting yourself and others without getting too close to danger.  The further away you want to be will determine what kind of firearm you will use.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why does that matter?
	if (response == "s_50")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pistols, for instance, will give you a short range of attack but they are faster and lighter than rifles; which have the longest range.  Carbines fall in the middle.
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.  So, if I won't be shooting trandoshan flies, what do you want me shoot?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The farther the better.
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unless of course you're interested in speed.  Pistols, for instance, will give you a short range of attack but they are faster and lighter than rifles; which have the longest range.  Carbines fall in the middle.
			string_id message = new string_id (c_stringFile, "s_85");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Alright. So, since your not interested in trandoshan fly tricks, what do you want me to do?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pistols, for instance, will give you a short range of attack but they are faster and lighter than rifles; which have the longest range.  Carbines fall in the middle.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.  So, if I won't be shooting trandoshan flies, what do you want me shoot?
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: The greenhouse has a pest problem. Those dalyrakes are eating all the leaves off the medicinal plants and creating a shortage of medicines for the infirmary as well as annoying the gardeners. Dalyrakes are hard to catch and the doctors and gardeners keep asking me to come up there and blast them all away.
			string_id message = new string_id (c_stringFile, "s_56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So why don't you?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The greenhouse has a pest problem. Those dalyrakes are eating all the leaves off the medicinal plants and creating a shortage of medicines for the infirmary as well as annoying the gardeners. Dalyrakes are hard to catch and the doctors and gardeners keep asking me to come up there and blast them all away.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So why don't you?
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: I have to run the range here in the armory.  I don't have time to run after dalyrakes.  Besides I was a champion marksman renowned for my accuracy, speed, ruthlessness and... ummm... discretion. Hunting dalyrakes is of no interest to me.  Maybe you could help them in the greenhouse and get rid of some dalyrakes.
			string_id message = new string_id (c_stringFile, "s_60");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, I'd be happy to.
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Oh, dalyrakes are beneath you but its ok to send me.
			boolean hasResponse1 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have to run the range here in the armory.  I don't have time to run after dalyrakes.  Besides I was a champion marksman renowned for my accuracy, speed, ruthlessness and... ummm... discretion. Hunting dalyrakes is of no interest to me.  Maybe you could help them in the greenhouse and get rid of some dalyrakes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, I'd be happy to.
	if (response == "s_62")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thumb_up");

			//-- NPC: What a trooper! Use a rifle to kill 5 dalyrakes in the greenhouse. That should slow them down, and it will keep the doctors and gardeners off my back for a while.
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get those dalyrakes!
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh, dalyrakes are beneath you but its ok to send me.
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: I've been a master marksman for 30 years...how long have you held a gun?  Dalyrakes are nothing to scoff at for someone with your experience.  I'd be surprised if you could target and kill 5 dalyrakes in the greenhouse with a  rifle.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get those dalyrakes!
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What a trooper! Use a rifle to kill 5 dalyrakes in the greenhouse. That should slow them down, and it will keep the doctors and gardeners off my back for a while.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get those dalyrakes!
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			npe_prof_marksman_alik_action_grantQuestOne (player, npc);

			//-- NPC: Come back when your done and we will see how well you can handle a blaster.
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've been a master marksman for 30 years...how long have you held a gun?  Dalyrakes are nothing to scoff at for someone with your experience.  I'd be surprised if you could target and kill 5 dalyrakes in the greenhouse with a  rifle.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get those dalyrakes!
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			npe_prof_marksman_alik_action_grantQuestOne (player, npc);

			//-- NPC: Come back when your done and we will see how well you can handle a blaster.
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unless of course you're interested in speed.  Pistols, for instance, will give you a short range of attack but they are faster and lighter than rifles; which have the longest range.  Carbines fall in the middle.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright. So, since your not interested in trandoshan fly tricks, what do you want me to do?
	if (response == "s_89")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: The greenhouse has a pest problem. Those dalyrakes are eating all the leaves off the medicinal plants and creating a shortage of medicines for the infirmary as well as annoying the gardeners. Dalyrakes are hard to catch and the doctors and gardeners keep asking me to come up there and blast them all away.
			string_id message = new string_id (c_stringFile, "s_56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So why don't you?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'd like to see you try it with a pistol, carbine and rifle.  How about it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just show me the lum pitcher.
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: Ha ha your a funny one.  That's just an expression. Lets start you out with something a little less difficult and a little more practical shall we?
			string_id message = new string_id (c_stringFile, "s_44");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's more practical than shooting flies?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have nothing to prove.
	if (response == "s_113")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well that's your prerogative I guess.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_97");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_prof_marksman_alik_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You want to give it try? Just pick your poison here.  I have pistols, carbines and rifles.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well if you have a fly on a lum pitcher then I guess were good to go.
	if (response == "s_125")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: Ha ha your a funny one.  That's just an expression. Lets start you out with something a little less difficult and a little more practical shall we?
			string_id message = new string_id (c_stringFile, "s_44");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's more practical than shooting flies?
			boolean hasResponse0 = false;
			if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh that's alright I think I'll pass on the shooting gallery.
	if (response == "s_129")
	{
		//-- [NOTE] 
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Well that's your prerogative I guess.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_97");
			utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.npe_prof_marksman_alik");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.npe_prof_marksman_alik");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_isOnTask1 (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: What's the matter, can't handle the heat?  get back out there and get some dalyrakes.
		string_id message = new string_id (c_stringFile, "s_126");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_isOnTask2 (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: What's the matter, can't handle the heat?  get back out there and get some droids.
		string_id message = new string_id (c_stringFile, "s_128");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_isOnTask3 (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: What's the matter, can't handle the heat?  get back out there and get some smugglers.
		string_id message = new string_id (c_stringFile, "s_130");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_completeSmugglers (player, npc))
	{
		doAnimationAction (npc, "tiphat");

		npe_prof_marksman_alik_action_Reward (player, npc);

		//-- NPC: Well you have some potential.  I'd love to see how far you can take that talent of yours.  Here are some weapons to help you along your path.  Use them wisely.
		string_id message = new string_id (c_stringFile, "s_120");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks.  Anything else I can do for you?
		boolean hasResponse0 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_122");

			utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 4);

			npcStartConversation (player, npc, "npe_prof_marksman_alik", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_completeDroids (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Hey there droid killer.  Ready for some real action?
		string_id message = new string_id (c_stringFile, "s_98");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: As soon as Im paid I will be.
		boolean hasResponse0 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sure, I guess, why whats going on?
		boolean hasResponse1 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm pretty tired.  Maybe later.
		boolean hasResponse2 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_100");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_116");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_118");

			utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 6);

			npcStartConversation (player, npc, "npe_prof_marksman_alik", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition_completeDalyrakes (player, npc))
	{
		doAnimationAction (npc, "point_forward");

		//-- NPC: So you've survived a dalyrake hunt have you?  The gardeners in the greenhouse thank you and tell me you were fearless and quite skillful.  That's good, bravery and skill will come in handy for you real soon as will these credits.  Just a little something for helping me out with those dalyrakes.
		string_id message = new string_id (c_stringFile, "s_68");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: A LITTLE something is right.
		boolean hasResponse0 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Why?  Whats happening soon?
		boolean hasResponse1 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Thanks! I think I have had enough of this though. I'll be going now.
		boolean hasResponse2 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_70");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_92");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_96");

			utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 11);

			npcStartConversation (player, npc, "npe_prof_marksman_alik", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "point_forward");

		//-- NPC: Well you look like you could blast a trandoshan fly off the edge of a lum pitcher without even scratching the glass.
		string_id message = new string_id (c_stringFile, "s_36");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What are you talking about?
		boolean hasResponse0 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You bet I could!
		boolean hasResponse1 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Hmmm I never heard that before.
		boolean hasResponse2 = false;
		if (npe_prof_marksman_alik_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_38");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_101");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_117");

			utils.setScriptVar (player, "conversation.npe_prof_marksman_alik.branchId", 18);

			npcStartConversation (player, npc, "npe_prof_marksman_alik", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "npe_prof_marksman_alik")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

	if (branchId == 4 && npe_prof_marksman_alik_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && npe_prof_marksman_alik_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && npe_prof_marksman_alik_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && npe_prof_marksman_alik_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && npe_prof_marksman_alik_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && npe_prof_marksman_alik_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && npe_prof_marksman_alik_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && npe_prof_marksman_alik_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && npe_prof_marksman_alik_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && npe_prof_marksman_alik_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && npe_prof_marksman_alik_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && npe_prof_marksman_alik_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && npe_prof_marksman_alik_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && npe_prof_marksman_alik_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && npe_prof_marksman_alik_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && npe_prof_marksman_alik_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && npe_prof_marksman_alik_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && npe_prof_marksman_alik_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && npe_prof_marksman_alik_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && npe_prof_marksman_alik_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && npe_prof_marksman_alik_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && npe_prof_marksman_alik_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && npe_prof_marksman_alik_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.npe_prof_marksman_alik.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

