// ======================================================================
//
// ep3_disabled_transport_bravo.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.30 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.space_combat;
include library.space_transition;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_disabled_transport_bravo";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_disabled_transport_bravo_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_disabled_transport_bravo_condition_isTooFar (obj_id player, obj_id npc)
{
	obj_id containingShip = space_transition.getContainingShip(player);
	return ( getDistance( npc, containingShip ) > space_transition.STATION_COMM_MAX_DISTANCE );
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_disabled_transport_bravo_action_playCommSound (obj_id player, obj_id npc)
{
	space_combat.playCombatTauntSound( player );
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_disabled_transport_bravo_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They just swooped in out of nowhere! They disabled our reactor and took out our automated repair system. Then... they left us for dead!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who attacked you?
	if (response == "s_736")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know! Right as the first torpedoes hit, I saw an Aqualish face in the comm-screen. He said: 'The Ghrag take no prisoners!' Which I thought meant that they were going to kill us all...
			string_id message = new string_id (c_stringFile, "s_738");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But they didn't.
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Ghrag Mercenary clan.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I hate those guys.
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_740");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_780");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_784");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You'll be fine.
	if (response == "s_788")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I hope you're right. We don't have a proper engineering crew. The one technician we have on-board is watching the automatic repair system... but I don't think he'll know what to do if it breaks on us again.
			string_id message = new string_id (c_stringFile, "s_790");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why don't you have engineers?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How are the repairs going?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Those cowards will pay for this.
	if (response == "s_792")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yeah! You get them for us!
			string_id message = new string_id (c_stringFile, "s_794");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know! Right as the first torpedoes hit, I saw an Aqualish face in the comm-screen. He said: 'The Ghrag take no prisoners!' Which I thought meant that they were going to kill us all...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But they didn't.
	if (response == "s_740")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. They just set us adrift with no power. Sure, our life-support system would have given out after a while. But they also could have destroyed us outright!
			string_id message = new string_id (c_stringFile, "s_742");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think they wanted?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_744");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Ghrag Mercenary clan.
	if (response == "s_780")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've heard of these bandits? There's nothing about them in the merchant databank. Then again - my subscription to the merchant services is out of date!
			string_id message = new string_id (c_stringFile, "s_782");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think they wanted?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_744");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hate those guys.
	if (response == "s_784")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You said it! Miserable bandits! I'll never understand their violent ways. 
			string_id message = new string_id (c_stringFile, "s_786");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think they wanted?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_744");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. They just set us adrift with no power. Sure, our life-support system would have given out after a while. But they also could have destroyed us outright!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think they wanted?
	if (response == "s_744")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.
			string_id message = new string_id (c_stringFile, "s_746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anything missing?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe you scared them off.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did they say anything?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_776");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is anything missing?
	if (response == "s_748")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: What do you mean? Something missing from the docking mechanism? Maybe they ripped something off the hull of the ship?
			string_id message = new string_id (c_stringFile, "s_750");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you want me to check?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Check your computer system.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_752");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_756");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe you scared them off.
	if (response == "s_772")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yeah. That's not likely! 
			string_id message = new string_id (c_stringFile, "s_774");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did they say anything?
	if (response == "s_776")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. I don't remember them saying anything.
			string_id message = new string_id (c_stringFile, "s_778");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you mean? Something missing from the docking mechanism? Maybe they ripped something off the hull of the ship?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you want me to check?
	if (response == "s_752")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sure. Take a look at the hull. Let me know.
			string_id message = new string_id (c_stringFile, "s_754");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Check your computer system.
	if (response == "s_756")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okay. I'm not seeing anything out of the ordinary. All of the memory banks seem to be intact.
			string_id message = new string_id (c_stringFile, "s_758");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okay. I'm not seeing anything out of the ordinary. All of the memory banks seem to be intact.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cargo manifest?
	if (response == "s_760")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That all appears to be in order. I hate to admit it, but we're not carrying anything of real value. We have several loads of stuffed miniatures, hologram landscapes... and passengers. Nobody of note.
			string_id message = new string_id (c_stringFile, "s_762");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your mission orders?
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's still here. Just like always. We don't go anywhere special, or secret, or even interesting anymore. Not with the war flaring up in every system!
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bank records?
	if (response == "s_768")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let me see. Wait. No. Wait, this is not right. It shows that we're zeroed out! It doesn't even show the account names! It's like they transferred everyone's bank balance... somewhere...
			string_id message = new string_id (c_stringFile, "s_770");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Does it say where?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You've been robbed.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_796");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That all appears to be in order. I hate to admit it, but we're not carrying anything of real value. We have several loads of stuffed miniatures, hologram landscapes... and passengers. Nobody of note.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cargo manifest?
	if (response == "s_760")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That all appears to be in order. I hate to admit it, but we're not carrying anything of real value. We have several loads of stuffed miniatures, hologram landscapes... and passengers. Nobody of note.
			string_id message = new string_id (c_stringFile, "s_762");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your mission orders?
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's still here. Just like always. We don't go anywhere special, or secret, or even interesting anymore. Not with the war flaring up in every system!
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bank records?
	if (response == "s_768")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let me see. Wait. No. Wait, this is not right. It shows that we're zeroed out! It doesn't even show the account names! It's like they transferred everyone's bank balance... somewhere...
			string_id message = new string_id (c_stringFile, "s_770");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Does it say where?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You've been robbed.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_796");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's still here. Just like always. We don't go anywhere special, or secret, or even interesting anymore. Not with the war flaring up in every system!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cargo manifest?
	if (response == "s_760")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That all appears to be in order. I hate to admit it, but we're not carrying anything of real value. We have several loads of stuffed miniatures, hologram landscapes... and passengers. Nobody of note.
			string_id message = new string_id (c_stringFile, "s_762");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your mission orders?
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's still here. Just like always. We don't go anywhere special, or secret, or even interesting anymore. Not with the war flaring up in every system!
			string_id message = new string_id (c_stringFile, "s_766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cargo manifest?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your mission orders?
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Bank records?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_760");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bank records?
	if (response == "s_768")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let me see. Wait. No. Wait, this is not right. It shows that we're zeroed out! It doesn't even show the account names! It's like they transferred everyone's bank balance... somewhere...
			string_id message = new string_id (c_stringFile, "s_770");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Does it say where?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You've been robbed.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_796");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let me see. Wait. No. Wait, this is not right. It shows that we're zeroed out! It doesn't even show the account names! It's like they transferred everyone's bank balance... somewhere...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Does it say where?
	if (response == "s_795")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can't believe this...
			string_id message = new string_id (c_stringFile, "s_797");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You've been robbed.
	if (response == "s_796")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: This is horrible!
			string_id message = new string_id (c_stringFile, "s_798");
			utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've heard of these bandits? There's nothing about them in the merchant databank. Then again - my subscription to the merchant services is out of date!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think they wanted?
	if (response == "s_744")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.
			string_id message = new string_id (c_stringFile, "s_746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anything missing?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe you scared them off.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did they say anything?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_776");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You said it! Miserable bandits! I'll never understand their violent ways. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think they wanted?
	if (response == "s_744")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.
			string_id message = new string_id (c_stringFile, "s_746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anything missing?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe you scared them off.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did they say anything?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_776");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope you're right. We don't have a proper engineering crew. The one technician we have on-board is watching the automatic repair system... but I don't think he'll know what to do if it breaks on us again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you have engineers?
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because they aren't free. A little while ago, we had a droid that served as chief engineer, but he was reassigned to the supply fleet. These days, he flies a freighter between here and Tatooine... I think.
			string_id message = new string_id (c_stringFile, "s_43");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I know this droid.
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How are the repairs going?
	if (response == "s_42")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Life-support is looking good. Engine back-up systems are recharging. Looks like our hyperdrive is almost ready for use!
			string_id message = new string_id (c_stringFile, "s_47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anyone hurt?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because they aren't free. A little while ago, we had a droid that served as chief engineer, but he was reassigned to the supply fleet. These days, he flies a freighter between here and Tatooine... I think.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know this droid.
	if (response == "s_44")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: You do? Well I hope that he doesn't run across these bandits!
			string_id message = new string_id (c_stringFile, "s_46");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think they wanted?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_744");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You do? Well I hope that he doesn't run across these bandits!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think they wanted?
	if (response == "s_744")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.
			string_id message = new string_id (c_stringFile, "s_746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anything missing?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe you scared them off.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did they say anything?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_776");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Life-support is looking good. Engine back-up systems are recharging. Looks like our hyperdrive is almost ready for use!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is anyone hurt?
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: Some of the passengers have suffered minor injuries. Nothing serious. I fell pretty hard when the pirates torpedoed our shield system. Banged my head. They could've killed us all if they wanted to!
			string_id message = new string_id (c_stringFile, "s_51");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think they wanted?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_744");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_disabled_transport_bravo_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Some of the passengers have suffered minor injuries. Nothing serious. I fell pretty hard when the pirates torpedoed our shield system. Banged my head. They could've killed us all if they wanted to!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think they wanted?
	if (response == "s_744")
	{
		//-- [NOTE] 
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know. I'm just glad to be alive! Soon as we were disabled, one of their ships docked with us. I was terrified that we were going to be boarded! But after a few seconds, the ship disengaged and left.
			string_id message = new string_id (c_stringFile, "s_746");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is anything missing?
			boolean hasResponse0 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe you scared them off.
			boolean hasResponse1 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did they say anything?
			boolean hasResponse2 = false;
			if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_772");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_776");

				utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.ep3_disabled_transport_bravo");

	setCondition (self, CONDITION_CONVERSABLE);
	//setObjVar(self, "convo.appearance", "object/mobile/space_comm_ep3_droid_pilot.iff" );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	//setObjVar(self, "convo.appearance", "object/mobile/space_comm_ep3_droid_pilot.iff" );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_disabled_transport_bravo");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_disabled_transport_bravo_condition_isTooFar (player, npc))
	{
		//-- NPC: You're too far out! You're breaking up!
		string_id message = new string_id (c_stringFile, "s_732");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
	{
		//-- NPC: They just swooped in out of nowhere! They disabled our reactor and took out our automated repair system. Then... they left us for dead!
		string_id message = new string_id (c_stringFile, "s_734");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Who attacked you?
		boolean hasResponse0 = false;
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You'll be fine.
		boolean hasResponse1 = false;
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Those cowards will pay for this.
		boolean hasResponse2 = false;
		if (ep3_disabled_transport_bravo_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_736");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_788");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_792");

			utils.setScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId", 2);

			npcStartConversation (player, npc, "ep3_disabled_transport_bravo", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_disabled_transport_bravo")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

	if (branchId == 2 && ep3_disabled_transport_bravo_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && ep3_disabled_transport_bravo_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_disabled_transport_bravo_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && ep3_disabled_transport_bravo_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && ep3_disabled_transport_bravo_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && ep3_disabled_transport_bravo_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && ep3_disabled_transport_bravo_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && ep3_disabled_transport_bravo_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && ep3_disabled_transport_bravo_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_disabled_transport_bravo_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && ep3_disabled_transport_bravo_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && ep3_disabled_transport_bravo_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && ep3_disabled_transport_bravo_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && ep3_disabled_transport_bravo_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_disabled_transport_bravo_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && ep3_disabled_transport_bravo_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_disabled_transport_bravo.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

