// ======================================================================
//
// privateer_broker.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.25 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.features;
include library.space_skill;
include library.trainerlocs;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/privateer_broker";

// ======================================================================
// Script Conditions
// ======================================================================

boolean privateer_broker_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean privateer_broker_condition_isNeutralPilot (obj_id player, obj_id npc)
{
	return space_skill.hasPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean privateer_broker_condition_isPilot (obj_id player, obj_id npc)
{
	return space_skill.hasSpaceSkills(player);
}

// ----------------------------------------------------------------------

boolean privateer_broker_condition_hasSpaceExp (obj_id player, obj_id npc)
{
	return features.isSpaceEdition( player );
}

// ======================================================================
// Script Actions
// ======================================================================

void privateer_broker_action_addImperialBrokerWaypoint (obj_id player, obj_id npc)
{
	location targetLoc = new location();
	targetLoc.area = "naboo";
	string waypName = utils.packStringId( new string_id("npc_spawner_n", "landau"));
	targetLoc.x = -5516f;
	targetLoc.z = 4403f;
	obj_id wayp = createWaypointInDatapad( player, targetLoc );
	setWaypointName( wayp, waypName );
}

// ----------------------------------------------------------------------

void privateer_broker_action_addCorSecTrainerWaypoint (obj_id player, obj_id npc)
{
	trainerlocs.getTrainerLocationWaypoint( player, "privateer", "corellia" );
}

// ----------------------------------------------------------------------

void privateer_broker_action_addRSFTrainerWaypoint (obj_id player, obj_id npc)
{
	trainerlocs.getTrainerLocationWaypoint( player, "privateer", "naboo" );
}

// ----------------------------------------------------------------------

void privateer_broker_action_addSmugglerAllianceWaypoint (obj_id player, obj_id npc)
{
	trainerlocs.getTrainerLocationWaypoint( player, "privateer", "tatooine" );
}

// ----------------------------------------------------------------------

void privateer_broker_action_addRebelBrokerWaypoint (obj_id player, obj_id npc)
{
	location targetLoc = new location();
	targetLoc.area = "corellia";
	string waypName = utils.packStringId( new string_id("npc_spawner_n", "j_pai_brek"));
	targetLoc.x = -5072f;
	targetLoc.z = -2343f;
	obj_id wayp = createWaypointInDatapad( player, targetLoc );
	setWaypointName( wayp, waypName );
}

// ----------------------------------------------------------------------

void privateer_broker_action_retireNeutral (obj_id player, obj_id npc)
{
	space_skill.retire(player, space_skill.NEUTRAL);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int privateer_broker_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hey, I've heard people talkin' about you! Rumor is you've turned into a pretty decent pilot! What can I do for you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've come to retire my status as a pilot.
	if (response == "s_a6f3f40b")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You want to what? Retire? You know if you retire, you'll lose all your pilot skills and they'll throw out your mission record, right? If you ever want to join up again, you'll start out as a new recruit. Are you sure that's what you want?
			string_id message = new string_id (c_stringFile, "s_d0969d78");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I want to retire.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Eh, I changed my mind. I'll stay.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71bc4ac7");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eaf87760");

				setObjVar (player, "conversation.privateer_broker.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing. Goodbye.
	if (response == "s_8cb932b7")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: So long!
			string_id message = new string_id (c_stringFile, "s_f15359b4");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You want to what? Retire? You know if you retire, you'll lose all your pilot skills and they'll throw out your mission record, right? If you ever want to join up again, you'll start out as a new recruit. Are you sure that's what you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I want to retire.
	if (response == "s_71bc4ac7")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Well, you're the boss. I'll get the documents ready to transfer. If you want to change your mind, now's the time...
			string_id message = new string_id (c_stringFile, "s_bdf43a8a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to retire.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Eh, I changed my mind. I'll stay.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f72f24be");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eaf87760");

				setObjVar (player, "conversation.privateer_broker.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Eh, I changed my mind. I'll stay.
	if (response == "s_eaf87760")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's what I like to hear. Take care, friend.
			string_id message = new string_id (c_stringFile, "s_fcd4dd70");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, you're the boss. I'll get the documents ready to transfer. If you want to change your mind, now's the time...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to retire.
	if (response == "s_f72f24be")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			privateer_broker_action_retireNeutral (player, npc);

			//-- NPC: It's a blasted shame - that's what it is. Waste of a fine pilot. Take care in life, friend.
			string_id message = new string_id (c_stringFile, "s_2059cc73");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Eh, I changed my mind. I'll stay.
	if (response == "s_eaf87760")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's what I like to hear. Take care, friend.
			string_id message = new string_id (c_stringFile, "s_fcd4dd70");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_169df3bb")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave2");

			//-- NPC: Hm? Well, ok. See ya.
			string_id message = new string_id (c_stringFile, "s_1d546116");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've come to join the Pilots Guild.
	if (response == "s_f6dbaaf2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Indeed? Well, shame about that. We've had some trouble you see...
			string_id message = new string_id (c_stringFile, "s_2d7a0d3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What trouble?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_562906b3");

				setObjVar (player, "conversation.privateer_broker.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed? Well, shame about that. We've had some trouble you see...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What trouble?
	if (response == "s_562906b3")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			//-- NPC: Well it's Imperial Decree 875a subparagraph 13! The Pilots Guild used to oversee almost all aspects of space travel from training new pilots to establishing preferred travel routes, but the Emperor won't even allow us to distribute 'The Basics of Space Flight' without express written consent.
			string_id message = new string_id (c_stringFile, "s_5626358b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well it's Imperial Decree 875a subparagraph 13! The Pilots Guild used to oversee almost all aspects of space travel from training new pilots to establishing preferred travel routes, but the Emperor won't even allow us to distribute 'The Basics of Space Flight' without express written consent.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is 'The Basics of Space Flight'?
	if (response == "s_ce87b83e")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Oh, handy book, that. Explained all an aspiring pilot needs to know about piloting privately-owned starships. Travel routes, where to go to get private contracts, how to get certified by the necessary authorities to engage in commerce... you know, all that sort of stuff.
			string_id message = new string_id (c_stringFile, "s_d3a7e09");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you get permission to distribute it then?
	if (response == "s_f90d3de4")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: On a case-by-case basis? Impossible! Do you have any idea how many pilots there are in the galaxy? Thousands! Hundreds of thousands! Millions!
			string_id message = new string_id (c_stringFile, "s_bad24bb9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: That's not the half of it! Imperial Decree 875a subparagraph 19 mandates that we still engage in recruitment activities - you know, job fairs and mass recruitments and that sort of thing - but then any potential recruits are directed straight to the Imperial Academy.
			string_id message = new string_id (c_stringFile, "s_74c33af");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So where is the Imperial Academy?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't want to fly for the Empire.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_22c8a818");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77becf16");

				setObjVar (player, "conversation.privateer_broker.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, handy book, that. Explained all an aspiring pilot needs to know about piloting privately-owned starships. Travel routes, where to go to get private contracts, how to get certified by the necessary authorities to engage in commerce... you know, all that sort of stuff.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is 'The Basics of Space Flight'?
	if (response == "s_ce87b83e")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Oh, handy book, that. Explained all an aspiring pilot needs to know about piloting privately-owned starships. Travel routes, where to go to get private contracts, how to get certified by the necessary authorities to engage in commerce... you know, all that sort of stuff.
			string_id message = new string_id (c_stringFile, "s_d3a7e09");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you get permission to distribute it then?
	if (response == "s_f90d3de4")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: On a case-by-case basis? Impossible! Do you have any idea how many pilots there are in the galaxy? Thousands! Hundreds of thousands! Millions!
			string_id message = new string_id (c_stringFile, "s_bad24bb9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: That's not the half of it! Imperial Decree 875a subparagraph 19 mandates that we still engage in recruitment activities - you know, job fairs and mass recruitments and that sort of thing - but then any potential recruits are directed straight to the Imperial Academy.
			string_id message = new string_id (c_stringFile, "s_74c33af");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So where is the Imperial Academy?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't want to fly for the Empire.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_22c8a818");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77becf16");

				setObjVar (player, "conversation.privateer_broker.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: On a case-by-case basis? Impossible! Do you have any idea how many pilots there are in the galaxy? Thousands! Hundreds of thousands! Millions!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is 'The Basics of Space Flight'?
	if (response == "s_ce87b83e")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Oh, handy book, that. Explained all an aspiring pilot needs to know about piloting privately-owned starships. Travel routes, where to go to get private contracts, how to get certified by the necessary authorities to engage in commerce... you know, all that sort of stuff.
			string_id message = new string_id (c_stringFile, "s_d3a7e09");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you get permission to distribute it then?
	if (response == "s_f90d3de4")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: On a case-by-case basis? Impossible! Do you have any idea how many pilots there are in the galaxy? Thousands! Hundreds of thousands! Millions!
			string_id message = new string_id (c_stringFile, "s_bad24bb9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is 'The Basics of Space Flight'?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you get permission to distribute it then?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I see.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce87b83e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f90d3de4");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				setObjVar (player, "conversation.privateer_broker.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: That's not the half of it! Imperial Decree 875a subparagraph 19 mandates that we still engage in recruitment activities - you know, job fairs and mass recruitments and that sort of thing - but then any potential recruits are directed straight to the Imperial Academy.
			string_id message = new string_id (c_stringFile, "s_74c33af");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So where is the Imperial Academy?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't want to fly for the Empire.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_22c8a818");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77becf16");

				setObjVar (player, "conversation.privateer_broker.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's not the half of it! Imperial Decree 875a subparagraph 19 mandates that we still engage in recruitment activities - you know, job fairs and mass recruitments and that sort of thing - but then any potential recruits are directed straight to the Imperial Academy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So where is the Imperial Academy?
	if (response == "s_22c8a818")
	{
		doAnimationAction (player, "nervous");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: You mean you actually WANT to fly for the Empire? There's a war on, you know. It's very dangerous.
			string_id message = new string_id (c_stringFile, "s_d1caa227");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not really.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes I do.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3269c6d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_757d93fb");

				setObjVar (player, "conversation.privateer_broker.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't want to fly for the Empire.
	if (response == "s_77becf16")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You mean you actually WANT to fly for the Empire? There's a war on, you know. It's very dangerous.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not really.
	if (response == "s_3269c6d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes I do.
	if (response == "s_757d93fb")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: Oh. Well... then why did you come to see me? The Empire dumps more recruitment on the Holonet daily than we do in a year.
			string_id message = new string_id (c_stringFile, "s_f3e5d7a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I was just nearby.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Are you going to direct me to the Academy?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't really want to fly for the Empire.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56acd306");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43f7f8f5");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c2320129");

				setObjVar (player, "conversation.privateer_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh. Well... then why did you come to see me? The Empire dumps more recruitment on the Holonet daily than we do in a year.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was just nearby.
	if (response == "s_56acd306")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: I see. Well... in that case... say you don't really want to fly for the Empire, do you?
			string_id message = new string_id (c_stringFile, "s_f97198ff");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do I have a choice?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not really.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would rather be independent.
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Yes I do.
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cc9259e0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3269c6d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f43b859");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_757d93fb");

				setObjVar (player, "conversation.privateer_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you going to direct me to the Academy?
	if (response == "s_43f7f8f5")
	{
		doAnimationAction (player, "point_accusingly");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			privateer_broker_action_addImperialBrokerWaypoint (player, npc);

			//-- NPC: Ok, ok. Here, I'll add these coordinates to your datapad.
			string_id message = new string_id (c_stringFile, "s_3cb06a88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is this?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thanks.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e6101168");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fc27931b");

				setObjVar (player, "conversation.privateer_broker.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't really want to fly for the Empire.
	if (response == "s_c2320129")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. Well... in that case... say you don't really want to fly for the Empire, do you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do I have a choice?
	if (response == "s_cc9259e0")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Of course you have a choice. We all have choices. There are still... other places you could go to get some basic flight training.
			string_id message = new string_id (c_stringFile, "s_bd56d5dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to fly for the Empire.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What other places?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1fd99cce");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fea04ae8");

				setObjVar (player, "conversation.privateer_broker.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not really.
	if (response == "s_3269c6d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would rather be independent.
	if (response == "s_f43b859")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes I do.
	if (response == "s_757d93fb")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			privateer_broker_action_addImperialBrokerWaypoint (player, npc);

			//-- NPC: Ok, ok. Here, I'll add these coordinates to your datapad.
			string_id message = new string_id (c_stringFile, "s_3cb06a88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is this?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thanks.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e6101168");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fc27931b");

				setObjVar (player, "conversation.privateer_broker.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course you have a choice. We all have choices. There are still... other places you could go to get some basic flight training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to fly for the Empire.
	if (response == "s_1fd99cce")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			privateer_broker_action_addImperialBrokerWaypoint (player, npc);

			//-- NPC: Ok, ok. Here, I'll add these coordinates to your datapad.
			string_id message = new string_id (c_stringFile, "s_3cb06a88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is this?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thanks.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e6101168");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fc27931b");

				setObjVar (player, "conversation.privateer_broker.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What other places?
	if (response == "s_fea04ae8")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?
			string_id message = new string_id (c_stringFile, "s_e6455de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, ok. Here, I'll add these coordinates to your datapad.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is this?
	if (response == "s_e6101168")
	{
		doAnimationAction (player, "check_wrist_device");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: That's the location of the Imperial Pilot recruiter. You go talk to him and he'll get you all fixed up. You'll be dead in no time.
			string_id message = new string_id (c_stringFile, "s_e19a5c9a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: We'll see about that.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hey!
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cf4d3521");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ee816dc0");

				setObjVar (player, "conversation.privateer_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_fc27931b")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			//-- NPC: It's your funeral, pilot.
			string_id message = new string_id (c_stringFile, "s_510d393e");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's the location of the Imperial Pilot recruiter. You go talk to him and he'll get you all fixed up. You'll be dead in no time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We'll see about that.
	if (response == "s_cf4d3521")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: Let's see if you change your tune when you see that dinky little fighter with NO SHIELDS they give you! Ha!
			string_id message = new string_id (c_stringFile, "s_a59f385f");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hey!
	if (response == "s_ee816dc0")
	{
		doAnimationAction (player, "point_accusingly");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Just tellin' it like it is, my friend. They're going to put you in a tiny little ball with a tiny little gun built by the lowest bidder.
			string_id message = new string_id (c_stringFile, "s_b31be86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't care!
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Uh... I think I changed my mind. Can't I choose to do something else?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44d6c7b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759870d1");

				setObjVar (player, "conversation.privateer_broker.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Just tellin' it like it is, my friend. They're going to put you in a tiny little ball with a tiny little gun built by the lowest bidder.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't care!
	if (response == "s_44d6c7b2")
	{
		doAnimationAction (player, "wave_on_dismissing");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: Let's see if you change your tune when you see that dinky little fighter with NO SHIELDS they give you! Ha!
			string_id message = new string_id (c_stringFile, "s_a59f385f");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Uh... I think I changed my mind. Can't I choose to do something else?
	if (response == "s_759870d1")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Of course you have a choice. We all have choices. There are still... other places you could go to get some basic flight training.
			string_id message = new string_id (c_stringFile, "s_bd56d5dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to fly for the Empire.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What other places?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1fd99cce");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fea04ae8");

				setObjVar (player, "conversation.privateer_broker.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't blame you for not wanting to fly for the Empire. It's dangerous what with the Rebel Alliance and all. Do you have any idea what the kill ratio of X-wings to TIE Fighters is?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, what is it?
	if (response == "s_da0b2f54")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Well... I don't actually know, but I bet it isn't very good.
			string_id message = new string_id (c_stringFile, "s_80d6e310");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where else can I learn to be a pilot?
	if (response == "s_7f3a602f")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lots of places! Look, CorSec off on Corellia is a prime example. They're always looking for new recruits. And there's the RSF on Naboo, as well. Not to mention work you could get right here in the Outer Rim. Or even the Rebel Alliance, if you don't mind getting executed. What sort of piloting are you interested in?
			string_id message = new string_id (c_stringFile, "s_4cc40305");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well... I don't actually know, but I bet it isn't very good.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, what is it?
	if (response == "s_da0b2f54")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Well... I don't actually know, but I bet it isn't very good.
			string_id message = new string_id (c_stringFile, "s_80d6e310");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, what is it?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where else can I learn to be a pilot?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da0b2f54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f3a602f");

				setObjVar (player, "conversation.privateer_broker.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where else can I learn to be a pilot?
	if (response == "s_7f3a602f")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lots of places! Look, CorSec off on Corellia is a prime example. They're always looking for new recruits. And there's the RSF on Naboo, as well. Not to mention work you could get right here in the Outer Rim. Or even the Rebel Alliance, if you don't mind getting executed. What sort of piloting are you interested in?
			string_id message = new string_id (c_stringFile, "s_4cc40305");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lots of places! Look, CorSec off on Corellia is a prime example. They're always looking for new recruits. And there's the RSF on Naboo, as well. Not to mention work you could get right here in the Outer Rim. Or even the Rebel Alliance, if you don't mind getting executed. What sort of piloting are you interested in?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: CorSec?
	if (response == "s_fd3512f0")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?
			string_id message = new string_id (c_stringFile, "s_8c645195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: RSF?
	if (response == "s_83c3a855")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!
			string_id message = new string_id (c_stringFile, "s_fd94591f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine?
	if (response == "s_2c417dde")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.
			string_id message = new string_id (c_stringFile, "s_f800df2d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel Alliance?
	if (response == "s_6ea276b4")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...
			string_id message = new string_id (c_stringFile, "s_a5fd1ad3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more.
	if (response == "s_159911f5")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			privateer_broker_action_addCorSecTrainerWaypoint (player, npc);

			//-- NPC: Here, I'll add this location to your datapad... Go to CorSec headquarters on Coronet. It's just down the street from the starport. Go inside and talk to the CorSec Pilot trainer. He can tell you all about CorSec and get you signed-up!
			string_id message = new string_id (c_stringFile, "s_f58ab655");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks. Bye!
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought... never mind.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4c89252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f51c795");

				setObjVar (player, "conversation.privateer_broker.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_e3ec2640")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about the RSF or work here on Tatooine? Are you interested in that sort of thing?
			string_id message = new string_id (c_stringFile, "s_d6791368");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here, I'll add this location to your datapad... Go to CorSec headquarters on Coronet. It's just down the street from the starport. Go inside and talk to the CorSec Pilot trainer. He can tell you all about CorSec and get you signed-up!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. Bye!
	if (response == "s_e4c89252")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave2");

			//-- NPC: Take care, friend.
			string_id message = new string_id (c_stringFile, "s_9ba377a3");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought... never mind.
	if (response == "s_f51c795")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about the RSF or work here on Tatooine? Are you interested in that sort of thing?
			string_id message = new string_id (c_stringFile, "s_d6791368");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh... well how about the RSF or work here on Tatooine? Are you interested in that sort of thing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: CorSec?
	if (response == "s_fd3512f0")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?
			string_id message = new string_id (c_stringFile, "s_8c645195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: RSF?
	if (response == "s_83c3a855")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!
			string_id message = new string_id (c_stringFile, "s_fd94591f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine?
	if (response == "s_2c417dde")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.
			string_id message = new string_id (c_stringFile, "s_f800df2d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel Alliance?
	if (response == "s_6ea276b4")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...
			string_id message = new string_id (c_stringFile, "s_a5fd1ad3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more.
	if (response == "s_159911f5")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			privateer_broker_action_addRSFTrainerWaypoint (player, npc);

			//-- NPC: Here, I'll add this location to your datapad... go see the RSF Pilot trainer in the Theed Palace. He can tell you all about the RSF. He'll probably bore you to death with long flowery speeches about their 'noble history' and all that nonsense.
			string_id message = new string_id (c_stringFile, "s_1d78d511");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks. Bye!
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought... never mind.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4c89252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f51c795");

				setObjVar (player, "conversation.privateer_broker.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_e3ec2640")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Oh... well how about CorSec or work here on Tatooine? Are you interested in that sort of thing?
			string_id message = new string_id (c_stringFile, "s_8bed64bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here, I'll add this location to your datapad... go see the RSF Pilot trainer in the Theed Palace. He can tell you all about the RSF. He'll probably bore you to death with long flowery speeches about their 'noble history' and all that nonsense.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. Bye!
	if (response == "s_e4c89252")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave2");

			//-- NPC: Take care, friend.
			string_id message = new string_id (c_stringFile, "s_9ba377a3");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought... never mind.
	if (response == "s_f51c795")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Oh... well how about CorSec or work here on Tatooine? Are you interested in that sort of thing?
			string_id message = new string_id (c_stringFile, "s_8bed64bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh... well how about CorSec or work here on Tatooine? Are you interested in that sort of thing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: CorSec?
	if (response == "s_fd3512f0")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?
			string_id message = new string_id (c_stringFile, "s_8c645195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: RSF?
	if (response == "s_83c3a855")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!
			string_id message = new string_id (c_stringFile, "s_fd94591f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine?
	if (response == "s_2c417dde")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.
			string_id message = new string_id (c_stringFile, "s_f800df2d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel Alliance?
	if (response == "s_6ea276b4")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...
			string_id message = new string_id (c_stringFile, "s_a5fd1ad3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more.
	if (response == "s_159911f5")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			privateer_broker_action_addSmugglerAllianceWaypoint (player, npc);

			//-- NPC: Here, I'll add this location to your datapad... this is the Mos Eisley cantina. They don't get a lot of attention from the law out here in the Tatooine system, so there's always someone there looking for pilots willing to brave the wild frontier, so to speak.
			string_id message = new string_id (c_stringFile, "s_bedc35ff");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks. Bye!
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought... never mind.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4c89252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f51c795");

				setObjVar (player, "conversation.privateer_broker.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_e3ec2640")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?
			string_id message = new string_id (c_stringFile, "s_8e1dc39f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here, I'll add this location to your datapad... this is the Mos Eisley cantina. They don't get a lot of attention from the law out here in the Tatooine system, so there's always someone there looking for pilots willing to brave the wild frontier, so to speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. Bye!
	if (response == "s_e4c89252")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave2");

			//-- NPC: Take care, friend.
			string_id message = new string_id (c_stringFile, "s_9ba377a3");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought... never mind.
	if (response == "s_f51c795")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?
			string_id message = new string_id (c_stringFile, "s_8e1dc39f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: CorSec?
	if (response == "s_fd3512f0")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?
			string_id message = new string_id (c_stringFile, "s_8c645195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: RSF?
	if (response == "s_83c3a855")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!
			string_id message = new string_id (c_stringFile, "s_fd94591f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine?
	if (response == "s_2c417dde")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.
			string_id message = new string_id (c_stringFile, "s_f800df2d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel Alliance?
	if (response == "s_6ea276b4")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...
			string_id message = new string_id (c_stringFile, "s_a5fd1ad3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more.
	if (response == "s_159911f5")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			privateer_broker_action_addRebelBrokerWaypoint (player, npc);

			//-- NPC: Ok, but you didn't hear this from me... Meet this fellow in the park in front of the Tyrena Starport. He can tell you where to go from there.
			string_id message = new string_id (c_stringFile, "s_fdea49b9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks. Bye!
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought... never mind.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4c89252");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f51c795");

				setObjVar (player, "conversation.privateer_broker.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_e3ec2640")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?
			string_id message = new string_id (c_stringFile, "s_8e1dc39f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, but you didn't hear this from me... Meet this fellow in the park in front of the Tyrena Starport. He can tell you where to go from there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. Bye!
	if (response == "s_e4c89252")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave2");

			//-- NPC: Take care, friend.
			string_id message = new string_id (c_stringFile, "s_9ba377a3");
			removeObjVar (player, "conversation.privateer_broker.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought... never mind.
	if (response == "s_f51c795")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?
			string_id message = new string_id (c_stringFile, "s_8e1dc39f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: CorSec?
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: RSF?
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tatooine?
			boolean hasResponse2 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel Alliance?
			boolean hasResponse3 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd3512f0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83c3a855");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c417dde");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ea276b4");

				setObjVar (player, "conversation.privateer_broker.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int privateer_broker_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh... well how about CorSec or the RSF? Are you interested in that?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: CorSec?
	if (response == "s_fd3512f0")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: That's right. Corellian Security. Since Corellia is officially neutral in this whole Empire versus the Alliance business, they've got to provide for their own defense. Some of the best pilots in the galaxy come from Corellia, you know?
			string_id message = new string_id (c_stringFile, "s_8c645195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: RSF?
	if (response == "s_83c3a855")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: Yes. Royal Security Force. Talk about a cushy job! Think of it as Naboo's version of CorSec... only, of course, Naboo's also got the Empire defending it. It is the Emperor's home world, you know!
			string_id message = new string_id (c_stringFile, "s_fd94591f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tatooine?
	if (response == "s_2c417dde")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Yes. Well... not really my thing, you understand, but there has always been a certain... ah... 'fringe element' on the outer worlds. Smugglers, ruffians, pirates, thugs... that sort of thing.
			string_id message = new string_id (c_stringFile, "s_f800df2d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel Alliance?
	if (response == "s_6ea276b4")
	{
		//-- [NOTE] 
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Say, that's pretty dangerous. Going up against the Empire's huge fleet with nothing but whatever ragtag bunch you can get to oppose them? Still, I suppose the Empire DID destroy Alderaan...
			string_id message = new string_id (c_stringFile, "s_a5fd1ad3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me more.
			boolean hasResponse0 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (privateer_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159911f5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3ec2640");

				setObjVar (player, "conversation.privateer_broker.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.privateer_broker.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.privateer_broker");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable( self, true );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable( self, true );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );
	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.privateer_broker");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!privateer_broker_condition_hasSpaceExp (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		//-- NPC: You don't look like a pilot to me. But I guess you can still hang-out here if you like. Try to be quiet, though.
		string_id message = new string_id (c_stringFile, "s_79be144a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (privateer_broker_condition_isNeutralPilot (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		//-- NPC: Hey, I've heard people talkin' about you! Rumor is you've turned into a pretty decent pilot! What can I do for you?
		string_id message = new string_id (c_stringFile, "s_13dd951a");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've come to retire my status as a pilot.
		boolean hasResponse0 = false;
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Nothing. Goodbye.
		boolean hasResponse1 = false;
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a6f3f40b");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8cb932b7");

			setObjVar (player, "conversation.privateer_broker.branchId", 2);

			npcStartConversation (player, npc, "privateer_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (privateer_broker_condition_isPilot (player, npc))
	{
		//-- NPC: Hello. Nice to see you!
		string_id message = new string_id (c_stringFile, "s_c3f7c619");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (privateer_broker_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "cough_polite");

		//-- NPC: Yes?
		string_id message = new string_id (c_stringFile, "s_9fdd7cf3");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Never mind.
		boolean hasResponse0 = false;
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I've come to join the Pilots Guild.
		boolean hasResponse1 = false;
		if (privateer_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_169df3bb");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f6dbaaf2");

			setObjVar (player, "conversation.privateer_broker.branchId", 10);

			npcStartConversation (player, npc, "privateer_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "privateer_broker")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = getIntObjVar (player, "conversation.privateer_broker.branchId");

	if (branchId == 2 && privateer_broker_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && privateer_broker_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && privateer_broker_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && privateer_broker_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && privateer_broker_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && privateer_broker_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && privateer_broker_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && privateer_broker_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && privateer_broker_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && privateer_broker_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && privateer_broker_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && privateer_broker_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && privateer_broker_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && privateer_broker_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && privateer_broker_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && privateer_broker_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && privateer_broker_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && privateer_broker_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && privateer_broker_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && privateer_broker_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && privateer_broker_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && privateer_broker_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && privateer_broker_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && privateer_broker_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && privateer_broker_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && privateer_broker_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && privateer_broker_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && privateer_broker_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && privateer_broker_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && privateer_broker_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && privateer_broker_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	removeObjVar (player, "conversation.privateer_broker.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

