// ======================================================================
//
// lok_rebel_trainer_2.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;
include library.xp;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/lok_rebel_trainer_2";

// ======================================================================
// Script Conditions
// ======================================================================

boolean lok_rebel_trainer_2_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForMission1 (obj_id player, obj_id npc)
{
	if ( (hasSkill( player, "pilot_rebel_navy_starships_02" ) ||
		hasSkill( player, "pilot_rebel_navy_weapons_02" ) ||
		hasSkill( player, "pilot_rebel_navy_procedures_02" ) ||
		hasSkill( player, "pilot_rebel_navy_droid_02" )) && 
		space_flags.hasSpaceFlag(player, "viopaPilot") &&
		!space_quest.hasWonQuest ( player, "inspect", "viopa_rebel_1") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasFailedMission1 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "inspect", "viopa_rebel_1" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "inspect", "viopa_rebel_1" ))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasWonMission1 (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "inspect", "viopa_rebel_1" ) &&
	!space_quest.hasReceivedReward( player, "inspect", "viopa_rebel_1" ))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForMission2 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 2 ) && space_flags.hasSpaceFlag(player, "viopaPilot") &&
	!space_quest.hasWonQuest( player, "escort", "viopa_rebel_2") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasWonMission2 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "escort", "viopa_rebel_2" ) &&
	!space_quest.hasReceivedReward( player, "escort", "viopa_rebel_2" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasFailedMission2 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "escort", "viopa_rebel_2" ) ||
		 space_quest.hasAbortedQuest( player, "escort", "viopa_rebel_2" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isOnMission (obj_id player, obj_id npc)
{
	if ( space_quest.hasQuest( player, "inspect", "viopa_rebel_1" ) ||
		 space_quest.hasQuest( player, "escort", "viopa_rebel_2" ) ||
		 space_quest.hasQuest( player, "recovery", "viopa_rebel_3" ) ||
		 space_quest.hasQuest( player, "destroy", "viopa_rebel_4" ) ||
		 space_quest.hasQuest( player, "escort_duty", "viopa_rebel_5" ) ||
		 space_quest.hasQuest( player, "destroy_duty", "corellia_imperial_6" ) ||
		 space_quest.hasQuest( player, "recovery_duty", "viopa_rebel_7" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForMission3 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 3 ) && space_flags.hasSpaceFlag(player, "viopaPilot") &&
	!space_quest.hasWonQuest ( player, "recovery", "viopa_rebel_3") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasFailedMission3 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "recovery", "viopa_rebel_3" ) ||
		 space_quest.hasAbortedQuest( player, "recovery", "viopa_rebel_3" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasWonMission3 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "recovery", "viopa_rebel_3" ) &&
	!space_quest.hasReceivedReward( player, "recovery", "viopa_rebel_3" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForMission4 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 4 ) && space_flags.hasSpaceFlag(player, "viopaPilot") &&
	!space_quest.hasWonQuest ( player, "assassinate", "viopa_rebel_4") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasWonMission4 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "assassinate", "viopa_rebel_4" ) &&
	!space_quest.hasReceivedReward( player, "assassinate", "viopa_rebel_4" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasFailedMission4 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "assassinate", "viopa_rebel_4" ) ||
		 space_quest.hasAbortedQuest( player, "assassinate", "viopa_rebel_4" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForDuty (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaPilot") == 2)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForSecondSkill (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_starships_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_weapons_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_procedures_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_droid_02" ) )
		 return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canBuyStarships02 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_starships_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_starships_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canBuyWeapons02 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_weapons_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_weapons_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canBuyProcedures02 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_procedures_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_procedures_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canBuyDroids02 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_droid_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canBuySkill (obj_id player, obj_id npc)
{
	if ( space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_starships_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_weapons_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_procedures_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_droid_02" ) && 
		space_flags.hasSpaceFlag(player, "viopaPilot"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasAllSkills (obj_id player, obj_id npc)
{
	/*
	if ( space_quest.hasReceivedReward( player, "destroy", "viopa_rebel_4" ) &&
		  hasSkill( player, "pilot_rebel_navy_starships_02" ) &&
		  hasSkill( player, "pilot_rebel_navy_weapons_02" ) &&
		  hasSkill( player, "pilot_rebel_navy_procedures_02" ) &&
		  hasSkill( player, "pilot_rebel_navy_droid_02" ) )
		return true;
	else
		return false;
	*/
	
	if(space_quest.hasReceivedReward(player, "assassinate", "viopa_rebel_4") && space_flags.hasCompletedTierTwo(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasCompletedSeries (obj_id player, obj_id npc)
{
	return space_quest.hasCompletedQuestSeries( player, "imperial_corellia_1" );
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isGm (obj_id player, obj_id npc)
{
	return ( hasObjVar( player, "gm" ) );
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isNeutralPilot (obj_id player, obj_id npc)
{
	if ( hasSkill( player, "pilot_neutral_novice" ) )
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isRebelNonMember (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_novice" ) && !space_flags.hasSpaceFlag(player, "viopaPilot"));
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_notTalkedSmuggler (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 1)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isImperial (obj_id player, obj_id npc)
{
	string playerFaction = factions.getFaction(player);
	if (playerFaction == null)  
		return hasSkill( player, "pilot_imperial_navy_novice" );
			
	if (playerFaction.equals("Imperial") || hasSkill( player, "pilot_imperial_navy_novice" ) )
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isCorrectRebelPilot (obj_id player, obj_id npc)
{
	/*
	if ( hasSkill( player, "pilot_rebel_navy_starships_01" ) &&
		hasSkill( player, "pilot_rebel_navy_weapons_01" ) &&
		hasSkill( player, "pilot_rebel_navy_procedures_01" ) &&
		hasSkill( player, "pilot_rebel_navy_droid_01" ) &&
		getIntObjVar (player, "viopaPilot") ==1 )
		return true;
	else
		return false;
	*/
	
	if(space_flags.hasCompletedTierOne(player) && (space_flags.getIntSpaceFlag(player, "viopaPilot") == 1))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_talkedSmuggler (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 2)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_notTalkedSmuggler2 (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 3)
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_talkedSmuggler2 (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 4)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_readyForTier3 (obj_id player, obj_id npc)
{
	/*
	if 	(( hasSkill( player, "pilot_rebel_navy_starships_02" ) &&
		hasSkill( player, "pilot_rebel_navy_weapons_02" ) &&
		hasSkill( player, "pilot_rebel_navy_procedures_02" ) &&
		hasSkill( player, "pilot_rebel_navy_droid_02" )) && 
		hasObjVar (player, "viopaPilot") &&
		space_quest.hasReceivedReward ( player, "destroy", "viopa_rebel_4"))
		return true;
	else
		return false;
	*/
	
	if(space_flags.hasCompletedTierTwo(player) &&
	   space_flags.hasSpaceFlag(player, "viopaPilot") &&
	   space_quest.hasReceivedReward ( player, "assassinate", "viopa_rebel_4"))
	   //space_quest.hasReceivedReward ( player, "destroy", "viopa_rebel_4"))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierOne(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.REBEL_CORELLIA);
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_isOnAnotherMission (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player);
}

// ----------------------------------------------------------------------

boolean lok_rebel_trainer_2_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_REBEL ) < 0.0f );
}

// ======================================================================
// Script Actions
// ======================================================================

void lok_rebel_trainer_2_action_grantMission1 (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Mission grant.
	space_quest.grantQuest( player, "inspect", "viopa_rebel_1" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_goToSmuggler (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "viopaSmuggler", 1);
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_giveRewardMission1 (obj_id player, obj_id npc)
{
	if (space_quest.hasReceivedReward( player, "inspect", "viopa_rebel_1" ))
	return;
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "inspect", "viopa_rebel_1", 5000, "object/tangible/ship/components/shield_generator/shd_mission_reward_rebel_incom_k77.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_removeSmuggler (obj_id player, obj_id npc)
{
	space_flags.removeSpaceFlag(player, "viopaSmuggler");
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_goToSmuggler2 (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "viopaSmuggler", 3);
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantMission2 (obj_id player, obj_id npc)
{
	// Wave finger.
	faceTo( npc, player );
	
	// Assign mission.
	space_quest.grantQuest( player, "escort", "viopa_rebel_2" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_giveRewardMission2 (obj_id player, obj_id npc)
{
	if (space_quest.hasReceivedReward( player, "escort", "viopa_rebel_2" ))
	return;
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "escort", "viopa_rebel_2", 5000, "object/tangible/ship/components/droid_interface/ddi_mission_reward_rebel_moncal_d22.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantMission3 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	// Assign mission.
	space_quest.grantQuest( player, "recovery", "viopa_rebel_3" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_giveRewardMission3 (obj_id player, obj_id npc)
{
	if (space_quest.hasReceivedReward( player, "recovery", "viopa_rebel_3" ))
	return;
	// Animation.
	faceTo( npc, player );
	
	// Give reward.
	space_quest.giveReward( player, "recovery", "viopa_rebel_3", 5000, "object/tangible/ship/components/booster/bst_mission_reward_rebel_novaldex_hypernova.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantMission4 (obj_id player, obj_id npc)
{
	// Wave finger.
	faceTo( npc, player );
	
	// Assign mission.
	space_quest.grantQuest( player, "assassinate", "viopa_rebel_4" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_giveRewardMission4 (obj_id player, obj_id npc)
{
	if (space_quest.hasReceivedReward( player, "assassinate", "viopa_rebel_4" ))
	return;
	// Animation.
	faceTo( npc, player );
	
	// Give reward.
	space_quest.giveReward( player, "assassinate", "viopa_rebel_4", 5000, "object/tangible/ship/components/weapon/wpn_mission_reward_rebel_taim_ion_driver.iff" );
	space_flags.setSpaceFlag(player, "viopaPilot", 3);
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_buyStarships02 (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	
		skill.purchaseSkill( player, "pilot_rebel_navy_starships_02" );

}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_buyWeapons02 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

		skill.purchaseSkill( player, "pilot_rebel_navy_weapons_02" );

}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_buyProcedures02 (obj_id player, obj_id npc)
{
	faceTo( npc, player );


		skill.purchaseSkill( player, "pilot_rebel_navy_procedures_02" );

}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_buyDroid02 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

		skill.purchaseSkill( player, "pilot_rebel_navy_droid_02" );

}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_flagQuestSeriesComplete (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	space_quest.setQuestSeriesFlag( player, "imperial_corellia_1", space_quest.QUEST_SERIES_COMPLETED );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantDestroyDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "viopa_rebel_6" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantRecoveryDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "viopa_rebel_7" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_grantEscortDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "viopa_rebel_5" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_removeViopaPilot (obj_id player, obj_id npc)
{
	space_flags.removeSpaceFlag( player, "viopaPilot" );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_face (obj_id player, obj_id npc)
{
	faceTo( npc, player );
}

// ----------------------------------------------------------------------

void lok_rebel_trainer_2_action_makeViopaPilot (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "viopaPilot", 2);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string lok_rebel_trainer_2_tokenTO_tokenTO0001 (obj_id player, obj_id npc)
{
	return new string();
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int lok_rebel_trainer_2_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My dear, you are in big trouble.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What happened?
	if (response == "s_e00ac98e")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "weeping");

			//-- NPC: You've been grounded.  The intelligence department delivered a scathing report on you.  It's terrible!
			string_id message = new string_id (c_stringFile, "s_dd8c097b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do I do now?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a78a4ac3");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've been grounded.  The intelligence department delivered a scathing report on you.  It's terrible!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do now?
	if (response == "s_a78a4ac3")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: There's nothing you CAN do.  Not unless you can prove yourself a trustworthy member of the Rebel Alliance again.
			string_id message = new string_id (c_stringFile, "s_fa69f8de");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fcf4d778");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's nothing you CAN do.  Not unless you can prove yourself a trustworthy member of the Rebel Alliance again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How?
	if (response == "s_fcf4d778")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cover_eyes");

			//-- NPC: I don't know!  But there's got to be some way for you to improve your standing with the Rebel Alliance!  You've got to try, %NU.  We need you!
			string_id message = new string_id (c_stringFile, "s_2817ec90");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing here? I heard that you were working for a different part of the Alliance Navy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you have any missions I could fly?
	if (response == "s_1583743c")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canFlyNonTrackDuty (player, npc))
		{
			//-- NPC: I don't have any missions right now, but I do have some elective duty tasks that you might be interested in. What do you think, sweetie?
			string_id message = new string_id (c_stringFile, "s_9d922723");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds great.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather not right now.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e84d85e2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e87a40f8");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sorry. Fresh out of missions right now. Why don't you try talking to your commanding officer?
			string_id message = new string_id (c_stringFile, "s_990019e5");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't have any missions right now, but I do have some elective duty tasks that you might be interested in. What do you think, sweetie?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds great.
	if (response == "s_e84d85e2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather not right now.
	if (response == "s_e87a40f8")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Whatever you say.
			string_id message = new string_id (c_stringFile, "s_39e697de");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings %NU. Did you meet up with the smuggler?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes milady, it seems he can assist us.
	if (response == "s_14310e04")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_excited");

			//-- NPC: Excellent, what do we need to do?
			string_id message = new string_id (c_stringFile, "s_4acb55cd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I need the Imperial data.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: He's set up a meeting with a hacker in Dantooine.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e811b51e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41ee99fd");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure did. He was a weird fellow.
	if (response == "s_3892fde6")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: How so?
			string_id message = new string_id (c_stringFile, "s_4ca03ddb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh nothing. Anyway, he's arranged a meeting with a hacker.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: He seemed very nervous. Maybe just a profession trait.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97682590");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3f9c754");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent, what do we need to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need the Imperial data.
	if (response == "s_e811b51e")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Of course. What will you do with it?
			string_id message = new string_id (c_stringFile, "s_c4ecbd2f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Vrak set up a meeting with a hacker in Dantooine.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_902e7f6f");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He's set up a meeting with a hacker in Dantooine.
	if (response == "s_41ee99fd")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right. I hope this hacker is good. We've had no success so far.
			string_id message = new string_id (c_stringFile, "s_6280da8c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Vrak seemed sure that he could do it.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who knows. Anyway, he wants me to take the data there.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_232c0049");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_94558476");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. What will you do with it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Vrak set up a meeting with a hacker in Dantooine.
	if (response == "s_902e7f6f")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, my dear.
			string_id message = new string_id (c_stringFile, "s_a3de93c4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be back later. I have some things I need to address.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e2b5ea1a");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1813f9b");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, my dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be back later. I have some things I need to address.
	if (response == "s_e2b5ea1a")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_54e06202");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready milady.
	if (response == "s_1813f9b")
	{
		doAnimationAction (player, "salute1");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: How did I ever manage without you, sweetie? I'll let the technicians know what you need. Do be careful though, my dear, this all seems a bit too easy.
			string_id message = new string_id (c_stringFile, "s_5b7c65e8");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. I hope this hacker is good. We've had no success so far.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Vrak seemed sure that he could do it.
	if (response == "s_232c0049")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?
			string_id message = new string_id (c_stringFile, "s_a1062586");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I'm ready to leave anytime.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c8427191");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b1f9f1bc");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who knows. Anyway, he wants me to take the data there.
	if (response == "s_94558476")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ships computer as soon as you are ready to take off dear.
			string_id message = new string_id (c_stringFile, "s_ffa35f86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be back later. I have some things I need to address.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready, milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_359d1c6c");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I'm ready to leave anytime.
	if (response == "s_c8427191")
	{
		doAnimationAction (player, "salute1");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer. Good luck, dear!
			string_id message = new string_id (c_stringFile, "s_62d83905");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
	if (response == "s_b1f9f1bc")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_41");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I will have a copy of the data uploaded to your ships computer as soon as you are ready to take off dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be back later. I have some things I need to address.
	if (response == "s_45")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_47");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready, milady.
	if (response == "s_359d1c6c")
	{
		doAnimationAction (player, "salute2");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: How did I ever manage without you, sweetie? I'll let the technicians know what you need. Do be careful though, my dear, this all seems a bit too easy.
			string_id message = new string_id (c_stringFile, "s_50");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How so?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh nothing. Anyway, he's arranged a meeting with a hacker.
	if (response == "s_97682590")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right. I hope this hacker is good. We've had no success so far.
			string_id message = new string_id (c_stringFile, "s_55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Vrak seemed sure that he could do it.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who knows? Anyway, he wants me to take the data there.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_57");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fde7cbe6");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He seemed very nervous. Maybe just a profession trait.
	if (response == "s_b3f9c754")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Maybe so. but the Empire is searching the galaxy for this data, so you have to be careful. Trust no one, dear. What did you find out?
			string_id message = new string_id (c_stringFile, "s_b2e9f5b5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Vrak arranged a meeting with a hacker in Dantooine.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105c0da2");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. I hope this hacker is good. We've had no success so far.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Vrak seemed sure that he could do it.
	if (response == "s_57")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?
			string_id message = new string_id (c_stringFile, "s_59");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I'm ready to leave anytime.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_65");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who knows? Anyway, he wants me to take the data there.
	if (response == "s_fde7cbe6")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, dear.
			string_id message = new string_id (c_stringFile, "s_a4ab00c9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be back later. I have some things I need to address.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready, milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I'm ready to leave anytime.
	if (response == "s_61")
	{
		doAnimationAction (player, "nod_head_once");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer. Good luck, dear!
			string_id message = new string_id (c_stringFile, "s_63");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
	if (response == "s_65")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_67");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be back later. I have some things I need to address.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_73");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready, milady.
	if (response == "s_75")
	{
		doAnimationAction (player, "salute2");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: How did I ever manage without you, sweetie? I'll let the technicians know what you need. Do be careful though, my dear, this all seems a bit too easy.
			string_id message = new string_id (c_stringFile, "s_77");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Maybe so. but the Empire is searching the galaxy for this data, so you have to be careful. Trust no one, dear. What did you find out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Vrak arranged a meeting with a hacker in Dantooine.
	if (response == "s_105c0da2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right. I hope this hacker is good. We've had no success so far.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Vrak seemed sure that he could do it.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who knows? Anyway, he wants me to take the data there.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right. I hope this hacker is good. We've had no success so far.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Vrak seemed sure that he could do it.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?
			string_id message = new string_id (c_stringFile, "s_86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I'm ready to leave anytime.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who knows? Anyway, he wants me to take the data there.
	if (response == "s_96")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, dear.
			string_id message = new string_id (c_stringFile, "s_98");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be back later. I have some things I need to address.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready, milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_103");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All right, good. Are you planning to meet him in Dantooine with a copy of the data?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I'm ready to leave anytime.
	if (response == "s_88")
	{
		doAnimationAction (player, "nod_head_once");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer. Good luck, dear!
			string_id message = new string_id (c_stringFile, "s_90");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's right. Unfortunately, I have some things to fix first.
	if (response == "s_92")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sounds good, %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_94");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I will have a copy of the data uploaded to your ship's computer as soon as you are ready to take off, dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be back later. I have some things I need to address.
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sounds good %NU. We'll be ready when you come back.
			string_id message = new string_id (c_stringFile, "s_d64bce73");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready, milady.
	if (response == "s_103")
	{
		doAnimationAction (player, "salute2");

		lok_rebel_trainer_2_action_removeSmuggler (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: How did I ever manage without you, sweetie? I'll let the technicians know what you need. Do be careful though, my dear, this all seems a bit too easy.
			string_id message = new string_id (c_stringFile, "s_105");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings %NU. Did you meet with the smuggler?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. Something came up. I can't right now.
	if (response == "s_3e4a658")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			doAnimationAction (player, "goodbye");

			//-- NPC: Ack. All right,I will send a message to Vrak to reschedule. Do hurry back, dear.
			string_id message = new string_id (c_stringFile, "s_f4cf8776");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I knew there was something I forgot!
	if (response == "s_3209cb6f")
	{
		doAnimationAction (player, "smack_self");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			//-- NPC: Is everything all right, my dear? You're not one to forget important things.
			string_id message = new string_id (c_stringFile, "s_c149497f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be off at once, milady. My apologies.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Of course. I just have a lot of important things to do!
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5e28b657");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bfd9eed6");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is everything all right, my dear? You're not one to forget important things.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be off at once, milady. My apologies.
	if (response == "s_5e28b657")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Excellent. I will let Vrak know that you will be a little late.
			string_id message = new string_id (c_stringFile, "s_c9d58564");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do that.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Can you remind me where he is?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55ad580f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5ac3c20d");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course. I just have a lot of important things to do!
	if (response == "s_bfd9eed6")
	{
		doAnimationAction (player, "slow_down");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I understand, dear. I will let Vrak know that you will be a little late.
			string_id message = new string_id (c_stringFile, "s_93c107c0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do that.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Can you remind me where he is?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I will let Vrak know that you will be a little late.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do that.
	if (response == "s_55ad580f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Be careful, dear. See you soon!
			string_id message = new string_id (c_stringFile, "s_66c9d146");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you remind me where he is?
	if (response == "s_5ac3c20d")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: In Tyrena on Corellia, dear, in the cantina.
			string_id message = new string_id (c_stringFile, "s_ccd0caab");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm off.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25fcc7b2");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In Tyrena on Corellia, dear, in the cantina.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm off.
	if (response == "s_25fcc7b2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Lovely! Be careful and see you soon, dear.
			string_id message = new string_id (c_stringFile, "s_5ee66c06");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I understand, dear. I will let Vrak know that you will be a little late.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do that.
	if (response == "s_122")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Be careful, dear. See you soon!
			string_id message = new string_id (c_stringFile, "s_124");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you remind me where he is?
	if (response == "s_126")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: In Tyrena on Corellia, dear, in the cantina.
			string_id message = new string_id (c_stringFile, "s_128");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm off.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_130");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In Tyrena on Corellia, dear, in the cantina.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm off.
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Lovely! Be careful and see you soon, dear.
			string_id message = new string_id (c_stringFile, "s_132");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad to have you back in one piece, %NU. We received word from the hacker. He's sent coordinates for a new rendezvous.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good. I want another chance at this.
	if (response == "s_137a1cc5")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Excellent. I'll have the technicians upload the coordinates to your nav computer. I hope everything goes well this time, dear. Take well care of yourself.
			string_id message = new string_id (c_stringFile, "s_6bcf16a1");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine, I'll give it another chance.
	if (response == "s_809dbad9")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Great, sweetie, I'm sure you'll have better luck this time. Be careful up there. The new coordinates should be uploaded to your nav computer by the time you reach your ship. 
			string_id message = new string_id (c_stringFile, "s_1eaa0d45");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have to fix my ship first. I will be back as soon as I can.
	if (response == "s_ef962200")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right. Hurry though, dear. This hacker seems rather nervous. I don't want him to change his mind.
			string_id message = new string_id (c_stringFile, "s_d5693494");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was so worried when I heard about the attacks on you, %NU! We suspect that someone told the Empire about your rendezvous. We are trying to figure out who the traitor is now. Anyway, I'm so glad to have you back in one piece.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, milady. It was close, but the hacker came through for us.
	if (response == "s_4bf53cea")
	{
		doAnimationAction (player, "bow3");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_excited");

			lok_rebel_trainer_2_action_giveRewardMission2 (player, npc);

			//-- NPC: Fantastic! I will have the intelligence department analyze the information right away. You should get some rest and come back when you're ready for some more action.
			string_id message = new string_id (c_stringFile, "s_71350221");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Piece of cake. There was the matter of payment. I believe?
	if (response == "s_1d34c320")
	{
		doAnimationAction (player, "hair_flip");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			lok_rebel_trainer_2_action_giveRewardMission2 (player, npc);

			//-- NPC: Oh, but of course, my dear. Get some rest while we analyze the data and come back when you are ready for some action.
			string_id message = new string_id (c_stringFile, "s_6c130469");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ohh good to see you, %NU, I need your help. The data you retrieved earlier has proven impossible to decipher. Fortunately, Nym knows of a smuggler that specializes in these kind of predicaments.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, what do you need help with, milady?
	if (response == "s_95a207fe")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_excited");

			//-- NPC: I'm so glad I can always count on you, sweetie. I was hoping you could travel to the smuggler and acquire his services for us.
			string_id message = new string_id (c_stringFile, "s_d70d3929");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why me? I'm a pilot.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Of course. Where can I find him?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c84e7a8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d14eedc8");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds great. This interests me why?
	if (response == "s_eb569089")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You're so charming, dear. I was hoping you could travel to the smuggler and acquire his services for us.
			string_id message = new string_id (c_stringFile, "s_ba9fbf52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not an errand boy.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Fine. I don't really have anything to do right now anyway.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d6d2881d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35e906c1");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh I was just passing by. I can't help right now.
	if (response == "s_38aeb877")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			doAnimationAction (player, "goodbye");

			//-- NPC: Do hurry back though, sweetie. This is quite important.
			string_id message = new string_id (c_stringFile, "s_6bb4b597");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm so glad I can always count on you, sweetie. I was hoping you could travel to the smuggler and acquire his services for us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why me? I'm a pilot.
	if (response == "s_c84e7a8")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, let's just say that some of Nym's employees can be a little less than dependable at times - especially unsupervised in a cantina. I need someone I can trust completely.
			string_id message = new string_id (c_stringFile, "s_6c7c317");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. All right, where do I find him?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm afraid I can't right now though, milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97f6ca14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2ccdbfbb");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course. Where can I find him?
	if (response == "s_d14eedc8")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] Mission 2 goes here. Smuggle mission to Yavin sector.
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler (player, npc);

			//-- NPC: He's agreed to meet a contact of ours on Corellia. His name is Vrak and he will be waiting in the cantina of Tyrena. Do be careful, dear. I've learned that the Empire is scouring the galaxy for the data you stole. It must be very important.
			string_id message = new string_id (c_stringFile, "s_cafeab9");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, let's just say that some of Nym's employees can be a little less than dependable at times - especially unsupervised in a cantina. I need someone I can trust completely.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. All right, where do I find him?
	if (response == "s_97f6ca14")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] Mission 2 goes here. Smuggle mission to Yavin sector.
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler (player, npc);

			//-- NPC: He's agreed to meet a contact of ours on Corellia. His name is Vrak and he will be waiting in the cantina of Tyrena. Do be careful, dear. I've learned that the Empire is scouring the galaxy for the data you stole. It must be very important.
			string_id message = new string_id (c_stringFile, "s_cafeab9");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm afraid I can't right now though, milady.
	if (response == "s_2ccdbfbb")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			doAnimationAction (player, "goodbye");

			//-- NPC: Hmm. I will see if we can reschedule the meeting. Do hurry back dear.
			string_id message = new string_id (c_stringFile, "s_1dcfe231");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're so charming, dear. I was hoping you could travel to the smuggler and acquire his services for us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not an errand boy.
	if (response == "s_d6d2881d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Oh of course not, my dear. I need someone I trust, though. Some of Nym's employees are not really that dependable at times.
			string_id message = new string_id (c_stringFile, "s_8204eb26");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's an understatement. All right, I'll do it. Where is he?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You could say that again. I can't right now, though.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6e6242ff");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b59feb8d");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. I don't really have anything to do right now anyway.
	if (response == "s_35e906c1")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler (player, npc);

			//-- NPC: Excellent. He's agreed to meet a contact of ours on Corellia. His name is Vrak and he will be waiting in the cantina of Tyrena. Do be careful, dear. I've found out that the Empire is scouring the galaxy for the data you stole. It must be terribly important.
			string_id message = new string_id (c_stringFile, "s_92199b82");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh of course not, my dear. I need someone I trust, though. Some of Nym's employees are not really that dependable at times.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's an understatement. All right, I'll do it. Where is he?
	if (response == "s_6e6242ff")
	{
		doAnimationAction (player, "belly_laugh");

		//-- [NOTE] Mission 2 goes here. Smuggle mission to Yavin sector.
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler (player, npc);

			//-- NPC: He's agreed to meet a contact of ours on Corellia. His name is Vrak and he will be waiting in the cantina of Tyrena. Do be careful, dear. I've learned that the Empire is scouring the galaxy for the data you stole. It must be very important.
			string_id message = new string_id (c_stringFile, "s_cafeab9");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You could say that again. I can't right now, though.
	if (response == "s_b59feb8d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right, %NU. I'll see if I can reschedule the meeting with the smuggler. Come back soon for a update.
			string_id message = new string_id (c_stringFile, "s_194e698d");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome back dear. I heard what happened. The good news is that we have a second chance.The officer's shuttle seems to have malfunctioned. It's slowed him down considerably.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good. I won't let him slip away this time!
	if (response == "s_307dbfe0")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "celebrate");

			doAnimationAction (player, "salute1");

			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: I have had the new coordinates uploaded to your ship. Go get 'em, %NU!
			string_id message = new string_id (c_stringFile, "s_e67149f");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have to repair my ship.
	if (response == "s_6e92867a")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right. Hurry, though. Time is running out, dear.
			string_id message = new string_id (c_stringFile, "s_af173f89");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A splendid performance as always, my dear %NU. Our intelligence department is interrogating the officer now. Hopefully we will find out soon what's going on. You should get some rest in the meantime.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, milady. I will be back soon.
	if (response == "s_ce671a71")
	{
		doAnimationAction (player, "bow");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_giveRewardMission3 (player, npc);

			//-- NPC: Good %NU. it's always a pleasure when you stop by. See you soon.
			string_id message = new string_id (c_stringFile, "s_eceafc6e");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I need it, milady. Is there anything I can do?
	if (response == "s_27a9d3e4")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			lok_rebel_trainer_2_action_giveRewardMission3 (player, npc);

			//-- NPC: Well if you're sure you don't need to rest, fix your ship or anything like that, we have some duties that could use your attention dear.
			string_id message = new string_id (c_stringFile, "s_14791132");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. What can I do?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe I should get some rest. See you soon.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_da77c355");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e2ad7a0d");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well if you're sure you don't need to rest, fix your ship or anything like that, we have some duties that could use your attention dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. What can I do?
	if (response == "s_da77c355")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I should get some rest. See you soon.
	if (response == "s_e2ad7a0d")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			//-- NPC: Yes indeed, dear, you've earned it. Come back when you are ready.
			string_id message = new string_id (c_stringFile, "s_5164f707");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome back, sweetie. The intelligence department has finished analyzing the encrypted data. It's still a bit vague.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was just stopping by to say hi; I have to get going.
	if (response == "s_c8c2d2ea")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Oh. Well, come back soon, dear.
			string_id message = new string_id (c_stringFile, "s_163272c2");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did they figure out?
	if (response == "s_c6b08612")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It seems to include the ship routes of several Imperial ships that are moving toward Lok. It's disturbing indeed. Lord Nym fears that they may be planning to take over Lok.
			string_id message = new string_id (c_stringFile, "s_e7b6dca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What would be the point of invading this sandbox?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is not good. What can we do milady?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e0d2df48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54179ba5");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It seems to include the ship routes of several Imperial ships that are moving toward Lok. It's disturbing indeed. Lord Nym fears that they may be planning to take over Lok.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What would be the point of invading this sandbox?
	if (response == "s_e0d2df48")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The intelligence department believes that they may be planning to use Lok as a staging area to attack or blockade Corellia.
			string_id message = new string_id (c_stringFile, "s_10221765");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds likely. What can I do to help?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds bad. I will be back as soon as I can to help out.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_74a4f762");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_db82fc61");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is not good. What can we do milady?
	if (response == "s_54179ba5")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The data included several references to one certain Imperial officer. We are in luck. We located him a few days ago. Now we have a couple of spies onboard his shuttle. We want to kidnap him so that we can learn more about what the Empire's plans really are.
			string_id message = new string_id (c_stringFile, "s_201");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like you have it covered. I have some things I need to do.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: All right. What's the plan?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_203");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The intelligence department believes that they may be planning to use Lok as a staging area to attack or blockade Corellia.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds likely. What can I do to help?
	if (response == "s_74a4f762")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The data included several references to one certain Imperial officer. We are in luck. We located him a few days ago. Now we have a couple of spies onboard his shuttle. We want to kidnap him so that we can learn more about what the Empire's plans really are.
			string_id message = new string_id (c_stringFile, "s_3ae0bba3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like you have it covered. I have some things I need to do.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: All right. What's the plan?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5e9e1660");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56285e36");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds bad. I will be back as soon as I can to help out.
	if (response == "s_db82fc61")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Alright dear. Please hurry back. We don't have much time.
			string_id message = new string_id (c_stringFile, "s_bbb72231");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The data included several references to one certain Imperial officer. We are in luck. We located him a few days ago. Now we have a couple of spies onboard his shuttle. We want to kidnap him so that we can learn more about what the Empire's plans really are.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like you have it covered. I have some things I need to do.
	if (response == "s_5e9e1660")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Well, we could really use your help on this, dear. Please come back soon.
			string_id message = new string_id (c_stringFile, "s_72b581a2");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All right. What's the plan?
	if (response == "s_56285e36")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We need your help to destroy the shuttle's escort and disable it so that our men can overpower the crew and bring the Imperial officer to us.
			string_id message = new string_id (c_stringFile, "s_3e303b17");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough. Where do I find them?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, but I can't right now. I have some things I need to do.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a99ad4e8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c942a6c8");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We need your help to destroy the shuttle's escort and disable it so that our men can overpower the crew and bring the Imperial officer to us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough. Where do I find them?
	if (response == "s_a99ad4e8")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "accept_affection");

			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: He should be entering the Lok system any moment now. I will have the coordinates uploaded to your ship's nav computer. Be careful, dear. We know how important this operation is to the Empire, so he will probably be well guarded. Good luck %NU. Come back to me in one piece.
			string_id message = new string_id (c_stringFile, "s_723b4288");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, but I can't right now. I have some things I need to do.
	if (response == "s_c942a6c8")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Well, we could really use your help on this, dear. Please come back soon.
			string_id message = new string_id (c_stringFile, "s_196");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The data included several references to one certain Imperial officer. We are in luck. We located him a few days ago. Now we have a couple of spies onboard his shuttle. We want to kidnap him so that we can learn more about what the Empire's plans really are.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like you have it covered. I have some things I need to do.
	if (response == "s_203")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Well, we could really use your help on this, dear. Please come back soon.
			string_id message = new string_id (c_stringFile, "s_205");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All right. What's the plan?
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We need your help to destroy the shuttle's escort and disable it so that our men can overpower the crew and bring the Imperial officer to us.
			string_id message = new string_id (c_stringFile, "s_209");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough. Where do I find them?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sorry, but I can't right now. I have some things I need to do.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_211");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We need your help to destroy the shuttle's escort and disable it so that our men can overpower the crew and bring the Imperial officer to us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough. Where do I find them?
	if (response == "s_211")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "accept_affection");

			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: He should be entering the Lok system any moment now. I will have the coordinates uploaded to your ship's nav computer. Be careful, dear. We know how important this operation is to the Empire, so he will probably be well guarded. Good luck %NU. Come back to me in one piece.
			string_id message = new string_id (c_stringFile, "s_213");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, but I can't right now. I have some things I need to do.
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Well, we could really use your help on this, dear. Please come back soon.
			string_id message = new string_id (c_stringFile, "s_217");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There you are, %NU. Did you find Vrak?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, something came up. I can't right now.
	if (response == "s_e4b3375d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			doAnimationAction (player, "goodbye");

			//-- NPC: Ack! We really need to find out if he knows something. Please hurry back, %NU.
			string_id message = new string_id (c_stringFile, "s_5300757c");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I knew there was something I forgot!
	if (response == "s_222")
	{
		doAnimationAction (player, "smack_self");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			//-- NPC: Is everything all right, my dear? You're not one to forget important things.
			string_id message = new string_id (c_stringFile, "s_224");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be off at once, milady. My apologies.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Of course. I just have a lot of important things to do!
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_226");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is everything all right, my dear? You're not one to forget important things.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be off at once, milady. My apologies.
	if (response == "s_226")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: No worries sweetie but please hurry, that Imperial fleet is getting closer every day.
			string_id message = new string_id (c_stringFile, "s_71a5deee");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course. I just have a lot of important things to do!
	if (response == "s_229")
	{
		doAnimationAction (player, "slow_down");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I understand, %NU. But hurry! That Imperial fleet is getting closer every day.
			string_id message = new string_id (c_stringFile, "s_9c5793bd");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hurry %NU. Get back up there! We can still keep the freighter from reaching the outpost!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't do it. He's too heavily guarded.
	if (response == "s_1d85385d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Nonsense! There's nothing you can't do, dear. I've seen you overcome the impossible before. Come back when you are ready!
			string_id message = new string_id (c_stringFile, "s_c13b1925");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will give it another try!
	if (response == "s_6e943bb6")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_excited");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Good. I knew you would. Show them what you're made of %NU!
			string_id message = new string_id (c_stringFile, "s_11ba5f1a");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have some bad news, dear. It appears this was not the heart of the Imperial fleet at all. They received a diversion order to another system. We are tracking it down right now. This part of the fleet just didn't get the order in time and decided to try and make it to the Imperial outpost instead.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So all that for nothing?
	if (response == "s_dcec6e65")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "nod_head_once");

			lok_rebel_trainer_2_action_giveRewardMission4 (player, npc);

			//-- NPC: Not for nothing, dear. You still struck a blow against the Empire - and every little bit counts. We are trying to figure out where the rest of the fleet took off to now so be ready, we will need your help soon again.
			string_id message = new string_id (c_stringFile, "s_44170670");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright. So what do we do now?
	if (response == "s_4a44213c")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_giveRewardMission4 (player, npc);

			//-- NPC: We are trying to figure out where the rest of the fleet went. Stand by, we will need your help again. Fantastic job up there sweetie, as always.
			string_id message = new string_id (c_stringFile, "s_4af0c602");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you, dear. It saddens me, but I'm afraid you have been transferred to another member of the Alliance.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hope I won't be reporting to another woman.
	if (response == "s_a333c9dd")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "refuse_offer_affection");

			doAnimationAction (player, "offer_affection");

			//-- NPC: See? It's that charm I will miss so much. You are to meet with Lieutenant Colonel Aqzow on Yavin. You can find him in the labor outpost on the moon Yavin 4. Don't be a stranger, %NU. I've really enjoyed our time together.
			string_id message = new string_id (c_stringFile, "s_a043fbc6");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will miss you, milady...
	if (response == "s_668e43a2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "weeping");

			//-- NPC: Not as much as I will miss you, sweetie. You are to report to Lieutenant Colonel Aqzow on Yavin. He can be found in the labor outpost on the moon Yavin 4. Please come back and see me now and then to let me know you are all right, %NU.
			string_id message = new string_id (c_stringFile, "s_fda95b05");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're too late, %NU. The Imperial fleet has arrived! Strangely enough, it doesn't seem that large though. Nevertheless, we need you up in space now, dear!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course. What is my mission?
	if (response == "s_66418240")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Imperial fleet seems to protect a Kuat driveyard freighter. It is on its way to the Imperial outpost station. You must make sure that it does not reach that station, %NU!
			string_id message = new string_id (c_stringFile, "s_75e5035c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can't right now. My ship took a beating. I have to fix it.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will do my best, milady.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_531fb93c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b2edf50");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 109);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just remembered something I have to do. See you around!
	if (response == "s_aa3d7ff6")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: But...
			string_id message = new string_id (c_stringFile, "s_a65cd6cc");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't act like it was my fault. I got here as fast as I could.
	if (response == "s_c100d375")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, I'm not blaming you, dear. I know you did your best. Now, about the Imperial fleet. It seems that they are protecting a Kuat freighter. It's on its way to the Imperial outpost station now. You have to prevent it from reaching its destination, %NU! I have taken the liberty of uploading intercept coordinates to your ship. If you don't find him there, search the nearby area and wait for him.
			string_id message = new string_id (c_stringFile, "s_933e5758");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No problem. See you soon.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well, I can't do that right now.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1358322c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b8cf1532");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 113);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Imperial fleet seems to protect a Kuat driveyard freighter. It is on its way to the Imperial outpost station. You must make sure that it does not reach that station, %NU!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't right now. My ship took a beating. I have to fix it.
	if (response == "s_531fb93c")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Hurry dear. That freighter is getting closer by the minute!
			string_id message = new string_id (c_stringFile, "s_b1cac9ab");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do my best, milady.
	if (response == "s_9b2edf50")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "accept_affection");

			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: I know you will, dear. I've taken the liberty of uploading intercept coordinates to your ship. If the freighter is not there when you arrive, search the nearby area and wait him out. He will surely pass through those coordinates. Be careful, %NU.
			string_id message = new string_id (c_stringFile, "s_b24f64b");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, I'm not blaming you, dear. I know you did your best. Now, about the Imperial fleet. It seems that they are protecting a Kuat freighter. It's on its way to the Imperial outpost station now. You have to prevent it from reaching its destination, %NU! I have taken the liberty of uploading intercept coordinates to your ship. If you don't find him there, search the nearby area and wait for him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No problem. See you soon.
	if (response == "s_1358322c")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: I hope so, sweetie. Good luck!
			string_id message = new string_id (c_stringFile, "s_c0422a2");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I can't do that right now.
	if (response == "s_b8cf1532")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			doAnimationAction (player, "slow_down");

			//-- NPC: We only have a short time left to intercept it, %NU. Please hurry back!
			string_id message = new string_id (c_stringFile, "s_b838d4b8");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Just who I wanted to see. Glad you are here, %NU. As you may have heard, we managed to get some information out of the kidnapped officer. We have spent the last few days executing many successful raids against the Imperial fleet, thanks to this information. We have also tracked down the person who set you up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is great news. Who was it?
	if (response == "s_5be79320")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We've narrowed it down to Vrak, the smuggler that set up the meeting with the hacker. After our successful attacks on the Imperial fleet, the Empire has rerouted their ships and we are curious what Vrak might know. Would you go have a chat with him, dear?
			string_id message = new string_id (c_stringFile, "s_2d07d661");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It would be my pleasure.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't right now - but I will be back soon.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80b2d7f9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d17c64f9");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hope you give him what he deserves. I will be back.
	if (response == "s_697b5183")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: We need your help with something, %NU, so hurry back, please.
			string_id message = new string_id (c_stringFile, "s_e4daa04e");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hope you flayed him and fed him to the Kimogilas!
	if (response == "s_cf884764")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: We haven't approached him yet. I figured you would like to talk to him yourself.
			string_id message = new string_id (c_stringFile, "s_5064a71e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do more than talk to him.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Err, I just remembered I have some things to do.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38f4aa90");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb3507f");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've narrowed it down to Vrak, the smuggler that set up the meeting with the hacker. After our successful attacks on the Imperial fleet, the Empire has rerouted their ships and we are curious what Vrak might know. Would you go have a chat with him, dear?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It would be my pleasure.
	if (response == "s_80b2d7f9")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler2 (player, npc);

			//-- NPC: Splendid, dear. He doesn't know we're onto him, so hopefully he will still be in the cantina in Tyrena.
			string_id message = new string_id (c_stringFile, "s_c532ad1c");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't right now - but I will be back soon.
	if (response == "s_d17c64f9")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Please hurry back, dear. We want to intercept the fleet before they reach the Lok system.
			string_id message = new string_id (c_stringFile, "s_a98b1cf0");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We haven't approached him yet. I figured you would like to talk to him yourself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do more than talk to him.
	if (response == "s_38f4aa90")
	{
		doAnimationAction (player, "slit_throat");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The thing is, though, since we have launched so many successful attacks on the Imperial fleet, they have rerouted their ships. We are hoping that this smuggler knows something useful, so that we can intercept their fleet before it reaches Lok.
			string_id message = new string_id (c_stringFile, "s_fdc272e0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If he knows anything, I will get it out of him.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dce7fb");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Err, I just remembered I have some things to do.
	if (response == "s_cb3507f")
	{
		doAnimationAction (player, "nervous");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "wave1");

			//-- NPC: Okay... well, please hurry back, dear. We want to intercept this fleet before it reaches Lok.
			string_id message = new string_id (c_stringFile, "s_f4021854");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The thing is, though, since we have launched so many successful attacks on the Imperial fleet, they have rerouted their ships. We are hoping that this smuggler knows something useful, so that we can intercept their fleet before it reaches Lok.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If he knows anything, I will get it out of him.
	if (response == "s_dce7fb")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_goToSmuggler2 (player, npc);

			//-- NPC: Excellent, excellent. He doesn't know that we are onto him, so he should still be in the cantina in Tyrena. Good luck, dear.
			string_id message = new string_id (c_stringFile, "s_386d56a1");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch125 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fantastic job, %NU! You managed to get the data, even though the ship was already repaired. I'm very impressed. This little bonus doesn't begin to reflect what you did for us, but it's all I can give you at the moment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, milady. So what was the data?
	if (response == "s_db9d43d")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's heavily encrypted, so we are not sure, %NU. I will let you know as soon as I find out more.
			string_id message = new string_id (c_stringFile, "s_826d3c9d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: All right. What should I do in the meantime?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: All right. See you later, then.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ab7832d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6258192a");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 126);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No problem. Time to spend this bonus. See you around, lady!
	if (response == "s_6fad62ec")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "kiss_blow_kiss");

			//-- NPC: I sure hope so %NU. You are always sorely missed when you are not around.
			string_id message = new string_id (c_stringFile, "s_ad5cafda");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch126 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's heavily encrypted, so we are not sure, %NU. I will let you know as soon as I find out more.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All right. What should I do in the meantime?
	if (response == "s_6ab7832d")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, we do have some duties around Lok. We could use your invaluable assistance, %NU.
			string_id message = new string_id (c_stringFile, "s_6752d582");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What duties are available, milady?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Bah! Menial tasks like that are a waste of my time.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I can't right now, I'm afraid. I will be back, though.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e565e3d3");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_faf8066c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dc7c029d");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 127);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All right. See you later, then.
	if (response == "s_6258192a")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We have some more duties around Lok that could use some attention. But if you have something better to do...
			string_id message = new string_id (c_stringFile, "s_43fbe907");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I'll be back later.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Okay okay! What needs to be done?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b82774b");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d0b37ad2");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch127 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, we do have some duties around Lok. We could use your invaluable assistance, %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What duties are available, milady?
	if (response == "s_e565e3d3")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bah! Menial tasks like that are a waste of my time.
	if (response == "s_faf8066c")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's the little victories that will win us this war, dear.
			string_id message = new string_id (c_stringFile, "s_122e5dd7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine. What tasks are available right now?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have time now. I'll be back.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4212435c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_27101a28");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't right now, I'm afraid. I will be back, though.
	if (response == "s_dc7c029d")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Please do. Your presence is always appreciated, dear.
			string_id message = new string_id (c_stringFile, "s_fbef6556");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch128 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's the little victories that will win us this war, dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. What tasks are available right now?
	if (response == "s_4212435c")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have time now. I'll be back.
	if (response == "s_27101a28")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: See you soon, then.
			string_id message = new string_id (c_stringFile, "s_746fda15");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch131 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We have some more duties around Lok that could use some attention. But if you have something better to do...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'll be back later.
	if (response == "s_9b82774b")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Very well. Come back soon, %NU.
			string_id message = new string_id (c_stringFile, "s_f828b1ef");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay okay! What needs to be done?
	if (response == "s_d0b37ad2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I heard about your misfortune, dear. But don't fret; luck is with us. It appears the shuttle that slipped out of your grasp was a decoy. We have another opportunity.The enemy may be on his guard this time, so be careful %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I won't fail again!
	if (response == "s_9c24c239")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] Give mission 1 here. Disable mission.
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: I know you won't, my dear. I've uploaded the new location to your nav computer.Hurry!
			string_id message = new string_id (c_stringFile, "s_960afa57");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not going back up there again. It's suicide.
	if (response == "s_b862718f")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "nod_head_once");

			//-- NPC: I understand. I really think your skills are more than sufficient to pull this off though, %NU.
			string_id message = new string_id (c_stringFile, "s_6a43381d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think you overestimate me, milady.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I suppose you could be right. I will give it another shot.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c3e498de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79f026e1");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 136);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch136 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I understand. I really think your skills are more than sufficient to pull this off though, %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think you overestimate me, milady.
	if (response == "s_c3e498de")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: I don't agree. But maybe another opportunity will come your way, when you are feeling more confident. Don't stay away too long, dear.
			string_id message = new string_id (c_stringFile, "s_3769a087");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I suppose you could be right. I will give it another shot.
	if (response == "s_79f026e1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Excellent, I knew I could count on you %NU. I've uploaded the new coordinates to your nav computer. Hurry up there!
			string_id message = new string_id (c_stringFile, "s_cbd8ba35");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch139 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] This is to get mission 1
	//-- NPC: Good to see you again dear. You are just in time too, we have an opportunity we can't miss that require your superior skills.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What can I do to help, milady?
	if (response == "s_3a42c050")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, apparently an Imperial shuttle has broken down near the Trade Federation route. It might be carrying some valuable information, so we want you to hurry there before they complete their repair. Attach a spy droid. It will transfer the shuttle's data to your ship.
			string_id message = new string_id (c_stringFile, "s_c91bccf0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should I do if they have already repaired it?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Piece of cake.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d08d9709");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2683b4a");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can't these 'space pirates' do something by themselves?
	if (response == "s_65316548")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			//-- NPC: Well they do often have a bit too much to drink so I don't want to trust them with a sensitive operation like this, dear.
			string_id message = new string_id (c_stringFile, "s_f182a09c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's understandable. What do I need to do?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fc4b144b");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 145);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I hope this pays well. I am the best you've got, after all.
	if (response == "s_21e0c701")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed you are. Unfortunately, our budget is a bit limited, as you may have noticed. I'm sure you'll find the rewards sufficient though, in terms of excitement, if nothing else.
			string_id message = new string_id (c_stringFile, "s_ae5a02a8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If I wanted excitement I'd... Oh well, what do you need?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f1de2910");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 146);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, I can't right now. I'll be back.
	if (response == "s_e9c1932")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Hurry back, we only have this opportunity for a limited time and I would hate to be forced to use the second best pilot in the palace and not you.
			string_id message = new string_id (c_stringFile, "s_b3a90c9");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch140 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, apparently an Imperial shuttle has broken down near the Trade Federation route. It might be carrying some valuable information, so we want you to hurry there before they complete their repair. Attach a spy droid. It will transfer the shuttle's data to your ship.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What should I do if they have already repaired it?
	if (response == "s_d08d9709")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: If the ship is still in the vicinity, try to disable it and access its data.
			string_id message = new string_id (c_stringFile, "s_b9f9d416");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Consider it done.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This sounds a bit complicated. I need to do some preparation first.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_16d870fe");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_780265b8");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Piece of cake.
	if (response == "s_b2683b4a")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "kiss_blow_kiss");

			doAnimationAction (player, "embarrassed");

			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: I hope you are correct %NU and I hope you can beat their rescue team to the ship. I've taken the liberty to update your ships droid with the coordinates. Good luck!
			string_id message = new string_id (c_stringFile, "s_a3790fac");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch141 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If the ship is still in the vicinity, try to disable it and access its data.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Consider it done.
	if (response == "s_16d870fe")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "kiss_blow_kiss");

			doAnimationAction (player, "accept_affection");

			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Excellent %NU. Good luck and see you soon!
			string_id message = new string_id (c_stringFile, "s_507b9d02");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This sounds a bit complicated. I need to do some preparation first.
	if (response == "s_780265b8")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: All right. But do hurry, dear. It won't be there for long.
			string_id message = new string_id (c_stringFile, "s_2c95410e");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch145 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well they do often have a bit too much to drink so I don't want to trust them with a sensitive operation like this, dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's understandable. What do I need to do?
	if (response == "s_fc4b144b")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, apparently an Imperial shuttle has broken down near the Trade Federation route. It might be carrying some valuable information, so we want you to hurry there before they complete their repair. Attach a spy droid. It will transfer the shuttle's data to your ship.
			string_id message = new string_id (c_stringFile, "s_c91bccf0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should I do if they have already repaired it?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Piece of cake.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d08d9709");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2683b4a");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch146 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed you are. Unfortunately, our budget is a bit limited, as you may have noticed. I'm sure you'll find the rewards sufficient though, in terms of excitement, if nothing else.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If I wanted excitement I'd... Oh well, what do you need?
	if (response == "s_f1de2910")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, apparently an Imperial shuttle has broken down near the Trade Federation route. It might be carrying some valuable information, so we want you to hurry there before they complete their repair. Attach a spy droid. It will transfer the shuttle's data to your ship.
			string_id message = new string_id (c_stringFile, "s_c91bccf0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should I do if they have already repaired it?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Piece of cake.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d08d9709");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2683b4a");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch148 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ohh %NU, great to see you! One of Nym's pilots said he saw great skill in you and thought that you may be ready to learn some new tricks, if you would like to?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like some training, what can he teach me?
	if (response == "s_95cc4d4e")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyStarships02 (player, npc))
		{
			//-- NPC: He thought that you looked ready to learn about multi-role starships.
			string_id message = new string_id (c_stringFile, "s_511");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, definitely.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_516");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 149);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyWeapons02 (player, npc))
		{
			//-- NPC: He thought you ought to know more about intermediate Alliance starship ordinance.
			string_id message = new string_id (c_stringFile, "s_512");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, milady.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_520");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyProcedures02 (player, npc))
		{
			//-- NPC: He thought you could stand to learn some space combat techniques.
			string_id message = new string_id (c_stringFile, "s_513");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Correct.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_524");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 153);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: He thought you might want to know about reactor engineering algorithms.
			string_id message = new string_id (c_stringFile, "s_514");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Indeed.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_528");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 155);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What could these dregs possibly teach me?
	if (response == "s_2f0a6ba8")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			//-- NPC: Such confidence. How can I NOT like you? Even though your abilities indeed are extraordinary, one can never learn enough, my dear.
			string_id message = new string_id (c_stringFile, "s_eaf03b41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, what does this pilot think he can 'teach' me?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Bah, I want some more action. Any duties?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6e1c30a");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42b39212");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 157);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do I have to pay them for the training?
	if (response == "s_dede1eae")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			//-- NPC: No of course not silly, except maybe a drink in the cantina on some off duty night. Are you interested?
			string_id message = new string_id (c_stringFile, "s_b3a81c54");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't know about that drink but okay, what can this pilot teach me?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not right now, I want to get up there and earn some creds. Any duties?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ca7b758d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45bb907e");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 158);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't right now, milady. I will be back.
	if (response == "s_c1c28382")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right, sweetie. Don't be a stranger.
			string_id message = new string_id (c_stringFile, "s_9199b1bf");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch149 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He thought that you looked ready to learn about multi-role starships.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, definitely.
	if (response == "s_516")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			lok_rebel_trainer_2_action_buyStarships02 (player, npc);

			//-- NPC: Excellent choice. When you are ready, come back to me. We have much to do still.
			string_id message = new string_id (c_stringFile, "s_518");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch151 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He thought you ought to know more about intermediate Alliance starship ordinance.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, milady.
	if (response == "s_520")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			lok_rebel_trainer_2_action_buyWeapons02 (player, npc);

			//-- NPC: Excellent choice. When you are ready, come back to me. We have much to do still.
			string_id message = new string_id (c_stringFile, "s_522");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch153 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He thought you could stand to learn some space combat techniques.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Correct.
	if (response == "s_524")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			lok_rebel_trainer_2_action_buyProcedures02 (player, npc);

			//-- NPC: Excellent choice. When you are ready, come back to me. We have much to do still.
			string_id message = new string_id (c_stringFile, "s_526");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch155 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He thought you might want to know about reactor engineering algorithms.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Indeed.
	if (response == "s_528")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			lok_rebel_trainer_2_action_buyDroid02 (player, npc);

			//-- NPC: Excellent choice. When you are ready, come back to me. We have much to do still.
			string_id message = new string_id (c_stringFile, "s_530");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch157 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Such confidence. How can I NOT like you? Even though your abilities indeed are extraordinary, one can never learn enough, my dear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well, what does this pilot think he can 'teach' me?
	if (response == "s_a6e1c30a")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyStarships02 (player, npc))
		{
			//-- NPC: He thought that you looked ready to learn about multi-role starships.
			string_id message = new string_id (c_stringFile, "s_511");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, definitely.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_516");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 149);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyWeapons02 (player, npc))
		{
			//-- NPC: He thought you ought to know more about intermediate Alliance starship ordinance.
			string_id message = new string_id (c_stringFile, "s_512");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, milady.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_520");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyProcedures02 (player, npc))
		{
			//-- NPC: He thought you could stand to learn some space combat techniques.
			string_id message = new string_id (c_stringFile, "s_513");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Correct.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_524");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 153);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: He thought you might want to know about reactor engineering algorithms.
			string_id message = new string_id (c_stringFile, "s_514");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Indeed.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_528");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 155);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bah, I want some more action. Any duties?
	if (response == "s_42b39212")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch158 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No of course not silly, except maybe a drink in the cantina on some off duty night. Are you interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know about that drink but okay, what can this pilot teach me?
	if (response == "s_ca7b758d")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyStarships02 (player, npc))
		{
			//-- NPC: He thought that you looked ready to learn about multi-role starships.
			string_id message = new string_id (c_stringFile, "s_511");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, definitely.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_516");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 149);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyWeapons02 (player, npc))
		{
			//-- NPC: He thought you ought to know more about intermediate Alliance starship ordinance.
			string_id message = new string_id (c_stringFile, "s_512");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, milady.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_520");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition_canBuyProcedures02 (player, npc))
		{
			//-- NPC: He thought you could stand to learn some space combat techniques.
			string_id message = new string_id (c_stringFile, "s_513");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Correct.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_524");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 153);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: He thought you might want to know about reactor engineering algorithms.
			string_id message = new string_id (c_stringFile, "s_514");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Indeed.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_528");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 155);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now, I want to get up there and earn some creds. Any duties?
	if (response == "s_45bb907e")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch160 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hi, sweetie. Ready to help out with some duties?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, milady.
	if (response == "s_366")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now. I have to attend to a few things.
	if (response == "s_20b704e7")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right, sweetie. Don't take too long, though. We could really use your help.
			string_id message = new string_id (c_stringFile, "s_378");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure.
	if (response == "s_8be640b8")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that need an escort through Imperial areas and the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are voluntarily only and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_7577882");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 167);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_6b158a0e")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_e53c5017");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_165db597");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64b6ea44");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b6af2b98");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_816055e2");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_954c43bb");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ec5b15d1");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91156160");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 172);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch161 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Stealing some Corsair ships sounds like fun.
	if (response == "s_e02126d9")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Yes. It will give you the chance to try the pirate lifestyle for a day, sweetie. You will receive more information once you're up in space. Good luck dear!
			string_id message = new string_id (c_stringFile, "s_a0ee0d37");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
	if (response == "s_cd3e2b38")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Great! It's been a madhouse up there lately so be careful sweetie.
			string_id message = new string_id (c_stringFile, "s_8447c7d7");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've been itching to take down some TIE fighters.
	if (response == "s_1dfeca09")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Then I can help you scratch that itch, dear. Get up in orbit; you will get more information once you are there. Be careful out there, sweetie.
			string_id message = new string_id (c_stringFile, "s_ca434bbe");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have some quick things I need to fix first. I will be back.
	if (response == "s_cd1a5817")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: All right, sweetie. Don't take too long, though. We could really use your help.
			string_id message = new string_id (c_stringFile, "s_17653741");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch167 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that need an escort through Imperial areas and the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are voluntarily only and can be aborted at any time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Stealing some Corsair ships sounds like fun.
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Yeah it will give you the chance to try the Pirate lifestyle for a day sweetie. You will get more information up in space. Good luck dear!
			string_id message = new string_id (c_stringFile, "s_2af8de7c");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
	if (response == "s_385")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Great, it's been a madhouse up there lately so be careful sweetie.
			string_id message = new string_id (c_stringFile, "s_7977cca8");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've been itching to take down some TIE fighters.
	if (response == "s_388")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_titter");

			doAnimationAction (player, "goodbye");

			lok_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Then I have just the remedy dear. Proceed up to orbit and you will get more information. Be careful out there sweetie.
			string_id message = new string_id (c_stringFile, "s_596a74ca");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have some quick things I need to fix first. I will be back.
	if (response == "s_391")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow3");

			doAnimationAction (player, "goodbye");

			//-- NPC: Alright sweetie, don't take too long though, we could really use your help.
			string_id message = new string_id (c_stringFile, "s_14183b8e");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch172 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_165db597")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_8c839067");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_64b6ea44")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Escort mission in Dantooine sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_37e5c8bc");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_b6af2b98")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Recovery mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_e6569c04");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_816055e2")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Destroy mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_99210986");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_954c43bb")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_f3cbd30c");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_ec5b15d1")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_407");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_91156160")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_410");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch180 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings %TU. My name is Viopa. I function as the Alliance's go-between for the Rebellion and Lord Nym, the pirate who owns this palace. You have been sent here as a starship pilot to help us with some of the many tasks we undertake in the Lok System, am I right?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes milady, so I've been told.
	if (response == "s_65f334d5")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Excellent. I'm certain that I will enjoy getting to know you as we work together %NU. We have a few duties that could use your expertise my friend, are you ready to get started?
			string_id message = new string_id (c_stringFile, "s_e58d7043");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, milady. What do you have for me?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is the Alliance doing with Nym? Isn't he a pirate?
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7ac528cc");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9990d560");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 181);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No one told me I would work under a woman.
	if (response == "s_334b8b3a")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well life is just full of pleasant surprises like that. Now we have a lot of things for a skilled pilot to do. Are you ready to get started?
			string_id message = new string_id (c_stringFile, "s_438969d3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No. This whole operation seems fishy. Working with a pirate!
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll live with it. Let me show these goons how it's done.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f6927823");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1ec75f6d");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 185);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Working for Nym! This should finally give some decent creds.
	if (response == "s_8125c052")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You sound like you've spent too much time in the palace already, my friend. Though I can't deny that working here has certain... privileges. I'm sure you will fit right in. Now we have plenty of tasks for you. Ready to work?
			string_id message = new string_id (c_stringFile, "s_50dbe32c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do I get to keep the loot? I mean, I'm ready.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, I've heard that Nym is pretty greedy.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1df58e48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e2539e81");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 188);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, milady. You must have me mistaken for someone else.
	if (response == "s_9d418971")
	{
		doAnimationAction (player, "refuse_offer_affection");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Oh I'm so sorry. Enjoy your stay at Lord Nym's palace then.
			string_id message = new string_id (c_stringFile, "s_5c191b57");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_443")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_445");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_447");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_451");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_455");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_459");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_463");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 192);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch181 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. I'm certain that I will enjoy getting to know you as we work together %NU. We have a few duties that could use your expertise my friend, are you ready to get started?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, milady. What do you have for me?
	if (response == "s_7ac528cc")
	{
		doAnimationAction (player, "salute2");

		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the Alliance doing with Nym? Isn't he a pirate?
	if (response == "s_9990d560")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Some people may call him a pirate, and he doesn't exactly follow the laws of the Empire but neither do we, mm? In times like these, we need all the help we can get. Lord Nym is actually a nice person once you get to know him.
			string_id message = new string_id (c_stringFile, "s_129e1011");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I suppose. All right, you said you had some things for me to do?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well I won't stand for it, I'm going to ask to be reassigned.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97bbc2e4");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_db065042");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 182);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch182 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Some people may call him a pirate, and he doesn't exactly follow the laws of the Empire but neither do we, mm? In times like these, we need all the help we can get. Lord Nym is actually a nice person once you get to know him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I suppose. All right, you said you had some things for me to do?
	if (response == "s_97bbc2e4")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well I won't stand for it, I'm going to ask to be reassigned.
	if (response == "s_db065042")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I really think you are overreacting, my friend. This is war and Nym is good ally. His help is invaluable in the fight against the Empire.
			string_id message = new string_id (c_stringFile, "s_62fa8365");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm. Okay, I guess it's a necessity. What do you need me to do?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: He's no better than the Empire. I'm out of here!
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c103ad7e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c6f65083");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 183);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch183 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I really think you are overreacting, my friend. This is war and Nym is good ally. His help is invaluable in the fight against the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm. Okay, I guess it's a necessity. What do you need me to do?
	if (response == "s_c103ad7e")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He's no better than the Empire. I'm out of here!
	if (response == "s_c6f65083")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I did not think you were so close-minded, %TU. Hopefully you'll find a spot better suited for you somewhere else in the Rebellion. Farewell.
			string_id message = new string_id (c_stringFile, "s_bc44d715");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch185 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well life is just full of pleasant surprises like that. Now we have a lot of things for a skilled pilot to do. Are you ready to get started?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. This whole operation seems fishy. Working with a pirate!
	if (response == "s_f6927823")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's such a rude thing to say. Some people may call him a pirate, and he doesn't exactly follow the laws of the Empire but neither do we, mm? In times like these, we need all the help we can get. Lord Nym is actually a nice person once you get to know him.
			string_id message = new string_id (c_stringFile, "s_44dd253a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine. Let me show these goons how it's done.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: He's no better than the Empire. I'm out of here!
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d21eee5e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 186);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll live with it. Let me show these goons how it's done.
	if (response == "s_1ec75f6d")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch186 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's such a rude thing to say. Some people may call him a pirate, and he doesn't exactly follow the laws of the Empire but neither do we, mm? In times like these, we need all the help we can get. Lord Nym is actually a nice person once you get to know him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. Let me show these goons how it's done.
	if (response == "s_d21eee5e")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He's no better than the Empire. I'm out of here!
	if (response == "s_429")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We don't need that kind of ignorance in the Rebellion. I do hope you come to your senses.
			string_id message = new string_id (c_stringFile, "s_7348150");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch188 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You sound like you've spent too much time in the palace already, my friend. Though I can't deny that working here has certain... privileges. I'm sure you will fit right in. Now we have plenty of tasks for you. Ready to work?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do I get to keep the loot? I mean, I'm ready.
	if (response == "s_1df58e48")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, I've heard that Nym is pretty greedy.
	if (response == "s_e2539e81")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I thought you were a respected pilot of the Alliance, not a mercenary. Even so, I'm sure you would find the compensation adequate and the experience thrilling.
			string_id message = new string_id (c_stringFile, "s_bcff0c86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Any advance payment? Okay fine, what do you need done?
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think I'd be better off with gigs I know would pay well. See ya!
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_17e79a2c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98672851");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 189);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch189 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I thought you were a respected pilot of the Alliance, not a mercenary. Even so, I'm sure you would find the compensation adequate and the experience thrilling.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any advance payment? Okay fine, what do you need done?
	if (response == "s_17e79a2c")
	{
		lok_rebel_trainer_2_action_makeViopaPilot (player, npc);

		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Lord Nym has asked for our help in stealing some Corsair ships. We have some smugglers that require an escort through Imperial areas and we have the chance to strike a blow to the Empire by attacking some of their patrols. We want you to assist with these duties until you feel you have enough experience to proceed with training but they are strictly volunteer assignments and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_565951d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing some Corsair ships sounds like fun.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help some of our smugglers sneak by the Empire.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I've been itching to take down some TIE fighters.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have some quick things I need to fix first. I will be back.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e02126d9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd3e2b38");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1dfeca09");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd1a5817");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 161);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I'd be better off with gigs I know would pay well. See ya!
	if (response == "s_98672851")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			doAnimationAction (player, "goodbye");

			//-- NPC: Sad indeed, I had high hopes for you %TU. Good luck in your adventures, maybe I'll see you some day again.
			string_id message = new string_id (c_stringFile, "s_b0d973e8");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch192 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_447")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_449");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_451")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Escort mission in Dantooine sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_453");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_455")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Recovery mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_457");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_459")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Destroy mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_461");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_463")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_465");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_467")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_469");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_471")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_473");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch200 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you one of Lord Nym's employees?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_476")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_484");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_488");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_492");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_496");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_500");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 201);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_d70dba34")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm sure you have important things to attend to, then. Sorry to interrupt you.
			string_id message = new string_id (c_stringFile, "s_b02ee4b4");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_4c695dbd")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then you should probably not be here.
			string_id message = new string_id (c_stringFile, "s_b125bfdc");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int lok_rebel_trainer_2_handleBranch201 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_480")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_484")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Escort mission in Dantooine sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_486");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_488")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Recovery mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_490");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_492")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Destroy mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_494");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_496")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_498");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_500")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_502");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_504")
	{
		//-- [NOTE] 
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			lok_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_506");
			utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.lok_rebel_trainer_2");

	setCondition (self, CONDITION_CONVERSABLE);
	setName (self, "Lady Viopa");
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_REBEL );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setName (self, "Lady Viopa");
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_REBEL );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);
	
	faceTo( self, player );	

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.lok_rebel_trainer_2");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!lok_rebel_trainer_2_condition_isPilot (player, npc))
	{
		//-- NPC: I don't know what you're doing here, but I'm certain that you shouldn't be talking to me.
		string_id message = new string_id (c_stringFile, "s_14fcd38b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isImperial (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Does Lord Nym know that you are in here?
		string_id message = new string_id (c_stringFile, "s_ab3a1cf4");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isNeutralPilot (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Are you one of Nym's employees?
		string_id message = new string_id (c_stringFile, "s_422f9bfa");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isOnMission (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I like this palace too, %NU, but your services are urgently required elsewhere. Get out there and show them why you are my favorite pilot.
		string_id message = new string_id (c_stringFile, "s_2baec20");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "cover_mouth");

		//-- NPC: My dear, you are in big trouble.
		string_id message = new string_id (c_stringFile, "s_4104f818");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What happened?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e00ac98e");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 5);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isOnAnotherMission (player, npc))
	{
		//-- NPC: I don't mean to overstep my bounds, but I believe that you have obligations elsewhere. Finish up, and then we can talk.
		string_id message = new string_id (c_stringFile, "s_d356f8d");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!lok_rebel_trainer_2_condition_onMyTrack (player, npc))
	{
		//-- NPC: What are you doing here? I heard that you were working for a different part of the Alliance Navy.
		string_id message = new string_id (c_stringFile, "s_148ee1c2");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Do you have any missions I could fly?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1583743c");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 10);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isRebelNonMember (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: What are you doing here, %TU? I heard you were working for a different part of the Alliance Navy. It's a shame, I could have used a skilled pilot like you.
		string_id message = new string_id (c_stringFile, "s_b3a02be2");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_talkedSmuggler (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Greetings %NU. Did you meet up with the smuggler?
		string_id message = new string_id (c_stringFile, "s_12b3896");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes milady, it seems he can assist us.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sure did. He was a weird fellow.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_14310e04");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3892fde6");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 15);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_notTalkedSmuggler (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Greetings %NU. Did you meet with the smuggler?
		string_id message = new string_id (c_stringFile, "s_d0299d36");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No. Something came up. I can't right now.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I knew there was something I forgot!
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3e4a658");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3209cb6f");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 44);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasFailedMission2 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Glad to have you back in one piece, %NU. We received word from the hacker. He's sent coordinates for a new rendezvous.
		string_id message = new string_id (c_stringFile, "s_3406294f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Good. I want another chance at this.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Fine, I'll give it another chance.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I have to fix my ship first. I will be back as soon as I can.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_137a1cc5");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_809dbad9");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ef962200");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 55);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasWonMission2 (player, npc))
	{
		doAnimationAction (npc, "offer_affection");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I was so worried when I heard about the attacks on you, %NU! We suspect that someone told the Empire about your rendezvous. We are trying to figure out who the traitor is now. Anyway, I'm so glad to have you back in one piece.
		string_id message = new string_id (c_stringFile, "s_a3c6ae82");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, milady. It was close, but the hacker came through for us.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Piece of cake. There was the matter of payment. I believe?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4bf53cea");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1d34c320");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 59);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_readyForMission2 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Ohh good to see you, %NU, I need your help. The data you retrieved earlier has proven impossible to decipher. Fortunately, Nym knows of a smuggler that specializes in these kind of predicaments.
		string_id message = new string_id (c_stringFile, "s_b2335add");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Alright, what do you need help with, milady?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sounds great. This interests me why?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Oh I was just passing by. I can't help right now.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_95a207fe");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_eb569089");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_38aeb877");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 62);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasFailedMission3 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Welcome back dear. I heard what happened. The good news is that we have a second chance.The officer's shuttle seems to have malfunctioned. It's slowed him down considerably.
		string_id message = new string_id (c_stringFile, "s_e57d94c7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Good. I won't let him slip away this time!
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I have to repair my ship.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_307dbfe0");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6e92867a");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 72);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasWonMission3 (player, npc))
	{
		doAnimationAction (npc, "kiss_blow_kiss");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: A splendid performance as always, my dear %NU. Our intelligence department is interrogating the officer now. Hopefully we will find out soon what's going on. You should get some rest in the meantime.
		string_id message = new string_id (c_stringFile, "s_9417b6d9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, milady. I will be back soon.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't think I need it, milady. Is there anything I can do?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ce671a71");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_27a9d3e4");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 75);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_readyForMission3 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Welcome back, sweetie. The intelligence department has finished analyzing the encrypted data. It's still a bit vague.
		string_id message = new string_id (c_stringFile, "s_e942aa77");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I was just stopping by to say hi; I have to get going.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What did they figure out?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c8c2d2ea");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c6b08612");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 79);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_notTalkedSmuggler2 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: There you are, %NU. Did you find Vrak?
		string_id message = new string_id (c_stringFile, "s_64370a0d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, something came up. I can't right now.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I knew there was something I forgot!
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e4b3375d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_222");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 94);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasFailedMission4 (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		doAnimationAction (player, "embarrassed");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Hurry %NU. Get back up there! We can still keep the freighter from reaching the outpost!
		string_id message = new string_id (c_stringFile, "s_bbed8565");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I can't do it. He's too heavily guarded.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I will give it another try!
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1d85385d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6e943bb6");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 99);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasWonMission4 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I have some bad news, dear. It appears this was not the heart of the Imperial fleet at all. They received a diversion order to another system. We are tracking it down right now. This part of the fleet just didn't get the order in time and decided to try and make it to the Imperial outpost instead.
		string_id message = new string_id (c_stringFile, "s_662d6c41");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: So all that for nothing?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Alright. So what do we do now?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dcec6e65");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4a44213c");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 102);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_readyForTier3 (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "bow3");

		//-- NPC: Good to see you, dear. It saddens me, but I'm afraid you have been transferred to another member of the Alliance.
		string_id message = new string_id (c_stringFile, "s_5884fe0d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I hope I won't be reporting to another woman.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I will miss you, milady...
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a333c9dd");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_668e43a2");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 105);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_talkedSmuggler2 (player, npc))
	{
		doAnimationAction (npc, "nervous");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: You're too late, %NU. The Imperial fleet has arrived! Strangely enough, it doesn't seem that large though. Nevertheless, we need you up in space now, dear!
		string_id message = new string_id (c_stringFile, "s_506ee957");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course. What is my mission?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I just remembered something I have to do. See you around!
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Don't act like it was my fault. I got here as fast as I could.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_66418240");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_aa3d7ff6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c100d375");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 108);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_readyForMission4 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Just who I wanted to see. Glad you are here, %NU. As you may have heard, we managed to get some information out of the kidnapped officer. We have spent the last few days executing many successful raids against the Imperial fleet, thanks to this information. We have also tracked down the person who set you up.
		string_id message = new string_id (c_stringFile, "s_106f742d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: That is great news. Who was it?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I hope you give him what he deserves. I will be back.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I hope you flayed him and fed him to the Kimogilas!
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5be79320");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_697b5183");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cf884764");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 116);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasWonMission1 (player, npc))
	{
		doAnimationAction (npc, "celebrate");

		doAnimationAction (player, "wave1");

		lok_rebel_trainer_2_action_giveRewardMission1 (player, npc);

		//-- NPC: Fantastic job, %NU! You managed to get the data, even though the ship was already repaired. I'm very impressed. This little bonus doesn't begin to reflect what you did for us, but it's all I can give you at the moment.
		string_id message = new string_id (c_stringFile, "s_61e761a4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, milady. So what was the data?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No problem. Time to spend this bonus. See you around, lady!
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_db9d43d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6fad62ec");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 125);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_hasFailedMission1 (player, npc))
	{
		doAnimationAction (npc, "offer_affection");

		doAnimationAction (player, "embarrassed");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I heard about your misfortune, dear. But don't fret; luck is with us. It appears the shuttle that slipped out of your grasp was a decoy. We have another opportunity.The enemy may be on his guard this time, so be careful %NU.
		string_id message = new string_id (c_stringFile, "s_1cb5d5fd");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I won't fail again!
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm not going back up there again. It's suicide.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9c24c239");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b862718f");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 134);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] This is to get mission 1
	if (lok_rebel_trainer_2_condition_readyForMission1 (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "wave1");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Good to see you again dear. You are just in time too, we have an opportunity we can't miss that require your superior skills.
		string_id message = new string_id (c_stringFile, "s_e8a92b79");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What can I do to help, milady?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Can't these 'space pirates' do something by themselves?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I hope this pays well. I am the best you've got, after all.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm sorry, I can't right now. I'll be back.
		boolean hasResponse3 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3a42c050");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65316548");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_21e0c701");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e9c1932");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 139);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_canBuySkill (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Ohh %NU, great to see you! One of Nym's pilots said he saw great skill in you and thought that you may be ready to learn some new tricks, if you would like to?
		string_id message = new string_id (c_stringFile, "s_53e43cdb");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I would like some training, what can he teach me?
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What could these dregs possibly teach me?
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Do I have to pay them for the training?
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I can't right now, milady. I will be back.
		boolean hasResponse3 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_95cc4d4e");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2f0a6ba8");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dede1eae");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c1c28382");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 148);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_readyForDuty (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "greet");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Hi, sweetie. Ready to help out with some duties?
		string_id message = new string_id (c_stringFile, "s_5aa92dc4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, milady.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not right now. I have to attend to a few things.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Sure.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm a Developer/Tester and want missions.
		boolean hasResponse3 = false;
		if (lok_rebel_trainer_2_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_366");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_20b704e7");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8be640b8");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6b158a0e");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 160);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition_isCorrectRebelPilot (player, npc))
	{
		doAnimationAction (npc, "bow3");

		doAnimationAction (player, "wave1");

		lok_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Greetings %TU. My name is Viopa. I function as the Alliance's go-between for the Rebellion and Lord Nym, the pirate who owns this palace. You have been sent here as a starship pilot to help us with some of the many tasks we undertake in the Lok System, am I right?
		string_id message = new string_id (c_stringFile, "s_15250124");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes milady, so I've been told.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No one told me I would work under a woman.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Working for Nym! This should finally give some decent creds.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm sorry, milady. You must have me mistaken for someone else.
		boolean hasResponse3 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I'm a Developer/Tester and want missions.
		boolean hasResponse4 = false;
		if (lok_rebel_trainer_2_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65f334d5");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_334b8b3a");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8125c052");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9d418971");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_443");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 180);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
	{
		//-- NPC: Are you one of Lord Nym's employees?
		string_id message = new string_id (c_stringFile, "s_14123c8b");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm a Developer/Tester and want missions.
		boolean hasResponse0 = false;
		if (lok_rebel_trainer_2_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yes.
		boolean hasResponse1 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: No.
		boolean hasResponse2 = false;
		if (lok_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_476");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d70dba34");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4c695dbd");

			utils.setScriptVar (player, "conversation.lok_rebel_trainer_2.branchId", 200);

			npcStartConversation (player, npc, "lok_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "lok_rebel_trainer_2")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

	if (branchId == 5 && lok_rebel_trainer_2_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && lok_rebel_trainer_2_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && lok_rebel_trainer_2_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && lok_rebel_trainer_2_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && lok_rebel_trainer_2_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && lok_rebel_trainer_2_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && lok_rebel_trainer_2_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && lok_rebel_trainer_2_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && lok_rebel_trainer_2_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && lok_rebel_trainer_2_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && lok_rebel_trainer_2_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && lok_rebel_trainer_2_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && lok_rebel_trainer_2_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && lok_rebel_trainer_2_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && lok_rebel_trainer_2_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && lok_rebel_trainer_2_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && lok_rebel_trainer_2_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && lok_rebel_trainer_2_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && lok_rebel_trainer_2_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && lok_rebel_trainer_2_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && lok_rebel_trainer_2_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && lok_rebel_trainer_2_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && lok_rebel_trainer_2_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && lok_rebel_trainer_2_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && lok_rebel_trainer_2_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && lok_rebel_trainer_2_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && lok_rebel_trainer_2_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && lok_rebel_trainer_2_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && lok_rebel_trainer_2_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && lok_rebel_trainer_2_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && lok_rebel_trainer_2_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && lok_rebel_trainer_2_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && lok_rebel_trainer_2_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && lok_rebel_trainer_2_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && lok_rebel_trainer_2_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && lok_rebel_trainer_2_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && lok_rebel_trainer_2_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && lok_rebel_trainer_2_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && lok_rebel_trainer_2_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && lok_rebel_trainer_2_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && lok_rebel_trainer_2_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && lok_rebel_trainer_2_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && lok_rebel_trainer_2_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && lok_rebel_trainer_2_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && lok_rebel_trainer_2_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && lok_rebel_trainer_2_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && lok_rebel_trainer_2_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && lok_rebel_trainer_2_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && lok_rebel_trainer_2_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && lok_rebel_trainer_2_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && lok_rebel_trainer_2_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && lok_rebel_trainer_2_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && lok_rebel_trainer_2_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && lok_rebel_trainer_2_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && lok_rebel_trainer_2_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 125 && lok_rebel_trainer_2_handleBranch125 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 126 && lok_rebel_trainer_2_handleBranch126 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 127 && lok_rebel_trainer_2_handleBranch127 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 128 && lok_rebel_trainer_2_handleBranch128 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 131 && lok_rebel_trainer_2_handleBranch131 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && lok_rebel_trainer_2_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 136 && lok_rebel_trainer_2_handleBranch136 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 139 && lok_rebel_trainer_2_handleBranch139 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 140 && lok_rebel_trainer_2_handleBranch140 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 141 && lok_rebel_trainer_2_handleBranch141 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 145 && lok_rebel_trainer_2_handleBranch145 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 146 && lok_rebel_trainer_2_handleBranch146 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 148 && lok_rebel_trainer_2_handleBranch148 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 149 && lok_rebel_trainer_2_handleBranch149 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 151 && lok_rebel_trainer_2_handleBranch151 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 153 && lok_rebel_trainer_2_handleBranch153 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 155 && lok_rebel_trainer_2_handleBranch155 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 157 && lok_rebel_trainer_2_handleBranch157 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 158 && lok_rebel_trainer_2_handleBranch158 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 160 && lok_rebel_trainer_2_handleBranch160 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 161 && lok_rebel_trainer_2_handleBranch161 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 167 && lok_rebel_trainer_2_handleBranch167 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 172 && lok_rebel_trainer_2_handleBranch172 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 180 && lok_rebel_trainer_2_handleBranch180 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 181 && lok_rebel_trainer_2_handleBranch181 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 182 && lok_rebel_trainer_2_handleBranch182 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 183 && lok_rebel_trainer_2_handleBranch183 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 185 && lok_rebel_trainer_2_handleBranch185 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 186 && lok_rebel_trainer_2_handleBranch186 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 188 && lok_rebel_trainer_2_handleBranch188 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 189 && lok_rebel_trainer_2_handleBranch189 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 192 && lok_rebel_trainer_2_handleBranch192 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 200 && lok_rebel_trainer_2_handleBranch200 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 201 && lok_rebel_trainer_2_handleBranch201 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.lok_rebel_trainer_2.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

