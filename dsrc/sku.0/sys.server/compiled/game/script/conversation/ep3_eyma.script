// ======================================================================
//
// ep3_eyma.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.space_combat;
include library.space_content;
include library.space_crafting;
include library.space_flags;
include library.space_quest;
include library.space_transition;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_eyma";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_eyma_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWon_assassinate_DEALER (obj_id player, obj_id npc)
{
	// Has the player won any of the three missions he can take at this point?
	return ( space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_neutral") ||
			space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_rebel") ||
			space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_imperial"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_aboutToBe_ambushed (obj_id player, obj_id npc)
{

	if (space_quest.hasQuest(player, "destroy_surpriseattack", "ep3_kash_station_ghrag_ambush") ||
		space_quest.hasQuest(player, "destroy_surpriseattack", "ep3_kash_station_ghrag_ambush_strong"))
			return true;

	return 	false;
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isOn_CONTACT_EYMA_00 (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_kash_station_contact_eyma_00"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isOn_RESCUE_ALPHA (obj_id player, obj_id npc)
{
	return (space_quest.hasQuest(player, "rescue", "ep3_kash_station_rescue_alpha"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWonQuest_01 (obj_id player, obj_id npc)
{
	// Has finished the first escort but not the second...
	return ( space_quest.hasWonQuest( player, "escort", "ep3_kash_station_escort_alpha"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWonQuest_02 (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest( player, "escort", "ep3_kash_station_escort_bravo") );
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWon_rescue_alpha (obj_id player, obj_id npc)
{
	return (space_quest.hasWonQuest(player, "rescue", "ep3_kash_station_rescue_alpha"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isOn_escort_GHRAG (obj_id player, obj_id npc)
{
	return 	space_quest.hasQuest(player, "escort", "ep3_kash_station_escort_ghrag");
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasBeeen_REWARDED_FINAL (obj_id player, obj_id npc)
{
	return ( space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_neutral") ||
			space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_rebel") ||
			space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_imperial"));

}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_aboutToBe_rewarded_REB (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_rebel") &&
			!space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_rebel"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_aboutToBe_rewarded_IMP (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_imperial") &&
			!space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_imperial"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_aboutToBe_rewarded_NEU (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest(player, "assassinate", "ep3_kash_station_assassinate_neutral") &&
			!space_quest.hasReceivedReward(player, "assassinate", "ep3_kash_station_assassinate_neutral"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_aboutToBe_rewarded_escort_GHRAG (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest(player, "escort", "ep3_kash_station_escort_ghrag") &&
			!space_quest.hasReceivedReward(player, "escort", "ep3_kash_station_escort_ghrag"));

}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasFailed_rescue_alpha (obj_id player, obj_id npc)
{
	return (space_quest.hasFailedQuest(player, "rescue", "ep3_kash_station_rescue_alpha") ||
			space_quest.hasAbortedQuest(player, "rescue", "ep3_kash_station_rescue_alpha"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasFailed_escort_ghrag (obj_id player, obj_id npc)
{
	return 	(space_quest.hasFailedQuest(player, "escort", "ep3_kash_station_escort_ghrag") ||
			space_quest.hasAbortedQuest(player, "escort", "ep3_kash_station_escort_ghrag"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasFailed_assassinate_DEALER (obj_id player, obj_id npc)
{
	return ( space_quest.hasFailedQuest(player, "assassinate", "ep3_kash_station_assassinate_neutral") ||
			 space_quest.hasAbortedQuest(player, "assassinate", "ep3_kash_station_assassinate_neutral") ||
			space_quest.hasFailedQuest(player, "assassinate", "ep3_kash_station_assassinate_rebel") ||
			space_quest.hasAbortedQuest(player, "assassinate", "ep3_kash_station_assassinate_rebel") ||
			space_quest.hasFailedQuest(player, "assassinate", "ep3_kash_station_assassinate_imperial") ||
			space_quest.hasAbortedQuest(player, "assassinate", "ep3_kash_station_assassinate_imperial"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isOn_CONTACT_EYMA_01 (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_kash_station_contact_eyma_01"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWon_groundquest_01 (obj_id player, obj_id npc)
{
	// ADD ... and not completed the space quest to escort the dude...
	return (groundquests.hasCompletedQuest(player, "ep3_kash_station_contact_eyma_01"));
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_hasWon_escort_GHRAG (obj_id player, obj_id npc)
{
	return 	space_quest.hasWonQuest(player, "escort", "ep3_kash_station_escort_ghrag");
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isRebelPilot (obj_id player, obj_id npc)
{
	int playerFactionID = pvpGetAlignedFaction(player);
	if ( playerFactionID == ##"rebel" )
		return true;
	else
		return ( hasSkill( player, "pilot_rebel_navy_novice" ) );
}

// ----------------------------------------------------------------------

boolean ep3_eyma_condition_isImperialPilot (obj_id player, obj_id npc)
{
	int playerFactionID = pvpGetAlignedFaction(player);
	if ( playerFactionID == ##"imperial" )
		return true;
	else
		return ( hasSkill( player, "pilot_imperial_navy_novice" ));
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_eyma_action_giveQuest_assassinate_DEALER (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "assassinate", "ep3_kash_station_assassinate_neutral");
}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveQuest_assassinate_DEALER_reb (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "assassinate", "ep3_kash_station_assassinate_rebel");
}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveQuest_assassinate_DEALER_imp (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "assassinate", "ep3_kash_station_assassinate_imperial");
}

// ----------------------------------------------------------------------

void ep3_eyma_action_sendSignal_00 (obj_id player, obj_id npc)
{

	// This sends the signal to mark the ground quest complete
	groundquests.sendSignal(player, "contact00");
	// Since you agreed to help, this action also attaches the first RESCUE story mission...
	space_quest.grantQuest(player, "rescue", "ep3_kash_station_rescue_alpha");	
}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveReward_assassinate_REB (obj_id player, obj_id npc)
{
	// Reward the REBEL pilot
	space_quest.giveReward( player, "assassinate", "ep3_kash_station_assassinate_rebel", 25000, "object/tangible/ship/components/weapon/wpn_ionic_pulse_weapon.iff" );

}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveReward_assassinate_IMP (obj_id player, obj_id npc)
{
	// Reward the IMPERIAL pilot
	space_quest.giveReward( player, "assassinate", "ep3_kash_station_assassinate_imperial", 25000, "object/tangible/ship/components/weapon/wpn_ionic_pulse_weapon.iff" );

}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveReward_assassinate_NEU (obj_id player, obj_id npc)
{
	// Reward the NEUTRAL pilot
	space_quest.giveReward( player, "assassinate", "ep3_kash_station_assassinate_neutral", 25000, "object/tangible/ship/components/weapon/wpn_ionic_pulse_weapon.iff" );

}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveReward_escort_GHRAG (obj_id player, obj_id npc)
{
	// Reward the player for escorting the GHRAG turncoat
	space_quest.giveReward( player, "escort", "ep3_kash_station_escort_ghrag", 15000, "object/tangible/ship/components/booster/bst_nova_breaker.iff" );
}

// ----------------------------------------------------------------------

void ep3_eyma_action_sendSignal_01_STRONG (obj_id player, obj_id npc)
{
	// This sends the signal to mark the ground quest complete
	groundquests.sendSignal(player, "contact01");
	// And, since you down-played the Ghrag threat, this also attaches a higher-level destroy_surpriseattack
	space_quest.grantQuest(player, "destroy_surpriseattack", "ep3_kash_station_ghrag_ambush_strong");	
}

// ----------------------------------------------------------------------

void ep3_eyma_action_sendSignal_01 (obj_id player, obj_id npc)
{
	// This sends the signal to mark the ground quest complete
	groundquests.sendSignal(player, "contact01");
	// This also attaches an invisible destroy_surpriseattack quest
	space_quest.grantQuest(player, "destroy_surpriseattack", "ep3_kash_station_ghrag_ambush");	
}

// ----------------------------------------------------------------------

void ep3_eyma_action_clearGroundQuest_01 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_kash_station_contact_eyma_01");
}

// ----------------------------------------------------------------------

void ep3_eyma_action_giveQuest_escort_Ghrag (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "escort", "ep3_kash_station_escort_ghrag");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_eyma_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you again, %TU! It's been quite an interesting time, has it not?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got anything for me?
	if (response == "s_211")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveReward_assassinate_REB (player, npc);

			//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got anything for me?
	if (response == "s_219")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveReward_assassinate_IMP (player, npc);

			//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?
			string_id message = new string_id (c_stringFile, "s_221");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_223");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got anything for me?
	if (response == "s_227")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveReward_assassinate_NEU (player, npc);

			//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?
			string_id message = new string_id (c_stringFile, "s_229");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_231");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything else you need me to do?
	if (response == "s_311")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition_isRebelPilot (player, npc))
		{
			//-- NPC: I have been contacted by your superiors at the Rebel outpost. Do you know what I mean? They have heard of your exploits and would like to offer more missions.
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't know what you mean.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition_isImperialPilot (player, npc))
		{
			//-- NPC: The commander of the Imperial space station has requested your presence. I'm not exactly sure how they knew you were helping out the CPG... but it seems they are quite impressed with your abilities. Due to saving their space station from Ghrag mercenaries, no doubt!
			string_id message = new string_id (c_stringFile, "s_319");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Farewell.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_321");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not at the moment. I have authorized Rian Ry to provide you with another sort of contract. Something that the CPG reserves only for its most trusted pilots. You should talk to her about it!
			string_id message = new string_id (c_stringFile, "s_325");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of contract?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Is that all?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_331");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Farewell, %TU.
			string_id message = new string_id (c_stringFile, "s_217");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_223")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Farewell, %TU.
			string_id message = new string_id (c_stringFile, "s_225");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now that you mention it... yes! Apparently the Ghrag were also planning to buy a starship blaster prototype from the weapons dealer you disintegrated. Perhaps you would like to have it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_231")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Farewell, %TU.
			string_id message = new string_id (c_stringFile, "s_234");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have been contacted by your superiors at the Rebel outpost. Do you know what I mean? They have heard of your exploits and would like to offer more missions.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know what you mean.
	if (response == "s_315")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Of course you don't.
			string_id message = new string_id (c_stringFile, "s_317");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The commander of the Imperial space station has requested your presence. I'm not exactly sure how they knew you were helping out the CPG... but it seems they are quite impressed with your abilities. Due to saving their space station from Ghrag mercenaries, no doubt!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Farewell.
	if (response == "s_321")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow2");

			//-- NPC: And you the same, %TU.
			string_id message = new string_id (c_stringFile, "s_323");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not at the moment. I have authorized Rian Ry to provide you with another sort of contract. Something that the CPG reserves only for its most trusted pilots. You should talk to her about it!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good.
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Farewell %TU!
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of contract?
	if (response == "s_331")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, the Ghrag are bereft of leadership and have lost their focus... thanks to you! However, there are still many independent mercenaries of the Ghrag clan lurking in the Kashyyyk system. We would like for you to eliminate them as you see fit.
			string_id message = new string_id (c_stringFile, "s_333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I like that.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_335");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_339");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is that all?
	if (response == "s_252")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Now that you ask, you may be interested in speaking with a CPG Veteran that patrols the Kashyyyk space station. There is talk of tracking down remaining Ghrag mercenaries by slicing their communication system.
			string_id message = new string_id (c_stringFile, "s_254");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I find this veteran?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_256");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, the Ghrag are bereft of leadership and have lost their focus... thanks to you! However, there are still many independent mercenaries of the Ghrag clan lurking in the Kashyyyk system. We would like for you to eliminate them as you see fit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I like that.
	if (response == "s_335")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Capital! Please speak with Rian at the space station and she will make sure the paperwork is in order.
			string_id message = new string_id (c_stringFile, "s_337");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested.
	if (response == "s_339")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh! My apologies then, %TU. You don't have to take any of these contracts. If you prefer, Rian Ry is still authorized to give you protection duties. You're quite good at protecting the civilian interests here in Kashyyyk.
			string_id message = new string_id (c_stringFile, "s_341");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_343");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 16);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh! My apologies then, %TU. You don't have to take any of these contracts. If you prefer, Rian Ry is still authorized to give you protection duties. You're quite good at protecting the civilian interests here in Kashyyyk.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_343")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good bye, %TU!
			string_id message = new string_id (c_stringFile, "s_345");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now that you ask, you may be interested in speaking with a CPG Veteran that patrols the Kashyyyk space station. There is talk of tracking down remaining Ghrag mercenaries by slicing their communication system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I find this veteran?
	if (response == "s_256")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rian likes to keep at least one heavy fighter orbiting her space station at all times. Most CPG Veterans favor the YT-1300-style chassis, so look for one of those flying a patrol pattern around the station.
			string_id message = new string_id (c_stringFile, "s_258");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_260");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rian likes to keep at least one heavy fighter orbiting her space station at all times. Most CPG Veterans favor the YT-1300-style chassis, so look for one of those flying a patrol pattern around the station.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_260")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Take care and good luck!
			string_id message = new string_id (c_stringFile, "s_262");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah! I have something for you, %TU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it?
	if (response == "s_354")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveReward_escort_GHRAG (player, npc);

			//-- NPC: It's a Nova Breaker 792-W starship booster! We received it as a gift from the Ghrag that you safely escorted out of this system. I feel that you should have it.
			string_id message = new string_id (c_stringFile, "s_358");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_360");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's a Nova Breaker 792-W starship booster! We received it as a gift from the Ghrag that you safely escorted out of this system. I feel that you should have it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_360")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Don't mention it. Try it out if you wish. Come back and let me know when you're available again.
			string_id message = new string_id (c_stringFile, "s_362");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: %TU! It is imperative that you locate and eliminate that weapons broker! Let's start from the beginning and stay focused this time!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. Let's go again.
	if (response == "s_422")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition_isImperialPilot (player, npc))
		{
			//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy the Imperial Space station in Kashyyyk space.
			string_id message = new string_id (c_stringFile, "s_297");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_353");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition_isRebelPilot (player, npc))
		{
			//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy a Rebel Outpost somewhere here in Kashyyyk. Do you know of this place?
			string_id message = new string_id (c_stringFile, "s_369");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Rebel outpost?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_371");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_387");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Ghrag are now trying to secure a battery of heavy weapons... station-killers, if you will... for the purpose of destroying the Kashyyyk space station.
			string_id message = new string_id (c_stringFile, "s_419");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_421");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now.
	if (response == "s_424")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not right now? What are you thinking?!
			string_id message = new string_id (c_stringFile, "s_426");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So, Rian Ry informs me that the Ghrag mercenary we wanted to convey out of this system has been lost. This is a tremendous loss... but we may be able to salvage the situation. Are you available to deal with this problem immediately?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I want to try again.
	if (response == "s_278")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Evidently, the Ghrag traitor that we lost had a friend with whom he consulted about his flight to safety. Now that he has been destroyed, his friend is convinced that he is next on the Ghrag's hit-list. Will you escort him out of Kashyyyk space?
			string_id message = new string_id (c_stringFile, "s_280");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. I will.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_283");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not at this time.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then please come back when you are.
			string_id message = new string_id (c_stringFile, "s_292");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Evidently, the Ghrag traitor that we lost had a friend with whom he consulted about his flight to safety. Now that he has been destroyed, his friend is convinced that he is next on the Ghrag's hit-list. Will you escort him out of Kashyyyk space?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I will.
	if (response == "s_283")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_escort_Ghrag (player, npc);

			//-- NPC: Splendid. Better luck this time, %TU.
			string_id message = new string_id (c_stringFile, "s_286");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well hello there, %TU! I have some tremendously good news. The ex-mercenary that you escorted out of Kashyyyk space has provided us with detailed tactical information about the Ghrag mercenary clan.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of information?
	if (response == "s_349")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition_isImperialPilot (player, npc))
		{
			//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy the Imperial Space station in Kashyyyk space.
			string_id message = new string_id (c_stringFile, "s_297");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_353");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition_isRebelPilot (player, npc))
		{
			//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy a Rebel Outpost somewhere here in Kashyyyk. Do you know of this place?
			string_id message = new string_id (c_stringFile, "s_369");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Rebel outpost?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_371");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_387");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Ghrag are now trying to secure a battery of heavy weapons... station-killers, if you will... for the purpose of destroying the Kashyyyk space station.
			string_id message = new string_id (c_stringFile, "s_419");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would they do that?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_421");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy the Imperial Space station in Kashyyyk space.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would they do that?
	if (response == "s_353")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: They have been doing extensive research on you, my friend. They know that you are an Imperial pilot. They believe that the Empire has commanded you to disrupt their activities as part of an ongoing mission. Now they want revenge.
			string_id message = new string_id (c_stringFile, "s_355");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_357");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They have been doing extensive research on you, my friend. They know that you are an Imperial pilot. They believe that the Empire has commanded you to disrupt their activities as part of an ongoing mission. Now they want revenge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_357")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Vosc Traaer from Naboo. You may have heard of him. He was a supplier for the Empire until he was discovered to be an embezzeler.
			string_id message = new string_id (c_stringFile, "s_359");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do we stop them?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Vosc Traaer from Naboo. You may have heard of him. He was a supplier for the Empire until he was discovered to be an embezzeler.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do we stop them?
	if (response == "s_361")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: According to our friend the ex-Ghrag... Vosc Traaer will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?
			string_id message = new string_id (c_stringFile, "s_363");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_365");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: According to our friend the ex-Ghrag... Vosc Traaer will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_365")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER_imp (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_367");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Ghrag are trying to secure a battery of heavy weapons... station-killers, if you will. It would appear that they have plans to destroy a Rebel Outpost somewhere here in Kashyyyk. Do you know of this place?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would they do that?
	if (response == "s_371")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: They have been doing extensive research on you, my friend. They know that you are a Rebel pilot. They believe you are acting on behalf of the Alliance to disrupt their activities. Now they want revenge.
			string_id message = new string_id (c_stringFile, "s_373");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_375");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel outpost?
	if (response == "s_387")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Heh. Your secret is safe with me, %TU. They have been doing extensive research on you, my friend. They know that you are a Rebel pilot. They believe you are acting on behalf of the Alliance to disrupt their activities. Now they want revenge.
			string_id message = new string_id (c_stringFile, "s_389");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No really... what Rebel outpost?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_403");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 41);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They have been doing extensive research on you, my friend. They know that you are a Rebel pilot. They believe you are acting on behalf of the Alliance to disrupt their activities. Now they want revenge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_375")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Rebellion until they discovered him to be a prolific slave-trader.
			string_id message = new string_id (c_stringFile, "s_377");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do we stop them?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_379");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Rebellion until they discovered him to be a prolific slave-trader.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do we stop them?
	if (response == "s_379")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?
			string_id message = new string_id (c_stringFile, "s_381");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_383");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_383")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER_reb (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_385");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Heh. Your secret is safe with me, %TU. They have been doing extensive research on you, my friend. They know that you are a Rebel pilot. They believe you are acting on behalf of the Alliance to disrupt their activities. Now they want revenge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_391")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Alliance until they discovered him to be a prolific slave-trader.
			string_id message = new string_id (c_stringFile, "s_393");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do we stop them?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_395");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No really... what Rebel outpost?
	if (response == "s_403")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: You honestly don't know? Apparently there is a hidden Rebel outpost here. The Alliance has put forth a massive effort to protect the Wookiees. In turn, they recruit the Wookiees for the Rebellion. The Ghrag know that you are a Rebel pilot. They want to exact revenge from the Alliance for what you've done to them.
			string_id message = new string_id (c_stringFile, "s_405");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_407");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Alliance until they discovered him to be a prolific slave-trader.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do we stop them?
	if (response == "s_395")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?
			string_id message = new string_id (c_stringFile, "s_397");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_399");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_399")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER_reb (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_401");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You honestly don't know? Apparently there is a hidden Rebel outpost here. The Alliance has put forth a massive effort to protect the Wookiees. In turn, they recruit the Wookiees for the Rebellion. The Ghrag know that you are a Rebel pilot. They want to exact revenge from the Alliance for what you've done to them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_407")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Alliance until they discovered him to be a prolific slave-trader.
			string_id message = new string_id (c_stringFile, "s_409");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do we stop them?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_411");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from acquiring these weapons. They have made contact with a weapons dealer named Faydo Sha from Corellia. You may have heard of him. He was a supplier for the Alliance until they discovered him to be a prolific slave-trader.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do we stop them?
	if (response == "s_411")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?
			string_id message = new string_id (c_stringFile, "s_413");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_415");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: According to our friend the ex-Ghrag... Faydo Sha will be escorted through this system sometime today. I suggest you intercept his starship and destroy it. Then the mercenaries will need to find some other way to ruin the Kashyyyk system. What do you say?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_415")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER_reb (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_417");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Ghrag are now trying to secure a battery of heavy weapons... station-killers, if you will... for the purpose of destroying the Kashyyyk space station.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would they do that?
	if (response == "s_421")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: They have spies everywhere in Kashyyyk. They know that you have been talking to Rian Ry and myself and that your friendship with the Civilian Protection guild is very strong.
			string_id message = new string_id (c_stringFile, "s_423");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've mostly been talking to Rian.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_425");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_433");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They have spies everywhere in Kashyyyk. They know that you have been talking to Rian Ry and myself and that your friendship with the Civilian Protection guild is very strong.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_425")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from obtaining these weapons. They have made contact with a weapons dealer named Kred'ka Sul. He'll be flying in to Kashyyyk space sometime today. You need to intercept him and prevent him from selling his wares to the Ghrag.
			string_id message = new string_id (c_stringFile, "s_427");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've mostly been talking to Rian.
	if (response == "s_433")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stop");

			//-- NPC: Be that as it may... they're going to blow up the station and we need to stop it!
			string_id message = new string_id (c_stringFile, "s_435");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what do we do?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_439");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from obtaining these weapons. They have made contact with a weapons dealer named Kred'ka Sul. He'll be flying in to Kashyyyk space sometime today. You need to intercept him and prevent him from selling his wares to the Ghrag.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_429")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_431");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Be that as it may... they're going to blow up the station and we need to stop it!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what do we do?
	if (response == "s_439")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We must prevent the Ghrag from obtaining these weapons. They have made contact with a weapons dealer named Kred'ka Sul. He'll be flying in to Kashyyyk space sometime today. You need to intercept him and prevent him from selling his wares to the Ghrag.
			string_id message = new string_id (c_stringFile, "s_443");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_447");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We must prevent the Ghrag from obtaining these weapons. They have made contact with a weapons dealer named Kred'ka Sul. He'll be flying in to Kashyyyk space sometime today. You need to intercept him and prevent him from selling his wares to the Ghrag.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready!
	if (response == "s_447")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_giveQuest_assassinate_DEALER (player, npc);

			//-- NPC: Excellent! Good luck to you, %TU!
			string_id message = new string_id (c_stringFile, "s_451");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings, %TU. Why don't you check in with Rian Ry. She has civilian protection contracts for you if you're interested.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good.
	if (response == "s_458")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Farewell!
			string_id message = new string_id (c_stringFile, "s_461");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You know, I'm not really interested.
	if (response == "s_463")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: That's a shame. Really...
			string_id message = new string_id (c_stringFile, "s_466");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah! %TU. It is good to see you again! Would you believe it... we have been contacted by a high-ranking Ghrag mercenary! He wishes to escape the criminal life and join the monks on Tatooine. Isn't that wonderful!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you say so.
	if (response == "s_474")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Yes! Now I want you to help him make his escape. You'll need to escort his shuttle to the Kashyyyk space station and protect him from any Ghrag mercenaries that would attack him. In exchange for this he will provide us with valuable tactical information. Hopefully enough to eliminate them entirely...
			string_id message = new string_id (c_stringFile, "s_477");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: He'll be dead before he takes off.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds good to me. Let's go.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_481");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_497");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes! Now I want you to help him make his escape. You'll need to escort his shuttle to the Kashyyyk space station and protect him from any Ghrag mercenaries that would attack him. In exchange for this he will provide us with valuable tactical information. Hopefully enough to eliminate them entirely...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He'll be dead before he takes off.
	if (response == "s_481")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: He is constructing a ruse by which he leaves the station to secure several crates of Corellian brandy on order at the Kashyyyk space station. It's something he does quite often so they might let him slip through unscathed.
			string_id message = new string_id (c_stringFile, "s_485");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, then.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_489");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good to me. Let's go.
	if (response == "s_497")
	{
		ep3_eyma_action_giveQuest_escort_Ghrag (player, npc);

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent! 
			string_id message = new string_id (c_stringFile, "s_501");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He is constructing a ruse by which he leaves the station to secure several crates of Corellian brandy on order at the Kashyyyk space station. It's something he does quite often so they might let him slip through unscathed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, then.
	if (response == "s_489")
	{
		ep3_eyma_action_giveQuest_escort_Ghrag (player, npc);

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good luck!
			string_id message = new string_id (c_stringFile, "s_493");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How are you, %TU? Doing well, I hope. I believe you have more information about the Ghrag mercenary clan?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_509")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: What can you tell me of their tactical situation here in the Kashyyyk system?
			string_id message = new string_id (c_stringFile, "s_513");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Ghrag mercenaries are numerous and powerful.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Their numbers are thin. They are no threat to us.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_517");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_543");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What can you tell me of their tactical situation here in the Kashyyyk system?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Ghrag mercenaries are numerous and powerful.
	if (response == "s_517")
	{
		ep3_eyma_action_sendSignal_01 (player, npc);

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: This is indeed bad news, %TU. We will need to be especially careful to protect civilian parties. Given your track-record, I suspect you are the best entity for the job. I will give Rian Ry security authorization to provide you with transport protection contracts at your discretion.
			string_id message = new string_id (c_stringFile, "s_523");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, Eyma.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Force be with you, Eyma.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_527");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_535");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 67);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Their numbers are thin. They are no threat to us.
	if (response == "s_543")
	{
		ep3_eyma_action_sendSignal_01_STRONG (player, npc);

		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: This doesn't sound right, %TU. What little I know of the Ghrag would indicate their numbers are rather high. This would support evidence of their continued aggression toward civilian transports. I think we'll need your help to secure Kashyyyk space.
			string_id message = new string_id (c_stringFile, "s_547");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll do what I can.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That figures.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_549");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_571");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 70);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is indeed bad news, %TU. We will need to be especially careful to protect civilian parties. Given your track-record, I suspect you are the best entity for the job. I will give Rian Ry security authorization to provide you with transport protection contracts at your discretion.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, Eyma.
	if (response == "s_527")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow2");

			//-- NPC: You are most welcome, friend.
			string_id message = new string_id (c_stringFile, "s_531");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Force be with you, Eyma.
	if (response == "s_535")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow2");

			//-- NPC: And with you as well, %TU.
			string_id message = new string_id (c_stringFile, "s_540");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This doesn't sound right, %TU. What little I know of the Ghrag would indicate their numbers are rather high. This would support evidence of their continued aggression toward civilian transports. I think we'll need your help to secure Kashyyyk space.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do what I can.
	if (response == "s_549")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I will give Rian Ry the security clearance to broker civilian protection contracts to you at your discretion. Given your success to date, I think that our friends will be safe.
			string_id message = new string_id (c_stringFile, "s_553");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Goodbye, Eyma.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_556");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_564");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That figures.
	if (response == "s_571")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: Hm. Yes. When you get back to the Kashyyyk space station, Rian Ry will have civilian protection contracts available for you.
			string_id message = new string_id (c_stringFile, "s_573");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Bye.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_577");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will give Rian Ry the security clearance to broker civilian protection contracts to you at your discretion. Given your success to date, I think that our friends will be safe.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_556")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow2");

			//-- NPC: You are most welcome!
			string_id message = new string_id (c_stringFile, "s_560");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Goodbye, Eyma.
	if (response == "s_564")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Farewell!
			string_id message = new string_id (c_stringFile, "s_567");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hm. Yes. When you get back to the Kashyyyk space station, Rian Ry will have civilian protection contracts available for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bye.
	if (response == "s_577")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Yes. Goodbye.
			string_id message = new string_id (c_stringFile, "s_580");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rian Ry tells me that things did not go as we expected. She tells me that you lost the civilian transport we were trying to rescue from the Ghrag mercenaries. This is an unacceptable loss... but we must look to the future. Are you willing to help us again? Perhaps save the transport this time?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I want another chance.
	if (response == "s_591")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			ep3_eyma_action_sendSignal_00 (player, npc);

			//-- NPC: So be it. Good luck to you, friend.
			string_id message = new string_id (c_stringFile, "s_595");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now.
	if (response == "s_597")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: Please return when you are ready, my friend.
			string_id message = new string_id (c_stringFile, "s_601");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Many thanks for your support, %TU! The Civilian Protection guild is in your debt! Please see Rian Ry as soon as you can. She is monitoring civilian communications... and things are getting bad up there!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good bye.
	if (response == "s_608")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow2");

			//-- NPC: Take care, %TU.
			string_id message = new string_id (c_stringFile, "s_612");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings, my friend. Are you the valiant %TU that Rian Ry has told me so much about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. You wanted to speak to me?
	if (response == "s_619")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Civilian Protection guild needs your assistance! A group called the 'Ghrag Mercenary Clan' has declared open war on the civilian traffic in Kashyyyk space. They have threatened to destroy any and all traffic they find in this system until their demands are met.
			string_id message = new string_id (c_stringFile, "s_621");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Civilian Protection guild needs your assistance! A group called the 'Ghrag Mercenary Clan' has declared open war on the civilian traffic in Kashyyyk space. They have threatened to destroy any and all traffic they find in this system until their demands are met.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will help.
	if (response == "s_625")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			ep3_eyma_action_sendSignal_00 (player, npc);

			//-- NPC: Fantastic! We need you to get to work right away. A civilian distress signal has been detected deep in the Tyyyn nebula. Fly there and rescue our friends!
			string_id message = new string_id (c_stringFile, "s_628");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: See you soon!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_632");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are their demands?
	if (response == "s_639")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's unclear. I know that they have had dealings with both the Trandoshan Slaver organization and a handful of Rebel outlaws. Whatever they want - they're not making it obvious to anyone.
			string_id message = new string_id (c_stringFile, "s_642");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why target civilians?
	if (response == "s_645")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's the question, isn't it? I believe it's a simple question of strength. The Ghrag are not very powerful and cannot take on the Trandoshan Slavers to get their revenge. Instead they must prey on defenseless civilians!
			string_id message = new string_id (c_stringFile, "s_648");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fantastic! We need you to get to work right away. A civilian distress signal has been detected deep in the Tyyyn nebula. Fly there and rescue our friends!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: See you soon!
	if (response == "s_632")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Farewell!
			string_id message = new string_id (c_stringFile, "s_636");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's unclear. I know that they have had dealings with both the Trandoshan Slaver organization and a handful of Rebel outlaws. Whatever they want - they're not making it obvious to anyone.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will help.
	if (response == "s_625")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			ep3_eyma_action_sendSignal_00 (player, npc);

			//-- NPC: Fantastic! We need you to get to work right away. A civilian distress signal has been detected deep in the Tyyyn nebula. Fly there and rescue our friends!
			string_id message = new string_id (c_stringFile, "s_628");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: See you soon!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_632");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are their demands?
	if (response == "s_639")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's unclear. I know that they have had dealings with both the Trandoshan Slaver organization and a handful of Rebel outlaws. Whatever they want - they're not making it obvious to anyone.
			string_id message = new string_id (c_stringFile, "s_642");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why target civilians?
	if (response == "s_645")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's the question, isn't it? I believe it's a simple question of strength. The Ghrag are not very powerful and cannot take on the Trandoshan Slavers to get their revenge. Instead they must prey on defenseless civilians!
			string_id message = new string_id (c_stringFile, "s_648");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's the question, isn't it? I believe it's a simple question of strength. The Ghrag are not very powerful and cannot take on the Trandoshan Slavers to get their revenge. Instead they must prey on defenseless civilians!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will help.
	if (response == "s_625")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			ep3_eyma_action_sendSignal_00 (player, npc);

			//-- NPC: Fantastic! We need you to get to work right away. A civilian distress signal has been detected deep in the Tyyyn nebula. Fly there and rescue our friends!
			string_id message = new string_id (c_stringFile, "s_628");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: See you soon!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_632");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are their demands?
	if (response == "s_639")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's unclear. I know that they have had dealings with both the Trandoshan Slaver organization and a handful of Rebel outlaws. Whatever they want - they're not making it obvious to anyone.
			string_id message = new string_id (c_stringFile, "s_642");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why target civilians?
	if (response == "s_645")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's the question, isn't it? I believe it's a simple question of strength. The Ghrag are not very powerful and cannot take on the Trandoshan Slavers to get their revenge. Instead they must prey on defenseless civilians!
			string_id message = new string_id (c_stringFile, "s_648");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What are their demands?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why target civilians?
			boolean hasResponse2 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_625");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_639");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_645");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings kind spirit. What can I do for you today?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_654")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "greet");

			//-- NPC: I am Eyma, commander of the Civilian Protection guild. We are a benevolent organization of merchants and freelance pilots that protect commerce in outlying areas such as this. Have you heard of us?
			string_id message = new string_id (c_stringFile, "s_657");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: This is the first I've heard of you.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes. I have heard of you.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition_hasWonQuest_01 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_660");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_670");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm looking for work.
	if (response == "s_721")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Right to the point then. I appreciate that. To tell the truth there are many issues facing the Civilian Protection guild that need immediate solutions. To begin, I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She's a tremendous help. Just tremendous... 
			string_id message = new string_id (c_stringFile, "s_724");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How tremendous?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_729");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_737");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing. Just passing through.
	if (response == "s_760")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: What brings you to Kashyyyk my friend?
			string_id message = new string_id (c_stringFile, "s_762");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Really. I have to go.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am looking for work.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_764");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_768");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am Eyma, commander of the Civilian Protection guild. We are a benevolent organization of merchants and freelance pilots that protect commerce in outlying areas such as this. Have you heard of us?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is the first I've heard of you.
	if (response == "s_660")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			//-- NPC: We're not very proficient at promoting this organization. But that's acceptable. We don't want too much attention at the moment. The very notion of a 'protection' effort for freelance pilots would draw numerous criminal forces out of the murky depths... so to speak.
			string_id message = new string_id (c_stringFile, "s_663");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What sort of work do you have to offer?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_667");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I have heard of you.
	if (response == "s_670")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dream");

			//-- NPC: Ah, from Rian Ry the commander of the Kashyyyk space station no doubt. She is a fine commander is she not? Very, very fine indeed.
			string_id message = new string_id (c_stringFile, "s_673");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So do you have any jobs?
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Rian and I have become friends.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition_hasWonQuest_02 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_676");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_689");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We're not very proficient at promoting this organization. But that's acceptable. We don't want too much attention at the moment. The very notion of a 'protection' effort for freelance pilots would draw numerous criminal forces out of the murky depths... so to speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of work do you have to offer?
	if (response == "s_667")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There are definitely some issues that need clarification and problems that require solutions. I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She'll point you in the right direction! She always does...
			string_id message = new string_id (c_stringFile, "s_679");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_683");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, from Rian Ry the commander of the Kashyyyk space station no doubt. She is a fine commander is she not? Very, very fine indeed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So do you have any jobs?
	if (response == "s_676")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There are definitely some issues that need clarification and problems that require solutions. I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She'll point you in the right direction! She always does...
			string_id message = new string_id (c_stringFile, "s_679");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_683");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rian and I have become friends.
	if (response == "s_689")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: You don't say.
			string_id message = new string_id (c_stringFile, "s_692");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah. Very, very good friends!
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well... not great friends of course.
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_695");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_708");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There are definitely some issues that need clarification and problems that require solutions. I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She'll point you in the right direction! She always does...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_683")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Goodbye!
			string_id message = new string_id (c_stringFile, "s_686");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You don't say.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah. Very, very good friends!
	if (response == "s_695")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: Is that so?
			string_id message = new string_id (c_stringFile, "s_699");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yep.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_702");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well... not great friends of course.
	if (response == "s_708")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Oh. Of course not! She's a busy woman. Very, very busy indeed.
			string_id message = new string_id (c_stringFile, "s_711");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yup.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_715");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is that so?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yep.
	if (response == "s_702")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			//-- NPC: I see.
			string_id message = new string_id (c_stringFile, "s_705");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh. Of course not! She's a busy woman. Very, very busy indeed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yup.
	if (response == "s_715")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Yes. It is true.
			string_id message = new string_id (c_stringFile, "s_718");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right to the point then. I appreciate that. To tell the truth there are many issues facing the Civilian Protection guild that need immediate solutions. To begin, I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She's a tremendous help. Just tremendous... 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks!
	if (response == "s_729")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Farewell, friend!
			string_id message = new string_id (c_stringFile, "s_733");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How tremendous?
	if (response == "s_737")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: I'm not sure what you mean...
			string_id message = new string_id (c_stringFile, "s_741");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Nevermind.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You like her don't you?
			boolean hasResponse1 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_745");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_752");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm not sure what you mean...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nevermind.
	if (response == "s_745")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Farewell!
			string_id message = new string_id (c_stringFile, "s_749");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You like her don't you?
	if (response == "s_752")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			//-- NPC: Well of course! She is a consummate professional. Very intelligent. Excellent work-ethic! Yes. I would say that I like her very much. We all do! All of us at the CPG are quite fond of her.
			string_id message = new string_id (c_stringFile, "s_754");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: See you later.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_756");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well of course! She is a consummate professional. Very intelligent. Excellent work-ethic! Yes. I would say that I like her very much. We all do! All of us at the CPG are quite fond of her.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: See you later.
	if (response == "s_756")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Yes! I hope so.
			string_id message = new string_id (c_stringFile, "s_758");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_eyma_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What brings you to Kashyyyk my friend?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Really. I have to go.
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Ah. Farewell, then.
			string_id message = new string_id (c_stringFile, "s_766");
			utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am looking for work.
	if (response == "s_768")
	{
		//-- [NOTE] 
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There are definitely some issues that need clarification and problems that require solutions. I suggest you contact Rian Ry at the Kashyyyk space station and find out what's new. She'll point you in the right direction! She always does...
			string_id message = new string_id (c_stringFile, "s_679");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (ep3_eyma_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_683");

				utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setName (self, "Eyma");
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);	
	setName (self, "Eyma");
	setInvulnerable (self, true);
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_eyma");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_eyma_condition_hasWon_assassinate_DEALER (player, npc))
	{
		//-- NPC: Good to see you again, %TU! It's been quite an interesting time, has it not?
		string_id message = new string_id (c_stringFile, "s_309");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Got anything for me?
		boolean hasResponse0 = false;
		if (ep3_eyma_condition_aboutToBe_rewarded_REB (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Got anything for me?
		boolean hasResponse1 = false;
		if (ep3_eyma_condition_aboutToBe_rewarded_IMP (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Got anything for me?
		boolean hasResponse2 = false;
		if (ep3_eyma_condition_aboutToBe_rewarded_NEU (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Is there anything else you need me to do?
		boolean hasResponse3 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_211");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_219");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_227");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_311");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 1);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_aboutToBe_rewarded_escort_GHRAG (player, npc))
	{
		//-- NPC: Ah! I have something for you, %TU.
		string_id message = new string_id (c_stringFile, "s_352");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What is it?
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_354");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 21);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasFailed_assassinate_DEALER (player, npc))
	{
		//-- NPC: %TU! It is imperative that you locate and eliminate that weapons broker! Let's start from the beginning and stay focused this time!
		string_id message = new string_id (c_stringFile, "s_420");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. Let's go again.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not right now.
		boolean hasResponse1 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_422");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_424");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 24);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasFailed_escort_ghrag (player, npc))
	{
		//-- NPC: So, Rian Ry informs me that the Ghrag mercenary we wanted to convey out of this system has been lost. This is a tremendous loss... but we may be able to salvage the situation. Are you available to deal with this problem immediately?
		string_id message = new string_id (c_stringFile, "s_275");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. I want to try again.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not at this time.
		boolean hasResponse1 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_278");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_289");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 26);

			npcStartConversation (player, npc, "ep3_eyma", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasWon_escort_GHRAG (player, npc))
	{
		//-- NPC: Well hello there, %TU! I have some tremendously good news. The ex-mercenary that you escorted out of Kashyyyk space has provided us with detailed tactical information about the Ghrag mercenary clan.
		string_id message = new string_id (c_stringFile, "s_347");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What sort of information?
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_349");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 30);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_aboutToBe_ambushed (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Greetings, %TU. Why don't you check in with Rian Ry. She has civilian protection contracts for you if you're interested.
		string_id message = new string_id (c_stringFile, "s_455");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sounds good.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You know, I'm not really interested.
		boolean hasResponse1 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_458");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_463");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 56);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_isOn_escort_GHRAG (player, npc))
	{
		//-- NPC: What are you still doing here? The Ghrag mercenary wants to flee his evil clan as soon as possible!
		string_id message = new string_id (c_stringFile, "s_725");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasWon_groundquest_01 (player, npc))
	{
		doAnimationAction (npc, "bow2");

		//-- NPC: Ah! %TU. It is good to see you again! Would you believe it... we have been contacted by a high-ranking Ghrag mercenary! He wishes to escape the criminal life and join the monks on Tatooine. Isn't that wonderful!
		string_id message = new string_id (c_stringFile, "s_470");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: If you say so.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_474");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 60);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_isOn_CONTACT_EYMA_01 (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: How are you, %TU? Doing well, I hope. I believe you have more information about the Ghrag mercenary clan?
		string_id message = new string_id (c_stringFile, "s_505");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_509");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 65);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_isOn_RESCUE_ALPHA (player, npc))
	{
		//-- NPC: Why are you still here? There is a civilian transport in distress, my friend!
		string_id message = new string_id (c_stringFile, "s_584");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasFailed_rescue_alpha (player, npc))
	{
		//-- NPC: Rian Ry tells me that things did not go as we expected. She tells me that you lost the civilian transport we were trying to rescue from the Ghrag mercenaries. This is an unacceptable loss... but we must look to the future. Are you willing to help us again? Perhaps save the transport this time?
		string_id message = new string_id (c_stringFile, "s_588");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. I want another chance.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not right now.
		boolean hasResponse1 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_591");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_597");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 77);

			npcStartConversation (player, npc, "ep3_eyma", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_hasWon_rescue_alpha (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Many thanks for your support, %TU! The Civilian Protection guild is in your debt! Please see Rian Ry as soon as you can. She is monitoring civilian communications... and things are getting bad up there!
		string_id message = new string_id (c_stringFile, "s_604");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Good bye.
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_608");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 80);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition_isOn_CONTACT_EYMA_00 (player, npc))
	{
		//-- NPC: Greetings, my friend. Are you the valiant %TU that Rian Ry has told me so much about?
		string_id message = new string_id (c_stringFile, "s_615");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. You wanted to speak to me?
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_619");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 82);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_eyma", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_eyma_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "bow2");

		//-- NPC: Greetings kind spirit. What can I do for you today?
		string_id message = new string_id (c_stringFile, "s_652");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Who are you?
		boolean hasResponse0 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm looking for work.
		boolean hasResponse1 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Nothing. Just passing through.
		boolean hasResponse2 = false;
		if (ep3_eyma_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_654");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_721");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_760");

			utils.setScriptVar (player, "conversation.ep3_eyma.branchId", 88);

			npcStartConversation (player, npc, "ep3_eyma", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_eyma")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_eyma.branchId");

	if (branchId == 1 && ep3_eyma_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && ep3_eyma_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_eyma_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && ep3_eyma_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && ep3_eyma_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && ep3_eyma_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && ep3_eyma_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && ep3_eyma_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_eyma_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && ep3_eyma_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && ep3_eyma_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_eyma_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && ep3_eyma_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && ep3_eyma_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && ep3_eyma_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && ep3_eyma_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && ep3_eyma_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && ep3_eyma_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && ep3_eyma_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && ep3_eyma_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && ep3_eyma_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && ep3_eyma_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && ep3_eyma_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && ep3_eyma_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && ep3_eyma_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && ep3_eyma_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && ep3_eyma_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && ep3_eyma_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && ep3_eyma_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && ep3_eyma_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && ep3_eyma_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && ep3_eyma_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && ep3_eyma_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && ep3_eyma_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && ep3_eyma_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && ep3_eyma_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && ep3_eyma_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && ep3_eyma_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && ep3_eyma_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && ep3_eyma_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && ep3_eyma_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && ep3_eyma_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && ep3_eyma_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && ep3_eyma_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && ep3_eyma_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && ep3_eyma_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && ep3_eyma_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && ep3_eyma_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && ep3_eyma_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && ep3_eyma_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && ep3_eyma_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && ep3_eyma_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && ep3_eyma_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && ep3_eyma_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && ep3_eyma_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && ep3_eyma_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && ep3_eyma_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && ep3_eyma_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && ep3_eyma_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && ep3_eyma_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && ep3_eyma_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && ep3_eyma_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && ep3_eyma_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && ep3_eyma_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && ep3_eyma_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_eyma.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

