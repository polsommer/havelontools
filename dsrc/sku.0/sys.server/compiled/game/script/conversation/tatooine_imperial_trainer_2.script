// ======================================================================
//
// tatooine_imperial_trainer_2.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;
include library.xp;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_imperial_trainer_2";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_imperial_trainer_2_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (obj_id player, obj_id npc)
{
	// Look for the form in their inventory.
	obj_id pInv = utils.getInventoryContainer( player );
	if ( pInv == null )
		return false;

	obj_id[] items = getContents( pInv );
	if ( items == null )
		return false;
		
	for ( int i=0; i<items.length; i++ )
	{
		string name = getTemplateName( items[i] );
		if ( name.equals( "object/tangible/space/mission_objects/transfer_auth.iff" ) )
		{
			utils.setScriptVar( player, "auth", items[i] );
			return true;
		}
	}

	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasUnsignedForm (obj_id player, obj_id npc)
{
	obj_id auth = utils.getObjIdScriptVar( player, "auth" );
	if ( !isIdValid( auth ) )
		return true;
	string sign = getStringObjVar( auth, "signature" );
	if ( sign == null )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasIncorrectForm (obj_id player, obj_id npc)
{
	obj_id auth = utils.getObjIdScriptVar( player, "auth" );
	if ( !isIdValid( auth ) )
		return true;
	string sign = getStringObjVar( auth, "signature" );
	string name = getName( player );
	if ( sign.equals( name ) )
		return false;
	else
		return true;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isReadyForMission1 (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "stormSquadronInitiate");
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isPrivateer (obj_id player, obj_id npc)
{
	if ( hasSkill( player, "pilot_neutral_novice" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isRebel (obj_id player, obj_id npc)
{
	if ( factions.getFaction(player) == factions.FACTION_REBEL )
		return true;

	if ( hasSkill( player, "pilot_rebel_navy_novice" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasFailedQuest1 (obj_id player, obj_id npc)
{
	return ( space_quest.hasFailedQuest(  player, "inspect", "imperial_ss_1" ) ||
		     space_quest.hasAbortedQuest( player, "inspect", "imperial_ss_1" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasWonQuest1 (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "inspect", "imperial_ss_1" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isReadyForDutyBlock1 (obj_id player, obj_id npc)
{
	return space_quest.hasReceivedReward( player, "recovery", "imperial_ss_2" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasWonQuest2 (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "recovery", "imperial_ss_2" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasFailedQuest2 (obj_id player, obj_id npc)
{
	return ( space_quest.hasFailedQuest(  player, "recovery", "imperial_ss_2" ) ||
		     space_quest.hasAbortedQuest( player, "recovery", "imperial_ss_2" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isReadyForMission2 (obj_id player, obj_id npc)
{
	return space_quest.hasReceivedReward( player, "inspect", "imperial_ss_1" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canBuySkill1 (obj_id player, obj_id npc)
{
	if ( space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_weapons_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_procedures_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canBuySkill1A (obj_id player, obj_id npc)
{
	return space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_02" ) && !hasSkill( player, "pilot_imperial_navy_starships_02" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canBuySkill1B (obj_id player, obj_id npc)
{
	return space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_weapons_02" ) && !hasSkill( player, "pilot_imperial_navy_weapons_02" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canBuySkill1C (obj_id player, obj_id npc)
{
	return space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_procedures_02" ) && !hasSkill( player, "pilot_imperial_navy_procedures_02" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canBuySkill1D (obj_id player, obj_id npc)
{
	return space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_droid_02" ) && !hasSkill( player, "pilot_imperial_navy_droid_02" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isReadyForMission3 (obj_id player, obj_id npc)
{
	if ( hasSkill( player, "pilot_imperial_navy_starships_02" ) ||
		 hasSkill( player, "pilot_imperial_navy_weapons_02" ) ||
		 hasSkill( player, "pilot_imperial_navy_procedures_02" ) ||
		 hasSkill( player, "pilot_imperial_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isOnMission (obj_id player, obj_id npc)
{
	return space_quest.hasQuest( player );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isWorkingForAlozen (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "workingWithAlozen");
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isReadyForMission4 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_imperial_navy_starships_02", 
						"pilot_imperial_navy_weapons_02",
						"pilot_imperial_navy_procedures_02",
						"pilot_imperial_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if ( j == 2 )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isFindingAgent (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "ss");
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasDestroyedKimogilaClaw (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "assassinate", "imperial_ss_3" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_rewardedForClaw (obj_id player, obj_id npc)
{
	return space_quest.hasReceivedReward( player, "assassinate", "imperial_ss_3" );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_readyforTraining (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "imperial_ss_2" ))
		return false;
		
	if ( space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_weapons_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_procedures_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.IMPERIAL_TATOOINE);
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierOne(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_readyForTraining2 (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "assassinate", "imperial_ss_3" ))
		return false;
		
	if ( space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_weapons_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_procedures_02" ) ||
		 space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_IMPERIAL ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_trainer_2_condition_hasHyperspaceShip (obj_id player, obj_id npc)
{
	return space_quest.hasCertifiedNonNewbieShip(player);
}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_imperial_trainer_2_action_makeStormSquadronInitiate (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "stormSquadronInitiate", 1);
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveQuest1 (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "inspect", "imperial_ss_1" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveReward1 (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "inspect", "imperial_ss_1") )
	{
		space_quest.giveReward( player, "inspect", "imperial_ss_1", 5000, "object/tangible/ship/components/weapon/wpn_mission_reward_imperial_cygnus_starblaster.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 75.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveQuest2 (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery", "imperial_ss_2" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveReward2 (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "imperial_ss_2") )
	{
		space_quest.giveReward( player, "recovery", "imperial_ss_2", 5000, "object/tangible/ship/components/armor/arm_mission_reward_imperial_sfs_light_military.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 75.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_grantSkill1A (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_starships_02" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_grantSkill1B (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_weapons_02" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_grantSkill1C (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_procedures_02" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_grantSkill1D (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_droid_02" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_transferToAlozen (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "workingWithAlozen", 1);
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_makeFindingAgent (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "ss.findingAgent", 1);
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_rewardForClaw (obj_id player, obj_id npc)
{
	space_quest.giveReward( player, "assassinate", "imperial_ss_3", 5000, "object/tangible/ship/components/booster/bst_mission_reward_imperial_rss_ion_booster.iff" );
	factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 75.0f );
	space_flags.removeSpaceFlag(player, "ss");
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveDuty1A (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "lok_imperial_ss_1a" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveDuty1B (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "lok_imperial_ss_1b" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_giveDuty1C (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "lok_imperial_ss_1c" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_trainer_2_action_removeAuthOfTransfer (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer( player );
	if ( pInv == null )
		return;

	obj_id[] items = getContents( pInv );
	if ( items == null )
		return;
	
	for ( int i=0; i<items.length; i++ )
	{
		string name = getTemplateName( items[i] );
		if ( name.equals( "object/tangible/space/mission_objects/transfer_auth.iff" ) )
		{
			obj_id transferauth = items[i];
			destroyObject(transferauth);
		}
	}
	return;
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_imperial_trainer_2_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hold on, there, %TU.  I've got strict orders about you.  You're GROUNDED!  Finished!  You won't be flying for the Empire ever again!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why?  What did I do?
	if (response == "s_f3ce4b22")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: We've had reports of pro-Rebel, anti-Imperial activity from you.  Obviously, you can't be trusted.
			string_id message = new string_id (c_stringFile, "s_46b74bbf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do I do now?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a78a4ac3");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've had reports of pro-Rebel, anti-Imperial activity from you.  Obviously, you can't be trusted.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do now?
	if (response == "s_a78a4ac3")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			//-- NPC: Well, if it were up to me, you'd be shot, now.
			string_id message = new string_id (c_stringFile, "s_c6b6729b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, seriously!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3ed9f29c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, if it were up to me, you'd be shot, now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, seriously!
	if (response == "s_3ed9f29c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I am being serious.
			string_id message = new string_id (c_stringFile, "s_ad8385f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But I want to fly for the Imperial Navy!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ae06e68f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am being serious.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But I want to fly for the Imperial Navy!
	if (response == "s_ae06e68f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Hrmph.  In that case, if I were you, I'd be trying to do SOMETHING to prove to the Empire that you are 100% behind us in this war, and not some sort of Rebel sympathizer.
			string_id message = new string_id (c_stringFile, "s_92b2297b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can I do that?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2f84158b");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hrmph.  In that case, if I were you, I'd be trying to do SOMETHING to prove to the Empire that you are 100% behind us in this war, and not some sort of Rebel sympathizer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can I do that?
	if (response == "s_2f84158b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: I don't know, %NU.  But if I were you, I'd be trying to figure out SOME way of doing it.
			string_id message = new string_id (c_stringFile, "s_7970189a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It looks like you're busy with an assignment already. Come talk to me when you're done.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir!
	if (response == "s_a30c1a53")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			//-- NPC: Outstanding.
			string_id message = new string_id (c_stringFile, "s_4838444a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I travel to another system?
	if (response == "s_8d17fc6e")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_hasHyperspaceShip (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: I've seen one of your ships in the hangar. It looks capable of hyperspace travel. After you launch, just open your Hyperspace Map and select the system to which you want to travel. Pretty simple, no?
			string_id message = new string_id (c_stringFile, "s_e0d37cc2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9288900f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Firstly, you will need a vessel capable of hyperspace travel. Unfortunately the Empire does not issue TIE craft equipped with the engine upgrades and hyperdrive abilities you will need.
			string_id message = new string_id (c_stringFile, "s_ad7e53a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why is that?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Then I will acquire a new ship, sir.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81198b45");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dcf3ae18");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings, pilot. I don't see you on the Storm Squadron roster. Why have you come here?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to request a mission.
	if (response == "s_4854758d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canFlyNonTrackDuty (player, npc))
		{
			//-- NPC: I cannot assign you a mission, but I do have a number of elective duty assignments. If you like, I can give you a briefing.
			string_id message = new string_id (c_stringFile, "s_df611704");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like a briefing.
			boolean hasResponse0 = false;
			if (!tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready to take an assignment.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2a924ab");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Only your commanding officer can assign you missions, pilot. Go back to your own unit.
			string_id message = new string_id (c_stringFile, "s_a784219e");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I cannot assign you a mission, but I do have a number of elective duty assignments. If you like, I can give you a briefing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like a briefing.
	if (response == "s_b2a924ab")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.
			string_id message = new string_id (c_stringFile, "s_cacf4333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5102164f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: High Command has decided that Nym's operations have been sufficiently neutralized. Any aid he renders the Rebellion from this point will be inconsequential to the outcome of the overall conflict. You are commended for your contribution to the Lok operation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir.
	if (response == "s_987445c9")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We've been reassigned to the Yavin system. Yavin has been plagued with insurgent activity ever since the destruction of the Death Star. This is the front line of the civil war and our assignments in the region will be dangerous.
			string_id message = new string_id (c_stringFile, "s_c13418d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am prepared.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72d41043");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've been reassigned to the Yavin system. Yavin has been plagued with insurgent activity ever since the destruction of the Death Star. This is the front line of the civil war and our assignments in the region will be dangerous.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am prepared.
	if (response == "s_72d41043")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I hope you've studied those information programs I gave you. You'll need your new training.
			string_id message = new string_id (c_stringFile, "s_93a06155");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I have, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_de381f95");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope you've studied those information programs I gave you. You'll need your new training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have, sir.
	if (response == "s_de381f95")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Increasing insurgent activity in the Yavin system has drawn the interest of High Command. Since the destruction of the Death Star, the Imperial Engineering Corps have carried out an ongoing scrap recovery operation. Command suspects the Rebels may be conducting their own salvage operation.
			string_id message = new string_id (c_stringFile, "s_5f703249");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6598178f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Increasing insurgent activity in the Yavin system has drawn the interest of High Command. Since the destruction of the Death Star, the Imperial Engineering Corps have carried out an ongoing scrap recovery operation. Command suspects the Rebels may be conducting their own salvage operation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting.
	if (response == "s_6598178f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_transferToAlozen (player, npc);

			//-- NPC: You'll be doing some leg work on this mission. I want you to go to the Imperial outpost on Yavin 4. Report to Field Commander Alozen, of the Imperial Army, for a situation report. He's requested the assistance of the fleet. Storm Squadron has been assigned to see to his needs.
			string_id message = new string_id (c_stringFile, "s_ed65d4cb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8efde2ae");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll be doing some leg work on this mission. I want you to go to the Imperial outpost on Yavin 4. Report to Field Commander Alozen, of the Imperial Army, for a situation report. He's requested the assistance of the fleet. Storm Squadron has been assigned to see to his needs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_8efde2ae")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alozen is a ground pounder and may show you a little disrespect. Ignore it and behave professionally. I know you'll do the right thing.
			string_id message = new string_id (c_stringFile, "s_ca6a5e04");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot, it is time for you to learn some new skills. It is important that you keep sharp and keep your skills at the top of their game in order to succeed as an Imperial pilot. Are you ready?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready for some training, sir.
	if (response == "s_a4faf714")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: You've shown considerable improvement in ability since joining the Squadron. It's time to allow you access to the next level of training and technology. I remind you that anything you learn is highly confidential, security rating Gamma Three. You may not share your knowledge with fellow officers of any rank at or below your own.
			string_id message = new string_id (c_stringFile, "s_44d66989");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let me think about this for a bit.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_280");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ae26c22");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: Flying Officer %NU, I have the highest level of respect for you, but I want to see more results in the operation against Nym before I authorize you for advanced training.
			string_id message = new string_id (c_stringFile, "s_311f2b4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89bc583c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 56);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Naval Command wants us to continue to harass Nym's forces. Their assessment of the situation is positive, but they feel that inflicting further damage is necessary. They want to avoid any possibility of having to bring a large force to bear against Nym should he decide to openly declare support for the insurgents.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like a briefing.
	if (response == "s_b2a924ab")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.
			string_id message = new string_id (c_stringFile, "s_cacf4333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5102164f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Report what you've found regarding Nym's plans.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Relate the destruction of the Kimogila's Claw.]
	if (response == "s_e44ffcd2")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Incredible work, pilot. You've managed to eliminate several of Nym's key commanders with a single decisive strike. I'm impressed by your initiative in this matter.
			string_id message = new string_id (c_stringFile, "s_94a3f917");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It should keep Nym busy for a while.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198d54a6");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Incredible work, pilot. You've managed to eliminate several of Nym's key commanders with a single decisive strike. I'm impressed by your initiative in this matter.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It should keep Nym busy for a while.
	if (response == "s_198d54a6")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_rewardForClaw (player, npc);

			//-- NPC: Indeed. Nym will have to find replacements and rebuild his command. I'm transferring a pay reward to your account. I will also inform High Command of the status of our operation.
			string_id message = new string_id (c_stringFile, "s_78af2fb0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the next step?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_94999d7b");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed. Nym will have to find replacements and rebuild his command. I'm transferring a pay reward to your account. I will also inform High Command of the status of our operation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the next step?
	if (response == "s_94999d7b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: For the time being, continue to harass Nym's forces. Naval Operations will deliver new orders when they want us to withdraw. So far this has been a high impact operation with little drain on resources. They will probably want to draw it out a bit longer before moving us to a new theater.
			string_id message = new string_id (c_stringFile, "s_46d97b9f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like a briefing.
			boolean hasResponse0 = false;
			if (!tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready to take an assignment.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2a924ab");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For the time being, continue to harass Nym's forces. Naval Operations will deliver new orders when they want us to withdraw. So far this has been a high impact operation with little drain on resources. They will probably want to draw it out a bit longer before moving us to a new theater.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like a briefing.
	if (response == "s_b2a924ab")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.
			string_id message = new string_id (c_stringFile, "s_cacf4333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5102164f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you, Flying Officer %NU. You've been making significant headway into reducing Nym's influence in the Lok system, so High Command has selected you for a special operation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the assignment?
	if (response == "s_6abf6436")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Our remaining agent within Nym's stronghold has succeeded in avoiding detection. His latest report indicates that Nym is frustrated by our progress and has ordered several of his captains to plan a heavy armed response.
			string_id message = new string_id (c_stringFile, "s_350d8ffa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of response?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fb7f6474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Our remaining agent within Nym's stronghold has succeeded in avoiding detection. His latest report indicates that Nym is frustrated by our progress and has ordered several of his captains to plan a heavy armed response.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of response?
	if (response == "s_fb7f6474")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We aren't sure and we need to find out. Contact with the agent has been limited. I need you to go to Nym's stronghold on Lok and find the agent. His name is Trizan Morv, but he is undercover as one of Nym's Fuel Technicians. See if you can find out from Morv what Nym has planned. If you get the opportunity, stop those plans.
			string_id message = new string_id (c_stringFile, "s_d424ba86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How will I recognize Morv?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_edeedb42");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We aren't sure and we need to find out. Contact with the agent has been limited. I need you to go to Nym's stronghold on Lok and find the agent. His name is Trizan Morv, but he is undercover as one of Nym's Fuel Technicians. See if you can find out from Morv what Nym has planned. If you get the opportunity, stop those plans.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How will I recognize Morv?
	if (response == "s_edeedb42")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_makeFindingAgent (player, npc);

			//-- NPC: Morv is disguised as one of Nym's fuel technicians. He is undercover so he will not be using his real name, you will have to find him. You can identify yourself to him with the codephrase 'I'm here to clean the antimatter condenser.' Be discrete. We don't usually send pilots to interact with intelligence officers, but in this case you may be best equipped to handle whatever Nym has planned.
			string_id message = new string_id (c_stringFile, "s_6f520748");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll do what I can.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_746fbd0c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Morv is disguised as one of Nym's fuel technicians. He is undercover so he will not be using his real name, you will have to find him. You can identify yourself to him with the codephrase 'I'm here to clean the antimatter condenser.' Be discrete. We don't usually send pilots to interact with intelligence officers, but in this case you may be best equipped to handle whatever Nym has planned.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do what I can.
	if (response == "s_746fbd0c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Return to me when you have information. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_d4648675");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot, it is time for you to learn some new skills. It is important that you keep sharp and keep your skills at the top of their game in order to succeed as an Imperial pilot. Are you prepared?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready for some training, sir.
	if (response == "s_61")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: You've shown considerable improvement in ability since joining the Squadron. It's time to allow you access to the next level of training and technology. I remind you that anything you learn is highly confidential, security rating Gamma Three. You may not share your knowledge with fellow officers of any rank at or below your own.
			string_id message = new string_id (c_stringFile, "s_44d66989");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let me think about this for a bit.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_280");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ae26c22");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: Flying Officer %NU, I have the highest level of respect for you, but I want to see more results in the operation against Nym before I authorize you for advanced training.
			string_id message = new string_id (c_stringFile, "s_311f2b4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89bc583c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 56);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Intelligence has identified several key elements of Nym's power base. I have a briefing prepared. Or if you've already examined the briefing material, you can select a type of operation to begin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like a briefing.
	if (response == "s_b2a924ab")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.
			string_id message = new string_id (c_stringFile, "s_cacf4333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5102164f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Nod and listen.)
	if (response == "s_5102164f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Second, Nym has established a significant trade in contraband and weapons technology. We believe this is his primary method of income. Fortunately, the majority of Nym's smuggler captains are only dubiously loyal. We believe that these criminals can be convinced to abandon Nym's cause with the application of modest force.
			string_id message = new string_id (c_stringFile, "s_1524504");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Grin and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45fa29cc");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Second, Nym has established a significant trade in contraband and weapons technology. We believe this is his primary method of income. Fortunately, the majority of Nym's smuggler captains are only dubiously loyal. We believe that these criminals can be convinced to abandon Nym's cause with the application of modest force.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Grin and listen.)
	if (response == "s_45fa29cc")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: While the smuggler trade is a primary source of income for Nym, he relies on piracy to make up the balance. You could fly as an 'escort' for some Imperial transports in the Lok system to bait and trap Nym's pirates. There's no need to capture them alive for interrogation.
			string_id message = new string_id (c_stringFile, "s_a329a20");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to take an assignment.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ac71da57");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: While the smuggler trade is a primary source of income for Nym, he relies on piracy to make up the balance. You could fly as an 'escort' for some Imperial transports in the Lok system to bait and trap Nym's pirates. There's no need to capture them alive for interrogation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_ac71da57")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to engage Nym's combat fleet.
	if (response == "s_45f4f7db")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveDuty1A (player, npc);

			//-- NPC: We have a tactical intelligence and telemetry probe inside the Lok System. Go to Lok and download enemy position information from the probe. Use that information to hunt Nym's fighter wings. Any damage you inflict will make it harder for Nym to carry out military operations.
			string_id message = new string_id (c_stringFile, "s_5c222b7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
	if (response == "s_a6363375")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveDuty1B (player, npc);

			//-- NPC: Nym has smuggler fleets moving through Lok on a regular basis. Since he controls most of the system, he doesn't worry about stealth. Intercept the fleets, destroy the escorts, and disable the smuggler transports. That should be enough show of force to convince the smuggler captains to surrender. Once you've secured the transports, escort them to interrogation.
			string_id message = new string_id (c_stringFile, "s_7d4535c0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like to trap a few pirates.
	if (response == "s_721e2818")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveDuty1C (player, npc);

			//-- NPC: Imperial Intelligence has supplied us with several convoy freighters disguised to emit weapon and equipment signatures. That should attract the interest of Nym's pirate gangs. Fly escort and eliminate the pirates as they show up.
			string_id message = new string_id (c_stringFile, "s_28a8e342");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b6b25f13");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready for training.
	if (response == "s_b0d3b474")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: You've shown considerable improvement in ability since joining the Squadron. It's time to allow you access to the next level of training and technology. I remind you that anything you learn is highly confidential, security rating Gamma Three. You may not share your knowledge with fellow officers of any rank at or below your own.
			string_id message = new string_id (c_stringFile, "s_44d66989");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let me think about this for a bit.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_280");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ae26c22");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: Flying Officer %NU, I have the highest level of respect for you, but I want to see more results in the operation against Nym before I authorize you for advanced training.
			string_id message = new string_id (c_stringFile, "s_311f2b4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89bc583c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 56);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We have a tactical intelligence and telemetry probe inside the Lok System. Go to Lok and download enemy position information from the probe. Use that information to hunt Nym's fighter wings. Any damage you inflict will make it harder for Nym to carry out military operations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Be on your guard. Nym may decide to dispatch his ace pilots once you're detected.
			string_id message = new string_id (c_stringFile, "s_2f3095bd");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nym has smuggler fleets moving through Lok on a regular basis. Since he controls most of the system, he doesn't worry about stealth. Intercept the fleets, destroy the escorts, and disable the smuggler transports. That should be enough show of force to convince the smuggler captains to surrender. Once you've secured the transports, escort them to interrogation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nym's officers may try to recover the transports, so be on your guard.
			string_id message = new string_id (c_stringFile, "s_435dd8f2");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Intelligence has supplied us with several convoy freighters disguised to emit weapon and equipment signatures. That should attract the interest of Nym's pirate gangs. Fly escort and eliminate the pirates as they show up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_b6b25f13")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighters aren't carrying anything valuable, but we don't want the pilots to die needlessly. Make sure you keep them alive.
			string_id message = new string_id (c_stringFile, "s_b1097134");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've shown considerable improvement in ability since joining the Squadron. It's time to allow you access to the next level of training and technology. I remind you that anything you learn is highly confidential, security rating Gamma Three. You may not share your knowledge with fellow officers of any rank at or below your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand.
	if (response == "s_280")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1A (player, npc))
		{
			//-- NPC: You are to be trained in advanced TIE combat operations. Your continued success will rely on your ability to make maximum use of all new Imperial technology.
			string_id message = new string_id (c_stringFile, "s_281");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_285");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1B (player, npc))
		{
			//-- NPC: You are to be trained in advanced weapons technology. Mastering proper use of these components is key.
			string_id message = new string_id (c_stringFile, "s_282");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_291");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_canBuySkill1C (player, npc))
		{
			//-- NPC: You are to be trained in pilot combat techniques. Developing new levels of tactical and physical excellence will be critical in realizing your true potential.
			string_id message = new string_id (c_stringFile, "s_283");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are to be trained in advanced reactor engineering algorithms. Understanding how to rapidly and efficiently manage the complex systems on board a fighter is a necessary step in your development as a pilot.
			string_id message = new string_id (c_stringFile, "s_284");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me think about this for a bit.
	if (response == "s_ae26c22")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're cleared for training, so let me know when you are ready to begin.
			string_id message = new string_id (c_stringFile, "s_7b25fbc3");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to be trained in advanced TIE combat operations. Your continued success will rely on your ability to make maximum use of all new Imperial technology.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_285")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_grantSkill1A (player, npc);

			//-- NPC: Use these study programs and destroy them when you have internalized the information. Report back to me when you are ready for a new assignment.
			string_id message = new string_id (c_stringFile, "s_294");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to be trained in advanced weapons technology. Mastering proper use of these components is key.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_291")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_grantSkill1B (player, npc);

			//-- NPC: Use these study programs and destroy them when you have internalized the information. Report back to me when you are ready for a new assignment.
			string_id message = new string_id (c_stringFile, "s_296");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to be trained in pilot combat techniques. Developing new levels of tactical and physical excellence will be critical in realizing your true potential.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_grantSkill1C (player, npc);

			//-- NPC: Use these study programs and destroy them when you have internalized the information. Report back to me when you are ready for a new assignment.
			string_id message = new string_id (c_stringFile, "s_298");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to be trained in advanced reactor engineering algorithms. Understanding how to rapidly and efficiently manage the complex systems on board a fighter is a necessary step in your development as a pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_293")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_grantSkill1D (player, npc);

			//-- NPC: Use these study programs and destroy them when you have internalized the information. Report back to me when you are ready for a new assignment.
			string_id message = new string_id (c_stringFile, "s_300");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Flying Officer %NU, I have the highest level of respect for you, but I want to see more results in the operation against Nym before I authorize you for advanced training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well, sir.
	if (response == "s_89bc583c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Report back to me when you're ready for an assignment.
			string_id message = new string_id (c_stringFile, "s_49f3270b");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Report on the status of the hostage rescue operation, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was able to recover all of our agents, sir.
	if (response == "s_ae061ee")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveReward2 (player, npc);

			//-- NPC: Outstanding work. You've managed to defuse what could have become a major incident. I'm impressed, HQ is impressed, and most of all the rest of Storm Squadron is impressed.
			string_id message = new string_id (c_stringFile, "s_e27dc0f8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Outstanding work. You've managed to defuse what could have become a major incident. I'm impressed, HQ is impressed, and most of all the rest of Storm Squadron is impressed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir.
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pilot Officer %NU, it's time that you were elevated to full operational status within the Squadron. You are hereby granted the rank of Flying Officer. Congratulations Flying Officer %NU. You are now a full member of the Storm Squadron. Fly with honor and fight with the Emperor's own fury.
			string_id message = new string_id (c_stringFile, "s_48636f93");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 60);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot Officer %NU, it's time that you were elevated to full operational status within the Squadron. You are hereby granted the rank of Flying Officer. Congratulations Flying Officer %NU. You are now a full member of the Storm Squadron. Fly with honor and fight with the Emperor's own fury.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: SS Command has authorized a duty pay increase for your exceptional performance and new rank. Since you are now a Flying Officer, you may select your own assignment.
			string_id message = new string_id (c_stringFile, "s_6927e4a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_127");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: SS Command has authorized a duty pay increase for your exceptional performance and new rank. Since you are now a Flying Officer, you may select your own assignment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_127")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: For the time being, Storm Squadron has been assigned to continue operations in the Lok system. High Command has decided that Nym has grown far too prominent and he represents a potential threat that must be checked.
			string_id message = new string_id (c_stringFile, "s_88311d58");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: He has extensive resources, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_afce570");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For the time being, Storm Squadron has been assigned to continue operations in the Lok system. High Command has decided that Nym has grown far too prominent and he represents a potential threat that must be checked.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He has extensive resources, sir.
	if (response == "s_afce570")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Exactly. Initial reports indicated that Nym was merely an outsystem pirate. Clearly those reports were incorrect. His operation has grown beyond a simple pirate outpost and he now poses a possible military threat should he enter the war on the side of the insurgency. We want to destroy his resource base and devastate his space power.
			string_id message = new string_id (c_stringFile, "s_203532fd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My thoughts exactly.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fe63bc1a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Exactly. Initial reports indicated that Nym was merely an outsystem pirate. Clearly those reports were incorrect. His operation has grown beyond a simple pirate outpost and he now poses a possible military threat should he enter the war on the side of the insurgency. We want to destroy his resource base and devastate his space power.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My thoughts exactly.
	if (response == "s_fe63bc1a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm glad we're on the same page. Since you have complete operational discretion, it will be up to you to decide how to attack Nym's power base. Other Storm Squadron operatives will be carrying out similar assignments. Nym will soon regret casting his lot in with the insurgents.
			string_id message = new string_id (c_stringFile, "s_8739f4b1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to begin immediately, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91223b5c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm glad we're on the same page. Since you have complete operational discretion, it will be up to you to decide how to attack Nym's power base. Other Storm Squadron operatives will be carrying out similar assignments. Nym will soon regret casting his lot in with the insurgents.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to begin immediately, sir.
	if (response == "s_91223b5c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Imperial Intelligence has identified several key elements of Nym's power base. I have a briefing prepared. Or if you've already examined the briefing material, you can select a type of operation to begin.
			string_id message = new string_id (c_stringFile, "s_135");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like a briefing.
			boolean hasResponse0 = false;
			if (!tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready to take an assignment.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2a924ab");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Intelligence has identified several key elements of Nym's power base. I have a briefing prepared. Or if you've already examined the briefing material, you can select a type of operation to begin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd like a briefing.
	if (response == "s_b2a924ab")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, there are several areas of Nym's power that need to be neutralized. First, the relative isolation of the Lok System has allowed Nym to build a significant rogue fleet. While the size of this fleet pales in comparison to that of the Empire, the potential for its use in rapid strike or terrorist operations cannot be ignored. It must be eliminated.
			string_id message = new string_id (c_stringFile, "s_cacf4333");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5102164f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to take an assignment.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have operational discretion to choose an assignment from the areas outlined by Imperial Intelligence in your briefing. I can also instruct you in the use of new technology if you think you're ready.
			string_id message = new string_id (c_stringFile, "s_5b4ccb84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd like to engage Nym's combat fleet.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to pressure Nym's smuggler fleet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd like to trap a few pirates.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm ready for training.
			boolean hasResponse3 = false;
			if (tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45f4f7db");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6363375");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721e2818");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0d3b474");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot, you're supposed to be on your ship! Get up there and intercept the hostage transport immediately!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_138")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveQuest2 (player, npc);

			//-- NPC: Return to me once you've freed the hostages and delivered them to safety. Your window to pull off this operation is limited, so get your jax in gear soldier! Dismissed!
			string_id message = new string_id (c_stringFile, "s_9940eb95");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Get suited up, you're being scrambled immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: The information you retrieved from the pirate officer has been decrypted. It's a transport and transfer schedule for the hostages. Nym apparently doesn't want them located in his main stronghold. He's having them moved to a secret location and he's moving them today.
			string_id message = new string_id (c_stringFile, "s_22461041");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_145");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The information you retrieved from the pirate officer has been decrypted. It's a transport and transfer schedule for the hostages. Nym apparently doesn't want them located in his main stronghold. He's having them moved to a secret location and he's moving them today.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_145")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nym may be planning on ransoming the officers or he may decide to hand them over to the insurgents. Imperial Intel thinks the latter is more likely. What better way to win favor with his fellow criminals. We need to recover our agents before they are moved to an unknown location.
			string_id message = new string_id (c_stringFile, "s_f7876bb3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to go.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d55f2579");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nym may be planning on ransoming the officers or he may decide to hand them over to the insurgents. Imperial Intel thinks the latter is more likely. What better way to win favor with his fellow criminals. We need to recover our agents before they are moved to an unknown location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to go.
	if (response == "s_d55f2579")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			//-- NPC: Here's the flight plan of the transport. Expect it to be under guard. The operatives on board are valuable: we want them alive. Your mission is to disable the transport. Fire on the engines or the reactor. Either one should be enough to give our boys a chance to take over the ship.
			string_id message = new string_id (c_stringFile, "s_5ea454fa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Are you sure they'll be able to capture the ship?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1940763a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's the flight plan of the transport. Expect it to be under guard. The operatives on board are valuable: we want them alive. Your mission is to disable the transport. Fire on the engines or the reactor. Either one should be enough to give our boys a chance to take over the ship.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you sure they'll be able to capture the ship?
	if (response == "s_1940763a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Positive. We suspect the only reason they don't try to escape now is Nym's armed escort. You need to take out the escort to give the operatives a shot at survival.
			string_id message = new string_id (c_stringFile, "s_cf8e92fc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bc375f79");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Positive. We suspect the only reason they don't try to escape now is Nym's armed escort. You need to take out the escort to give the operatives a shot at survival.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got it.
	if (response == "s_bc375f79")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Once the agents capture the ship, protect her while she calculates a hyperspace jump. The Lok region isn't well known, so it may take some time. Nym may try to recapture the ship or just take you both out. That cannot happen.
			string_id message = new string_id (c_stringFile, "s_986aeb7b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_154");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Once the agents capture the ship, protect her while she calculates a hyperspace jump. The Lok region isn't well known, so it may take some time. Nym may try to recapture the ship or just take you both out. That cannot happen.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_154")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			tatooine_imperial_trainer_2_action_giveQuest2 (player, npc);

			//-- NPC: Return to me once you've freed the hostages and delivered them to safety. Your window to pull off this operation is limited, so get your jax in gear soldier! Dismissed!
			string_id message = new string_id (c_stringFile, "s_156");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What have you learned so far, %NU?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Transfer the information to Oberhaur.)
	if (response == "s_f432c46f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, this is interesting. Looks like a manifest detailing the transport of the hostages. Part of it is encoded, but it doesn't look like a very strong form of encryption.
			string_id message = new string_id (c_stringFile, "s_263bc84b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perhaps Imperial Intelligence can crack it.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_22a1fc52");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, this is interesting. Looks like a manifest detailing the transport of the hostages. Part of it is encoded, but it doesn't look like a very strong form of encryption.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps Imperial Intelligence can crack it.
	if (response == "s_22a1fc52")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveReward1 (player, npc);

			//-- NPC: I know just the man for the job. Good work, pilot. Here is a consignment fee for completing the job. Stay close, though. Once this data is cracked we will need to move quickly to secure the hostages.
			string_id message = new string_id (c_stringFile, "s_60c9f5e1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know just the man for the job. Good work, pilot. Here is a consignment fee for completing the job. Stay close, though. Once this data is cracked we will need to move quickly to secure the hostages.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir.
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Go grab yourself a quick bite to eat and then report back. We'll have these logs cracked in a nanosec.
			string_id message = new string_id (c_stringFile, "s_5c1a4059");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you managed to track down information on the hostages, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've run into some trouble so far.
	if (response == "s_29d0a2db")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveQuest1 (player, npc);

			//-- NPC: Get back out there. You need to find one of the Nym's Lieutenants. He'll have probably entrusted them with information regarding the status of the hostages. Disable the pirate scum and inspect his ship for information.
			string_id message = new string_id (c_stringFile, "s_99306072");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Get back out there. You need to find one of the Nym's Lieutenants. He'll have probably entrusted them with information regarding the status of the hostages. Disable the pirate scum and inspect his ship for information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_169")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good luck, pilot.
			string_id message = new string_id (c_stringFile, "s_aceff31e");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Applicant, I hope you are well rested because today you begin working with Storm Squadron. Stand at attention for briefing!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Stand at attention.)
	if (response == "s_a787fa2e")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Imperial Intelligence organization has, for several years, conducted a small operation in the Lok system. The target of the operation is a pirate warlord named Nym. Lok holds little to no strategic value for the Empire, so only limited resources have been invested in the operation.
			string_id message = new string_id (c_stringFile, "s_46185cf9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Nod and listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Imperial Intelligence organization has, for several years, conducted a small operation in the Lok system. The target of the operation is a pirate warlord named Nym. Lok holds little to no strategic value for the Empire, so only limited resources have been invested in the operation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Nod and listen.)
	if (response == "s_175")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: While Lok has no overt value, there have been indications that the Rebellion may be working with the pirate Nym to undermine Imperial interests. Imperial Intelligence set up their infiltration operation to probe the pirate connections to the Rebellion and, if connections were found, sever them.
			string_id message = new string_id (c_stringFile, "s_5fdd804");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Continue to listen.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7a761694");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: While Lok has no overt value, there have been indications that the Rebellion may be working with the pirate Nym to undermine Imperial interests. Imperial Intelligence set up their infiltration operation to probe the pirate connections to the Rebellion and, if connections were found, sever them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Continue to listen.)
	if (response == "s_7a761694")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			//-- NPC: At 09:50 this morning, the primary ground agent in the Lok operation failed to contact his handler and deliver a status report. Imperial Intelligence immediately reported the failure, suspecting the agent had been compromised. At 11:32, shortly following that report, an as of yet uncompromised agent contacted the handler.
			string_id message = new string_id (c_stringFile, "s_eda80412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Listen intently.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f1f7e3da");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: At 09:50 this morning, the primary ground agent in the Lok operation failed to contact his handler and deliver a status report. Imperial Intelligence immediately reported the failure, suspecting the agent had been compromised. At 11:32, shortly following that report, an as of yet uncompromised agent contacted the handler.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Listen intently.)
	if (response == "s_f1f7e3da")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The agent indicated that the rest of the operation, five men total, had indeed been compromised and taken captive by pirate gunmen loyal to Nym.
			string_id message = new string_id (c_stringFile, "s_3cfac67e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The agent indicated that the rest of the operation, five men total, had indeed been compromised and taken captive by pirate gunmen loyal to Nym.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: As of this time, Nym has not delivered demands. It is unclear if the hostages are still alive. Imperial Intelligence and Naval Command have decided that the situation must be resolved before it spirals into a major incident. Storm Squadron has been assigned with the cleanup.
			string_id message = new string_id (c_stringFile, "s_4d6d2800");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As of this time, Nym has not delivered demands. It is unclear if the hostages are still alive. Imperial Intelligence and Naval Command have decided that the situation must be resolved before it spirals into a major incident. Storm Squadron has been assigned with the cleanup.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the plan?
	if (response == "s_d1be90a9")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we need to determine the status and location of the hostages. If the hostages are dead, we need to launch a hostile response. If the hostages are alive, we need to find and recover them. Your orders are to dispatch to the Lok system immediately.
			string_id message = new string_id (c_stringFile, "s_4afba144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Nym?
	if (response == "s_36fb7ae1")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nym is a Feeorin. The self proclaimed 'Lord' of the Lok system. He's a pirate and absolute scum. Many years ago, Nym was a war hero, when the Trade Federation attempted to capture Naboo. He seems to have forgotten what it means to be a hero and now he simply preys on the spacelanes.
			string_id message = new string_id (c_stringFile, "s_8ebfa37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What will Nym do to the hostages?
	if (response == "s_712ea0b5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We aren't entirely sure. It's out of character for him to murder needlessly. He's scum, but he's also smart enough to avoid Imperial scrutiny. The fact that he hasn't released the spies tells me that he's probably going to hand them over to the Rebellion. High Command probably considers that worse than if he just killed them.
			string_id message = new string_id (c_stringFile, "s_4d13db1b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First, we need to determine the status and location of the hostages. If the hostages are dead, we need to launch a hostile response. If the hostages are alive, we need to find and recover them. Your orders are to dispatch to the Lok system immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_186")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_giveQuest1 (player, npc);

			//-- NPC: Lok is remote and Nym's pirates travel openly. Locate one of his Lieutenants. Disable the pirate's ship and search it for information on the whereabouts of the hostages. You may then eliminate the pirate. We are uncertain of these officer's location but a good bet is you can find them around the Lok station after they have taken off from the planet surface on their way to hyperspace.
			string_id message = new string_id (c_stringFile, "s_7936c7db");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I get to Lok?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401fdcbd");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Lok is remote and Nym's pirates travel openly. Locate one of his Lieutenants. Disable the pirate's ship and search it for information on the whereabouts of the hostages. You may then eliminate the pirate. We are uncertain of these officer's location but a good bet is you can find them around the Lok station after they have taken off from the planet surface on their way to hyperspace.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Return to me with any information you find. It is critical that you move quickly on this. Good luck.
			string_id message = new string_id (c_stringFile, "s_15b68f56");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I get to Lok?
	if (response == "s_401fdcbd")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_hasHyperspaceShip (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: I've seen one of your ships in the hangar. It looks capable of hyperspace travel. After you launch, just open your Hyperspace Map and select the system to which you want to travel. Pretty simple, no?
			string_id message = new string_id (c_stringFile, "s_e0d37cc2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9288900f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Firstly, you will need a vessel capable of hyperspace travel. Unfortunately the Empire does not issue TIE craft equipped with the engine upgrades and hyperdrive abilities you will need.
			string_id message = new string_id (c_stringFile, "s_ad7e53a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why is that?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Then I will acquire a new ship, sir.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81198b45");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dcf3ae18");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've seen one of your ships in the hangar. It looks capable of hyperspace travel. After you launch, just open your Hyperspace Map and select the system to which you want to travel. Pretty simple, no?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand.
	if (response == "s_9288900f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			//-- NPC: Excellent. Carry on, Pilot. Good luck.
			string_id message = new string_id (c_stringFile, "s_16cbd029");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Firstly, you will need a vessel capable of hyperspace travel. Unfortunately the Empire does not issue TIE craft equipped with the engine upgrades and hyperdrive abilities you will need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why is that?
	if (response == "s_81198b45")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: The war has taken a significant toll... even considering the strength our great Galactic Empire. These more modern TIE designs are only available on the free market through third party engineers.
			string_id message = new string_id (c_stringFile, "s_6c1a8ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find one?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c81a4272");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then I will acquire a new ship, sir.
	if (response == "s_dcf3ae18")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			//-- NPC: Outstanding.
			string_id message = new string_id (c_stringFile, "s_238");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The war has taken a significant toll... even considering the strength our great Galactic Empire. These more modern TIE designs are only available on the free market through third party engineers.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find one?
	if (response == "s_c81a4272")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Most lawful Shipwrights will put ship chassis up for sale on vendors in local shops. So, locate a vendor or contact a Shipwright, find a TIE fighter that you're capable of handling, and purchase a suite of upgrades... including a modern engine.
			string_id message = new string_id (c_stringFile, "s_f542dcb0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I know what I can handle?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where can I find such a vendor?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will do that immediately.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c14f8951");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1d4a07d0");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Most lawful Shipwrights will put ship chassis up for sale on vendors in local shops. So, locate a vendor or contact a Shipwright, find a TIE fighter that you're capable of handling, and purchase a suite of upgrades... including a modern engine.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I know what I can handle?
	if (response == "s_c14f8951")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: I don't have time to explain this all to you, pilot! Double-check what skills you have. Make sure that you are certified to fly the ship you plan to buy.
			string_id message = new string_id (c_stringFile, "s_2358dc3e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_203");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find such a vendor?
	if (response == "s_1d4a07d0")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			//-- NPC: Tell you what. How about I just go out and buy everything for you?
			string_id message = new string_id (c_stringFile, "s_466882ff");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That would be nice. Thanks!
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Of course not, sir.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5d988999");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43862ef7");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do that immediately.
	if (response == "s_229")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.
			string_id message = new string_id (c_stringFile, "s_231");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't have time to explain this all to you, pilot! Double-check what skills you have. Make sure that you are certified to fly the ship you plan to buy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_203")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.
			string_id message = new string_id (c_stringFile, "s_fced7bf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c4789b");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_2c4789b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Outstanding. Now begone.
			string_id message = new string_id (c_stringFile, "s_884a3faf");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Tell you what. How about I just go out and buy everything for you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That would be nice. Thanks!
	if (response == "s_5d988999")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: No, that would not be nice! Check your planetary map, or just ask around to find a Shipwright vendor.
			string_id message = new string_id (c_stringFile, "s_773fa657");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do that immediately.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c64c7c75");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course not, sir.
	if (response == "s_43862ef7")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: Check your planetary map, or just ask around to find a Shipwright vendor.
			string_id message = new string_id (c_stringFile, "s_237eaf5c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do that immediately.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_221");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, that would not be nice! Check your planetary map, or just ask around to find a Shipwright vendor.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do that immediately.
	if (response == "s_c64c7c75")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Outstanding. Now begone.
			string_id message = new string_id (c_stringFile, "s_217");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Check your planetary map, or just ask around to find a Shipwright vendor.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do that immediately.
	if (response == "s_221")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.
			string_id message = new string_id (c_stringFile, "s_223");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_225");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_225")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Outstanding. Now begone.
			string_id message = new string_id (c_stringFile, "s_227");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Once you have launched, simply activate your Hyperspace map and select the system to which you would like to travel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Outstanding. Now begone.
			string_id message = new string_id (c_stringFile, "s_235");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nym is a Feeorin. The self proclaimed 'Lord' of the Lok system. He's a pirate and absolute scum. Many years ago, Nym was a war hero, when the Trade Federation attempted to capture Naboo. He seems to have forgotten what it means to be a hero and now he simply preys on the spacelanes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the plan?
	if (response == "s_d1be90a9")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we need to determine the status and location of the hostages. If the hostages are dead, we need to launch a hostile response. If the hostages are alive, we need to find and recover them. Your orders are to dispatch to the Lok system immediately.
			string_id message = new string_id (c_stringFile, "s_4afba144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Nym?
	if (response == "s_36fb7ae1")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nym is a Feeorin. The self proclaimed 'Lord' of the Lok system. He's a pirate and absolute scum. Many years ago, Nym was a war hero, when the Trade Federation attempted to capture Naboo. He seems to have forgotten what it means to be a hero and now he simply preys on the spacelanes.
			string_id message = new string_id (c_stringFile, "s_8ebfa37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What will Nym do to the hostages?
	if (response == "s_712ea0b5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We aren't entirely sure. It's out of character for him to murder needlessly. He's scum, but he's also smart enough to avoid Imperial scrutiny. The fact that he hasn't released the spies tells me that he's probably going to hand them over to the Rebellion. High Command probably considers that worse than if he just killed them.
			string_id message = new string_id (c_stringFile, "s_4d13db1b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We aren't entirely sure. It's out of character for him to murder needlessly. He's scum, but he's also smart enough to avoid Imperial scrutiny. The fact that he hasn't released the spies tells me that he's probably going to hand them over to the Rebellion. High Command probably considers that worse than if he just killed them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the plan?
	if (response == "s_d1be90a9")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we need to determine the status and location of the hostages. If the hostages are dead, we need to launch a hostile response. If the hostages are alive, we need to find and recover them. Your orders are to dispatch to the Lok system immediately.
			string_id message = new string_id (c_stringFile, "s_4afba144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Nym?
	if (response == "s_36fb7ae1")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nym is a Feeorin. The self proclaimed 'Lord' of the Lok system. He's a pirate and absolute scum. Many years ago, Nym was a war hero, when the Trade Federation attempted to capture Naboo. He seems to have forgotten what it means to be a hero and now he simply preys on the spacelanes.
			string_id message = new string_id (c_stringFile, "s_8ebfa37e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What will Nym do to the hostages?
	if (response == "s_712ea0b5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We aren't entirely sure. It's out of character for him to murder needlessly. He's scum, but he's also smart enough to avoid Imperial scrutiny. The fact that he hasn't released the spies tells me that he's probably going to hand them over to the Rebellion. High Command probably considers that worse than if he just killed them.
			string_id message = new string_id (c_stringFile, "s_4d13db1b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who is Nym?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What will Nym do to the hostages?
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36fb7ae1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_712ea0b5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch111 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad to meet you. I'm Commander Oberhaur, of Storm Squadron. Several members of the squadron are currently bunking here Bestine on shore leave. We operate from the ISD Accuser, in Tatooine Orbit. Being shut up in a Star Destroyer for weeks is bad for the men's morale, so we're down here for leave.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the Storm Squadron?
	if (response == "s_6ae72fac")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Storm Squadron is an elite special operations team within the Imperial Navy. Our jurisdiction extends to many worlds throughout the Outer Rim and we have a complement of fighters, transports, and equipment we maintain ourselves. Life in the Storm Squadron can be hard, some missions require operating with limited or no support behind enemy lines. Our pilots work hard and earn their pay.
			string_id message = new string_id (c_stringFile, "s_b9024ec3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the ISD Accuser?
	if (response == "s_6a67413c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Accuser is an Imperator class Star Destroyer currently on assignment here in the Tatooine system. She has a storied history and a long service record. Storm Squadron has served aboard the Accuser for as long as I can remember. The Accuser is on duty out here on the Rim to show the flag...a warning against Rebel activity.
			string_id message = new string_id (c_stringFile, "s_dacc15a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm here to apply to Storm Squadron.
	if (response == "s_e8e1f35f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are? Let me see your Authorization of Transfer. Make sure it's filled out and signed. They'll have my jax if I send along an incomplete form.
			string_id message = new string_id (c_stringFile, "s_e06d735b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Give him your Authorization of Transfer.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an Authorization of Transfer.
			boolean hasResponse1 = false;
			if (!tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3d28c95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58c1df5a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron is an elite special operations team within the Imperial Navy. Our jurisdiction extends to many worlds throughout the Outer Rim and we have a complement of fighters, transports, and equipment we maintain ourselves. Life in the Storm Squadron can be hard, some missions require operating with limited or no support behind enemy lines. Our pilots work hard and earn their pay.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the Storm Squadron?
	if (response == "s_6ae72fac")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Storm Squadron is an elite special operations team within the Imperial Navy. Our jurisdiction extends to many worlds throughout the Outer Rim and we have a complement of fighters, transports, and equipment we maintain ourselves. Life in the Storm Squadron can be hard, some missions require operating with limited or no support behind enemy lines. Our pilots work hard and earn their pay.
			string_id message = new string_id (c_stringFile, "s_b9024ec3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the ISD Accuser?
	if (response == "s_6a67413c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Accuser is an Imperator class Star Destroyer currently on assignment here in the Tatooine system. She has a storied history and a long service record. Storm Squadron has served aboard the Accuser for as long as I can remember. The Accuser is on duty out here on the Rim to show the flag...a warning against Rebel activity.
			string_id message = new string_id (c_stringFile, "s_dacc15a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm here to apply to Storm Squadron.
	if (response == "s_e8e1f35f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are? Let me see your Authorization of Transfer. Make sure it's filled out and signed. They'll have my jax if I send along an incomplete form.
			string_id message = new string_id (c_stringFile, "s_e06d735b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Give him your Authorization of Transfer.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an Authorization of Transfer.
			boolean hasResponse1 = false;
			if (!tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3d28c95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58c1df5a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Accuser is an Imperator class Star Destroyer currently on assignment here in the Tatooine system. She has a storied history and a long service record. Storm Squadron has served aboard the Accuser for as long as I can remember. The Accuser is on duty out here on the Rim to show the flag...a warning against Rebel activity.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the Storm Squadron?
	if (response == "s_6ae72fac")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Storm Squadron is an elite special operations team within the Imperial Navy. Our jurisdiction extends to many worlds throughout the Outer Rim and we have a complement of fighters, transports, and equipment we maintain ourselves. Life in the Storm Squadron can be hard, some missions require operating with limited or no support behind enemy lines. Our pilots work hard and earn their pay.
			string_id message = new string_id (c_stringFile, "s_b9024ec3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the ISD Accuser?
	if (response == "s_6a67413c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Accuser is an Imperator class Star Destroyer currently on assignment here in the Tatooine system. She has a storied history and a long service record. Storm Squadron has served aboard the Accuser for as long as I can remember. The Accuser is on duty out here on the Rim to show the flag...a warning against Rebel activity.
			string_id message = new string_id (c_stringFile, "s_dacc15a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Storm Squadron?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's the ISD Accuser?
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm here to apply to Storm Squadron.
			boolean hasResponse2 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm here to apply to Storm Squadron.
	if (response == "s_e8e1f35f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are? Let me see your Authorization of Transfer. Make sure it's filled out and signed. They'll have my jax if I send along an incomplete form.
			string_id message = new string_id (c_stringFile, "s_e06d735b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: (Give him your Authorization of Transfer.)
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an Authorization of Transfer.
			boolean hasResponse1 = false;
			if (!tatooine_imperial_trainer_2_condition_hasAuthOfTransfer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3d28c95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58c1df5a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are? Let me see your Authorization of Transfer. Make sure it's filled out and signed. They'll have my jax if I send along an incomplete form.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: (Give him your Authorization of Transfer.)
	if (response == "s_e3d28c95")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_hasUnsignedForm (player, npc))
		{
			//-- NPC: Pilot you have quite a history. Seems you've come through for us several times in the past. With that in mind...why is it you failed to follow simple instructions and sign this form? Until you confirm things with a digital signature, we can't move forward with your new assignment.
			string_id message = new string_id (c_stringFile, "s_9b9f672f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Uh, whoops?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3821ef35");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition_hasIncorrectForm (player, npc))
		{
			//-- NPC: Well, your history is very impressive. You have participated in several missions that required accuracy and skill. Why, then, did you sign this form with someone else's name? The Naval Command wants to give you an opportunity, but you are putting it at risk by playing games. Sign the form correctly and then we'll talk.
			string_id message = new string_id (c_stringFile, "s_802f576d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Uh, sorry.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2ef8844");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_trainer_2_condition_hasIncorrectForm (player, npc))
		{
			tatooine_imperial_trainer_2_action_removeAuthOfTransfer (player, npc);

			//-- NPC: This form looks correct. Pilot you have an impressive history. In a short period of time you've managed to rise above your station and perform at a level much higher than expected.
			string_id message = new string_id (c_stringFile, "s_8065ca4e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_260");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 119);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have an Authorization of Transfer.
	if (response == "s_58c1df5a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then I can't help you. This stuff has to be done by the books and unless you can prove your flight combat record, I can't deal with you in an official capacity.
			string_id message = new string_id (c_stringFile, "s_84a82bee");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What about in an unofficial capacity?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you, sir.
			boolean hasResponse1 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d7001705");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_278");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 123);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch115 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot you have quite a history. Seems you've come through for us several times in the past. With that in mind...why is it you failed to follow simple instructions and sign this form? Until you confirm things with a digital signature, we can't move forward with your new assignment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Uh, whoops?
	if (response == "s_3821ef35")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sign the form and then talk to me.
			string_id message = new string_id (c_stringFile, "s_183bb6da");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, your history is very impressive. You have participated in several missions that required accuracy and skill. Why, then, did you sign this form with someone else's name? The Naval Command wants to give you an opportunity, but you are putting it at risk by playing games. Sign the form correctly and then we'll talk.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Uh, sorry.
	if (response == "s_b2ef8844")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sign the form and then talk to me.
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch119 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This form looks correct. Pilot you have an impressive history. In a short period of time you've managed to rise above your station and perform at a level much higher than expected.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir.
	if (response == "s_260")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: So you want to join Storm Squadron? It won't be easy. We take tough jobs and we expect results. Unquestioned loyalty and a steel will are merely the most basic of prerequisites to being a member of Storm Squadron.
			string_id message = new string_id (c_stringFile, "s_451c0d14");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6047677");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch120 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you want to join Storm Squadron? It won't be easy. We take tough jobs and we expect results. Unquestioned loyalty and a steel will are merely the most basic of prerequisites to being a member of Storm Squadron.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready, sir.
	if (response == "s_6047677")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_trainer_2_action_makeStormSquadronInitiate (player, npc);

			//-- NPC: You may think you're ready, but I don't believe you really are. You need to prove you are capable of meeting my standards before I'll let you into the Storm Squadron. Just being considered is a grand honor and will look good on your record. If you can stay alive and perform to standard, you will be one of the few and great.
			string_id message = new string_id (c_stringFile, "s_355e31ff");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You may think you're ready, but I don't believe you really are. You need to prove you are capable of meeting my standards before I'll let you into the Storm Squadron. Just being considered is a grand honor and will look good on your record. If you can stay alive and perform to standard, you will be one of the few and great.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_265")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Go take it easy for now and report back to me when you are ready to begin. I've received new orders from Command and I need someone like you for the operation.
			string_id message = new string_id (c_stringFile, "s_7e66b604");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch123 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then I can't help you. This stuff has to be done by the books and unless you can prove your flight combat record, I can't deal with you in an official capacity.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about in an unofficial capacity?
	if (response == "s_d7001705")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I operate strictly on the record. Storm Squadron has a noble history within the service and we aren't about to tarnish it. Talk to Hakasha Sireen on Talus if you want something under the table.
			string_id message = new string_id (c_stringFile, "s_ed3a1afc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is Hakasha Sireen?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d96f60fb");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir.
	if (response == "s_278")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Come back with the form and we can get things moving.
			string_id message = new string_id (c_stringFile, "s_fb57ae40");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch124 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I operate strictly on the record. Storm Squadron has a noble history within the service and we aren't about to tarnish it. Talk to Hakasha Sireen on Talus if you want something under the table.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Hakasha Sireen?
	if (response == "s_d96f60fb")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Someone I've worked with in the past. A Zabrak with the trust of some very important, very dangerous people. If you work with her, watch your back. She's as likely to pay you with a blaster bolt as she is with credits.
			string_id message = new string_id (c_stringFile, "s_55b3e68b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ffaac8c1");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 125);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch125 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Someone I've worked with in the past. A Zabrak with the trust of some very important, very dangerous people. If you work with her, watch your back. She's as likely to pay you with a blaster bolt as she is with credits.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find her?
	if (response == "s_ffaac8c1")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: She is located at the Imperial compound on Talus. She's a core worlds kind of woman. Cloak and daggers, venom and roses.
			string_id message = new string_id (c_stringFile, "s_49d848b8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks for the information.
			boolean hasResponse0 = false;
			if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88796240");

				utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 126);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_trainer_2_handleBranch126 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: She is located at the Imperial compound on Talus. She's a core worlds kind of woman. Cloak and daggers, venom and roses.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks for the information.
	if (response == "s_88796240")
	{
		//-- [NOTE] 
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not a problem. It's always a pleasure to talk to a fellow serviceman. If you're interested in working with the Navy you might talk to Lt. Colzet in Bestine or Lt. Sinkko in Kadaara. Both are good men.
			string_id message = new string_id (c_stringFile, "s_392923da");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_imperial_trainer_2");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo(self, player);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_imperial_trainer_2");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!tatooine_imperial_trainer_2_condition_isPilot (player, npc))
	{
		//-- NPC: I'm sorry, I can't help you right now.
		string_id message = new string_id (c_stringFile, "s_21772e5a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isRebel (player, npc))
	{
		//-- NPC: I'm sorry, I can't help you now.
		string_id message = new string_id (c_stringFile, "s_4");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isPrivateer (player, npc))
	{
		//-- NPC: I'm sorry, I can't help you.
		string_id message = new string_id (c_stringFile, "s_6");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "slow_down");

		//-- NPC: Hold on, there, %TU.  I've got strict orders about you.  You're GROUNDED!  Finished!  You won't be flying for the Empire ever again!
		string_id message = new string_id (c_stringFile, "s_7a3165e7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why?  What did I do?
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f3ce4b22");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 4);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isOnMission (player, npc))
	{
		//-- NPC: It looks like you're busy with an assignment already. Come talk to me when you're done.
		string_id message = new string_id (c_stringFile, "s_a59c7bd7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes sir!
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: How do I travel to another system?
		boolean hasResponse1 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a30c1a53");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8d17fc6e");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 10);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!tatooine_imperial_trainer_2_condition_onMyTrack (player, npc))
	{
		//-- NPC: Greetings, pilot. I don't see you on the Storm Squadron roster. Why have you come here?
		string_id message = new string_id (c_stringFile, "s_61e8cd5e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I would like to request a mission.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4854758d");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 12);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isWorkingForAlozen (player, npc))
	{
		//-- NPC: You need to report to Field Commander Alozen at the Imperial outpost on Yavin 4. He will be handling your assignments for the time being.
		string_id message = new string_id (c_stringFile, "s_1e3ab8f3");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isReadyForMission4 (player, npc))
	{
		//-- NPC: High Command has decided that Nym's operations have been sufficiently neutralized. Any aid he renders the Rebellion from this point will be inconsequential to the outcome of the overall conflict. You are commended for your contribution to the Lok operation.
		string_id message = new string_id (c_stringFile, "s_9d8051f1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_987445c9");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 16);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_readyForTraining2 (player, npc))
	{
		//-- NPC: Pilot, it is time for you to learn some new skills. It is important that you keep sharp and keep your skills at the top of their game in order to succeed as an Imperial pilot. Are you ready?
		string_id message = new string_id (c_stringFile, "s_883a28d9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am ready for some training, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a4faf714");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 22);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
	{
		//-- NPC: Naval Command wants us to continue to harass Nym's forces. Their assessment of the situation is positive, but they feel that inflicting further damage is necessary. They want to avoid any possibility of having to bring a large force to bear against Nym should he decide to openly declare support for the insurgents.
		string_id message = new string_id (c_stringFile, "s_b56905cc");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'd like a briefing.
		boolean hasResponse0 = false;
		if (!tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm ready to take an assignment.
		boolean hasResponse1 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b2a924ab");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_71");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 35);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasDestroyedKimogilaClaw (player, npc))
	{
		//-- NPC: Report what you've found regarding Nym's plans.
		string_id message = new string_id (c_stringFile, "s_9f814876");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Relate the destruction of the Kimogila's Claw.]
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e44ffcd2");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 24);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isFindingAgent (player, npc))
	{
		//-- NPC: You can find our agent, Morv, at Nym's stronghold on Lok. He'll be disguised as a fuel technician. Use the codephrase *I'm here to clean the antimatter condenser.* He is probably not using his real name so you will have to find him. Report to me when you have his information.
		string_id message = new string_id (c_stringFile, "s_fea3d7f3");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isReadyForMission3 (player, npc))
	{
		//-- NPC: Good to see you, Flying Officer %NU. You've been making significant headway into reducing Nym's influence in the Lok system, so High Command has selected you for a special operation.
		string_id message = new string_id (c_stringFile, "s_70a7d20e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What's the assignment?
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6abf6436");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 29);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_readyforTraining (player, npc))
	{
		//-- NPC: Pilot, it is time for you to learn some new skills. It is important that you keep sharp and keep your skills at the top of their game in order to succeed as an Imperial pilot. Are you prepared?
		string_id message = new string_id (c_stringFile, "s_59");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am ready for some training, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_61");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 34);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isReadyForDutyBlock1 (player, npc))
	{
		//-- NPC: Imperial Intelligence has identified several key elements of Nym's power base. I have a briefing prepared. Or if you've already examined the briefing material, you can select a type of operation to begin.
		string_id message = new string_id (c_stringFile, "s_3321cb2d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'd like a briefing.
		boolean hasResponse0 = false;
		if (!tatooine_imperial_trainer_2_condition_rewardedForClaw (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm ready to take an assignment.
		boolean hasResponse1 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b2a924ab");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_71");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 35);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasWonQuest2 (player, npc))
	{
		//-- NPC: Report on the status of the hostage rescue operation, soldier.
		string_id message = new string_id (c_stringFile, "s_23ca92a1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I was able to recover all of our agents, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ae061ee");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 58);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasFailedQuest2 (player, npc))
	{
		//-- NPC: Pilot, you're supposed to be on your ship! Get up there and intercept the hostage transport immediately!
		string_id message = new string_id (c_stringFile, "s_3f799832");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, sir!
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_138");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 66);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isReadyForMission2 (player, npc))
	{
		doAnimationAction (npc, "point_forward");

		//-- NPC: Get suited up, you're being scrambled immediately.
		string_id message = new string_id (c_stringFile, "s_7f95f0a5");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, sir!
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_142");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 68);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasWonQuest1 (player, npc))
	{
		//-- NPC: What have you learned so far, %NU?
		string_id message = new string_id (c_stringFile, "s_f91e446d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: (Transfer the information to Oberhaur.)
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f432c46f");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 75);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_hasFailedQuest1 (player, npc))
	{
		//-- NPC: Have you managed to track down information on the hostages, pilot?
		string_id message = new string_id (c_stringFile, "s_706c2e4c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've run into some trouble so far.
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_29d0a2db");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 79);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition_isReadyForMission1 (player, npc))
	{
		doAnimationAction (npc, "salute1");

		//-- NPC: Applicant, I hope you are well rested because today you begin working with Storm Squadron. Stand at attention for briefing!
		string_id message = new string_id (c_stringFile, "s_eac44789");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: (Stand at attention.)
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a787fa2e");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 82);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
	{
		//-- NPC: Glad to meet you. I'm Commander Oberhaur, of Storm Squadron. Several members of the squadron are currently bunking here Bestine on shore leave. We operate from the ISD Accuser, in Tatooine Orbit. Being shut up in a Star Destroyer for weeks is bad for the men's morale, so we're down here for leave.
		string_id message = new string_id (c_stringFile, "s_82669139");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What is the Storm Squadron?
		boolean hasResponse0 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What's the ISD Accuser?
		boolean hasResponse1 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm here to apply to Storm Squadron.
		boolean hasResponse2 = false;
		if (tatooine_imperial_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6ae72fac");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6a67413c");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e8e1f35f");

			utils.setScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId", 111);

			npcStartConversation (player, npc, "tatooine_imperial_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_imperial_trainer_2")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

	if (branchId == 4 && tatooine_imperial_trainer_2_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && tatooine_imperial_trainer_2_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && tatooine_imperial_trainer_2_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && tatooine_imperial_trainer_2_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && tatooine_imperial_trainer_2_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && tatooine_imperial_trainer_2_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && tatooine_imperial_trainer_2_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && tatooine_imperial_trainer_2_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && tatooine_imperial_trainer_2_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && tatooine_imperial_trainer_2_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && tatooine_imperial_trainer_2_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && tatooine_imperial_trainer_2_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && tatooine_imperial_trainer_2_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_imperial_trainer_2_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && tatooine_imperial_trainer_2_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && tatooine_imperial_trainer_2_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && tatooine_imperial_trainer_2_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && tatooine_imperial_trainer_2_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && tatooine_imperial_trainer_2_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && tatooine_imperial_trainer_2_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && tatooine_imperial_trainer_2_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && tatooine_imperial_trainer_2_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && tatooine_imperial_trainer_2_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && tatooine_imperial_trainer_2_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && tatooine_imperial_trainer_2_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && tatooine_imperial_trainer_2_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && tatooine_imperial_trainer_2_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && tatooine_imperial_trainer_2_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && tatooine_imperial_trainer_2_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && tatooine_imperial_trainer_2_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && tatooine_imperial_trainer_2_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && tatooine_imperial_trainer_2_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && tatooine_imperial_trainer_2_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && tatooine_imperial_trainer_2_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && tatooine_imperial_trainer_2_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && tatooine_imperial_trainer_2_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && tatooine_imperial_trainer_2_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && tatooine_imperial_trainer_2_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && tatooine_imperial_trainer_2_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && tatooine_imperial_trainer_2_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && tatooine_imperial_trainer_2_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && tatooine_imperial_trainer_2_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && tatooine_imperial_trainer_2_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && tatooine_imperial_trainer_2_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && tatooine_imperial_trainer_2_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && tatooine_imperial_trainer_2_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && tatooine_imperial_trainer_2_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && tatooine_imperial_trainer_2_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && tatooine_imperial_trainer_2_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && tatooine_imperial_trainer_2_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && tatooine_imperial_trainer_2_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && tatooine_imperial_trainer_2_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && tatooine_imperial_trainer_2_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && tatooine_imperial_trainer_2_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && tatooine_imperial_trainer_2_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && tatooine_imperial_trainer_2_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && tatooine_imperial_trainer_2_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && tatooine_imperial_trainer_2_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && tatooine_imperial_trainer_2_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && tatooine_imperial_trainer_2_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && tatooine_imperial_trainer_2_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && tatooine_imperial_trainer_2_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && tatooine_imperial_trainer_2_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && tatooine_imperial_trainer_2_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && tatooine_imperial_trainer_2_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && tatooine_imperial_trainer_2_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && tatooine_imperial_trainer_2_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && tatooine_imperial_trainer_2_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && tatooine_imperial_trainer_2_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && tatooine_imperial_trainer_2_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && tatooine_imperial_trainer_2_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && tatooine_imperial_trainer_2_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && tatooine_imperial_trainer_2_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && tatooine_imperial_trainer_2_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && tatooine_imperial_trainer_2_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && tatooine_imperial_trainer_2_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && tatooine_imperial_trainer_2_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && tatooine_imperial_trainer_2_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && tatooine_imperial_trainer_2_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && tatooine_imperial_trainer_2_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 111 && tatooine_imperial_trainer_2_handleBranch111 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && tatooine_imperial_trainer_2_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && tatooine_imperial_trainer_2_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && tatooine_imperial_trainer_2_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 115 && tatooine_imperial_trainer_2_handleBranch115 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && tatooine_imperial_trainer_2_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 119 && tatooine_imperial_trainer_2_handleBranch119 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 120 && tatooine_imperial_trainer_2_handleBranch120 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && tatooine_imperial_trainer_2_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 123 && tatooine_imperial_trainer_2_handleBranch123 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 124 && tatooine_imperial_trainer_2_handleBranch124 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 125 && tatooine_imperial_trainer_2_handleBranch125 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 126 && tatooine_imperial_trainer_2_handleBranch126 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.tatooine_imperial_trainer_2.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

