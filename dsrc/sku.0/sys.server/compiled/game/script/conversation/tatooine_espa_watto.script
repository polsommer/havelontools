// ======================================================================
//
// tatooine_espa_watto.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.money;
include library.static_item;
include library.trial;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_espa_watto";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_espa_watto_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_startWatto (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "legacy_button_imp_pt2") ||
	groundquests.hasCompletedQuest(player, "legacy_button_reb_pt2") ||
	groundquests.isTaskActive(player, "legacy_watto_pointer", "legacy_watto_e1") ||
	groundquests.hasCompletedQuest(player, "legacy_watto_pointer");
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onBargain (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_wattos_bargain");
	int tat_espa_bargain_e1 = groundquests.getTaskId(questId1, "tat_espa_bargain_e1"); 
	
	boolean onTask = questIsTaskActive(questId1, tat_espa_bargain_e1, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_bargainTaskComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_wattos_bargain");
	int tat_espa_bargain_e1 = groundquests.getTaskId(questId1, "tat_espa_bargain_e2"); 
	
	boolean onTask = questIsTaskActive(questId1, tat_espa_bargain_e1, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onSquill (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_squill_diving");
	int tat_espa_bargain_e1 = groundquests.getTaskId(questId1, "tat_espa_squill_e1"); 
	
	boolean onTask = questIsTaskActive(questId1, tat_espa_bargain_e1, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_squillComplete (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "quest/tatooine_espa_squill_diving", "tat_espa_squill_e2") ||
			groundquests.hasCompletedQuest(player, "quest/tatooine_espa_squill_diving"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onHead (obj_id player, obj_id npc)
{
	return groundquests.isQuestActiveOrComplete(player, "legacy_head_start");
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onTogether (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "quest/legacy_together") || groundquests.isQuestActive(player, "quest/legacy_together_2");
	/*
	int questId1 = questGetQuestId("quest/legacy_together");
	int legacy_together_e1 = groundquests.getTaskId(questId1, "legacy_together_e1"); 
	
	boolean onTask = questIsTaskActive(questId1, legacy_together_e1, player);
	
	return onTask;
	*/
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_completedKick (obj_id player, obj_id npc)
{
	boolean hasCompleted = false;
	if(groundquests.isQuestActiveOrComplete(player, "naboo_kadaraa_tipping_the_balance_1"))
		hasCompleted = true;
	if(groundquests.hasCompletedQuest(player, "quest/legacy_naboo_kick_imp") || groundquests.hasCompletedQuest(player, "quest/legacy_naboo_kick_reb"))
		hasCompleted = true;
	
	return hasCompleted;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_bodyTaskComplete (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_v2", "tat_espa_body_building_e5");
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onBody (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "quest/tatooine_espa_body_building", "tat_espa_body_building_e1") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building", "tat_espa_body_building_e2") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building", "tat_espa_body_building_e3") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building", "tat_espa_body_building_e4") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_2", "tat_espa_body_building_e1") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_2", "tat_espa_body_building_e2") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_2", "tat_espa_body_building_e3") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_2", "tat_espa_body_building_e4") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_v2", "tat_espa_body_building_e1") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_v2", "tat_espa_body_building_e2") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_v2", "tat_espa_body_building_e3") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_body_building_v2", "tat_espa_body_building_e4"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onLegs (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work", "tat_espa_leg_work_e1") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work", "tat_espa_leg_work_e2") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work", "tat_espa_leg_work_e3") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work_2", "tat_espa_leg_work_e2") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work_2", "tat_espa_leg_work_e3"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_legTaskComplete (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work", "tat_espa_leg_work_e4") ||
			groundquests.isTaskActive(player, "quest/tatooine_espa_leg_work_2", "tat_espa_leg_work_e4"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onPod (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/tatooine_espa_pod_retrieval_v2");
	int tat_espa_pod_retrieval_e1 = groundquests.getTaskId(questId, "tat_espa_pod_retrieval_e1"); 
	int tat_espa_pod_retrieval_e2 = groundquests.getTaskId(questId, "tat_espa_pod_retrieval_e2"); 
	
	boolean onTask1 = questIsTaskActive(questId, tat_espa_pod_retrieval_e1, player);
	boolean onTask2 = questIsTaskActive(questId, tat_espa_pod_retrieval_e2, player);
	
	if (onTask1 || onTask2)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_podTaskComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_pod_retrieval_v2");
	int tat_espa_pod_retrieval_e3 = groundquests.getTaskId(questId1, "tat_espa_pod_retrieval_e5"); 
	
	boolean onTask = questIsTaskActive(questId1, tat_espa_pod_retrieval_e3, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onRepo (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "tatooine_espa_repo_man", "tat_espa_repo_man_e3");
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_repoTaskComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_repo_man");
	int tat_espa_repo_man_e4 = groundquests.getTaskId(questId1, "tat_espa_repo_man_e4"); 
	
	boolean onTask = questIsTaskActive(questId1, tat_espa_repo_man_e4, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_onJuiceDroid (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "legacy_together_2", "legacy_together_e5") ||
			groundquests.hasCompletedTask(player, "legacy_together_2", "legacy_together_e5")); 
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_wattoComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "legacy_together_2") ||
			groundquests.hasCompletedQuest(player, "legacy_together"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_startWattoComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/legacy_watto_pointer");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player));
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_bargainComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_wattos_bargain");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player));
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_bodyComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "quest/tatooine_espa_body_building") ||
			groundquests.hasCompletedQuest(player, "quest/tatooine_espa_body_building_2") ||
			groundquests.hasCompletedQuest(player, "quest/tatooine_espa_body_building_v2"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_legsComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "quest/tatooine_espa_leg_work") ||
			groundquests.hasCompletedQuest(player, "quest/tatooine_espa_leg_work_2") ||
			groundquests.hasCompletedQuest(player, "quest/tatooine_espa_leg_work_v2"));
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_podComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_pod_retrieval");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player));
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_repoComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/tatooine_espa_repo_man");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player));
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_lifeDayStapQuest (obj_id player, obj_id npc)
{
	if (hasObjVar(player, "boughtStap"))
		return false;
		
	if (groundquests.isTaskActive(player, "lifeday_stap_1", "talkSaun_needsStap") || 
		groundquests.isTaskActive(player, "lifeday_stap_1", "talkSaun_hasStap"))
		return true;

	if (groundquests.hasCompletedQuest(player, "lifeday_stap_1"))
		return true;
			
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_lifedayStapCheap (obj_id player, obj_id npc)
{
	if(money.hasFunds(player, money.MT_TOTAL, 10000))
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_lifedayStapExpensive (obj_id player, obj_id npc)
{
	if(money.hasFunds(player, money.MT_TOTAL, 20000))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_gotAnyTokens (obj_id player, obj_id npc)
{
	if(trial.getTokenTotal(player, trial.SPACE_DUTY_TOKEN) > 0)
	{
		return true;
	}
	
	return false;

}

// ----------------------------------------------------------------------

boolean tatooine_espa_watto_condition_gotEnoughTokens (obj_id player, obj_id npc)
{
	if(trial.getTokenTotal(player, trial.SPACE_DUTY_TOKEN) >= 50)
	{
		return true;
	}
	
	return false;

}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_espa_watto_action_grantBargain (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/tatooine_espa_wattos_bargain");
    groundquests.requestGrantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalGotoWatto (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "legacy_watto_e1");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantBody (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "tatooine_espa_body_building_v2");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalBargainComplete (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_bargain_e2");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantLegs (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/tatooine_espa_leg_work");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalBodyComplete (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_body_building_e5");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantPod (obj_id player, obj_id npc)
{
    int questId = questGetQuestId("quest/tatooine_espa_pod_retrieval_v2");
    groundquests.grantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalLegsReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_leg_work_e4");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantRepo (obj_id player, obj_id npc)
{
    int questId = questGetQuestId("quest/tatooine_espa_repo_man");
    groundquests.grantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantSquillQuest (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/tatooine_espa_squill_diving");
    groundquests.grantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantHead (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/legacy_head_start");
    groundquests.grantQuest(questId, player, npc, true);
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalBuildDroid (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_together_launch_e2");
	
	obj_id[] playerStuff = getInventoryAndEquipment(player);
	//loop thru players inventory, make sure they dont have the item already.
	for(int i =0; i < playerStuff.length; i++)
	{
		string templateName = getTemplateName(playerStuff[i]);
		if(templateName != null)
		{
			if(templateName == "object/tangible/loot/simple_kit/legacy_droid_head.iff")
				destroyObject(playerStuff[i]);
		}
	}
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalReturnDroid (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_together_launch_e6");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalPoweredDroid (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_together_launch_e8");
	

}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalWattoPointer (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_watto_e1");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalPodReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_pod_retrieval_e5");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantRepoReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_repo_man_e4");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantSquillReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_espa_squill_e2");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_grantGotoKick (obj_id player, obj_id npc)
{
	if (hasObjVar(player, "legacy.faction.imperialPath"))
	{
	    int questId1 = questGetQuestId("quest/legacy_naboo_kick_imp");
    	groundquests.grantQuest(questId1, player, npc, true);
	}
	else if (hasObjVar(player, "legacy.faction.rebelPath"))
	{
	    int questId2 = questGetQuestId("quest/legacy_naboo_kick_reb");
    	groundquests.grantQuest(questId2, player, npc, true);	
	}
	else
	{
		sendSystemMessageTestingOnly(player, "ERROR : No Naboo quest ObjVar Found!");
	}
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_signalDroidRetrieved (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "legacy_together_retrieved");
	
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_clearOldTogether (obj_id player, obj_id npc)
{
	if(groundquests.isQuestActive(player, "quest/legacy_together"))
	{
		groundquests.clearQuest(player, "quest/legacy_together");
		groundquests.grantQuest(player, "quest/legacy_together_2");
	}
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_stapCheap (obj_id player, obj_id npc)
{
	if(!hasObjVar(player, "boughtStap"))
	{
		obj_id speeder = static_item.createNewItemFunction("item_event_lifeday_stap_speeder", player);
		
		if(exists(speeder) && isIdValid(speeder))
		{
			money.requestPayment(player, npc, 10000, "no_handler", null, false);
			setObjVar(player, "boughtStap", 1);
		}
	}	
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_stapExpensive (obj_id player, obj_id npc)
{
	if(!hasObjVar(player, "boughtStap"))
	{
		obj_id speeder = static_item.createNewItemFunction("item_event_lifeday_stap_speeder", player);
		
		if(exists(speeder) && isIdValid(speeder))
		{
			money.requestPayment(player, npc, 20000, "no_handler", null, false);
			setObjVar(player, "boughtStap", 1);
		}
	}	
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_lifedayGreeting (obj_id player, obj_id npc)
{
	playMusic(player, "sound/lifeday_watto_greeting.snd");
}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_buyInterfaceScanner (obj_id player, obj_id npc)
{
	obj_id inventory = utils.getInventoryContainer(player);
	obj_id scanner = static_item.createNewItemFunction("item_interface_scanner_schematic", inventory);
	if(!isIdValid(scanner))
	{
		return;
	}
	//If the payment fails, destroy the item
	if(!trial.purchaseTokenItem(player, 50, trial.SPACE_DUTY_TOKEN))
	{
		destroyObject(scanner);
	}

}

// ----------------------------------------------------------------------

void tatooine_espa_watto_action_buyInterdictionGenerator (obj_id player, obj_id npc)
{
	obj_id inventory = utils.getInventoryContainer(player);
	obj_id generator = static_item.createNewItemFunction("item_interdiction_terminal_schematic", inventory);
	if(!isIdValid(generator))
	{
		return;
	}
	//If the payment fails, destroy the item
	if(!trial.purchaseTokenItem(player, 50, trial.SPACE_DUTY_TOKEN))
	{
		destroyObject(generator);
	}

}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_espa_watto_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you %TU?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am, I was told you had a deal for me.
	if (response == "s_307")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: I suppose so. I have a beautiful speeder model STAP-1 for the bargain price of 20,000 credits, eh?
			string_id message = new string_id (c_stringFile, "s_308");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Excellent, I will take it!
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_lifedayStapExpensive (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That hardly sounds like the deal I was promised. How about 10,000?
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_lifedayStapCheap (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I can't even afford half that.
			boolean hasResponse2 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_309");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_310");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I suppose so. I have a beautiful speeder model STAP-1 for the bargain price of 20,000 credits, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Excellent, I will take it!
	if (response == "s_309")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_stapExpensive (player, npc);

			//-- NPC: You will? I mean that's great! Here you go and let that slob know that we are even! He will get no more favors from me, eh?
			string_id message = new string_id (c_stringFile, "s_311");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That hardly sounds like the deal I was promised. How about 10,000?
	if (response == "s_310")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_stapCheap (player, npc);

			//-- NPC: Fine but you let that slob know that we are even now, eh?
			string_id message = new string_id (c_stringFile, "s_313");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't even afford half that.
	if (response == "s_315")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well I can go no lower than 10,000! You can't even afford that? Well, come back when you have the cash and hurry up, I don't like owing that slob anything.
			string_id message = new string_id (c_stringFile, "s_349");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eh, who are you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't you remember me, Watto?
	if (response == "s_241")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Of course I do. I just thought you were off to Naboo or some other place.
			string_id message = new string_id (c_stringFile, "s_242");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's right I was. I forgot where I'm going.
			boolean hasResponse0 = false;
			if (!tatooine_espa_watto_condition_completedKick (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I just came back to see you.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_301");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_243");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course I do. I just thought you were off to Naboo or some other place.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's right I was. I forgot where I'm going.
	if (response == "s_301")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantGotoKick (player, npc);

			//-- NPC: Here you go, now stop bothering me eh!
			string_id message = new string_id (c_stringFile, "s_302");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I just came back to see you.
	if (response == "s_243")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Why?
			string_id message = new string_id (c_stringFile, "s_244");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: For old times.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe I'd like to buy something?
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_245");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_399");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: For old times.
	if (response == "s_245")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Why?
			string_id message = new string_id (c_stringFile, "s_246");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Same old Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_247");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I'd like to buy something?
	if (response == "s_399")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: What are you looking for outlander?
			string_id message = new string_id (c_stringFile, "s_400");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got anything for an entrepreneurial spirit?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_375");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Same old Watto.
	if (response == "s_247")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Don't expect any discounts.
			string_id message = new string_id (c_stringFile, "s_248");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I won't Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_251");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Don't expect any discounts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I won't Watto.
	if (response == "s_251")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are not as dumb as you look.
			string_id message = new string_id (c_stringFile, "s_253");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you looking for outlander?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got anything for an entrepreneurial spirit?
	if (response == "s_375")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ahhh. Looking for that kinda item, eh? Items like that don't come cheap you know. And don't try to wave that credit chip around; it's not worth anything to me.
			string_id message = new string_id (c_stringFile, "s_379");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I got some tokens from the mercenary guild.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotAnyTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_384");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_422");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, she is powered now, I think. Looks like a very fine droid. Would you be willing to sell it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No Watto. I told you I need this droid.
	if (response == "s_232")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: Yes, yes. You did at that. I had to try, eh?
			string_id message = new string_id (c_stringFile, "s_233");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've come to expect that from you Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_234");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, yes. You did at that. I had to try, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've come to expect that from you Watto.
	if (response == "s_234")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: So you are done here now, I think?
			string_id message = new string_id (c_stringFile, "s_235");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I think I am.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_236");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you are done here now, I think?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I think I am.
	if (response == "s_236")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			tatooine_espa_watto_action_signalDroidRetrieved (player, npc);

			//-- NPC: Well, goodbye outlander. It was not so painful to work with you as I had first thought.
			string_id message = new string_id (c_stringFile, "s_237");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Coming from you Watto, that's quite a compliment.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_238");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, goodbye outlander. It was not so painful to work with you as I had first thought.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Coming from you Watto, that's quite a compliment.
	if (response == "s_238")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			tatooine_espa_watto_action_grantGotoKick (player, npc);

			//-- NPC: Eh, get out.
			string_id message = new string_id (c_stringFile, "s_239");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahh, you have the head, I see. Very good, very good.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you put this together with the other parts I gave you?
	if (response == "s_217")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shakefist");

			//-- NPC: What do you think this is? I am not your personal repairman. 
			string_id message = new string_id (c_stringFile, "s_218");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But you have been saying all this time you would put it together for me.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you think this is? I am not your personal repairman. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But you have been saying all this time you would put it together for me.
	if (response == "s_219")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			tatooine_espa_watto_action_signalBuildDroid (player, npc);

			//-- NPC: Eh, what is that? I said that? Okay, okay... I will do it. Just remember who helped who here.
			string_id message = new string_id (c_stringFile, "s_220");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hey, what about power?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_381");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eh, what is that? I said that? Okay, okay... I will do it. Just remember who helped who here.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hey, what about power?
	if (response == "s_381")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_signalPoweredDroid (player, npc);

			//-- NPC: Ok, she is powered now, I think. Looks like a very fine droid. Would you be willing to sell it?
			string_id message = new string_id (c_stringFile, "s_382");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No Watto. I told you I need this droid.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_232");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, she is powered now, I think. Looks like a very fine droid. Would you be willing to sell it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No Watto. I told you I need this droid.
	if (response == "s_232")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: Yes, yes. You did at that. I had to try, eh?
			string_id message = new string_id (c_stringFile, "s_233");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've come to expect that from you Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_234");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have nothing else for you right now, outlander. You should be working for Jabba.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't just come in to say 'Hi'?
	if (response == "s_212")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, go do the work for Jabba. I want to see this droid.
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine. See you later.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_214");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, go do the work for Jabba. I want to see this droid.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. See you later.
	if (response == "s_214")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, ootmian.
			string_id message = new string_id (c_stringFile, "s_215");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Amazing outlander! This is quite an achievement, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. It wasn't easy.
	if (response == "s_171")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Well, it's not over yet. I found the head, but you're not going to like where it is, I think.
			string_id message = new string_id (c_stringFile, "s_173");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you mean?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, it's not over yet. I found the head, but you're not going to like where it is, I think.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you mean?
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: I sold it to Jabba the Hutt.
			string_id message = new string_id (c_stringFile, "s_183");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Great. So who do I have to talk to.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I sold it to Jabba the Hutt.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Great. So who do I have to talk to.
	if (response == "s_185")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: I just told you, outlander. You must talk to Jabba.
			string_id message = new string_id (c_stringFile, "s_186");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: This is not good.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I just told you, outlander. You must talk to Jabba.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is not good.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: It is not good for you, eh? Jabba will not be easy to get to.
			string_id message = new string_id (c_stringFile, "s_188");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I didn't think he would be.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_189");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is not good for you, eh? Jabba will not be easy to get to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't think he would be.
	if (response == "s_189")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantHead (player, npc);

			//-- NPC: Well, here is where you can find him.
			string_id message = new string_id (c_stringFile, "s_190");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Squills fought you back, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yea, they are tough.
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "beckon");

			//-- NPC: Many have tried. I would suggest you just go slow and be careful.
			string_id message = new string_id (c_stringFile, "s_165");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Right, I will try again.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Many have tried. I would suggest you just go slow and be careful.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Right, I will try again.
	if (response == "s_167")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bye.
			string_id message = new string_id (c_stringFile, "s_169");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Squills are very tough, I think. Don't you agree, ootmian?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wouldn't know. I erased the data from my datapad.
	if (response == "s_343")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Probably for the best.
			string_id message = new string_id (c_stringFile, "s_344");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, you don't understand. I want to finish this.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_345");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Probably for the best.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, you don't understand. I want to finish this.
	if (response == "s_345")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: You are sure of this?
			string_id message = new string_id (c_stringFile, "s_346");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I am.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_347");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are sure of this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am.
	if (response == "s_347")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantSquillQuest (player, npc);

			//-- NPC: Here is the information again.
			string_id message = new string_id (c_stringFile, "s_348");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very good! You have the booster. The next part is the diagnostic controller. Without this the droid will not self-correct and will deviate from its normal behavior within minutes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find the diagnostic controller?
	if (response == "s_135")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's the tough part, I sold it to a man who said he was looking for someone he thought was lost in the squill caves.
			string_id message = new string_id (c_stringFile, "s_136");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are squills?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_137");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's the tough part, I sold it to a man who said he was looking for someone he thought was lost in the squill caves.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are squills?
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "scared");

			//-- NPC: Humanoid animals. They are vicious and cruel. You should be very careful if you try to recover this part.
			string_id message = new string_id (c_stringFile, "s_138");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be careful, just give me the location.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Humanoid animals. They are vicious and cruel. You should be very careful if you try to recover this part.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be careful, just give me the location.
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Ok, the cave and very likely your grave can be found here.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks for the optimism.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_153");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, the cave and very likely your grave can be found here.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks for the optimism.
	if (response == "s_153")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			tatooine_espa_watto_action_grantSquillQuest (player, npc);

			//-- NPC: Eh, leave me alone.
			string_id message = new string_id (c_stringFile, "s_158");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have not yet visited the owners of the booster controller yet, I think?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How did you know?
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh_cackle");

			//-- NPC: It would be obvious, I think.
			string_id message = new string_id (c_stringFile, "s_131");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will go see them now.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It would be obvious, I think.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will go see them now.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Sure, sure.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You did not make it to the owners of the booster controller, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I forgot where they are.
	if (response == "s_340")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			tatooine_espa_watto_action_grantRepo (player, npc);

			//-- NPC: They are here. Go now.
			string_id message = new string_id (c_stringFile, "s_341");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You were able to find the part, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I found its motivator. I was also able to bring you more salvage.
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_signalPodReward (player, npc);

			//-- NPC: Yes, this is very nice. Good work. Here take this. Also, I have found the ones that bought the booster controller for the droid's motivator, but I warn you; they are strange ones.
			string_id message = new string_id (c_stringFile, "s_124");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I've met plenty of 'strange ones' already.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, this is very nice. Good work. Here take this. Also, I have found the ones that bought the booster controller for the droid's motivator, but I warn you; they are strange ones.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've met plenty of 'strange ones' already.
	if (response == "s_125")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantRepo (player, npc);

			//-- NPC: They are in the slums. Here is the location. One of them left his swoop bike here as collateral but never paid. If you can get the part back I will throw in the swoop as well.
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_127");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They are in the slums. Here is the location. One of them left his swoop bike here as collateral but never paid. If you can get the part back I will throw in the swoop as well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_127")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Don't say I didn't warn you, outlander!
			string_id message = new string_id (c_stringFile, "s_128");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So, have you been to the pod wreck yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet.
	if (response == "s_98")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Ah, maybe a bit scared of the looters, eh?
			string_id message = new string_id (c_stringFile, "s_100");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, just haven't gotten around to it.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, maybe a bit scared of the looters, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, just haven't gotten around to it.
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			//-- NPC: Sure, sure. Of that there is no doubt.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be going there now.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_106");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sure, sure. Of that there is no doubt.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be going there now.
	if (response == "s_106")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: It makes little difference to me, outlander.
			string_id message = new string_id (c_stringFile, "s_108");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I told you the wreck would not have what you are looking for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I haven't been there yet.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wtf");

			//-- NPC: What? Why not?
			string_id message = new string_id (c_stringFile, "s_334");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My stupid datapad seems to be malfunctioning. It erased your information.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_335");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What? Why not?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My stupid datapad seems to be malfunctioning. It erased your information.
	if (response == "s_335")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Your datapad, eh? Well, maybe you should buy a new one.
			string_id message = new string_id (c_stringFile, "s_336");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can you give me the information again?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your datapad, eh? Well, maybe you should buy a new one.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can you give me the information again?
	if (response == "s_337")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantPod (player, npc);

			//-- NPC: Sure, ootmian. Make sure your datapad does not erase it again, eh?
			string_id message = new string_id (c_stringFile, "s_338");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahh, you were able to find the legs after all, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. An Imperial Captain confiscated them from Syndil.
	if (response == "s_191")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: What?! I want nothing to do with the Empire. Nothing but trouble!
			string_id message = new string_id (c_stringFile, "s_193");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I didn't mention you Watto. They are all dead anyway.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_222");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What?! I want nothing to do with the Empire. Nothing but trouble!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't mention you Watto. They are all dead anyway.
	if (response == "s_222")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_signalLegsReward (player, npc);

			//-- NPC: Ahh, that is good, I think. Dead men tell no tales, eh? Here is the money for the salvage, anyway.
			string_id message = new string_id (c_stringFile, "s_249");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, now what about the motivator. Do you know where it is?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_250");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahh, that is good, I think. Dead men tell no tales, eh? Here is the money for the salvage, anyway.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, now what about the motivator. Do you know where it is?
	if (response == "s_250")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: I sold it as two different parts. The first one went to a man who wanted to race the boonta eve classic podrace track. I told him he was crazy, but he would not listen. 
			string_id message = new string_id (c_stringFile, "s_252");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hasn't that race been outlawed?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_254");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I sold it as two different parts. The first one went to a man who wanted to race the boonta eve classic podrace track. I told him he was crazy, but he would not listen. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hasn't that race been outlawed?
	if (response == "s_254")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: For many years now. He said it would be no problem. He had sliced a new behavioral matrix into his R2 unit. All he needed from me was a high-torque droid motivator.
			string_id message = new string_id (c_stringFile, "s_256");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And the droid I am looking for had one?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_258");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For many years now. He said it would be no problem. He had sliced a new behavioral matrix into his R2 unit. All he needed from me was a high-torque droid motivator.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And the droid I am looking for had one?
	if (response == "s_258")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Aye, that it did. So I sold it to him at a special price.
			string_id message = new string_id (c_stringFile, "s_260");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very kind of you.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_262");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Aye, that it did. So I sold it to him at a special price.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very kind of you.
	if (response == "s_262")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Eh? Never you mind that. I found out a week later he had smashed up his pod on a canyon turn.
			string_id message = new string_id (c_stringFile, "s_264");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you have a location for that wreck?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_266");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eh? Never you mind that. I found out a week later he had smashed up his pod on a canyon turn.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you have a location for that wreck?
	if (response == "s_266")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Why would you want that? There must not be anything left after all the looters.
			string_id message = new string_id (c_stringFile, "s_268");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's worth a look. Do you have the location?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_270");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why would you want that? There must not be anything left after all the looters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's worth a look. Do you have the location?
	if (response == "s_270")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantPod (player, npc);

			//-- NPC: No. I don't, but I might know who does. An'Kwee is a swoop racer in Mos Entha. If she doesn't know where the wreck happened, she at least will know who does.
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why Watto, you're being especially helpful.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. I don't, but I might know who does. An'Kwee is a swoop racer in Mos Entha. If she doesn't know where the wreck happened, she at least will know who does.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why Watto, you're being especially helpful.
	if (response == "s_274")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Eh, you bring me good parts.
			string_id message = new string_id (c_stringFile, "s_276");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You do not have the legs yet. You need to get those before I can help you. I can't just make them appear you know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will go get them
	if (response == "s_182")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, ootmian.
			string_id message = new string_id (c_stringFile, "s_184");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you talked to that woman yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What woman?
	if (response == "s_328")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: The one I told you I sold the legs to.
			string_id message = new string_id (c_stringFile, "s_329");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What legs?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_330");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The one I told you I sold the legs to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What legs?
	if (response == "s_330")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			tatooine_espa_watto_action_grantLegs (player, npc);

			//-- NPC: You were looking for a droid. Here is where the buyer of the legs is. If you do not want to find this droid, ootmian, that is fine with me just don't waste my time, eh?
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have the chassis I see. It was not easy to get, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It wasn't too hard. Where do I find the legs?
	if (response == "s_175")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantLegs (player, npc);

			//-- NPC: A woman here in Mos Espa bought it, I think. Her name was ahh... Syndil, maybe. Anyway here is where you can find her.
			string_id message = new string_id (c_stringFile, "s_177");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_192");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A woman here in Mos Espa bought it, I think. Her name was ahh... Syndil, maybe. Anyway here is where you can find her.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.
	if (response == "s_192")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye.
			string_id message = new string_id (c_stringFile, "s_195");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did you talk to Peggin yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet.
	if (response == "s_199")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: It's your call, outlander. Go there or not, I do not care.
			string_id message = new string_id (c_stringFile, "s_201");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go soon.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_203");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's your call, outlander. Go there or not, I do not care.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go soon.
	if (response == "s_203")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Eh, as you wish.
			string_id message = new string_id (c_stringFile, "s_205");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you talked to Peggin yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I erased the data from my datapad.
	if (response == "s_325")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			tatooine_espa_watto_action_grantBody (player, npc);

			//-- NPC: He is here in Mos Espa, ootmian. Here are the directions again.
			string_id message = new string_id (c_stringFile, "s_326");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not bad, not bad. You have my parts. They will think twice before stealing from me again, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Now, how about that information?
	if (response == "s_257")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: What information is it you want?
			string_id message = new string_id (c_stringFile, "s_261");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Don't play games with me, Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What information is it you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't play games with me, Watto.
	if (response == "s_265")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Ah yes, the lost droid. You see, I broke it up. It is no more.
			string_id message = new string_id (c_stringFile, "s_269");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What!? Why you little blue flying...
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_273");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah yes, the lost droid. You see, I broke it up. It is no more.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What!? Why you little blue flying...
	if (response == "s_273")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: But I know where some of the parts went. If you get them for me I can help you rebuild it.
			string_id message = new string_id (c_stringFile, "s_277");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where are the parts, Watto?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_279");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: But I know where some of the parts went. If you get them for me I can help you rebuild it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the parts, Watto?
	if (response == "s_279")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			tatooine_espa_watto_action_grantBody (player, npc);

			//-- NPC: I don't know where all of them are. I will find out. I do know the chassis was sold to Peggin. You can find him across town. Here is his address.
			string_id message = new string_id (c_stringFile, "s_281");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_283");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know where all of them are. I will find out. I do know the chassis was sold to Peggin. You can find him across town. Here is his address.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks
	if (response == "s_283")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Yes, of course.
			string_id message = new string_id (c_stringFile, "s_285");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are back I see, and without the parts. They were too much for you, I think, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I haven't gone there yet.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: What? No parts, no information. You know the deal!
			string_id message = new string_id (c_stringFile, "s_291");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will return shortly
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What? No parts, no information. You know the deal!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will return shortly
	if (response == "s_293")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: You said that last time, outlander.
			string_id message = new string_id (c_stringFile, "s_295");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are back I see, and without the parts. They were too much for you, I think?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was I supposed to do again?
	if (response == "s_318")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: WHAT? Maybe I have the wrong person for this if you can't remember simple directions!
			string_id message = new string_id (c_stringFile, "s_319");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Come on Watto, I can do this.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_320");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: WHAT? Maybe I have the wrong person for this if you can't remember simple directions!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come on Watto, I can do this.
	if (response == "s_320")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok, try again. I hope you have better luck this time, eh?
			string_id message = new string_id (c_stringFile, "s_321");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure I will, Watto.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_322");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, try again. I hope you have better luck this time, eh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure I will, Watto.
	if (response == "s_322")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantBargain (player, npc);

			//-- NPC: The deadbeats are still there, lucky for you. Here is their location.
			string_id message = new string_id (c_stringFile, "s_323");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good day to you. What do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am looking to purchase a droid.
	if (response == "s_312")
	{
		tatooine_espa_watto_action_signalWattoPointer (player, npc);

		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ahh...thee has come to the right place, I think. I have many droids.
			string_id message = new string_id (c_stringFile, "s_314");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: This is a special droid.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_316");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahh...thee has come to the right place, I think. I have many droids.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is a special droid.
	if (response == "s_316")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Then thee must be willing to pay a special price, no?
			string_id message = new string_id (c_stringFile, "s_350");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The droid came in with a special cargo from Tansarii Station.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_352");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then thee must be willing to pay a special price, no?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The droid came in with a special cargo from Tansarii Station.
	if (response == "s_352")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: I know this droid. It has already been sold. You can't have it.
			string_id message = new string_id (c_stringFile, "s_354");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Could you tell me who bought it? I must get this droid.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_356");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know this droid. It has already been sold. You can't have it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Could you tell me who bought it? I must get this droid.
	if (response == "s_356")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			//-- NPC: What do you think I am? You come in here wanting me to give you directions to buy a droid from someone else? Well, it's not going to happen!
			string_id message = new string_id (c_stringFile, "s_358");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe I could do something for you in exchange?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_360");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you think I am? You come in here wanting me to give you directions to buy a droid from someone else? Well, it's not going to happen!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I could do something for you in exchange?
	if (response == "s_360")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah yes, maybe you could at that. There are these deadbeats that have something of mine. You could get it back from them, I think.
			string_id message = new string_id (c_stringFile, "s_362");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where are these...'deadbeats'?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_364");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 102);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah yes, maybe you could at that. There are these deadbeats that have something of mine. You could get it back from them, I think.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are these...'deadbeats'?
	if (response == "s_364")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_grantBargain (player, npc);

			//-- NPC: Here in Mos Espa still. I will show you on your datapad.
			string_id message = new string_id (c_stringFile, "s_366");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will return shortly.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here in Mos Espa still. I will show you on your datapad.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will return shortly.
	if (response == "s_368")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good luck to you.
			string_id message = new string_id (c_stringFile, "s_370");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good day to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you have to sell?
	if (response == "s_374")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "hands_above_head");

			//-- NPC: Parts. All kinds of parts. What do you think this is?
			string_id message = new string_id (c_stringFile, "s_376");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got anything for an entrepreneurial spirit?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_375");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Parts. All kinds of parts. What do you think this is?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got anything for an entrepreneurial spirit?
	if (response == "s_375")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ahhh. Looking for that kinda item, eh? Items like that don't come cheap you know. And don't try to wave that credit chip around; it's not worth anything to me.
			string_id message = new string_id (c_stringFile, "s_379");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I got some tokens from the mercenary guild.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotAnyTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_384");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_422");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ahhh. Looking for that kinda item, eh? Items like that don't come cheap you know. And don't try to wave that credit chip around; it's not worth anything to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I got some tokens from the mercenary guild.
	if (response == "s_384")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah. Those might be worth a bit to me. Well, I can sell you a schematic for an interface scanner or a schematic for an Interdiction Burst Generator. Each one will cost you 50 tokens.
			string_id message = new string_id (c_stringFile, "s_386");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take the interface scanner schematic.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take the interdiction burst generator.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's too rich for my blood.
			boolean hasResponse2 = false;
			if (!tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What's an interface scanner?
			boolean hasResponse3 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: What's an interdiction burst generator.
			boolean hasResponse4 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse5 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come to think of it, I don't need any parts.
	if (response == "s_422")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, outlander.
			string_id message = new string_id (c_stringFile, "s_424");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah. Those might be worth a bit to me. Well, I can sell you a schematic for an interface scanner or a schematic for an Interdiction Burst Generator. Each one will cost you 50 tokens.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interface scanner schematic.
	if (response == "s_388")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterfaceScanner (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interdiction burst generator.
	if (response == "s_391")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterdictionGenerator (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_394");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's too rich for my blood.
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bah, get outa here you cheapskate. Stop wasting my time.
			string_id message = new string_id (c_stringFile, "s_398");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interface scanner?
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: An interface scanner is a tool that'll let you deconstruct a Droid Interface from a space ship. While this will destroy the interface, sometimes you can get lucky and find useful traces of information left behind in the memory banks of the interface.
			string_id message = new string_id (c_stringFile, "s_404");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take the interface scanner schematic.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take the interdiction burst generator.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's too rich for my blood.
			boolean hasResponse2 = false;
			if (!tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What's an interface scanner?
			boolean hasResponse3 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: What's an interdiction burst generator.
			boolean hasResponse4 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse5 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interdiction burst generator.
	if (response == "s_406")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Eh.. not quite legal. Don't complain to me if you get caught by an Imperial police scanner. But you know how the Empire uses interdiction cruisers to create gravity wells? Gravity wells that can force ships out of hyperspace?
			string_id message = new string_id (c_stringFile, "s_408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, but those are huge. 
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come to think of it, I don't need any parts.
	if (response == "s_418")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, outlander.
			string_id message = new string_id (c_stringFile, "s_420");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An interface scanner is a tool that'll let you deconstruct a Droid Interface from a space ship. While this will destroy the interface, sometimes you can get lucky and find useful traces of information left behind in the memory banks of the interface.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interface scanner schematic.
	if (response == "s_388")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterfaceScanner (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interdiction burst generator.
	if (response == "s_391")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterdictionGenerator (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_394");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's too rich for my blood.
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bah, get outa here you cheapskate. Stop wasting my time.
			string_id message = new string_id (c_stringFile, "s_398");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interface scanner?
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: An interface scanner is a tool that'll let you deconstruct a Droid Interface from a space ship. While this will destroy the interface, sometimes you can get lucky and find useful traces of information left behind in the memory banks of the interface.
			string_id message = new string_id (c_stringFile, "s_404");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take the interface scanner schematic.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take the interdiction burst generator.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's too rich for my blood.
			boolean hasResponse2 = false;
			if (!tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What's an interface scanner?
			boolean hasResponse3 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: What's an interdiction burst generator.
			boolean hasResponse4 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse5 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interdiction burst generator.
	if (response == "s_406")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Eh.. not quite legal. Don't complain to me if you get caught by an Imperial police scanner. But you know how the Empire uses interdiction cruisers to create gravity wells? Gravity wells that can force ships out of hyperspace?
			string_id message = new string_id (c_stringFile, "s_408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, but those are huge. 
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come to think of it, I don't need any parts.
	if (response == "s_418")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, outlander.
			string_id message = new string_id (c_stringFile, "s_420");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eh.. not quite legal. Don't complain to me if you get caught by an Imperial police scanner. But you know how the Empire uses interdiction cruisers to create gravity wells? Gravity wells that can force ships out of hyperspace?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, but those are huge. 
	if (response == "s_410")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yeah, the energy requirement to maintain a large field would require a capital ship, but the burst generator will allow you to create a very brief gravity field in a very limited area. Sure it won't allow you to prevent anyone from escaping but if you know the precise time and place to use the generator, it can create a gravity field for just long enough to pull a convoy out of hyperspace.
			string_id message = new string_id (c_stringFile, "s_412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, so it's only useful with an exact flight plan of your target?
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_414");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yeah, the energy requirement to maintain a large field would require a capital ship, but the burst generator will allow you to create a very brief gravity field in a very limited area. Sure it won't allow you to prevent anyone from escaping but if you know the precise time and place to use the generator, it can create a gravity field for just long enough to pull a convoy out of hyperspace.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, so it's only useful with an exact flight plan of your target?
	if (response == "s_414")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're not as dumb as you look outlander! Enough story telling, pay me or get out of my face.
			string_id message = new string_id (c_stringFile, "s_416");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take the interface scanner schematic.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take the interdiction burst generator.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's too rich for my blood.
			boolean hasResponse2 = false;
			if (!tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What's an interface scanner?
			boolean hasResponse3 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: What's an interdiction burst generator.
			boolean hasResponse4 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse5 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_espa_watto_handleBranch115 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're not as dumb as you look outlander! Enough story telling, pay me or get out of my face.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interface scanner schematic.
	if (response == "s_388")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterfaceScanner (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take the interdiction burst generator.
	if (response == "s_391")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			tatooine_espa_watto_action_buyInterdictionGenerator (player, npc);

			//-- NPC: Very well. Here you go.
			string_id message = new string_id (c_stringFile, "s_394");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's too rich for my blood.
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bah, get outa here you cheapskate. Stop wasting my time.
			string_id message = new string_id (c_stringFile, "s_398");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interface scanner?
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: An interface scanner is a tool that'll let you deconstruct a Droid Interface from a space ship. While this will destroy the interface, sometimes you can get lucky and find useful traces of information left behind in the memory banks of the interface.
			string_id message = new string_id (c_stringFile, "s_404");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take the interface scanner schematic.
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll take the interdiction burst generator.
			boolean hasResponse1 = false;
			if (tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's too rich for my blood.
			boolean hasResponse2 = false;
			if (!tatooine_espa_watto_condition_gotEnoughTokens (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: What's an interface scanner?
			boolean hasResponse3 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: What's an interdiction burst generator.
			boolean hasResponse4 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Come to think of it, I don't need any parts.
			boolean hasResponse5 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_388");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_391");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's an interdiction burst generator.
	if (response == "s_406")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Eh.. not quite legal. Don't complain to me if you get caught by an Imperial police scanner. But you know how the Empire uses interdiction cruisers to create gravity wells? Gravity wells that can force ships out of hyperspace?
			string_id message = new string_id (c_stringFile, "s_408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, but those are huge. 
			boolean hasResponse0 = false;
			if (tatooine_espa_watto_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come to think of it, I don't need any parts.
	if (response == "s_418")
	{
		//-- [NOTE] 
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			//-- NPC: Goodbye, outlander.
			string_id message = new string_id (c_stringFile, "s_420");
			utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_espa_watto");

    setCondition (self, CONDITION_CONVERSABLE);
    setCondition (self, CONDITION_INTERESTING);
    setInvulnerable (self, true);

    ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
    setCondition (self, CONDITION_CONVERSABLE);
    setCondition (self, CONDITION_INTERESTING);
    setInvulnerable (self, true);

    ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_espa_watto");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_lifeDayStapQuest (player, npc))
	{
		tatooine_espa_watto_action_lifedayGreeting (player, npc);

		//-- NPC: Are you %TU?
		string_id message = new string_id (c_stringFile, "s_306");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am, I was told you had a deal for me.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_307");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 1);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_espa_watto", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_wattoComplete (player, npc))
	{
		doAnimationAction (npc, "shrug_hands");

		//-- NPC: Eh, who are you?
		string_id message = new string_id (c_stringFile, "s_240");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Don't you remember me, Watto?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_241");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 6);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onJuiceDroid (player, npc))
	{
		doAnimationAction (npc, "squirm");

		tatooine_espa_watto_action_signalPoweredDroid (player, npc);

		//-- NPC: Ok, she is powered now, I think. Looks like a very fine droid. Would you be willing to sell it?
		string_id message = new string_id (c_stringFile, "s_231");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No Watto. I told you I need this droid.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_232");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 14);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onTogether (player, npc))
	{
		doAnimationAction (npc, "listen");

		tatooine_espa_watto_action_clearOldTogether (player, npc);

		//-- NPC: Ahh, you have the head, I see. Very good, very good.
		string_id message = new string_id (c_stringFile, "s_216");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Can you put this together with the other parts I gave you?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_217");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 19);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onHead (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		//-- NPC: I have nothing else for you right now, outlander. You should be working for Jabba.
		string_id message = new string_id (c_stringFile, "s_211");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I can't just come in to say 'Hi'?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_212");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 23);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_squillComplete (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_grantSquillReward (player, npc);

		//-- NPC: Amazing outlander! This is quite an achievement, eh?
		string_id message = new string_id (c_stringFile, "s_162");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks. It wasn't easy.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_171");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 26);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onSquill (player, npc))
	{
		doAnimationAction (npc, "shrug_shoulders");

		//-- NPC: Squills fought you back, eh?
		string_id message = new string_id (c_stringFile, "s_160");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yea, they are tough.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_163");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 32);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_repoComplete (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Squills are very tough, I think. Don't you agree, ootmian?
		string_id message = new string_id (c_stringFile, "s_342");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I wouldn't know. I erased the data from my datapad.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_343");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 35);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_repoTaskComplete (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_grantRepoReward (player, npc);

		//-- NPC: Very good! You have the booster. The next part is the diagnostic controller. Without this the droid will not self-correct and will deviate from its normal behavior within minutes.
		string_id message = new string_id (c_stringFile, "s_134");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Where can I find the diagnostic controller?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_135");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 39);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onRepo (player, npc))
	{
		//-- NPC: You have not yet visited the owners of the booster controller yet, I think?
		string_id message = new string_id (c_stringFile, "s_129");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: How did you know?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_130");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 44);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_podComplete (player, npc))
	{
		//-- NPC: You did not make it to the owners of the booster controller, eh?
		string_id message = new string_id (c_stringFile, "s_339");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I forgot where they are.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_340");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 47);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_podTaskComplete (player, npc))
	{
		doAnimationAction (npc, "huh");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: You were able to find the part, eh?
		string_id message = new string_id (c_stringFile, "s_121");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I found its motivator. I was also able to bring you more salvage.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_122");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 49);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onPod (player, npc))
	{
		//-- NPC: So, have you been to the pod wreck yet?
		string_id message = new string_id (c_stringFile, "s_96");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not yet.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_98");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 53);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_legsComplete (player, npc))
	{
		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: I told you the wreck would not have what you are looking for.
		string_id message = new string_id (c_stringFile, "s_332");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I haven't been there yet.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_333");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 57);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_legTaskComplete (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Ahh, you were able to find the legs after all, eh?
		string_id message = new string_id (c_stringFile, "s_181");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. An Imperial Captain confiscated them from Syndil.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_191");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 61);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onLegs (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: You do not have the legs yet. You need to get those before I can help you. I can't just make them appear you know.
		string_id message = new string_id (c_stringFile, "s_179");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I will go get them
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_182");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 71);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_bodyComplete (player, npc))
	{
		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Have you talked to that woman yet?
		string_id message = new string_id (c_stringFile, "s_327");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What woman?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_328");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 73);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_bodyTaskComplete (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		tatooine_espa_watto_action_signalBodyComplete (player, npc);

		//-- NPC: You have the chassis I see. It was not easy to get, eh?
		string_id message = new string_id (c_stringFile, "s_174");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It wasn't too hard. Where do I find the legs?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_175");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 76);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onBody (player, npc))
	{
		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Did you talk to Peggin yet?
		string_id message = new string_id (c_stringFile, "s_197");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not yet.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_199");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 79);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_bargainComplete (player, npc))
	{
		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Have you talked to Peggin yet?
		string_id message = new string_id (c_stringFile, "s_324");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, I erased the data from my datapad.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_325");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 82);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_bargainTaskComplete (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_signalBargainComplete (player, npc);

		//-- NPC: Not bad, not bad. You have my parts. They will think twice before stealing from me again, eh?
		string_id message = new string_id (c_stringFile, "s_210");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Now, how about that information?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_257");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 84);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_onBargain (player, npc))
	{
		doAnimationAction (npc, "laugh");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: You are back I see, and without the parts. They were too much for you, I think, eh?
		string_id message = new string_id (c_stringFile, "s_287");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, I haven't gone there yet.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_289");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 90);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_startWattoComplete (player, npc))
	{
		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: You are back I see, and without the parts. They were too much for you, I think?
		string_id message = new string_id (c_stringFile, "s_317");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What was I supposed to do again?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_318");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 93);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition_startWatto (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Good day to you. What do you want?
		string_id message = new string_id (c_stringFile, "s_304");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am looking to purchase a droid.
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_312");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 97);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_espa_watto_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		tatooine_espa_watto_action_facePlayer (player, npc);

		//-- NPC: Good day to you.
		string_id message = new string_id (c_stringFile, "s_372");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do you have to sell?
		boolean hasResponse0 = false;
		if (tatooine_espa_watto_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_374");

			utils.setScriptVar (player, "conversation.tatooine_espa_watto.branchId", 105);

			npcStartConversation (player, npc, "tatooine_espa_watto", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_espa_watto")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.tatooine_espa_watto.branchId");

	if (branchId == 1 && tatooine_espa_watto_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && tatooine_espa_watto_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && tatooine_espa_watto_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && tatooine_espa_watto_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && tatooine_espa_watto_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && tatooine_espa_watto_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && tatooine_espa_watto_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && tatooine_espa_watto_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && tatooine_espa_watto_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && tatooine_espa_watto_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && tatooine_espa_watto_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && tatooine_espa_watto_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && tatooine_espa_watto_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && tatooine_espa_watto_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && tatooine_espa_watto_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_espa_watto_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && tatooine_espa_watto_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && tatooine_espa_watto_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && tatooine_espa_watto_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && tatooine_espa_watto_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && tatooine_espa_watto_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && tatooine_espa_watto_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && tatooine_espa_watto_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && tatooine_espa_watto_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && tatooine_espa_watto_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && tatooine_espa_watto_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && tatooine_espa_watto_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && tatooine_espa_watto_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && tatooine_espa_watto_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && tatooine_espa_watto_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && tatooine_espa_watto_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && tatooine_espa_watto_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && tatooine_espa_watto_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && tatooine_espa_watto_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && tatooine_espa_watto_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && tatooine_espa_watto_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && tatooine_espa_watto_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && tatooine_espa_watto_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && tatooine_espa_watto_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && tatooine_espa_watto_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && tatooine_espa_watto_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && tatooine_espa_watto_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && tatooine_espa_watto_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && tatooine_espa_watto_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && tatooine_espa_watto_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && tatooine_espa_watto_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && tatooine_espa_watto_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && tatooine_espa_watto_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && tatooine_espa_watto_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && tatooine_espa_watto_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && tatooine_espa_watto_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && tatooine_espa_watto_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && tatooine_espa_watto_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && tatooine_espa_watto_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && tatooine_espa_watto_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && tatooine_espa_watto_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && tatooine_espa_watto_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && tatooine_espa_watto_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && tatooine_espa_watto_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && tatooine_espa_watto_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && tatooine_espa_watto_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && tatooine_espa_watto_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && tatooine_espa_watto_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && tatooine_espa_watto_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && tatooine_espa_watto_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && tatooine_espa_watto_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && tatooine_espa_watto_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && tatooine_espa_watto_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && tatooine_espa_watto_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && tatooine_espa_watto_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && tatooine_espa_watto_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && tatooine_espa_watto_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && tatooine_espa_watto_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && tatooine_espa_watto_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && tatooine_espa_watto_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && tatooine_espa_watto_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && tatooine_espa_watto_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && tatooine_espa_watto_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && tatooine_espa_watto_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && tatooine_espa_watto_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && tatooine_espa_watto_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && tatooine_espa_watto_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && tatooine_espa_watto_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && tatooine_espa_watto_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && tatooine_espa_watto_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 115 && tatooine_espa_watto_handleBranch115 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.tatooine_espa_watto.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

