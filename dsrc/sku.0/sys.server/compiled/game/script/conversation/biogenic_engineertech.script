// ======================================================================
//
// biogenic_engineertech.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/biogenic_engineertech";

// ======================================================================
// Script Conditions
// ======================================================================

boolean biogenic_engineertech_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean biogenic_engineertech_condition_get_security_tracker (obj_id player, obj_id npc)
{
	int security_tracker = getIntObjVar(player, "biogenic.security_convo");
	
	if(security_tracker == 2) {
	
		return true;
	
	} else {
	
		return false;
	}
}

// ----------------------------------------------------------------------

boolean biogenic_engineertech_condition_has_datapad (obj_id player, obj_id npc)
{
	if(utils.playerHasItemByTemplate(player, "object/tangible/loot/dungeon/geonosian_mad_bunker/engineering_datapad.iff")) {
	
		return true;
	
	} else {
	
		return false;
	}
}

// ----------------------------------------------------------------------

boolean biogenic_engineertech_condition_get_tracker_1 (obj_id player, obj_id npc)
{
	int tracker = getIntObjVar(player, "biogenic.engineer_convo");
	
	if(tracker == 1) {
	
		return true;
		
	} else {
	
		return false;
	}
}

// ----------------------------------------------------------------------

boolean biogenic_engineertech_condition_get_tracker_2 (obj_id player, obj_id npc)
{
	int tracker = getIntObjVar(player, "biogenic.engineer_convo");
	
	if(tracker == 2) {
	
		return true;
		
	} else {
	
		return false;
	}
}

// ----------------------------------------------------------------------

boolean biogenic_engineertech_condition_get_tracker_3 (obj_id player, obj_id npc)
{
	int tracker = getIntObjVar(player, "biogenic.engineer_convo");
	
	if(tracker == 3) {
	
		return true;
		
	} else {
	
		return false;
	}
}

// ======================================================================
// Script Actions
// ======================================================================

void biogenic_engineertech_action_give_key (obj_id player, obj_id npc)
{
	obj_id playerInv = utils.getInventoryContainer(player);
	obj_id key = createObject("object/tangible/loot/dungeon/geonosian_mad_bunker/engineering_key.iff", playerInv, "");
	if(key == null) {
	
		debugSpeakMsg(npc, "Failed to create security key");
	}
	
	obj_id datapad = utils.getItemPlayerHasByTemplate(player, "object/tangible/loot/dungeon/geonosian_mad_bunker/engineering_datapad.iff");
	if(datapad != null) {
	
		destroyObject(datapad);
	
	} else {
	
		debugSpeakMsg(npc, "You should have a datapad, but you don't...");
	}
	
	setObjVar(player, "biogenic.engineer_convo", 3);
}

// ----------------------------------------------------------------------

void biogenic_engineertech_action_set_tracker_1 (obj_id player, obj_id npc)
{
	setObjVar(player, "biogenic.engineer_convo", 1);
}

// ----------------------------------------------------------------------

void biogenic_engineertech_action_set_tracker_2 (obj_id player, obj_id npc)
{
	setObjVar(player, "biogenic.engineer_convo", 2);
}

// ----------------------------------------------------------------------

void biogenic_engineertech_action_face_to (obj_id player, obj_id npc)
{
	faceToBehavior(npc, player);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int biogenic_engineertech_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Were you able to find my apprentice? Did you get the datapad?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_da5959ed")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_a3101911");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df0aaba0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd2b08bc");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I haven't gotten the datapad yet.
	if (response == "s_27707b65")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Come back as soon as you find it, and I'll get you a key for that security door.
			string_id message = new string_id (c_stringFile, "s_76e305ae");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_df0aaba0")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_f8f36834");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_884784be");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_cd2b08bc")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_b8cdda4");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_884784be")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_4fe2bd07");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, you're back. We're still trying to get the reactor back online. Not much progress yet, I'm afraid.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm supposed to give this datapad to you.
	if (response == "s_a7b6a9c7")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Oh yes! The computer codes! Now we will be able to get the reactor back online. In exchange for your help, let me give you this key. Since the lockdown is in effect, it will let you get past the first security door.
			string_id message = new string_id (c_stringFile, "s_c8edf6a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_26");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything that I can do to help?
	if (response == "s_a767cb3c")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.
			string_id message = new string_id (c_stringFile, "s_9541ca42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, what do you need me to do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dc2e08dd");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf0dd8c0");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I hope you get it fixed. Good bye.
	if (response == "s_8e26cc3d")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I hope so too.
			string_id message = new string_id (c_stringFile, "s_4c14f9fb");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh yes! The computer codes! Now we will be able to get the reactor back online. In exchange for your help, let me give you this key. Since the lockdown is in effect, it will let you get past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_18")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_20");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_22");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_26")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_28");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_22")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_24");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: OK, what do you need me to do?
	if (response == "s_dc2e08dd")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.
			string_id message = new string_id (c_stringFile, "s_aa71d09d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_34");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3d8b98a");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d7f1b726");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_bf0dd8c0")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_69a2ad00");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_34")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_36");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_b3d8b98a")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_e61f6f04");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_d7f1b726")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_94350653");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_40");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_46")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_48");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_42")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_44");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Blast, the coolant pump is offline too. We'll need to get that... oh, what are you doing here?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm supposed to give this datapad to you.
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Oh yes! The computer codes! Now we will be able to get the reactor back online. In exchange for your help, let me give you this key. Since the lockdown is in effect, it will let you get past the first security door.
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's happening here?
	if (response == "s_428087e9")
	{
		biogenic_engineertech_action_set_tracker_1 (player, npc);

		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: That earthquake we just had knocked out our power reactor. The backup system came online, but we're rapidly losing power throughout the complex.
			string_id message = new string_id (c_stringFile, "s_235c610d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds pretty bad. I'll leave you alone.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd67013");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a3bb3");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm trying to help secure the facility.
	if (response == "s_56fde3ca")
	{
		biogenic_engineertech_action_set_tracker_1 (player, npc);

		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: We could certainly use the help, that's for sure. That earthquake knocked out our power reactor and we're rapidly losing power throughout the complex.
			string_id message = new string_id (c_stringFile, "s_6569e789");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds pretty bad. I'll leave you alone.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_247");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just sort of wandered in, I guess.
	if (response == "s_99c2fa91")
	{
		biogenic_engineertech_action_set_tracker_1 (player, npc);

		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've wandered into a bad spot I'm afraid. That earthquake knocked out our power reactor and we're rapidly losing power throughout the complex.
			string_id message = new string_id (c_stringFile, "s_5fe76a83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds pretty bad. I'll leave you alone.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_253");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_341");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm just leaving.
	if (response == "s_9d6ccb86")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: OK, thanks for stopping by.
			string_id message = new string_id (c_stringFile, "s_f4e8ce21");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh yes! The computer codes! Now we will be able to get the reactor back online. In exchange for your help, let me give you this key. Since the lockdown is in effect, it will let you get past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_73");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_67")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That earthquake we just had knocked out our power reactor. The backup system came online, but we're rapidly losing power throughout the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that mean?
	if (response == "s_dd67013")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.
			string_id message = new string_id (c_stringFile, "s_347a730");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else has been affected?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Is there anything that I can do to help?
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Well, I hope you get it fixed. Good bye.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_30c757f6");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_151");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds pretty bad. I'll leave you alone.
	if (response == "s_926a3bb3")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright. Good-bye.
			string_id message = new string_id (c_stringFile, "s_b78f009b");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else has been affected?
	if (response == "s_30c757f6")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.
			string_id message = new string_id (c_stringFile, "s_1615f465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where could I get one of those keys?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll give it a try anyway. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eb038dde");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c1eda1a3");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything that I can do to help?
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, what do you need me to do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_147");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I hope you get it fixed. Good bye.
	if (response == "s_151")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I hope so too.
			string_id message = new string_id (c_stringFile, "s_153");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where could I get one of those keys?
	if (response == "s_eb038dde")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.
			string_id message = new string_id (c_stringFile, "s_5933b1d0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you would have me do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d2de343f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll give it a try anyway. Good-bye.
	if (response == "s_c1eda1a3")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, good luck!
			string_id message = new string_id (c_stringFile, "s_5afc1718");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you would have me do?
	if (response == "s_d2de343f")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.
			string_id message = new string_id (c_stringFile, "s_75c607ac");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_111");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_103");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_107");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_89")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_91");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_99");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_95");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: OK, what do you need me to do?
	if (response == "s_119")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.
			string_id message = new string_id (c_stringFile, "s_121");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_123");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_143");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_147")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_149");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_123")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_125");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_127");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_135");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_141");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_143")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_145");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_127")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_129");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_131");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_135")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_137");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_131")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We could certainly use the help, that's for sure. That earthquake knocked out our power reactor and we're rapidly losing power throughout the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that mean?
	if (response == "s_159")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else has been affected?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Is there anything that I can do to help?
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Well, I hope you get it fixed. Good bye.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_243");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds pretty bad. I'll leave you alone.
	if (response == "s_247")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright. Good-bye.
			string_id message = new string_id (c_stringFile, "s_249");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else has been affected?
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.
			string_id message = new string_id (c_stringFile, "s_165");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where could I get one of those keys?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll give it a try anyway. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_203");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything that I can do to help?
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.
			string_id message = new string_id (c_stringFile, "s_209");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, what do you need me to do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_211");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_239");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I hope you get it fixed. Good bye.
	if (response == "s_243")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I hope so too.
			string_id message = new string_id (c_stringFile, "s_245");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where could I get one of those keys?
	if (response == "s_167")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.
			string_id message = new string_id (c_stringFile, "s_169");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you would have me do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_171");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_199");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll give it a try anyway. Good-bye.
	if (response == "s_203")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, good luck!
			string_id message = new string_id (c_stringFile, "s_205");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you would have me do?
	if (response == "s_171")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.
			string_id message = new string_id (c_stringFile, "s_173");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_191");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_195");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_199")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_201");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_175")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_177");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_179");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_187");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_191")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_193");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_195")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_197");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_179")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_181");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_183");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_187")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_189");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_183")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_185");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: OK, what do you need me to do?
	if (response == "s_211")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.
			string_id message = new string_id (c_stringFile, "s_213");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_231");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_235");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_239")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_241");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_217");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_227");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_231")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_233");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_235")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_237");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_219")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_221");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_223");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_227")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_229");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_223")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_225");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've wandered into a bad spot I'm afraid. That earthquake knocked out our power reactor and we're rapidly losing power throughout the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that mean?
	if (response == "s_253")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.
			string_id message = new string_id (c_stringFile, "s_255");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What else has been affected?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Is there anything that I can do to help?
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Well, I hope you get it fixed. Good bye.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_257");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_301");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds pretty bad. I'll leave you alone.
	if (response == "s_341")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright. Good-bye.
			string_id message = new string_id (c_stringFile, "s_343");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unfortunately, that means that the power to our containment system failed. No doubt you've probably seen some pretty fearsome creatures wandering around.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else has been affected?
	if (response == "s_257")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.
			string_id message = new string_id (c_stringFile, "s_259");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where could I get one of those keys?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll give it a try anyway. Good-bye.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_261");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is there anything that I can do to help?
	if (response == "s_301")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.
			string_id message = new string_id (c_stringFile, "s_303");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: OK, what do you need me to do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_305");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_333");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I hope you get it fixed. Good bye.
	if (response == "s_337")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I hope so too.
			string_id message = new string_id (c_stringFile, "s_339");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It looks like the security grid is offline too. I don't know how that will affect the sentry droids, but the security doors are probably locked down. Without a special key you wouldn't be able to get much further into the complex.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where could I get one of those keys?
	if (response == "s_261")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.
			string_id message = new string_id (c_stringFile, "s_263");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you would have me do?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry. I've got to go.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_265");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll give it a try anyway. Good-bye.
	if (response == "s_297")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, good luck!
			string_id message = new string_id (c_stringFile, "s_299");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I could easily make you a key to get you past the first security door, but I would ask you to do something for me first.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you would have me do?
	if (response == "s_265")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.
			string_id message = new string_id (c_stringFile, "s_267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_269");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_285");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_293")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_295");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My assistant has some computer codes that we need to restart the reactor. If you bring me his datapad with those codes, I will gladly make you a security key.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_269")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_271");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_273");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_281");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_285")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_287");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_291");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_273")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_275");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_277");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_281")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_283");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_277")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_279");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Actually, now that you mention it, there is. We have the materials here to repair the reactor, but I can't bring it online without the computer codes. My assistant currently has the codes on his datapad, but I don't know where he is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: OK, what do you need me to do?
	if (response == "s_305")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_set_tracker_2 (player, npc);

			//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.
			string_id message = new string_id (c_stringFile, "s_307");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this the datapad that you're talking about?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition_has_datapad (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, I'll come back when I've found your assistant.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll see what I can do, but I'm not making any promises.
			boolean hasResponse2 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_309");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_325");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry. I've got to go.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, alright. Good-bye then.
			string_id message = new string_id (c_stringFile, "s_335");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need to you to find my assistant, and bring his datapad back here to me. If you can get me those codes, I'll see if I can wire you a key that will let you through the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this the datapad that you're talking about?
	if (response == "s_309")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			biogenic_engineertech_action_give_key (player, npc);

			//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.
			string_id message = new string_id (c_stringFile, "s_311");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Only the first door?
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thank you for the key.
			boolean hasResponse1 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_321");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll come back when I've found your assistant.
	if (response == "s_325")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you very much. Come back with the codes and I'll make you a security key.
			string_id message = new string_id (c_stringFile, "s_327");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll see what I can do, but I'm not making any promises.
	if (response == "s_329")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, well thanks anyway. But don't forget that you won't be able to go much farther into the facility without a key to disable that security door.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why, uh... yes it is! Here are the codes! And as promised, here is a key that will let you past the first security door.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Only the first door?
	if (response == "s_313")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.
			string_id message = new string_id (c_stringFile, "s_315");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. Thank you for your help.
			boolean hasResponse0 = false;
			if (biogenic_engineertech_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_317");

				utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you for the key.
	if (response == "s_321")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks again for your help. And good luck to you!
			string_id message = new string_id (c_stringFile, "s_323");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int biogenic_engineertech_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All of the security doors have different locking algorithms. I've had to work on that first door before, so I'm pretty familiar with how it works. However, once you're though there, you're on your own.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. Thank you for your help.
	if (response == "s_317")
	{
		//-- [NOTE] 
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			//-- NPC: And thank you for yours. Good luck to you!
			string_id message = new string_id (c_stringFile, "s_319");
			utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.biogenic_engineertech");

	setCondition (self, CONDITION_CONVERSABLE);

	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	setInvulnerable (self, true);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.biogenic_engineertech");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (biogenic_engineertech_condition_get_tracker_3 (player, npc))
	{
		biogenic_engineertech_action_face_to (player, npc);

		//-- NPC: We've got things under control here now. You'd better go see if anyone else needs help. Thanks again.
		string_id message = new string_id (c_stringFile, "s_8c024a43");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (biogenic_engineertech_condition_get_tracker_2 (player, npc))
	{
		biogenic_engineertech_action_face_to (player, npc);

		//-- NPC: Were you able to find my apprentice? Did you get the datapad?
		string_id message = new string_id (c_stringFile, "s_2c2921ad");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Is this the datapad that you're talking about?
		boolean hasResponse0 = false;
		if (biogenic_engineertech_condition_has_datapad (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No, I haven't gotten the datapad yet.
		boolean hasResponse1 = false;
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_da5959ed");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_27707b65");

			utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 2);

			npcStartConversation (player, npc, "biogenic_engineertech", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (biogenic_engineertech_condition_get_tracker_1 (player, npc))
	{
		biogenic_engineertech_action_face_to (player, npc);

		//-- NPC: Oh, you're back. We're still trying to get the reactor back online. Not much progress yet, I'm afraid.
		string_id message = new string_id (c_stringFile, "s_d4b22fda");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm supposed to give this datapad to you.
		boolean hasResponse0 = false;
		if (biogenic_engineertech_condition_has_datapad (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Is there anything that I can do to help?
		boolean hasResponse1 = false;
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Well, I hope you get it fixed. Good bye.
		boolean hasResponse2 = false;
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a7b6a9c7");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a767cb3c");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8e26cc3d");

			utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 8);

			npcStartConversation (player, npc, "biogenic_engineertech", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (biogenic_engineertech_condition__defaultCondition (player, npc))
	{
		biogenic_engineertech_action_face_to (player, npc);

		//-- NPC: Blast, the coolant pump is offline too. We'll need to get that... oh, what are you doing here?
		string_id message = new string_id (c_stringFile, "s_3d90816");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm supposed to give this datapad to you.
		boolean hasResponse0 = false;
		if (biogenic_engineertech_condition_has_datapad (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What's happening here?
		boolean hasResponse1 = false;
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm trying to help secure the facility.
		boolean hasResponse2 = false;
		if (biogenic_engineertech_condition_get_security_tracker (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I just sort of wandered in, I guess.
		boolean hasResponse3 = false;
		if (!biogenic_engineertech_condition_get_security_tracker (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: I'm just leaving.
		boolean hasResponse4 = false;
		if (biogenic_engineertech_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_59");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_428087e9");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_56fde3ca");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_99c2fa91");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9d6ccb86");

			utils.setScriptVar (player, "conversation.biogenic_engineertech.branchId", 23);

			npcStartConversation (player, npc, "biogenic_engineertech", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "biogenic_engineertech")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.biogenic_engineertech.branchId");

	if (branchId == 2 && biogenic_engineertech_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && biogenic_engineertech_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && biogenic_engineertech_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && biogenic_engineertech_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && biogenic_engineertech_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && biogenic_engineertech_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && biogenic_engineertech_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && biogenic_engineertech_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && biogenic_engineertech_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && biogenic_engineertech_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && biogenic_engineertech_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && biogenic_engineertech_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && biogenic_engineertech_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && biogenic_engineertech_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && biogenic_engineertech_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && biogenic_engineertech_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && biogenic_engineertech_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && biogenic_engineertech_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && biogenic_engineertech_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && biogenic_engineertech_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && biogenic_engineertech_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && biogenic_engineertech_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && biogenic_engineertech_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && biogenic_engineertech_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && biogenic_engineertech_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && biogenic_engineertech_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && biogenic_engineertech_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && biogenic_engineertech_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && biogenic_engineertech_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && biogenic_engineertech_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && biogenic_engineertech_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && biogenic_engineertech_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && biogenic_engineertech_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && biogenic_engineertech_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && biogenic_engineertech_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && biogenic_engineertech_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && biogenic_engineertech_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && biogenic_engineertech_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && biogenic_engineertech_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && biogenic_engineertech_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && biogenic_engineertech_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && biogenic_engineertech_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && biogenic_engineertech_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && biogenic_engineertech_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && biogenic_engineertech_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && biogenic_engineertech_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.biogenic_engineertech.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

