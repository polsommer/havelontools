// ======================================================================
//
// imperial_broker.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.35 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.features;
include library.space_skill;
include library.trainerlocs;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/imperial_broker";

// ======================================================================
// Script Conditions
// ======================================================================

boolean imperial_broker_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isImperialFaction (obj_id player, obj_id npc)
{
	string factionName = factions.getFaction( player );
	if ( factionName == null || factionName == "" )
		return false;
	else	
		return ( factionName.equals( factions.FACTION_IMPERIAL ));
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isMaleImperialFaction (obj_id player, obj_id npc)
{
	return ( imperial_broker_condition_isImperialFaction( player, npc ) && ( getGender(player)==GENDER_MALE ) );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isMalePlayer (obj_id player, obj_id npc)
{
	return ( getGender( player )==GENDER_MALE );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_justSpokeToPlayer (obj_id player, obj_id npc)
{
	return ( utils.hasScriptVar( player, "justTalkedToImpBroker"));
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_justSpokeToMalePlayer (obj_id player, obj_id npc)
{
	return ( imperial_broker_condition_isMalePlayer(player,npc) && imperial_broker_condition_justSpokeToPlayer(player,npc) );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isRebelFaction (obj_id player, obj_id npc)
{
	string factionName = factions.getFaction( player );
	if ( factionName == null || factionName == "" )
		return false;
	else	
		return ( factionName.equals( factions.FACTION_REBEL ));
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isWookieePlayer (obj_id player, obj_id npc)
{
	return ( getSpecies(player)==SPECIES_WOOKIEE );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_wasDismissedRebel (obj_id player, obj_id npc)
{
	return ( utils.getIntScriptVar( player, "brokerDismissed")==3 );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_wasDismissedWookiee (obj_id player, obj_id npc)
{
	return ( utils.getIntScriptVar( player, "brokerDismissed")==2 );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_wasDismissedWoman (obj_id player, obj_id npc)
{
	return ( utils.getIntScriptVar( player, "brokerDismissed")==1 );
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isImperialPilot (obj_id player, obj_id npc)
{
	return space_skill.hasImperialSkill(player);
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_isPilot (obj_id player, obj_id npc)
{
	return space_skill.hasSpaceSkills(player);
}

// ----------------------------------------------------------------------

boolean imperial_broker_condition_hasSpaceExp (obj_id player, obj_id npc)
{
	return features.isSpaceEdition( player );
}

// ======================================================================
// Script Actions
// ======================================================================

void imperial_broker_action_addCorelliaImpWaypoint (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "justTalkedToImpBroker", true );
	trainerlocs.getTrainerLocationWaypoint( player, "imperial", "corellia" );
}

// ----------------------------------------------------------------------

void imperial_broker_action_addTatooineImpWaypoint (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "justTalkedToImpBroker", true );
	trainerlocs.getTrainerLocationWaypoint( player, "imperial", "tatooine" );
}

// ----------------------------------------------------------------------

void imperial_broker_action_addNabooImpWaypoint (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "justTalkedToImpBroker", true );
	trainerlocs.getTrainerLocationWaypoint( player, "imperial", "naboo" );
}

// ----------------------------------------------------------------------

void imperial_broker_action_dismissWoman (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "brokerDismissed", 1 );
}

// ----------------------------------------------------------------------

void imperial_broker_action_dismissWookiee (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "brokerDismissed", 2 );
}

// ----------------------------------------------------------------------

void imperial_broker_action_dismissRebel (obj_id player, obj_id npc)
{
	utils.setScriptVar( player, "brokerDismissed", 3 );
}

// ----------------------------------------------------------------------

void imperial_broker_action_retireImperial (obj_id player, obj_id npc)
{
	space_skill.retire(player, space_skill.IMPERIAL);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int imperial_broker_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hello, pilot. I hope that your service in the Imperial Navy treats you well. How may I be of assistance?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to retire from the Imperial Navy.
	if (response == "s_8812be10")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Did I hear you correctly? You want to retire? You are aware that you would lose all your pilot skills, and your mission records would be deleted. If you sign up again, you will start as a new recruit. Are you sure this is what you want to do?
			string_id message = new string_id (c_stringFile, "s_458bda80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I want to retire.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I changed my mind. I will stay.
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_658b5a75");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_169df3bb")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you wish.
			string_id message = new string_id (c_stringFile, "s_6441a2a6");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did I hear you correctly? You want to retire? You are aware that you would lose all your pilot skills, and your mission records would be deleted. If you sign up again, you will start as a new recruit. Are you sure this is what you want to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I want to retire.
	if (response == "s_658b5a75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: If that's what you want, I'll start getting your discharge papers together. If you want to change your mind, now is the time.
			string_id message = new string_id (c_stringFile, "s_fbeabc76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to retire.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I changed my mind. I will stay.
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f72f24be");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f220efed");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I changed my mind. I will stay.
	if (response == "s_13")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've made the right choice, pilot. Dismissed.
			string_id message = new string_id (c_stringFile, "s_15");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If that's what you want, I'll start getting your discharge papers together. If you want to change your mind, now is the time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to retire.
	if (response == "s_f72f24be")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			imperial_broker_action_retireImperial (player, npc);

			//-- NPC: Very well. You are now discharged from the Imperial Navy. I must say that I am disappointed. I expected better from you.
			string_id message = new string_id (c_stringFile, "s_ccdbfea7");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I changed my mind. I will stay.
	if (response == "s_f220efed")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've made the right choice, pilot. Dismissed.
			string_id message = new string_id (c_stringFile, "s_e8ccc35c");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Was there something else, sir?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Was there something else, ma'am?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.
			string_id message = new string_id (c_stringFile, "s_c2c89e35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_b89f31b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, sir!  How may I be of assistance?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you recruiting Imperial Pilots?
	if (response == "s_4b0c16d2")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Sir! Yes, sir!  Are you here to sign-up?
			string_id message = new string_id (c_stringFile, "s_8c387e5c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, just checking.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes.  What do I need to do?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8ed93c34");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b0ea6e8c");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_53")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			//-- NPC: Of course.  My mistake.
			string_id message = new string_id (c_stringFile, "s_f5f50ae3");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sir! Yes, sir!  Are you here to sign-up?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, just checking.
	if (response == "s_8ed93c34")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Very well, sir.  Please come see me if you change your mind.  The Empire could use more soldiers of your caliber in space!
			string_id message = new string_id (c_stringFile, "s_8755e6eb");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  What do I need to do?
	if (response == "s_b0ea6e8c")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: I'm authorized to send you to one of three assignments, sir.  You can choose Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.
			string_id message = new string_id (c_stringFile, "s_4577214d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm authorized to send you to one of three assignments, sir.  You can choose Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_70f18874")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Very well, sir.  What about Storm Squadron or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_a7d90105");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_df2917b1")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			imperial_broker_action_addCorelliaImpWaypoint (player, npc);

			//-- NPC: Yes, sir.  I can't release any specific details about their current engagements, but I will add the location of their own recruiter to your datapad.  If you'll speak with this officer in the Imperial Base on Talus, he will get you squared away.
			string_id message = new string_id (c_stringFile, "s_cc37bca4");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well, sir.  What about Storm Squadron or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_40")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Yes, sir.  What about Black Epsilon or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_a8b71650");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_43")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			imperial_broker_action_addTatooineImpWaypoint (player, npc);

			//-- NPC: Yes, sir.  I can't release any specific details about their current engagements, but I will add the location of the Storm Squadron commander to your datapad.  He'll be glad to have a soldier of your standing.  You can find him in the Bestine Pilot's Club next to the capitol building on Tatooine.
			string_id message = new string_id (c_stringFile, "s_5817eef2");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, sir.  What about Black Epsilon or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: Are you interested in either Black Epsilon or the Storm Squadron, sir?
			string_id message = new string_id (c_stringFile, "s_ed23ffff");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me what you can
	if (response == "s_13a23fbc")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "manipulate_medium");

			imperial_broker_action_addNabooImpWaypoint (player, npc);

			//-- NPC: There's not much more I can say, sir, but I will add the location to your datapad.  Talk to the Imperial Pilot trainer in Kaadara.  You'll find the association hall in the main plaza.
			string_id message = new string_id (c_stringFile, "s_f05830e3");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you interested in either Black Epsilon or the Storm Squadron, sir?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, ma'am!  How may I be of assistance?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you recruiting Imperial Pilots?
	if (response == "s_57")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Ma'am!  Yes, ma'am!  Are you here to sign-up?
			string_id message = new string_id (c_stringFile, "s_d78c7ec0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, just checking.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes.  What do I need to do?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_94")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			//-- NPC: Of course.  My mistake.
			string_id message = new string_id (c_stringFile, "s_96");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ma'am!  Yes, ma'am!  Are you here to sign-up?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, just checking.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Very well, ma'am.  Please come see me if you change your mind.  The Empire could use more soldiers of your caliber in space!
			string_id message = new string_id (c_stringFile, "s_83a7ae89");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  What do I need to do?
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I'm authorized to send you to one of three assignments, ma'am.  You can choose Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.
			string_id message = new string_id (c_stringFile, "s_b8884586");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm authorized to send you to one of three assignments, ma'am.  You can choose Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.
			string_id message = new string_id (c_stringFile, "s_c2c89e35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_b89f31b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_69")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			//-- NPC: Very well, ma'am.  What about Storm Squadron or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_407fb5e3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_72")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			imperial_broker_action_addCorelliaImpWaypoint (player, npc);

			//-- NPC: Yes, ma'am.  I can't release any specific details about their current engagements, but I will add the location of their own recruiter to your datapad.  If you'll speak with this officer in the Imperial Base on Talus, he will get you squared away.
			string_id message = new string_id (c_stringFile, "s_b945b46a");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well, ma'am.  What about Storm Squadron or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.
			string_id message = new string_id (c_stringFile, "s_c2c89e35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_b89f31b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_79")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: I see.  What about Black Epsilon or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_42693321");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			imperial_broker_action_addTatooineImpWaypoint (player, npc);

			//-- NPC: Yes, ma'am.  I can't release any specific details about their current engagements, but I will add this location to your datapad.  Talk to the trainer in the Bestine Pilot's Club, near the capitol building on Tatooine.
			string_id message = new string_id (c_stringFile, "s_cd41504a");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see.  What about Black Epsilon or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.
			string_id message = new string_id (c_stringFile, "s_c2c89e35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_b89f31b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_88")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Would you be interested in either Black Epsilon or the Storm Squadron, ma'am?
			string_id message = new string_id (c_stringFile, "s_d28bda49");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me what you can
	if (response == "s_91")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			imperial_broker_action_addNabooImpWaypoint (player, npc);

			//-- NPC: There's not much more I can say, ma'am, but I will add this location to your datapad.  Talk to the Pilot Trainer in the association hall on Kaadara, near the main plaza.
			string_id message = new string_id (c_stringFile, "s_8ac37a1f");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Would you be interested in either Black Epsilon or the Storm Squadron, ma'am?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, ma'am.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, ma'am.
			string_id message = new string_id (c_stringFile, "s_c2c89e35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_72");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "embarrassed");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, ma'am.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_b89f31b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing
	if (response == "s_840482e7")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: In that case, please stop bothering me.  I am very busy.
			string_id message = new string_id (c_stringFile, "s_d1c489c0");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to be an Imperial Pilot
	if (response == "s_61a663b2")
	{
		//-- [NOTE] 
		if (imperial_broker_condition_isWookieePlayer (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: HAHAHAHAHA!  Imagine that!  A big fur-ball like you flying a ship for the Empire!  Oh that is RICH!
			string_id message = new string_id (c_stringFile, "s_b19ac578");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_broker_condition_isMalePlayer (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: Sir, I don't intend any disrespect, but the Imperial Pilots are the finest in the Galaxy.  You don't look like the sort of person who could last one week in the cadet academy, let alone pilot any sort of Imperial craft.  Now I think you should leave.  I am very busy.
			string_id message = new string_id (c_stringFile, "s_3bbddad5");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Ma'am, you wouldn't last one nano-second as an Imperial pilot.  It's a strenuous, demanding profession that requires the utmost dedication.  Not to mention the fact that females are notoriously bad pilots!  Now if you will excuse me, good day!
			string_id message = new string_id (c_stringFile, "s_99e09eaf");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Can I help you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you recruiting Imperial Pilots?
	if (response == "s_106")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Are you here to sign-up?
			string_id message = new string_id (c_stringFile, "s_14270b3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, just checking.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes.  What do I need to do?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. Never mind.
	if (response == "s_445a2be4")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			//-- NPC: Ok.
			string_id message = new string_id (c_stringFile, "s_895d093");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you here to sign-up?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, just checking.
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Come see me if you change your mind.  Someone has to stand up to the Rebel Alliance and maintain order in the galaxy.
			string_id message = new string_id (c_stringFile, "s_2a4c66e4");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  What do I need to do?
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The units with vacancies currently are the Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.
			string_id message = new string_id (c_stringFile, "s_106caa1d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_134");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The units with vacancies currently are the Storm Squadron in the Tatooine system, Black Epsilon in the Corellia system, or the Imperial Inquisition in the Naboo system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area.
			string_id message = new string_id (c_stringFile, "s_86cb9899");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_131");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_134")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system.  Their mission is highly classified.
			string_id message = new string_id (c_stringFile, "s_3c9c6441");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_137");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_141");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: What about Storm Squadron or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_9f862c74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_134");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			imperial_broker_action_addCorelliaImpWaypoint (player, npc);

			//-- NPC: I won't release any specific details about their current engagements, but I will add the location of their recruiting officer to your datapad.  You can find him in the Imperial Base on Talus, in the Corellia system.
			string_id message = new string_id (c_stringFile, "s_3d734747");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What about Storm Squadron or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area.
			string_id message = new string_id (c_stringFile, "s_86cb9899");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_126");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_131");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_134")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system.  Their mission is highly classified.
			string_id message = new string_id (c_stringFile, "s_3c9c6441");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_137");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_141");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_128")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: What about Black Epsilon or the Imperial Inquisition?
			string_id message = new string_id (c_stringFile, "s_727cf8b6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me more
	if (response == "s_131")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "manipulate_medium");

			imperial_broker_action_addTatooineImpWaypoint (player, npc);

			//-- NPC: I won't release any specific details about their current engagements, but I will add the location of the Storm Squadron pilot trainer to your datapad.  You'll find him in the Bestine Pilot's club on Tatooine, next to the capitol building.
			string_id message = new string_id (c_stringFile, "s_7287c2b7");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What about Black Epsilon or the Imperial Inquisition?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imperial Inquisition is a special unit located in the Naboo system.  Their mission is highly classified.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in that.
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Are you interested in either Black Epsilon or the Storm Squadron, sir?
			string_id message = new string_id (c_stringFile, "s_139");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Epsilon?
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Storm Squadron?
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Imperial Inquisition?
			boolean hasResponse2 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me what you can
	if (response == "s_141")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			imperial_broker_action_addNabooImpWaypoint (player, npc);

			//-- NPC: Highly.  Classified.  Right?  I will add the location of the unit's pilot trainer to your datapad.  You may speak to him in the main plaza association hall in Kaadara, on Naboo.
			string_id message = new string_id (c_stringFile, "s_2fe6ab5f");
			utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_broker_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you interested in either Black Epsilon or the Storm Squadron, sir?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Epsilon?
	if (response == "s_1b2086de")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, sir.  Black Epsilon is stationed at the Imperial Base on Talus, as Corellia itself is officially neutral... for now.  There are reports of considerable Rebel activity in the area, as you can imagine.  They could really use more pilots there, sir.
			string_id message = new string_id (c_stringFile, "s_772c81dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_70f18874");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df2917b1");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Storm Squadron?
	if (response == "s_4cafd748")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Storm Squadron is one of the Empire's finest military units, in space or otherwise.  They're the very model of the sort of hard-core, dedicated, soldiers that secure the Empire throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0db13e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me more
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial Inquisition?
	if (response == "s_23ef3e33")
	{
		//-- [NOTE] 
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Imperial Inquisition is a special unit located in the Naboo system, sir.  They tend to deal in highly classified missions, so I'm afraid there's not a lot I'm authorized to tell you.
			string_id message = new string_id (c_stringFile, "s_929272e8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not interested in that.
			boolean hasResponse0 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Tell me what you can
			boolean hasResponse1 = false;
			if (imperial_broker_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13a23fbc");

				utils.setScriptVar (player, "conversation.imperial_broker.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.imperial_broker");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable( self, true );
	setName( self, "Commander Landau" );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable( self, true );
	setName( self, "Commander Landau" );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );
	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.imperial_broker");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!imperial_broker_condition_hasSpaceExp (player, npc))
	{
		//-- NPC: I don't think I can help you, citizen. You don't look like much of a pilot.
		string_id message = new string_id (c_stringFile, "s_be46803");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_isImperialPilot (player, npc))
	{
		doAnimationAction (npc, "salute2");

		//-- NPC: Hello, pilot. I hope that your service in the Imperial Navy treats you well. How may I be of assistance?
		string_id message = new string_id (c_stringFile, "s_e60ef8f6");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I would like to retire from the Imperial Navy.
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Never mind.
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8812be10");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_169df3bb");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 2);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_wasDismissedWookiee (player, npc))
	{
		doAnimationAction (npc, "belly_laugh");

		//-- NPC: HAHAHAHA!
		string_id message = new string_id (c_stringFile, "s_6e2d55ee");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_wasDismissedWoman (player, npc))
	{
		doAnimationAction (npc, "point_away");

		//-- NPC: Do you need directions or something, dear?  The bazaar terminals are near the starport.
		string_id message = new string_id (c_stringFile, "s_fb390611");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_wasDismissedRebel (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: Get lost!
		string_id message = new string_id (c_stringFile, "s_b845eeb6");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_justSpokeToMalePlayer (player, npc))
	{
		doAnimationAction (npc, "shrug_hands");

		//-- NPC: Was there something else, sir?
		string_id message = new string_id (c_stringFile, "s_8d91ee22");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Black Epsilon?
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Storm Squadron?
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Imperial Inquisition?
		boolean hasResponse2 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1b2086de");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4cafd748");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_23ef3e33");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 18);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_justSpokeToPlayer (player, npc))
	{
		doAnimationAction (npc, "shrug_hands");

		//-- NPC: Was there something else, ma'am?
		string_id message = new string_id (c_stringFile, "s_ac926b4b");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Black Epsilon?
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Storm Squadron?
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Imperial Inquisition?
		boolean hasResponse2 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_66");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_75");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_85");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 32);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_isPilot (player, npc))
	{
		//-- NPC: You have no business with me. Be on your way.
		string_id message = new string_id (c_stringFile, "s_e2dae58f");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_isMaleImperialFaction (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Yes, sir!  How may I be of assistance?
		string_id message = new string_id (c_stringFile, "s_2eee3e2e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you recruiting Imperial Pilots?
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Never mind.
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4b0c16d2");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_53");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 15);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_isImperialFaction (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Yes, ma'am!  How may I be of assistance?
		string_id message = new string_id (c_stringFile, "s_fda95628");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you recruiting Imperial Pilots?
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Never mind.
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_57");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_94");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 29);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition_isRebelFaction (player, npc))
	{
		//-- NPC: What do you want?
		string_id message = new string_id (c_stringFile, "s_6a1562ad");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Nothing
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to be an Imperial Pilot
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_840482e7");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_61a663b2");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 43);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_broker_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "shrug_hands");

		//-- NPC: Can I help you?
		string_id message = new string_id (c_stringFile, "s_59be173");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you recruiting Imperial Pilots?
		boolean hasResponse0 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No. Never mind.
		boolean hasResponse1 = false;
		if (imperial_broker_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_106");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_445a2be4");

			utils.setScriptVar (player, "conversation.imperial_broker.branchId", 48);

			npcStartConversation (player, npc, "imperial_broker", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "imperial_broker")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.imperial_broker.branchId");

	if (branchId == 2 && imperial_broker_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && imperial_broker_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && imperial_broker_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && imperial_broker_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && imperial_broker_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && imperial_broker_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && imperial_broker_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && imperial_broker_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && imperial_broker_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && imperial_broker_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && imperial_broker_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && imperial_broker_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && imperial_broker_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && imperial_broker_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && imperial_broker_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && imperial_broker_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && imperial_broker_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && imperial_broker_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && imperial_broker_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && imperial_broker_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && imperial_broker_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && imperial_broker_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && imperial_broker_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && imperial_broker_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && imperial_broker_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && imperial_broker_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && imperial_broker_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && imperial_broker_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && imperial_broker_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && imperial_broker_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && imperial_broker_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && imperial_broker_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && imperial_broker_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.imperial_broker.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

