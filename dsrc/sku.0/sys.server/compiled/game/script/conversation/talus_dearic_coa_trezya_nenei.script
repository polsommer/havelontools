// ======================================================================
//
// talus_dearic_coa_trezya_nenei.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/talus_dearic_coa_trezya_nenei";

// ======================================================================
// Script Conditions
// ======================================================================

boolean talus_dearic_coa_trezya_nenei_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_on_rebel_quest (obj_id player, obj_id npc)
{
	//checks to see if either the speak to Trezya task is active or complete (but player did not accept medic_prisoner quest)
	return groundquests.isTaskActive(player, "talus_dearic_coa_rebel_view", "talus_dearic_coa_friend_in_need_wfs");	
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_aclo_tasks_active (obj_id player, obj_id npc)
{
	// checks to see if ACLO tasks have yet to be completed
	if(groundquests.isQuestActive(player, "talus_dearic_coa_medic_prisoner") ||
	(groundquests.isQuestActive(player, "talus_dearic_coa_rebel_view") &&
	groundquests.isTaskActive(player, "talus_dearic_coa_rebel_view", "coa_rebel_tasks_wft") &&
	groundquests.hasCompletedTask(player, "talus_dearic_coa_rebel_view", "talus_dearic_coa_friend_in_need_wfs")))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_aclo_tasks_complete (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "talus_dearic_coa_rebel_view_end", "talus_dearic_coa_report_to_trezya_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_aclo_tasks_reported (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "talus_dearic_coa_rebel_view_end", "talus_dearic_coa_report_to_trezya_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_syir_done_not_other (obj_id player, obj_id npc)
{
	if(groundquests.hasCompletedQuest(player, "talus_dearic_coa_medic_prisoner") && groundquests.isTaskActive(player, "talus_dearic_coa_rebel_view", "talus_dearic_coa_aclo_tasks_wft"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_trezya_nenei_condition_medic_abandoned (obj_id player, obj_id npc)
{
	return (!groundquests.isQuestActiveOrComplete(player, "talus_dearic_coa_medic_prisoner") &&
		groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view"));
}

// ======================================================================
// Script Actions
// ======================================================================

void talus_dearic_coa_trezya_nenei_action_accept_aclo_tasks (obj_id player, obj_id npc)
{
	//sends the signal that accepts the quest offered by Trezya
	groundquests.sendSignal(player, "talus_dearic_coa_accept_trezya_tasks");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_trezya_nenei_action_report_aclo_tasks (obj_id player, obj_id npc)
{
	//sends the signal that reports ACLO tasks are complete
	groundquests.sendSignal(player, "talus_dearic_coa_report_to_trezya");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_trezya_nenei_action_grant_medic_quest (obj_id player, obj_id npc)
{
	// if PC abandoned medic quest, this will grant it again.
	groundquests.grantQuest(player, "talus_dearic_coa_medic_prisoner");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int talus_dearic_coa_trezya_nenei_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've done a great service for the A.C.L.O. and for me.  Please stop by our office any time and say hello!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do that.
	if (response == "s_67")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			//-- NPC: I look forward to it.
			string_id message = new string_id (c_stringFile, "s_68");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Syir arrived safely.  I can't thank you enough for what you have done for him, and for us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was glad to help.  The forces of the N.S.H. have been significantly reduced.
	if (response == "s_33")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "survey");

			talus_dearic_coa_trezya_nenei_action_report_aclo_tasks (player, npc);

			//-- NPC: The A.C.L.O. has authorized me to compensate you handsomely, not only for freeing Syirlabradawk, but for reducing the amount of N.S.H. enforcers guarding that shipment.  The ambush should go off without a hitch.  I had not thought to still be here, so I have entrusted Captain Quellium with your reward.  Please speak with him.
			string_id message = new string_id (c_stringFile, "s_36");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I appreciate that.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was glad to help, but I still have some unfinished business with the N.S.H.
	if (response == "s_34")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I understand.  Come back to me when you are ready.  I'll have some A.C.L.O. compensation prepared for your efforts against the N.S.H.
			string_id message = new string_id (c_stringFile, "s_35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll be back then.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The A.C.L.O. has authorized me to compensate you handsomely, not only for freeing Syirlabradawk, but for reducing the amount of N.S.H. enforcers guarding that shipment.  The ambush should go off without a hitch.  I had not thought to still be here, so I have entrusted Captain Quellium with your reward.  Please speak with him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I appreciate that.
	if (response == "s_37")
	{
		doAnimationAction (player, "thank");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "offer_affection");

			doAnimationAction (player, "accept_affection");

			//-- NPC: You also have my personal thanks for helping get my friend out of there.
			string_id message = new string_id (c_stringFile, "s_38");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: My pleasure, Ms. Nenei.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You also have my personal thanks for helping get my friend out of there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My pleasure, Ms. Nenei.
	if (response == "s_69")
	{
		doAnimationAction (player, "bow3");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: May the Force be with you...always.
			string_id message = new string_id (c_stringFile, "s_70");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I understand.  Come back to me when you are ready.  I'll have some A.C.L.O. compensation prepared for your efforts against the N.S.H.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll be back then.
	if (response == "s_71")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "hair_flip");

			//-- NPC: I look forward to it.
			string_id message = new string_id (c_stringFile, "s_72");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you been able to contact Syirlabradawk within the N.S.H. base yet?  Please hurry, he only has a week.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will hurry.
	if (response == "s_73")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_74");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you found Syirlabradawk?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wasn't sure what to do next.
	if (response == "s_104")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			talus_dearic_coa_trezya_nenei_action_grant_medic_quest (player, npc);

			//-- NPC: The best course is to check the N.S.H. mainframe access on the first floor in the building and find out where he is being held.
			string_id message = new string_id (c_stringFile, "s_105");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, Captain Quellium said you'll be assisting us at the N.S.H. base of operations.  I am Trezya Nenei, A.C.L.O. liaison to this office.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.  Quellium said to talk to you next.
	if (response == "s_39")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I appreciate your help.  I must be up front with you though, my request is a bit more complicated than Captain Quellium's.  I have a friend, a Wookiee medical officer named Syirlabradawk, who has been having problems with the N.S.H. for some time.  Well, they finally shut down his clinic and imprisoned him in their base.  The Imperials will arrive within the week to transfer Syir to one of their more secure facilities to do who knows what.
			string_id message = new string_id (c_stringFile, "s_41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you know where, in the N.S.H. base, your friend is being held?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry, but I try to avoid any direct Imperial entanglements.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is not correct.  You must have me confused with someone else.
	if (response == "s_93")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "2hot4u");

			//-- NPC: I'm sure I don't, but I'll play along.  Come back if you change your mind.
			string_id message = new string_id (c_stringFile, "s_99");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I appreciate your help.  I must be up front with you though, my request is a bit more complicated than Captain Quellium's.  I have a friend, a Wookiee medical officer named Syirlabradawk, who has been having problems with the N.S.H. for some time.  Well, they finally shut down his clinic and imprisoned him in their base.  The Imperials will arrive within the week to transfer Syir to one of their more secure facilities to do who knows what.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know where, in the N.S.H. base, your friend is being held?
	if (response == "s_43")
	{
		doAnimationAction (player, "listen");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I don't know the base layout well except to say that it has multiple floors.  There should be a security access computer on the main floor that will not only give you access to the lower levels, but also tell you where Syirlabradawk is.  That should be your first goal once inside the base.
			string_id message = new string_id (c_stringFile, "s_45");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Shouldn't be too hard.  I've assaulted underground bunkers before.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry, but I try to avoid any direct Imperial entanglements.
	if (response == "s_85")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: That's too bad.  I don't know anyone else at the moment who would help me fight against the N.S.H. and free my friend.  Please, if you change your mind soon, let me know.
			string_id message = new string_id (c_stringFile, "s_87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know the base layout well except to say that it has multiple floors.  There should be a security access computer on the main floor that will not only give you access to the lower levels, but also tell you where Syirlabradawk is.  That should be your first goal once inside the base.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Shouldn't be too hard.  I've assaulted underground bunkers before.
	if (response == "s_47")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: This is where it gets complicated.  When you reach the base you'll find a training ground area where there is always a contingent of N.S.H. Enforcers in the middle of drills.  You'll need to take them out first, which coincides with another objective.
			string_id message = new string_id (c_stringFile, "s_49");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Another objective?  Don't make this TOO complicated.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_51");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is where it gets complicated.  When you reach the base you'll find a training ground area where there is always a contingent of N.S.H. Enforcers in the middle of drills.  You'll need to take them out first, which coincides with another objective.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Another objective?  Don't make this TOO complicated.
	if (response == "s_51")
	{
		doAnimationAction (player, "stop");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is something you'd have to do anyway to reach Syir.  But there is a shipment of medical computers that the Empire has commissioned the N.S.H. to protect.  Those enforcers are the guards for it.  Take them out and the shipment will be easier for the A.C.L.O. to ambush.  I know its asking a lot, but twenty five of them will severely reduce their effectiveness and they won't have time to recover before they have to fulfill their contract.
			string_id message = new string_id (c_stringFile, "s_53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Twenty five, huh?  But, they are just N.S.H. enforcers, not stormtroopers.  I can handle it.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You, want me, to take out how many highly trained N.S.H. enforcers?  I don't think so, sister.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is something you'd have to do anyway to reach Syir.  But there is a shipment of medical computers that the Empire has commissioned the N.S.H. to protect.  Those enforcers are the guards for it.  Take them out and the shipment will be easier for the A.C.L.O. to ambush.  I know its asking a lot, but twenty five of them will severely reduce their effectiveness and they won't have time to recover before they have to fulfill their contract.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Twenty five, huh?  But, they are just N.S.H. enforcers, not stormtroopers.  I can handle it.
	if (response == "s_55")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			talus_dearic_coa_trezya_nenei_action_accept_aclo_tasks (player, npc);

			//-- NPC: You are a true hero.  Syir is a kind Wookiee who hasn't done anything but help people.  He doesn't deserve what they are doing to him.  Please bring him back to me safely.
			string_id message = new string_id (c_stringFile, "s_57");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll do my best, Ms. Nenei.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You, want me, to take out how many highly trained N.S.H. enforcers?  I don't think so, sister.
	if (response == "s_62")
	{
		doAnimationAction (player, "wtf");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: There is no requirement to work alone.
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's true.  Some of my crazier friends hate the N.S.H. as much as you do.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't know anyone crazy enough to fight that many enforcers.  Find someone else.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are a true hero.  Syir is a kind Wookiee who hasn't done anything but help people.  He doesn't deserve what they are doing to him.  Please bring him back to me safely.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do my best, Ms. Nenei.
	if (response == "s_59")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_65");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is no requirement to work alone.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's true.  Some of my crazier friends hate the N.S.H. as much as you do.
	if (response == "s_75")
	{
		doAnimationAction (player, "belly_laugh");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			talus_dearic_coa_trezya_nenei_action_accept_aclo_tasks (player, npc);

			//-- NPC: You are a true hero.  Syir is a kind Wookiee who hasn't done anything but help people.  He doesn't deserve what they are doing to him.  Please bring him back to me safely.
			string_id message = new string_id (c_stringFile, "s_57");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll do my best, Ms. Nenei.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know anyone crazy enough to fight that many enforcers.  Find someone else.
	if (response == "s_77")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: Alright.  Should you change your mind, I'll be right here.  Just remember, Syirlabradawk only has a week.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I wish you the best.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright.  Should you change your mind, I'll be right here.  Just remember, Syirlabradawk only has a week.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wish you the best.
	if (response == "s_81")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_83");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's too bad.  I don't know anyone else at the moment who would help me fight against the N.S.H. and free my friend.  Please, if you change your mind soon, let me know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will.
	if (response == "s_89")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_91");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_trezya_nenei_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm just a guest here.  You'll need to speak to Captain Quellium if you need something from this office.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is that him over there?
	if (response == "s_106")
	{
		doAnimationAction (player, "point_right");

		//-- [NOTE] 
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_left");

			//-- NPC: Yes, the young Bothan.
			string_id message = new string_id (c_stringFile, "s_108");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.talus_dearic_coa_trezya_nenei");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.talus_dearic_coa_trezya_nenei");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition_aclo_tasks_reported (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: You've done a great service for the A.C.L.O. and for me.  Please stop by our office any time and say hello!
		string_id message = new string_id (c_stringFile, "s_4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'll do that.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_67");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 1);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition_aclo_tasks_complete (player, npc))
	{
		doAnimationAction (npc, "thank");

		//-- NPC: Syir arrived safely.  I can't thank you enough for what you have done for him, and for us.
		string_id message = new string_id (c_stringFile, "s_8");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I was glad to help.  The forces of the N.S.H. have been significantly reduced.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I was glad to help, but I still have some unfinished business with the N.S.H.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_33");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_34");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 3);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition_aclo_tasks_active (player, npc))
	{
		doAnimationAction (npc, "implore");

		//-- NPC: Have you been able to contact Syirlabradawk within the N.S.H. base yet?  Please hurry, he only has a week.
		string_id message = new string_id (c_stringFile, "s_20");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I will hurry.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_73");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 9);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition_medic_abandoned (player, npc))
	{
		//-- NPC: Have you found Syirlabradawk?
		string_id message = new string_id (c_stringFile, "s_103");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I wasn't sure what to do next.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_104");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 11);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition_on_rebel_quest (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: Ah, Captain Quellium said you'll be assisting us at the N.S.H. base of operations.  I am Trezya Nenei, A.C.L.O. liaison to this office.
		string_id message = new string_id (c_stringFile, "s_31");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes.  Quellium said to talk to you next.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: That is not correct.  You must have me confused with someone else.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_39");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_93");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 13);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "shake_head_no");

		//-- NPC: I'm just a guest here.  You'll need to speak to Captain Quellium if you need something from this office.
		string_id message = new string_id (c_stringFile, "s_101");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Is that him over there?
		boolean hasResponse0 = false;
		if (talus_dearic_coa_trezya_nenei_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_106");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId", 26);

			npcStartConversation (player, npc, "talus_dearic_coa_trezya_nenei", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "talus_dearic_coa_trezya_nenei")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

	if (branchId == 1 && talus_dearic_coa_trezya_nenei_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && talus_dearic_coa_trezya_nenei_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && talus_dearic_coa_trezya_nenei_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && talus_dearic_coa_trezya_nenei_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && talus_dearic_coa_trezya_nenei_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && talus_dearic_coa_trezya_nenei_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && talus_dearic_coa_trezya_nenei_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && talus_dearic_coa_trezya_nenei_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && talus_dearic_coa_trezya_nenei_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && talus_dearic_coa_trezya_nenei_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && talus_dearic_coa_trezya_nenei_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && talus_dearic_coa_trezya_nenei_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && talus_dearic_coa_trezya_nenei_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && talus_dearic_coa_trezya_nenei_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && talus_dearic_coa_trezya_nenei_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && talus_dearic_coa_trezya_nenei_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && talus_dearic_coa_trezya_nenei_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.talus_dearic_coa_trezya_nenei.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

