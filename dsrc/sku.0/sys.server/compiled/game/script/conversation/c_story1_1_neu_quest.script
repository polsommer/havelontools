// ======================================================================
//
// c_story1_1_neu_quest.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.factions;
include library.groundquests;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/c_story1_1_neu_quest";

// ======================================================================
// Script Conditions
// ======================================================================

boolean c_story1_1_neu_quest_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_playerStartedQuest (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");	
	
	boolean onQuest = (questIsQuestActive(questId1, player)||questIsQuestComplete(questId1, player))
						||(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return onQuest;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_playerIsReb (obj_id player, obj_id npc)
{
	if (!factions.isRebel(player))
		return false;
		
	return true;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_questActivePostData (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int unlock = groundquests.getTaskId(questId1, "unlock"); 
		
	boolean onQuest = (questIsQuestActive(questId1, player)
					&& questIsTaskComplete(questId1, unlock, player))
					&&!(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return onQuest;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_questActivePreData (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int unlock = groundquests.getTaskId(questId1, "unlock"); 
		
	boolean onQuest = (questIsQuestActive(questId1, player)
					&& !questIsTaskComplete(questId1, unlock, player))
					&&!(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return onQuest;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_questComplete (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int cliffhanger = groundquests.getTaskId(questId, "cliffhanger"); 
	
	return (questIsQuestComplete(questId, player)||questIsTaskActive(questId, cliffhanger, player))
			&&!(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_foundData (obj_id player, obj_id npc)
{
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int unlock = groundquests.getTaskId(questId1, "unlock"); 

	boolean onQuest = false;
	onQuest = questIsTaskActive(questId1, unlock, player)
				&&!(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));

	return onQuest;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_playerIsImp (obj_id player, obj_id npc)
{
	if (!factions.isImperial(player))
		return false;

	return true;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_notFoundData (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int search = groundquests.getTaskId(questId1, "search"); 

	boolean onQuest = false;
	onQuest = questIsTaskActive(questId1, search, player)
				&&!(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));

	return onQuest;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_completeds1Imp (obj_id player, obj_id npc)
{
	if (factions.isImperial(player)||factions.isRebel(player))
		return false;	

	int questId1 = questGetQuestId("quest/c_story1_1_imp");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int cliffhanger = groundquests.getTaskId(questId1, "cliffhanger"); 
	 
	boolean quest1Complete = (questIsQuestComplete(questId1, player)||questIsTaskActive(questId1, cliffhanger, player))
							&& !(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return quest1Complete;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_completedS1Neu (obj_id player, obj_id npc)
{
	if (factions.isImperial(player)||factions.isRebel(player))
		return false;	

	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int cliffhanger = groundquests.getTaskId(questId1, "cliffhanger"); 
	
	boolean quest1Complete = (questIsQuestComplete(questId1, player)||questIsTaskActive(questId1, cliffhanger, player))
							&& !(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return quest1Complete;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_completedS1Reb (obj_id player, obj_id npc)
{
	if (factions.isImperial(player)||factions.isRebel(player))
		return false;	

	int questId1 = questGetQuestId("quest/c_story1_1_reb");
	int questId2 = questGetQuestId("quest/c_story1_2_neu");
	int cliffhanger = groundquests.getTaskId(questId1, "cliffhanger"); 
	
	boolean quest1Complete = (questIsQuestComplete(questId1, player)||questIsTaskActive(questId1, cliffhanger, player))
				&& !(questIsQuestActive(questId2, player)||questIsQuestComplete(questId2, player));
	
	return quest1Complete;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_completedS1NewFacImp (obj_id player, obj_id npc)
{
	if (!factions.isImperial(player))
		return false;
		
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int cliffhanger = groundquests.getTaskId(questId1, "cliffhanger"); 
		
	boolean Quest1Complete = questIsQuestComplete(questId1, player)||questIsTaskActive(questId1, cliffhanger, player);
	
	return Quest1Complete;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_completedS1NewFacReb (obj_id player, obj_id npc)
{
	if (!factions.isRebel(player))
		return false;
		
	int questId1 = questGetQuestId("quest/c_story1_1_neu");
	int cliffhanger = groundquests.getTaskId(questId1, "cliffhanger"); 
		
	boolean Quest1Complete = questIsQuestComplete(questId1, player)||questIsTaskActive(questId1, cliffhanger, player);
	
	return Quest1Complete;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_quest2Active (obj_id player, obj_id npc)
{
	if ( ( groundquests.isTaskActive(player, "c_story1_2_neu", "cliff2")||
		groundquests.hasCompletedQuest(player, "c_story1_2_neu") )&&
		( !groundquests.hasCompletedQuest(player, "c_story1_3_neu") ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_questDisabled (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_quest3Active (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "c_story1_3_neu"));
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_quest3Complete (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "c_story1_3_neu")&&
			(!groundquests.hasCompletedQuest(player, "c_story1_4a")&& 
			!groundquests.isQuestActive(player, "c_story1_4a"));
}

// ----------------------------------------------------------------------

boolean c_story1_1_neu_quest_condition_onTaskReturn (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "c_story1_3_neu", "return"));
}

// ======================================================================
// Script Actions
// ======================================================================

void c_story1_1_neu_quest_action_giveQuest (obj_id player, obj_id npc)
{
	int questId = questGetQuestId("quest/c_story1_1_neu");

	groundquests.grantQuest(questId, player, npc, true);
	
//	obj_id top=getTopMostContainer(player);
//	location loc = getLocation(top);
//	loc.x = 0;
//	loc.y = 0;
//	loc.z = 2012;
//	loc.area = "rori";
//	obj_id waypoint = createWaypointInDatapad(player, loc);
//	setObjVar(player, "quest.general.quest/c_story1_1_neu.crash", waypoint);	
//	setWaypointName(waypoint, "Missing Pilot Coordinates");
//	setWaypointActive(waypoint, true);
	
//	location loc1 = getLocation(top);
//	loc1.x = -5152;
//	loc1.y = 0;
//	loc1.z = 4293;
//	obj_id waypoint1 = createWaypointInDatapad(player, loc1);
//	setObjVar(player, "quest.general.quest/c_story1_1_neu.neutralQG", waypoint1);	
//	setWaypointName(waypoint1, "Tyla Jinn");
	//setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_unlockData (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_story1_1_neu_unlockeddata");

	obj_id remwaypoint = getObjIdObjVar(player, "quest.general.quest/c_story1_1_neu.crash");
	if (remwaypoint != null)
    {
       destroyWaypointInDatapad(remwaypoint, player);
    }
	removeObjVar(player, "quest.general.quest/c_story1_1_neu.crash");

	obj_id remwaypoint1 = getObjIdObjVar(player, "quest.general.quest/c_story1_1_neu.crash");
	if (remwaypoint1 != null)
    {
       destroyWaypointInDatapad(remwaypoint1, player);
    }
	removeObjVar(player, "quest.general.quest/c_story1_1_neu.crash");

//	obj_id top=getTopMostContainer(player);
//	location loc = getLocation(top);
//	loc.x = -5109;
//	loc.y = 0;
//	loc.z = -2237;
//	loc.area = "rori";
//	obj_id waypoint = createWaypointInDatapad(player, loc);
//	setObjVar(player, "quest.general.quest/c_story1_1_neu.doctor", waypoint);	
//	setWaypointName(waypoint, "Doctor Vang's Medical Center");
//	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_faceplayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_giveCrashWaypoint (obj_id player, obj_id npc)
{
	obj_id remwaypoint = getObjIdObjVar(player, "quest.general.quest/c_story1_1_neu.crash");
	if (remwaypoint != null)
    {
       destroyWaypointInDatapad(remwaypoint, player);
    }
	removeObjVar(player, "quest.general.quest/c_story1_1_neu.crash");
	
	obj_id top=getTopMostContainer(player);
	location loc = getLocation(top);
	loc.x = 0;
	loc.y = 0;
	loc.z = 2012;
	loc.area = "rori";
	obj_id waypoint = createWaypointInDatapad(player, loc);
	setObjVar(player, "quest.general.quest/c_story1_1_neu.crash", waypoint);	
	setWaypointName(waypoint, "Missing Pilot Coordinates");
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_giveQuest2 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_story1_1_imp_cliffhanger");
	groundquests.sendSignal(player, "c_story1_1_neu_cliffhanger");
	groundquests.sendSignal(player, "c_story1_1_reb_cliffhanger");

	int questId = questGetQuestId("quest/c_story1_2_neu");

	groundquests.grantQuest(questId, player, npc, true);
	
	obj_id remwaypoint = getObjIdObjVar(player, "quest.general.quest/c_story1_1_neu.corpse");
	if (remwaypoint != null)
    {
       destroyWaypointInDatapad(remwaypoint, player);
    }
	removeObjVar(player, "quest.general.quest/c_story1_1_neu.corpse");
	
	obj_id remwaypoint1 = getObjIdObjVar(player, "quest.general.quest/c_story1_1_neu.neutralQG");
	if (remwaypoint1 != null)
    {
       destroyWaypointInDatapad(remwaypoint1, player);
    }
	removeObjVar(player, "quest.general.quest/c_story1_1_neu.neutralQG");
	
//	obj_id top=getTopMostContainer(player);
//	location loc = getLocation(top);
//	loc.x = -5286;
//	loc.y = 0;
//	loc.z = -2266;
//	loc.area = "rori";
//	obj_id waypoint = createWaypointInDatapad(player, loc);
//	setObjVar(player, "quest.general.quest/c_story1_2_neu.kaila", waypoint);	
//	setWaypointName(waypoint, "Kaila Min's Hang Out");
//	setWaypointActive(waypoint, true);
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_giveQuest3 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_story1_3_neu");
	groundquests.sendSignal(player, "c_story1_2_neu_cliff2");
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_removeQuest3 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "c_story1_3_neu");
	space_quest.clearQuestFlags(player, "escort", "c_story1_3_space");
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_signalReward3 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "returned");
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_giveQuest4 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "c_story1_4a");
}

// ----------------------------------------------------------------------

void c_story1_1_neu_quest_action_signalQuest2 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "c_story1_2_neu_cliff2");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int c_story1_1_neu_quest_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I finally have information for you! Someone named Kaila contacted me and told me that she had information about my lost friend! He's lost in the wilderness.  You have to help me!  She won't give me the coordinates, but maybe she will give them to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why wouldn't she give you the coordinates?
	if (response == "s_659")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hhmph, she says that I won't survive in the wilderness, and she's right there.  But she said that I'm foolish enough to go out there on my own.  She says that she doesn't want to get me killed!  I'd only do that if I couldn't find someone to help me!
			string_id message = new string_id (c_stringFile, "s_661");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's ok.  I'll help you.  Just tell me where I can find her.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: She's right.  You will get yourself killed.  You will probably get me killed in the process.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_663");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_667");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to find out what's going on.  Where is she?
	if (response == "s_671")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			c_story1_1_neu_quest_action_giveQuest2 (player, npc);

			//-- NPC: Kaila hangs out at Narmle's Gambling Hall.  Here's a waypoint for you.  Go quickly!
			string_id message = new string_id (c_stringFile, "s_673");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't sign on for this. I'm done.
	if (response == "s_675")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stamp_feet");

			//-- NPC: Oh, I hope your weapon breaks and you get eaten by a rancor!
			string_id message = new string_id (c_stringFile, "s_677");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hhmph, she says that I won't survive in the wilderness, and she's right there.  But she said that I'm foolish enough to go out there on my own.  She says that she doesn't want to get me killed!  I'd only do that if I couldn't find someone to help me!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's ok.  I'll help you.  Just tell me where I can find her.
	if (response == "s_663")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			c_story1_1_neu_quest_action_giveQuest2 (player, npc);

			//-- NPC: Kaila's a regular at some dive in Narmle.  I'll give you a waypoint.
			string_id message = new string_id (c_stringFile, "s_665");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: She's right.  You will get yourself killed.  You will probably get me killed in the process.
	if (response == "s_667")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: You... you jerk!  You don't care about anyone or anything but yourself.  When you change your mind about helping me, maybe I'll talk to you.
			string_id message = new string_id (c_stringFile, "s_669");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, will you help me?  My friend is missing.  Someone told me that you were looking for him.  I have information for you! Someone named Kaila contacted me and told me that she had information about my lost friend! He's lost in the wilderness.  She won't give me the coordinates, but maybe she will give them to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why wouldn't she give you the coordinates?
	if (response == "s_659")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hhmph, she says that I won't survive in the wilderness, and she's right there.  But she said that I'm foolish enough to go out there on my own.  She says that she doesn't want to get me killed!  I'd only do that if I couldn't find someone to help me!
			string_id message = new string_id (c_stringFile, "s_661");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's ok.  I'll help you.  Just tell me where I can find her.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: She's right.  You will get yourself killed.  You will probably get me killed in the process.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_663");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_667");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to find out what's going on.  Where is she?
	if (response == "s_671")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			c_story1_1_neu_quest_action_giveQuest2 (player, npc);

			//-- NPC: Kaila hangs out at Narmle's Gambling Hall.  Here's a waypoint for you.  Go quickly!
			string_id message = new string_id (c_stringFile, "s_673");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't sign on for this. I'm done.
	if (response == "s_675")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stamp_feet");

			//-- NPC: Oh, I hope your weapon breaks and you get eaten by a rancor!
			string_id message = new string_id (c_stringFile, "s_677");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My friend is missing.  Someone told me that you were looking for him.  I have information for you! Someone named Kaila contacted me and told me that she had information! He's lost in the wilderness.  You have to help me!  She won't give me the coordinates, but maybe she will give them to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why wouldn't she give you the coordinates?
	if (response == "s_659")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hhmph, she says that I won't survive in the wilderness, and she's right there.  But she said that I'm foolish enough to go out there on my own.  She says that she doesn't want to get me killed!  I'd only do that if I couldn't find someone to help me!
			string_id message = new string_id (c_stringFile, "s_661");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's ok.  I'll help you.  Just tell me where I can find her.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: She's right.  You will get yourself killed.  You will probably get me killed in the process.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_663");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_667");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to find out what's going on.  Where is she?
	if (response == "s_671")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			c_story1_1_neu_quest_action_giveQuest2 (player, npc);

			//-- NPC: Kaila hangs out at Narmle's Gambling Hall.  Here's a waypoint for you.  Go quickly!
			string_id message = new string_id (c_stringFile, "s_673");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't sign on for this. I'm done.
	if (response == "s_675")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stamp_feet");

			//-- NPC: Oh, I hope your weapon breaks and you get eaten by a rancor!
			string_id message = new string_id (c_stringFile, "s_677");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Can you help me?  Please help me!  My friend's ship is missing and I haven't heard from him.  I'm really worried.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What can you tell me about it?
	if (response == "s_685")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: He is a merchant and on one of this runs, he disappeared!  I can't imagine what happened!  He's a very good pilot. I don't think that Rori was one of his stops, but that's where his last coordinates say he was.  I'm very worried. 
			string_id message = new string_id (c_stringFile, "s_687");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will help you find your friend.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather not.  I have a lot to do right now.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_689");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_693");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could always use a job.
	if (response == "s_697")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			c_story1_1_neu_quest_action_giveQuest (player, npc);

			//-- NPC: This is quite a bit more than just a job.  My friend's life may be at stake!  His last coordinates were on Rori.  I'm really worried about him!  Let me transfer the coordinates to you.  If you can't actually find him, maybe you can find something of his that would give me a clue to where he may be.
			string_id message = new string_id (c_stringFile, "s_699");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thank you.  You should go look for your own friend.
	if (response == "s_701")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shoo");

			//-- NPC: I'm no kind of wilderness survivor!  You don't care about anything except yourself!  Go then and thanks for nothing!  
			string_id message = new string_id (c_stringFile, "s_703");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He is a merchant and on one of this runs, he disappeared!  I can't imagine what happened!  He's a very good pilot. I don't think that Rori was one of his stops, but that's where his last coordinates say he was.  I'm very worried. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will help you find your friend.
	if (response == "s_689")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			c_story1_1_neu_quest_action_giveQuest (player, npc);

			//-- NPC: Thank you!  I have the coordinates here.  Please bring me back any information you find. I'm so worried about him! 
			string_id message = new string_id (c_stringFile, "s_691");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather not.  I have a lot to do right now.
	if (response == "s_693")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "backhand_threaten");

			//-- NPC: You are very cruel not to help me find my friend.  I hope you get eaten by a sarlacc!
			string_id message = new string_id (c_stringFile, "s_695");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What did you find?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The pilot's ship crashed.  I haven't found any trace of him though.
	if (response == "s_707")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: Crashed?  That's terrible!  Please go back there and search for some trace of him!
			string_id message = new string_id (c_stringFile, "s_709");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I found this datapad and this sample.  I think it's a spice.
	if (response == "s_711")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: A spice?  What would he be doing with spice?  He doesn't touch the stuff.  Let me see this datapad, I have his personal code. Oh no!
			string_id message = new string_id (c_stringFile, "s_715");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does it say?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_719");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing yet.
	if (response == "s_750")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: I hope he's all right.  Please go out there soon.
			string_id message = new string_id (c_stringFile, "s_752");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I lost the location. Can you give it to me again?
	if (response == "s_754")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			c_story1_1_neu_quest_action_giveCrashWaypoint (player, npc);

			//-- NPC: You lost it?  Fine, I'll transfer the location to your datapad.
			string_id message = new string_id (c_stringFile, "s_756");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A spice?  What would he be doing with spice?  He doesn't touch the stuff.  Let me see this datapad, I have his personal code. Oh no!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does it say?
	if (response == "s_719")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: He was attacked!  He doesn't say by who or what, but his ship was brought down.  There's no information here that helps me at all!  Just something about this sample and how it's important.  I don't care about that, I just want to find my friend!
			string_id message = new string_id (c_stringFile, "s_723");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe the spice will lead us to where he is.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_727");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He was attacked!  He doesn't say by who or what, but his ship was brought down.  There's no information here that helps me at all!  Just something about this sample and how it's important.  I don't care about that, I just want to find my friend!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe the spice will lead us to where he is.
	if (response == "s_727")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do you think so?  My cousin is a doctor and could probably analyze that. Would you take it to him and see if he can help?
			string_id message = new string_id (c_stringFile, "s_731");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would be happy to.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, he's your cousin. You should go talk to him.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_734");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_742");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you think so?  My cousin is a doctor and could probably analyze that. Would you take it to him and see if he can help?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would be happy to.
	if (response == "s_734")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			c_story1_1_neu_quest_action_unlockData (player, npc);

			//-- NPC: Thank you again.  Here are the coordinates to his clinic.  I hope it helps.
			string_id message = new string_id (c_stringFile, "s_738");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, he's your cousin. You should go talk to him.
	if (response == "s_742")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can't, actually. We're not on good terms. If you change your mind about helping me, please come back.
			string_id message = new string_id (c_stringFile, "s_746");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I heard over the fence that my friend, Cal, is in hiding.  I think I know where he may be!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is that?
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: He has an old friend named Tierce. They used to do the circuit together. He has a vacation estate on Rori.
			string_id message = new string_id (c_stringFile, "s_98");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds reasonable.  Why are you shaking?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He has an old friend named Tierce. They used to do the circuit together. He has a vacation estate on Rori.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds reasonable.  Why are you shaking?
	if (response == "s_99")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: I...I'm not going to be able to help you any more.  No, I can't say more than that.  I have been ... encouraged to leave it alone, and that others are handling it.
			string_id message = new string_id (c_stringFile, "s_100");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's awful!
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I...I'm not going to be able to help you any more.  No, I can't say more than that.  I have been ... encouraged to leave it alone, and that others are handling it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's awful!
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			c_story1_1_neu_quest_action_giveQuest4 (player, npc);

			//-- NPC: Yes.  I'm counting on you to find him.  Please, go to Tierce.  I'll give you the location of his estate.  Good luck!
			string_id message = new string_id (c_stringFile, "s_102");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There you are %NU. I was starting to get worried. I see that my friend is not with you though...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No I'm afraid not. I found some more leads though.
	if (response == "s_76")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well that's good at least. What did you find out?
			string_id message = new string_id (c_stringFile, "s_77");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Did you know that your friend was smuggling slaves?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well that's good at least. What did you find out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did you know that your friend was smuggling slaves?
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "taken_aback");

			//-- NPC: You can not be serious? Are you sure about this?
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Almost. My information says that he helped Trandoshan slavers.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You can not be serious? Are you sure about this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Almost. My information says that he helped Trandoshan slavers.
	if (response == "s_80")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			c_story1_1_neu_quest_action_signalReward3 (player, npc);

			//-- NPC: I can't believe it. Either way, it's a lead, as you say. I will use this information and see what else I can find out.
			string_id message = new string_id (c_stringFile, "s_81");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It also seems the Empire is working in secret with some of the slavers.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Good. I hope my information about your friend is false.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_83");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I can't believe it. Either way, it's a lead, as you say. I will use this information and see what else I can find out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It also seems the Empire is working in secret with some of the slavers.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: You don't say? That's very interesting. I will look in to that as well. Check back with me in a while and hopefully I will have some new leads.
			string_id message = new string_id (c_stringFile, "s_85");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good. I hope my information about your friend is false.
	if (response == "s_83")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Me too %NU, me too. Check back with me in a while and hopefully I will have some more leads for my friend.
			string_id message = new string_id (c_stringFile, "s_84");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes %NU, how may I help?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just double checking the information. Dearic on Talus right?
	if (response == "s_764")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			doAnimationAction (player, "goodbye");

			//-- NPC: Correct. He goes by the name of Wire and likes to hang out in the cantina. I wish you the best of luck %NU and I hope you can find my friend.
			string_id message = new string_id (c_stringFile, "s_766");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Something important came up, I can't help you right now.
	if (response == "s_768")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			c_story1_1_neu_quest_action_removeQuest3 (player, npc);

			//-- NPC: I'm terribly saddened to hear this %NU. Please, if you get the time later, come back and see me.
			string_id message = new string_id (c_stringFile, "s_770");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Welcome back %NU! You're just in time. I got another lead on the where about of my friend.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The last time you had a lead, I almost died!
	if (response == "s_774")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "apologize");

			//-- NPC: I know my friend, I'm terribly sorry. If I had known, I would not have sent you there alone.
			string_id message = new string_id (c_stringFile, "s_776");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I suppose... well what is this lead of yours?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yeah well I can't risk this anymore, it's too dangerous.
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_778");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_792");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Should I run and hide now? These leads of yours are lethal.
	if (response == "s_796")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "apologize");

			//-- NPC: I'm terribly sorry for what happened the last time. I had no way of knowing or I would have warned you not to go alone.
			string_id message = new string_id (c_stringFile, "s_798");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well until you have a better clue of what you're doing, I'm off.
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Fine. What kind of death trap do you have planned now?
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_800");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_804");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry but I'm tired of almost getting killed for you, I'm out of here!
	if (response == "s_806")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: I wish you would reconsider but I understand your decision. If you do reconsider, please return to me, I have no one else...
			string_id message = new string_id (c_stringFile, "s_808");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know my friend, I'm terribly sorry. If I had known, I would not have sent you there alone.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I suppose... well what is this lead of yours?
	if (response == "s_778")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You are too kind %NU. Again, my apologies for what happened. So after digging through my friend's datapad I've found out that he had contact with a person known as Wire a while before his 'accident'. I know of this Wire and was hoping you would have a chat with him to find out what he knows.
			string_id message = new string_id (c_stringFile, "s_780");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you know this person, why don't you talk to him?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, where do I find 'Wire'?
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_782");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_790");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 45);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah well I can't risk this anymore, it's too dangerous.
	if (response == "s_792")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: I wish you would reconsider but I understand your decision. If you do reconsider, please return to me, I have no one else...
			string_id message = new string_id (c_stringFile, "s_794");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are too kind %NU. Again, my apologies for what happened. So after digging through my friend's datapad I've found out that he had contact with a person known as Wire a while before his 'accident'. I know of this Wire and was hoping you would have a chat with him to find out what he knows.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you know this person, why don't you talk to him?
	if (response == "s_782")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			//-- NPC: I know 'of' him. He's what you call a information broker. He might need some convincing before giving up what he knows and I'm pretty sure you'd be better at that than I.
			string_id message = new string_id (c_stringFile, "s_784");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm pretty sure too. Where do I find him?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_786");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, where do I find 'Wire'?
	if (response == "s_790")
	{
		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow");

			c_story1_1_neu_quest_action_giveQuest3 (player, npc);

			//-- NPC: He lives in the city of Dearic on Talus and spends most of his time in the cantina. He's a Bothan, fairly short for his species and has a pale fur. Thank you %NU, I don't know what I would do without your help.
			string_id message = new string_id (c_stringFile, "s_788");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know 'of' him. He's what you call a information broker. He might need some convincing before giving up what he knows and I'm pretty sure you'd be better at that than I.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm pretty sure too. Where do I find him?
	if (response == "s_786")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "bow");

			c_story1_1_neu_quest_action_giveQuest3 (player, npc);

			//-- NPC: He lives in the city of Dearic on Talus and spends most of his time in the cantina. He's a Bothan, fairly short for his species and has a pale fur. Thank you %NU, I don't know what I would do without your help.
			string_id message = new string_id (c_stringFile, "s_788");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int c_story1_1_neu_quest_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm terribly sorry for what happened the last time. I had no way of knowing or I would have warned you not to go alone.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well until you have a better clue of what you're doing, I'm off.
	if (response == "s_800")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "implore");

			//-- NPC: I wish you would reconsider but I understand your decision. If you do reconsider, please return to me, I have no one else...
			string_id message = new string_id (c_stringFile, "s_802");
			utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. What kind of death trap do you have planned now?
	if (response == "s_804")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You are too kind %NU. Again, my apologies for what happened. So after digging through my friend's datapad I've found out that he had contact with a person known as Wire a while before his 'accident'. I know of this Wire and was hoping you would have a chat with him to find out what he knows.
			string_id message = new string_id (c_stringFile, "s_780");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you know this person, why don't you talk to him?
			boolean hasResponse0 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Alright, where do I find 'Wire'?
			boolean hasResponse1 = false;
			if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_782");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_790");

				utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 45);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.c_story1_1_neu_quest");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName (self, "Tyla Jinn");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName (self, "Tyla Jinn");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.c_story1_1_neu_quest");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_completedS1NewFacImp (player, npc))
	{
		doAnimationAction (npc, "sigh_deeply");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Oh dear, you went and joined the military, didn't you?  You won't be able to help me now.  I was already almost arrested for pestering an Imperial officer.  I'll have to find someone else to help me.
		string_id message = new string_id (c_stringFile, "s_649");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_completedS1NewFacReb (player, npc))
	{
		doAnimationAction (npc, "shoo");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Much as I need help, I don't trust people in the Rebellion.  I keep hearing how you kill women and children.  Please leave me alone.
		string_id message = new string_id (c_stringFile, "s_651");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_questDisabled (player, npc))
	{
		//-- NPC: Things don't always turn out the way you may wish they do. That's life, I suppose.
		string_id message = new string_id (c_stringFile, "s_109");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_playerIsImp (player, npc))
	{
		doAnimationAction (npc, "shake_head_no");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Oh my, you are an Imperial, aren't you?  I guess you are too busy to help me.
		string_id message = new string_id (c_stringFile, "s_653");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_playerIsReb (player, npc))
	{
		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: I can't talk to you in case a member of the Imperial Security Bureau is watching.
		string_id message = new string_id (c_stringFile, "s_655");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_completedS1Neu (player, npc))
	{
		doAnimationAction (npc, "shoo");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: I finally have information for you! Someone named Kaila contacted me and told me that she had information about my lost friend! He's lost in the wilderness.  You have to help me!  She won't give me the coordinates, but maybe she will give them to you.
		string_id message = new string_id (c_stringFile, "s_657");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why wouldn't she give you the coordinates?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to find out what's going on.  Where is she?
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I didn't sign on for this. I'm done.
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_659");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_671");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_675");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 6);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_completeds1Imp (player, npc))
	{
		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Oh, will you help me?  My friend is missing.  Someone told me that you were looking for him.  I have information for you! Someone named Kaila contacted me and told me that she had information about my lost friend! He's lost in the wilderness.  She won't give me the coordinates, but maybe she will give them to you.
		string_id message = new string_id (c_stringFile, "s_679");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why wouldn't she give you the coordinates?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to find out what's going on.  Where is she?
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I didn't sign on for this. I'm done.
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_659");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_671");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_675");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 6);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_completedS1Reb (player, npc))
	{
		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: My friend is missing.  Someone told me that you were looking for him.  I have information for you! Someone named Kaila contacted me and told me that she had information! He's lost in the wilderness.  You have to help me!  She won't give me the coordinates, but maybe she will give them to you.
		string_id message = new string_id (c_stringFile, "s_681");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why wouldn't she give you the coordinates?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to find out what's going on.  Where is she?
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I didn't sign on for this. I'm done.
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_659");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_671");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_675");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 6);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!c_story1_1_neu_quest_condition_playerStartedQuest (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Can you help me?  Please help me!  My friend's ship is missing and I haven't heard from him.  I'm really worried.
		string_id message = new string_id (c_stringFile, "s_683");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What can you tell me about it?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I could always use a job.
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: No thank you.  You should go look for your own friend.
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_685");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_697");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_701");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 14);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_questActivePreData (player, npc))
	{
		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: What did you find?
		string_id message = new string_id (c_stringFile, "s_705");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The pilot's ship crashed.  I haven't found any trace of him though.
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition_notFoundData (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I found this datapad and this sample.  I think it's a spice.
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition_foundData (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Nothing yet.
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I lost the location. Can you give it to me again?
		boolean hasResponse3 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_707");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_711");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_750");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_754");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 20);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_questActivePostData (player, npc))
	{
		doAnimationAction (npc, "point_forward");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: Go talk to Doctor Vang.  There's not much else I can do to help you.
		string_id message = new string_id (c_stringFile, "s_758");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_quest3Complete (player, npc))
	{
		doAnimationAction (npc, "bow");

		doAnimationAction (player, "greet");

		//-- NPC: I heard over the fence that my friend, Cal, is in hiding.  I think I know where he may be!
		string_id message = new string_id (c_stringFile, "s_74");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Where is that?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_97");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 30);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_onTaskReturn (player, npc))
	{
		doAnimationAction (npc, "bow");

		doAnimationAction (player, "greet");

		//-- NPC: There you are %NU. I was starting to get worried. I see that my friend is not with you though...
		string_id message = new string_id (c_stringFile, "s_75");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No I'm afraid not. I found some more leads though.
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_76");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 34);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_quest3Active (player, npc))
	{
		doAnimationAction (npc, "bow");

		doAnimationAction (player, "greet");

		//-- NPC: Yes %NU, how may I help?
		string_id message = new string_id (c_stringFile, "s_762");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Just double checking the information. Dearic on Talus right?
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Something important came up, I can't help you right now.
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_764");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_768");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 40);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition_quest2Active (player, npc))
	{
		doAnimationAction (npc, "bow");

		doAnimationAction (player, "nod_head_once");

		c_story1_1_neu_quest_action_signalQuest2 (player, npc);

		//-- NPC: Welcome back %NU! You're just in time. I got another lead on the where about of my friend.
		string_id message = new string_id (c_stringFile, "s_772");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The last time you had a lead, I almost died!
		boolean hasResponse0 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Should I run and hide now? These leads of yours are lethal.
		boolean hasResponse1 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm sorry but I'm tired of almost getting killed for you, I'm out of here!
		boolean hasResponse2 = false;
		if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_774");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_796");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_806");

			utils.setScriptVar (player, "conversation.c_story1_1_neu_quest.branchId", 43);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "c_story1_1_neu_quest", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (c_story1_1_neu_quest_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "implore");

		c_story1_1_neu_quest_action_faceplayer (player, npc);

		//-- NPC: I can't help you anymore.  But please find my Cal!
		string_id message = new string_id (c_stringFile, "s_760");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "c_story1_1_neu_quest")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

	if (branchId == 6 && c_story1_1_neu_quest_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && c_story1_1_neu_quest_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && c_story1_1_neu_quest_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && c_story1_1_neu_quest_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && c_story1_1_neu_quest_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && c_story1_1_neu_quest_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && c_story1_1_neu_quest_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && c_story1_1_neu_quest_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && c_story1_1_neu_quest_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && c_story1_1_neu_quest_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && c_story1_1_neu_quest_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && c_story1_1_neu_quest_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && c_story1_1_neu_quest_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && c_story1_1_neu_quest_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && c_story1_1_neu_quest_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && c_story1_1_neu_quest_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && c_story1_1_neu_quest_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && c_story1_1_neu_quest_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && c_story1_1_neu_quest_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && c_story1_1_neu_quest_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && c_story1_1_neu_quest_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && c_story1_1_neu_quest_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && c_story1_1_neu_quest_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.c_story1_1_neu_quest.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

