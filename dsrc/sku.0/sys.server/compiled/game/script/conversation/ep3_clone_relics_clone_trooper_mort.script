// ======================================================================
//
// ep3_clone_relics_clone_trooper_mort.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.armor;
include library.chat;
include library.factions;
include library.features;
include library.groundquests;
include library.skill;
include library.space_flags;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_clone_relics_clone_trooper_mort";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_retrievedLogs (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_clone_trooper_mort_1", "logsRecovered"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_isRebel (obj_id player, obj_id npc)
{
	int playerFactionID = pvpGetAlignedFaction(player);
	if ( playerFactionID == ##"rebel" )
		return true;
	else
		return ( hasSkill( player, "pilot_rebel_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_isImperial (obj_id player, obj_id npc)
{
	int playerFactionID = pvpGetAlignedFaction(player);
	if ( playerFactionID == ##"imperial" )
		return true;
	else
		return ( hasSkill( player, "pilot_imperial_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_finishedImperialQuest (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_clone_trooper_mort_imperial", "mortGoodNewsImperial"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_completedQuestSeries (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedTask(player, "ep3_clone_relics_clone_trooper_mort_imperial", "mortGoodNewsImperial")||
	groundquests.hasCompletedTask(player, "ep3_clone_relics_clone_trooper_mort_rebel", "mortGoodNewsRebel")||
	groundquests.hasCompletedTask(player, "ep3_clone_relics_clone_trooper_mort_neutral", "mortGoodNewsNeutral"))
	
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_finishedNeutralQuest (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_clone_trooper_mort_neutral", "mortGoodNewsNeutral"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_onQuest1 (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_clone_relics_clone_trooper_mort_1"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_finishedRebelQuest (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_clone_trooper_mort_rebel", "mortGoodNewsRebel"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_isGm (obj_id player, obj_id npc)
{
	return (hasObjVar(player, "gm" ));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_finishedQuest1 (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "ep3_clone_relics_clone_trooper_mort_1"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_clone_trooper_mort_condition_hasEp3 (obj_id player, obj_id npc)
{
	return features.hasEpisode3Expansion(player);
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_clone_relics_clone_trooper_mort_action_giveQuest1 (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_clone_trooper_mort_1");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_removeQuest1 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_clone_trooper_mort_1");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_showedLogsMort (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "showedMortLog");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_giveQuestImperial (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_clone_trooper_mort_imperial");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_giveQuestRebel (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_clone_trooper_mort_rebel");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_giveQuestJabba (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_clone_trooper_mort_neutral");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_issueImperialArmorSet (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "toldMort");
	
	const string[] ARMOR_SET_IMPERIAL = {
	"armor_clone_trooper_imperial_s01_leggings.iff",
	"armor_clone_trooper_imperial_s01_helmet.iff",
	"armor_clone_trooper_imperial_s01_gloves.iff",
	"armor_clone_trooper_imperial_s01_chest_plate.iff",
	"armor_clone_trooper_imperial_s01_bracer_r.iff",
	"armor_clone_trooper_imperial_s01_bracer_l.iff",
	"armor_clone_trooper_imperial_s01_boots.iff",
	"armor_clone_trooper_imperial_s01_bicep_r.iff",
	"armor_clone_trooper_imperial_s01_bicep_l.iff",
	"armor_clone_trooper_imperial_s01_belt.iff"
	};
	
	for ( int j = 0; j < ARMOR_SET_IMPERIAL.length; ++j )
	{
		string armorTemplate = "object/tangible/wearables/armor/clone_trooper/" + ARMOR_SET_IMPERIAL[j];
		obj_id armorItem = createObjectInInventoryAllowOverload(armorTemplate, player);
		if ( isIdValid(armorItem) )
		{
			if (!isGameObjectTypeOf(armorItem, GOT_armor_foot) && !isGameObjectTypeOf(armorItem, GOT_armor_hand))
			{
				armor.setArmorDataPercent(armorItem, 2, 1, 0.94f, 0.95f);
			}
		}

	}
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_removeQuestImperial (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_clone_trooper_mort_imperial");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_removeQuestJabba (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_clone_trooper_mort_neutral");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_removeQuestRebel (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_clone_trooper_mort_rebel");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_issueRebelArmorSet (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "toldMort");
	
	const string[] ARMOR_SET_REBEL = {
	"armor_clone_trooper_rebel_s01_leggings.iff",
	"armor_clone_trooper_rebel_s01_helmet.iff",
	"armor_clone_trooper_rebel_s01_gloves.iff",
	"armor_clone_trooper_rebel_s01_chest_plate.iff",
	"armor_clone_trooper_rebel_s01_bracer_r.iff",
	"armor_clone_trooper_rebel_s01_bracer_l.iff",
	"armor_clone_trooper_rebel_s01_boots.iff",
	"armor_clone_trooper_rebel_s01_bicep_r.iff",
	"armor_clone_trooper_rebel_s01_bicep_l.iff",
	"armor_clone_trooper_rebel_s01_belt.iff"
	};
	
	for ( int j = 0; j < ARMOR_SET_REBEL.length; ++j )
	{
		string armorTemplate = "object/tangible/wearables/armor/clone_trooper/" + ARMOR_SET_REBEL[j];
		obj_id armorItem = createObjectInInventoryAllowOverload(armorTemplate, player);
		if ( isIdValid(armorItem) )
		{
			if (!isGameObjectTypeOf(armorItem, GOT_armor_foot) && !isGameObjectTypeOf(armorItem, GOT_armor_hand))
			{
				armor.setArmorDataPercent(armorItem, 2, 1, 0.94f, 0.95f);
			}
		}

	}
}

// ----------------------------------------------------------------------

void ep3_clone_relics_clone_trooper_mort_action_issueNeutralArmorSet (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "toldMort");
	
	const string[] ARMOR_SET_NEUTRAL = {
	"armor_clone_trooper_neutral_s01_leggings.iff",
	"armor_clone_trooper_neutral_s01_helmet.iff",
	"armor_clone_trooper_neutral_s01_gloves.iff",
	"armor_clone_trooper_neutral_s01_chest_plate.iff",
	"armor_clone_trooper_neutral_s01_bracer_r.iff",
	"armor_clone_trooper_neutral_s01_bracer_l.iff",
	"armor_clone_trooper_neutral_s01_boots.iff",
	"armor_clone_trooper_neutral_s01_bicep_r.iff",
	"armor_clone_trooper_neutral_s01_bicep_l.iff",
	"armor_clone_trooper_neutral_s01_belt.iff"
	};
	
	for ( int j = 0; j < ARMOR_SET_NEUTRAL.length; ++j )
	{
		string armorTemplate = "object/tangible/wearables/armor/clone_trooper/" + ARMOR_SET_NEUTRAL[j];
		obj_id armorItem = createObjectInInventoryAllowOverload(armorTemplate, player);
		if ( isIdValid(armorItem) )
		{
			if (!isGameObjectTypeOf(armorItem, GOT_armor_foot) && !isGameObjectTypeOf(armorItem, GOT_armor_hand))
			{
				armor.setArmorDataPercent(armorItem, 2, 1, 0.94f, 0.95f);
			}
		}

	}
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_clone_relics_clone_trooper_mort_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you %NU! How are you doing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Everything is going well Mort, how are you?
	if (response == "s_676")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Things are not looking too bad. I've got myself a job working security at the space station. Not glamorous but it's something to do.
			string_id message = new string_id (c_stringFile, "s_678");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Still enjoying a drink though?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_680");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Things are not looking too bad. I've got myself a job working security at the space station. Not glamorous but it's something to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Still enjoying a drink though?
	if (response == "s_680")
	{
		doAnimationAction (player, "belly_laugh");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			//-- NPC: < Mort laughs > Yeah, but only on my days off! Which reminds me, I should probably go and get some rest. It was great to see you again %NU, take care of yourself.
			string_id message = new string_id (c_stringFile, "s_682");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you %NU. What's new?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Morkov finally got what he deserved.
	if (response == "s_686")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "huh");

			//-- NPC: Are you sure? What happened?
			string_id message = new string_id (c_stringFile, "s_688");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: After I turned in the evidence, the Emperor ordered his termination.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_690");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_287")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure? What happened?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: After I turned in the evidence, the Emperor ordered his termination.
	if (response == "s_690")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: And you are sure they went through with it?
			string_id message = new string_id (c_stringFile, "s_692");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I was the one that had to carry out the sentence...
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_694");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And you are sure they went through with it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I was the one that had to carry out the sentence...
	if (response == "s_694")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: After all these years... I can't believe it... When you went on your way to Naboo I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.
			string_id message = new string_id (c_stringFile, "s_696");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I agree, or I wouldn't have gone through with this.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_698");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: After all these years... I can't believe it... When you went on your way to Naboo I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I agree, or I wouldn't have gone through with this.
	if (response == "s_698")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.
			string_id message = new string_id (c_stringFile, "s_700");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd be honored to put it to use. So what will you do now?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_702");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd be honored to put it to use. So what will you do now?
	if (response == "s_702")
	{
		ep3_clone_relics_clone_trooper_mort_action_issueImperialArmorSet (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.
			string_id message = new string_id (c_stringFile, "s_704");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good my friend. I wish you the best of luck.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_706");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good my friend. I wish you the best of luck.
	if (response == "s_706")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			//-- NPC: Thank you %NU. Stop by some day, let me know how you are doing.
			string_id message = new string_id (c_stringFile, "s_708");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you %NU. How has things turned out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Morkov finally got what he deserved.
	if (response == "s_865")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "huh");

			//-- NPC: Are you sure? What happened?
			string_id message = new string_id (c_stringFile, "s_867");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I went to Jabba. Needless to say he wasn't too happy.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_869");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_285")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure? What happened?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I went to Jabba. Needless to say he wasn't too happy.
	if (response == "s_869")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: And you are sure they killed him?
			string_id message = new string_id (c_stringFile, "s_871");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Couldn't get more sure. I had to do it.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_873");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And you are sure they killed him?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Couldn't get more sure. I had to do it.
	if (response == "s_873")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: After all these years... I can't believe it... When you went on your way to Tatooine I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.
			string_id message = new string_id (c_stringFile, "s_875");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I agree, or I wouldn't have gone through with this.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_877");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: After all these years... I can't believe it... When you went on your way to Tatooine I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I agree, or I wouldn't have gone through with this.
	if (response == "s_877")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.
			string_id message = new string_id (c_stringFile, "s_879");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd be honored to put it to use. So what will you do now?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_881");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd be honored to put it to use. So what will you do now?
	if (response == "s_881")
	{
		ep3_clone_relics_clone_trooper_mort_action_issueNeutralArmorSet (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.
			string_id message = new string_id (c_stringFile, "s_883");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good my friend. I wish you the best of luck.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_885");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good my friend. I wish you the best of luck.
	if (response == "s_885")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			//-- NPC: Thank you %NU. Stop by some day, let me know how you are doing.
			string_id message = new string_id (c_stringFile, "s_887");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you %NU. How are things coming along?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Morkov finally got what he deserved.
	if (response == "s_891")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "huh");

			//-- NPC: Are you sure? What happened?
			string_id message = new string_id (c_stringFile, "s_893");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I went to the Alliance. They got a bit upset.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_895");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_283")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure? What happened?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I went to the Alliance. They got a bit upset.
	if (response == "s_895")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: They had him killed?
			string_id message = new string_id (c_stringFile, "s_897");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sort of, they asked me to do it.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_899");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They had him killed?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sort of, they asked me to do it.
	if (response == "s_899")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: After all these years... I can't believe it... When you went on your way to the Alliance I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.
			string_id message = new string_id (c_stringFile, "s_901");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I agree, or I wouldn't have gone through with this.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_903");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: After all these years... I can't believe it... When you went on your way to the Alliance I didn't truly expect to actually get my revenge, but you proved me wrong my friend. I may sound blood thirsty but after what that scum did to me and probably thousands of others, he deserved it, trust me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I agree, or I wouldn't have gone through with this.
	if (response == "s_903")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.
			string_id message = new string_id (c_stringFile, "s_905");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd be honored to put it to use. So what will you do now?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_907");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I couldn't possibly repay what I owe you but I did save something that you may find useful. If you're interested, I still have my old combat armor. I don't need it anymore.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd be honored to put it to use. So what will you do now?
	if (response == "s_907")
	{
		ep3_clone_relics_clone_trooper_mort_action_issueRebelArmorSet (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.
			string_id message = new string_id (c_stringFile, "s_909");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good my friend. I wish you the best of luck.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_911");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll just finish living my life. Maybe cut back on the drinking some, try to straighten myself out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good my friend. I wish you the best of luck.
	if (response == "s_911")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			//-- NPC: Thank you %NU. Stop by some day, let me know how you are doing.
			string_id message = new string_id (c_stringFile, "s_913");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hi there %NU, have you had a chance to do something with those logs?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet but I'm on my way to now. See you soon Mort.
	if (response == "s_277")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed, thanks again for all your help %NU.
			string_id message = new string_id (c_stringFile, "s_279");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_281")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There you are. How are things going?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Quite well. I've recovered these logs of Morkov's 'business'.
	if (response == "s_713")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition_isRebel (player, npc))
		{
			//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet that the Rebel Alliance would be very interested in some of these transactions. Especially the ones that show him selling low quality and even faulty equipment to them. He must be responsible for hundreds of deaths on their part.
			string_id message = new string_id (c_stringFile, "s_717");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I bet you are right.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_721");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 28);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition_isImperial (player, npc))
		{
			//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet the Empire would be very interested in this. He's even sold equipment to the Rebel Alliance.
			string_id message = new string_id (c_stringFile, "s_736");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I bet you are right.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_740");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 31);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet that Jabba the Hutt would be very interested in some of these transactions, especially the ones to Lady Valarian. They are not particularly fond of each other from what I hear.
			string_id message = new string_id (c_stringFile, "s_753");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I bet you are right.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_755");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 34);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_304")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet that the Rebel Alliance would be very interested in some of these transactions. Especially the ones that show him selling low quality and even faulty equipment to them. He must be responsible for hundreds of deaths on their part.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I bet you are right.
	if (response == "s_721")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: What are you going to do?
			string_id message = new string_id (c_stringFile, "s_725");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm going to find the right person in the Alliance to show this to.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_729");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you going to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to find the right person in the Alliance to show this to.
	if (response == "s_729")
	{
		ep3_clone_relics_clone_trooper_mort_action_showedLogsMort (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			ep3_clone_relics_clone_trooper_mort_action_giveQuestRebel (player, npc);

			//-- NPC: < Mort chuckles > Revenge will finally be mine. Come back and let me know what happened, I can't wait.
			string_id message = new string_id (c_stringFile, "s_732");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet the Empire would be very interested in this. He's even sold equipment to the Rebel Alliance.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I bet you are right.
	if (response == "s_740")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: What are you going to do?
			string_id message = new string_id (c_stringFile, "s_744");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm going to show this to someone with Imperial authority.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_748");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you going to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to show this to someone with Imperial authority.
	if (response == "s_748")
	{
		ep3_clone_relics_clone_trooper_mort_action_showedLogsMort (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			ep3_clone_relics_clone_trooper_mort_action_giveQuestImperial (player, npc);

			//-- NPC: < Mort chuckles > Revenge will finally be mine, and what a fitting end for old Morkov too. Come back and let me know what happened, I can't wait.
			string_id message = new string_id (c_stringFile, "s_751");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: < Mort looks through the data on the log > This is really good %NU. I don't pretend to understand everything that is on here but I bet that Jabba the Hutt would be very interested in some of these transactions, especially the ones to Lady Valarian. They are not particularly fond of each other from what I hear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I bet you are right.
	if (response == "s_755")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: What are you going to do?
			string_id message = new string_id (c_stringFile, "s_757");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm going to show this to someone at Jabba's palace.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_759");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you going to do?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to show this to someone at Jabba's palace.
	if (response == "s_759")
	{
		ep3_clone_relics_clone_trooper_mort_action_showedLogsMort (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "belly_laugh");

			ep3_clone_relics_clone_trooper_mort_action_giveQuestJabba (player, npc);

			//-- NPC: < Mort chuckles > Revenge will finally be mine. I hear Jabba is quite the genius when it comes to plotting some ones demise. Come back and let me know what happened, I can't wait.
			string_id message = new string_id (c_stringFile, "s_761");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're back so soon?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just wanted to let you know I'm heading to Naboo now.
	if (response == "s_765")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you... %NU was it? I know you don't owe me anything so it means a lot.
			string_id message = new string_id (c_stringFile, "s_767");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah I'm afraid something came up, I can't do this right now.
	if (response == "s_769")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "snap_finger1");

			ep3_clone_relics_clone_trooper_mort_action_removeQuest1 (player, npc);

			//-- NPC: I'm not surprised... Bartender, another one please!
			string_id message = new string_id (c_stringFile, "s_771");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_311")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Which quest/reward?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: 1
	if (response == "s_315")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_removeQuest1 (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_317");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial
	if (response == "s_319")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_removeQuestImperial (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_321");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Jabba
	if (response == "s_323")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_removeQuestJabba (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_325");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_removeQuestRebel (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial set
	if (response == "s_290")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_issueImperialArmorSet (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_292");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebel set
	if (response == "s_294")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_issueRebelArmorSet (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_296");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Neutral set
	if (response == "s_298")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_clone_trooper_mort_action_issueNeutralArmorSet (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_300");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm a bit busy here okay? This glass is the only friend I need.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh sorry.
	if (response == "s_775")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sure...
			string_id message = new string_id (c_stringFile, "s_777");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was going to buy you another 'friend' but I guess not...
	if (response == "s_779")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "snap_finger1");

			//-- NPC: Well, one can never have too many friends I guess. Bartender, another one of these! So, I assume this friend comes with a price?
			string_id message = new string_id (c_stringFile, "s_781");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm just curious, you look familiar...
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_783");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
	if (response == "s_376")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest/reward?
			string_id message = new string_id (c_stringFile, "s_313");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Imperial
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Jabba
			boolean hasResponse2 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Rebel
			boolean hasResponse3 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Imperial set
			boolean hasResponse4 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Rebel set
			boolean hasResponse5 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Neutral set
			boolean hasResponse6 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_315");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_298");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, one can never have too many friends I guess. Bartender, another one of these! So, I assume this friend comes with a price?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm just curious, you look familiar...
	if (response == "s_783")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: < Mort chuckles > Yeah I'm sure I do, considering I used to have more brothers than there's people on this planet.
			string_id message = new string_id (c_stringFile, "s_785");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You're a clone?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_787");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: < Mort chuckles > Yeah I'm sure I do, considering I used to have more brothers than there's people on this planet.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're a clone?
	if (response == "s_787")
	{
		doAnimationAction (player, "huh");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Guilty...
			string_id message = new string_id (c_stringFile, "s_789");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Never met a clone before. Do you work for the Empire?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_791");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Guilty...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never met a clone before. Do you work for the Empire?
	if (response == "s_791")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: I was part of 'liberating' the galaxy and bringing our 'glorious' Empire to power. Nowadays, I just drink...
			string_id message = new string_id (c_stringFile, "s_793");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's not possible... I thought you all died young?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_795");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was part of 'liberating' the galaxy and bringing our 'glorious' Empire to power. Nowadays, I just drink...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's not possible... I thought you all died young?
	if (response == "s_795")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: See this arm? Well it's not the only thing that's not flesh in my body. I would have been better off dying with the rest of them though...
			string_id message = new string_id (c_stringFile, "s_797");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why do you say that?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_799");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: See this arm? Well it's not the only thing that's not flesh in my body. I would have been better off dying with the rest of them though...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why do you say that?
	if (response == "s_799")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: What can I do? I'm a washed up soldier that knows nothing else, except drinking, I'm getting real good at that. My life has no purpose...
			string_id message = new string_id (c_stringFile, "s_801");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That can't be true. What happened to you?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_803");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What can I do? I'm a washed up soldier that knows nothing else, except drinking, I'm getting real good at that. My life has no purpose...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That can't be true. What happened to you?
	if (response == "s_803")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: I was bred to be part of one of the Clone Trooper commando squadrons, elite four man teams causing disruption behind enemy lines. During the battles of Kashyyyk I and my squadron had one such mission, taking out a command bunker deep inside enemy territory. You really interested in this?
			string_id message = new string_id (c_stringFile, "s_805");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, please go on.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_807");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was bred to be part of one of the Clone Trooper commando squadrons, elite four man teams causing disruption behind enemy lines. During the battles of Kashyyyk I and my squadron had one such mission, taking out a command bunker deep inside enemy territory. You really interested in this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, please go on.
	if (response == "s_807")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: The mission was going well, it wasn't the first time we've done something like this. We blew up the bunker and were on our way to be extracted when the enemy found us. We notified command that we were under attack but would still be on time at extraction. We worked our way toward it as quickly as we could, dispatching pursuers by the dozens...
			string_id message = new string_id (c_stringFile, "s_809");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The mission was going well, it wasn't the first time we've done something like this. We blew up the bunker and were on our way to be extracted when the enemy found us. We notified command that we were under attack but would still be on time at extraction. We worked our way toward it as quickly as we could, dispatching pursuers by the dozens...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes?
	if (response == "s_811")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: As we approached the extraction point, we saw our LAAT take off. There was barely any enemy left and none at the extraction point. But our commander saw us as expendable clones and would rather lose us than risk a carrier.
			string_id message = new string_id (c_stringFile, "s_813");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you do?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_815");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As we approached the extraction point, we saw our LAAT take off. There was barely any enemy left and none at the extraction point. But our commander saw us as expendable clones and would rather lose us than risk a carrier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you do?
	if (response == "s_815")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: We tried to make it back towards our own ranks but we were deep inside the Kashyyyk forests, and let me tell you, those forests are deep. Over the next few weeks, I experienced the deaths of my three brothers to wildlife, enemies and nature itself...
			string_id message = new string_id (c_stringFile, "s_817");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I thought clones didn't have feelings?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We tried to make it back towards our own ranks but we were deep inside the Kashyyyk forests, and let me tell you, those forests are deep. Over the next few weeks, I experienced the deaths of my three brothers to wildlife, enemies and nature itself...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I thought clones didn't have feelings?
	if (response == "s_819")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: So did our commanders but let me tell you kid, I felt pain so strong that it could have been my own as my brothers fell.
			string_id message = new string_id (c_stringFile, "s_821");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So how did you eventually end up here?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_823");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So did our commanders but let me tell you kid, I felt pain so strong that it could have been my own as my brothers fell.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So how did you eventually end up here?
	if (response == "s_823")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: For months, maybe even years, I was living in the forests of Kashyyyk. During a fight over food with one of the monstrous creatures on the planet, before I could put it down, I lost my arm. I just laid down on my back and thought, well that was it...
			string_id message = new string_id (c_stringFile, "s_825");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But it wasn't...
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For months, maybe even years, I was living in the forests of Kashyyyk. During a fight over food with one of the monstrous creatures on the planet, before I could put it down, I lost my arm. I just laid down on my back and thought, well that was it...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But it wasn't...
	if (response == "s_827")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, as I was laying there, bleeding to death, a research expedition happened upon me. They saved my life but had ulterior motives. Dr. Ortoz, the leader of the expedition, saw me as the perfect lab animal and started experimenting on me.
			string_id message = new string_id (c_stringFile, "s_829");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And I thought my life was tough...
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_831");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, as I was laying there, bleeding to death, a research expedition happened upon me. They saved my life but had ulterior motives. Dr. Ortoz, the leader of the expedition, saw me as the perfect lab animal and started experimenting on me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And I thought my life was tough...
	if (response == "s_831")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Eventually I regained my strength though and put an end to the experiments... permanently. I managed to sneak on to a freighter and make my way to here... and that about wraps up my life story.
			string_id message = new string_id (c_stringFile, "s_833");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Amazing... and you've been here ever since?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_835");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Eventually I regained my strength though and put an end to the experiments... permanently. I managed to sneak on to a freighter and make my way to here... and that about wraps up my life story.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Amazing... and you've been here ever since?
	if (response == "s_835")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well I did try to track down my old commander for some good old revenge a few years ago. By that time he was a high ranking officer in the Empire and I had no chance to get to him, so I gave up.
			string_id message = new string_id (c_stringFile, "s_837");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is he still alive?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_839");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well I did try to track down my old commander for some good old revenge a few years ago. By that time he was a high ranking officer in the Empire and I had no chance to get to him, so I gave up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is he still alive?
	if (response == "s_839")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, he's retired now but not much easier to get to, especially in my state. From what I've managed to find out, he's running a racket smuggling Imperial weapons he can get a hold of with old contacts, selling them to anyone willing to pay.
			string_id message = new string_id (c_stringFile, "s_841");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why don't you turn him in?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_843");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, he's retired now but not much easier to get to, especially in my state. From what I've managed to find out, he's running a racket smuggling Imperial weapons he can get a hold of with old contacts, selling them to anyone willing to pay.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you turn him in?
	if (response == "s_843")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: If the Empire found out I was alive, well let's just say I wouldn't stay that way. Besides, I don't have any evidence...
			string_id message = new string_id (c_stringFile, "s_845");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Say I had some time to look in to this, where would I start?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You've had it rough my friend. Let me buy you another...
			boolean hasResponse1 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_847");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_859");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If the Empire found out I was alive, well let's just say I wouldn't stay that way. Besides, I don't have any evidence...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Say I had some time to look in to this, where would I start?
	if (response == "s_847")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are something else friend..hehe. If nothing else, you've brought a smile on my face for the first time in... well maybe for the first time. If you're serious though, he's running his operation out of the hotel in Keren on Naboo. His name is Morkov.
			string_id message = new string_id (c_stringFile, "s_849");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will look in to it my friend. You want another?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You've had it rough my friend. Let me buy you another...
	if (response == "s_859")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you friend.
			string_id message = new string_id (c_stringFile, "s_861");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are something else friend..hehe. If nothing else, you've brought a smile on my face for the first time in... well maybe for the first time. If you're serious though, he's running his operation out of the hotel in Keren on Naboo. His name is Morkov.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will look in to it my friend. You want another?
	if (response == "s_851")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Actually... I think I'm fine. I'm not getting my hopes up but if you're actually going to check in to it, I wish you good luck and thank you.
			string_id message = new string_id (c_stringFile, "s_853");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will be back and let you know what happened.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_855");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_clone_trooper_mort_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Actually... I think I'm fine. I'm not getting my hopes up but if you're actually going to check in to it, I wish you good luck and thank you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will be back and let you know what happened.
	if (response == "s_855")
	{
		ep3_clone_relics_clone_trooper_mort_action_giveQuest1 (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: You are something else friend...
			string_id message = new string_id (c_stringFile, "s_857");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.ep3_clone_relics_clone_trooper_mort");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName(self, new string_id( "ep3/npc_names", "clone_relics_mort" ));
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName(self, new string_id( "ep3/npc_names", "clone_relics_mort" ));
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);
	faceTo (self, player);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_clone_relics_clone_trooper_mort");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_completedQuestSeries (player, npc))
	{
		doAnimationAction (npc, "handshake_tandem");

		doAnimationAction (player, "handshake_tandem");

		//-- NPC: Good to see you %NU! How are you doing?
		string_id message = new string_id (c_stringFile, "s_674");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Everything is going well Mort, how are you?
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_676");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_289");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 1);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_finishedImperialQuest (player, npc))
	{
		doAnimationAction (player, "tiphat");

		//-- NPC: Good to see you %NU. What's new?
		string_id message = new string_id (c_stringFile, "s_684");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Morkov finally got what he deserved.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_686");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_287");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 4);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_finishedNeutralQuest (player, npc))
	{
		doAnimationAction (player, "tiphat");

		//-- NPC: Good to see you %NU. How has things turned out?
		string_id message = new string_id (c_stringFile, "s_863");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Morkov finally got what he deserved.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_865");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_285");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 11);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_finishedRebelQuest (player, npc))
	{
		doAnimationAction (player, "tiphat");

		//-- NPC: Good to see you %NU. How are things coming along?
		string_id message = new string_id (c_stringFile, "s_889");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Morkov finally got what he deserved.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_891");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_283");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 18);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_finishedQuest1 (player, npc))
	{
		//-- NPC: Hi there %NU, have you had a chance to do something with those logs?
		string_id message = new string_id (c_stringFile, "s_275");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not yet but I'm on my way to now. See you soon Mort.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_277");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_281");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 25);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_retrievedLogs (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		doAnimationAction (player, "greet");

		//-- NPC: There you are. How are things going?
		string_id message = new string_id (c_stringFile, "s_710");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Quite well. I've recovered these logs of Morkov's 'business'.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_713");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_304");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 27);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition_onQuest1 (player, npc))
	{
		//-- NPC: You're back so soon?
		string_id message = new string_id (c_stringFile, "s_763");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Just wanted to let you know I'm heading to Naboo now.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yeah I'm afraid something came up, I can't do this right now.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse2 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_765");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_769");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_311");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 37);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
	{
		//-- NPC: I'm a bit busy here okay? This glass is the only friend I need.
		string_id message = new string_id (c_stringFile, "s_773");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Oh sorry.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I was going to buy you another 'friend' but I guess not...
		boolean hasResponse1 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_hasEp3 (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests or test rewards.
		boolean hasResponse2 = false;
		if (ep3_clone_relics_clone_trooper_mort_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_775");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_779");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_376");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId", 48);

			npcStartConversation (player, npc, "ep3_clone_relics_clone_trooper_mort", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_clone_relics_clone_trooper_mort")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

	if (branchId == 1 && ep3_clone_relics_clone_trooper_mort_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && ep3_clone_relics_clone_trooper_mort_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_clone_relics_clone_trooper_mort_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && ep3_clone_relics_clone_trooper_mort_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && ep3_clone_relics_clone_trooper_mort_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && ep3_clone_relics_clone_trooper_mort_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && ep3_clone_relics_clone_trooper_mort_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && ep3_clone_relics_clone_trooper_mort_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && ep3_clone_relics_clone_trooper_mort_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && ep3_clone_relics_clone_trooper_mort_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && ep3_clone_relics_clone_trooper_mort_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && ep3_clone_relics_clone_trooper_mort_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && ep3_clone_relics_clone_trooper_mort_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_clone_relics_clone_trooper_mort_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && ep3_clone_relics_clone_trooper_mort_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && ep3_clone_relics_clone_trooper_mort_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && ep3_clone_relics_clone_trooper_mort_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_clone_relics_clone_trooper_mort_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && ep3_clone_relics_clone_trooper_mort_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && ep3_clone_relics_clone_trooper_mort_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && ep3_clone_relics_clone_trooper_mort_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && ep3_clone_relics_clone_trooper_mort_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && ep3_clone_relics_clone_trooper_mort_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && ep3_clone_relics_clone_trooper_mort_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && ep3_clone_relics_clone_trooper_mort_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && ep3_clone_relics_clone_trooper_mort_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && ep3_clone_relics_clone_trooper_mort_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && ep3_clone_relics_clone_trooper_mort_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && ep3_clone_relics_clone_trooper_mort_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && ep3_clone_relics_clone_trooper_mort_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && ep3_clone_relics_clone_trooper_mort_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && ep3_clone_relics_clone_trooper_mort_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && ep3_clone_relics_clone_trooper_mort_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && ep3_clone_relics_clone_trooper_mort_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && ep3_clone_relics_clone_trooper_mort_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && ep3_clone_relics_clone_trooper_mort_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && ep3_clone_relics_clone_trooper_mort_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && ep3_clone_relics_clone_trooper_mort_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && ep3_clone_relics_clone_trooper_mort_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && ep3_clone_relics_clone_trooper_mort_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && ep3_clone_relics_clone_trooper_mort_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && ep3_clone_relics_clone_trooper_mort_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && ep3_clone_relics_clone_trooper_mort_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && ep3_clone_relics_clone_trooper_mort_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && ep3_clone_relics_clone_trooper_mort_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && ep3_clone_relics_clone_trooper_mort_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && ep3_clone_relics_clone_trooper_mort_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && ep3_clone_relics_clone_trooper_mort_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && ep3_clone_relics_clone_trooper_mort_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && ep3_clone_relics_clone_trooper_mort_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_clone_relics_clone_trooper_mort.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

