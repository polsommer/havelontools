// ======================================================================
//
// yavin_fallenstar_pt_1_osae.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.features;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/yavin_fallenstar_pt_1_osae";

// ======================================================================
// Script Conditions
// ======================================================================

boolean yavin_fallenstar_pt_1_osae_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_questActiveorComplete_pt_1 (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenStar_pt1");
	int questId2 = questGetQuestId("quest/yavin_fallenStar_pt2");
	
	boolean OnTask = 	(questIsQuestActive(questId1, player))||(questIsQuestComplete(questId1, player))||
						(questIsQuestActive(questId2, player))||(questIsQuestComplete(questId2, player));
						
	return OnTask;					
	
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_questComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt1");
	int questId2 = questGetQuestId("quest/yavin_fallenstar_pt2");
	int questId3 = questGetQuestId("quest/yavin_fallenstar_pt3");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player))&&(questIsQuestComplete(questId2, player))
						&& (questIsQuestComplete(questId3, player));
	
	return OnTask;

}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_MeganWarned (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt1");
	int yavin_fallenstar_e7_getreward = groundquests.getTaskId(questId1, "yavin_fallenstar_e7_getreward"); 
	
	boolean OnTask = questIsTaskActive(questId1, yavin_fallenstar_e7_getreward, player);
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_questNotDone (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt1");
	int yavin_fallenstar_e3_warn_megan = groundquests.getTaskId(questId1, "yavin_fallenstar_e3_warn_megan");
	int yavin_fallenstar_e4_fight_yak = groundquests.getTaskId(questId1, "yavin_fallenstar_e4_fight_yak");
	
	boolean OnTask = 	questIsTaskActive(questId1, yavin_fallenstar_e3_warn_megan, player)||
						questIsTaskActive(questId1, yavin_fallenstar_e4_fight_yak, player);
						
	return OnTask;					
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_Pt1_questComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt1");
	
	boolean OnTask = 	questIsQuestComplete(questId1, player);
	
	return OnTask;

}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_questNotDone_pt_2_Wuioe (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt2");
	int yavin_fallenstar_e11_kill_robbers = groundquests.getTaskId(questId1, "yavin_fallenstar_e11_kill_robbers");
	int yavin_fallenstar_e12_kill_smugglers = groundquests.getTaskId(questId1, "yavin_fallenstar_e12_kill_smugglers");
	
	boolean OnTask = 	questIsTaskActive(questId1, yavin_fallenstar_e11_kill_robbers, player)||
						questIsTaskActive(questId1, yavin_fallenstar_e12_kill_smugglers, player);
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_spaceCompleted (obj_id player, obj_id npc)
{
	if (space_quest.hasWonQuest( player, "recovery", "yavin_fallenstar_pt_2_recovery" ))
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_questNotDone_pt_3_ship (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt3");
	int yavin_fallenstar_e14_interception = groundquests.getTaskId(questId1, "yavin_fallenstar_e14_interception");
	
	boolean OnTask = 	questIsTaskActive(questId1, yavin_fallenstar_e14_interception, player)
						&& !(space_quest.hasWonQuest( player, "recovery", "yavin_fallenstar_pt_2_recovery" ));
	
	return OnTask;

}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_opcaCompleted (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt2");
	int yavin_fallenstar_e14_return_osae = groundquests.getTaskId(questId1, "yavin_fallenstar_e14_return_osae");
	
	boolean OnTask = questIsTaskActive(questId1,yavin_fallenstar_e14_return_osae, player);
						
	return OnTask;					
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_HasJTL (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_fallenstar_pt1");
	int questId2 = questGetQuestId("quest/yavin_fallenstar_pt2");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player))&&(questIsQuestComplete(questId2, player))&& ( features.isSpaceEdition( player ) );
	
	return OnTask;

}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_onQuest (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/yavin_meganjobs_lostworker");
	int questId2 = questGetQuestId("quest/yavin_meganjobs_hyperdrive");
	int questId3 = questGetQuestId("quest/yavin_meganjobs_killrival");
	
	boolean OnTask =  	(questIsQuestActive(questId1, player))||
						(questIsQuestActive(questId2, player))||
						(questIsQuestActive(questId3, player));
						
	return OnTask;					
	
}

// ----------------------------------------------------------------------

boolean yavin_fallenstar_pt_1_osae_condition_spaceFailed (obj_id player, obj_id npc)
{
	return space_quest.hasFailedQuest(player, "recovery", "yavin_fallenstar_pt_2_recovery") ||
		   space_quest.hasAbortedQuest(player, "recovery", "yavin_fallenstar_pt_2_recovery");
}

// ======================================================================
// Script Actions
// ======================================================================

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_1 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenstar_launch_e8");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_giveQuest_pt_1 (obj_id player, obj_id npc)
{	
	int questId = questGetQuestId("quest/yavin_fallenstar_pt1");

	groundquests.grantQuest(questId, player, npc, true);

}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_giveQuest_pt_2 (obj_id player, obj_id npc)
{	
	int questId = questGetQuestId("quest/yavin_fallenstar_pt2");

	groundquests.grantQuest(questId, player, npc, true);

}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_2_Opca (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenstar_launch_e26");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_spaceSignal_pt (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenStar_launch_e14");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Imperial (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenStar_launch_e22");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_chose (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenStar_launch_e19");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Rebel (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenStar_launch_e21");
}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_giveQuest_pt_3 (obj_id player, obj_id npc)
{	
	

	groundquests.clearQuest(player,"yavin_fallenstar_pt3");
	groundquests.grantQuest(player,"yavin_fallenstar_pt3");
	
	space_quest.clearQuestFlags( player, "recovery", "yavin_fallenstar_pt_2_recovery" );
	space_quest.grantQuest( player, "recovery", "yavin_fallenstar_pt_2_recovery" );

}

// ----------------------------------------------------------------------

void yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_walkaway (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "yavin_fallenstar_launch_e35");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int yavin_fallenstar_pt_1_osae_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nicely done. Nicely done. You know you have been such a great help, I am going to let you decide who we are going to sell the cargo to. So what will it be? Imperial or Rebel?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I say go with strength over the long haul. Let's sell it to the Imperials.
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Imperial (player, npc);

			//-- NPC: The Empire it is. I am contacting Commander Bryne now.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have a good feeling bout that Alliance. Let's sell it to the Rebels.
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Rebel (player, npc);

			//-- NPC: Yea I like backing a winner early. And we can always sell them out if things get dicey again. Contacting General Dodonna now. 
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why are you letting me decide?
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: I am going to use your comm-link and ID to set up the deal of course! I don't want either side to know who I am, just yet. Now chose.
			string_id message = new string_id (c_stringFile, "s_123");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Imperials then.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Rebels then.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: No way. I am walking.
			boolean hasResponse2 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_125");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am going to use your comm-link and ID to set up the deal of course! I don't want either side to know who I am, just yet. Now chose.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperials then.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Imperial (player, npc);

			//-- NPC: The Empire it is. I am contacting Commander Bryne now.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebels then.
	if (response == "s_125")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Rebel (player, npc);

			//-- NPC: Yea I like backing a winner early. And we can always sell them out if things get dicey again. Contacting General Dodonna now. 
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No way. I am walking.
	if (response == "s_126")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: If you do you get nothing. 
			string_id message = new string_id (c_stringFile, "s_127");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Imperials then.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Rebels then.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Nothing is better than getting in hot water with either side. 
			boolean hasResponse2 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_129");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_130");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you do you get nothing. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperials then.
	if (response == "s_128")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Imperial (player, npc);

			//-- NPC: The Empire it is. I am contacting Commander Bryne now.
			string_id message = new string_id (c_stringFile, "s_133");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Rebels then.
	if (response == "s_129")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_Rebel (player, npc);

			//-- NPC: Yea I like backing a winner early. And we can always sell them out if things get dicey again. Contacting General Dodonna now. 
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing is better than getting in hot water with either side. 
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_walkaway (player, npc);

			//-- NPC: OK, I will broker the deal myself. Don't come looking for favors from me in the future.
			string_id message = new string_id (c_stringFile, "s_132");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The ship got away! Ok I have the schedule for the next one. You want to try again?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now.
	if (response == "s_106")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: OK come back when you are ready. 
			string_id message = new string_id (c_stringFile, "s_109");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes I am ready to try again.
	if (response == "s_110")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_giveQuest_pt_3 (player, npc);

			//-- NPC: Great. The timing for the intercept will be close, but here is the best location for jumping the ship, before it escapes into hyper-space.
			string_id message = new string_id (c_stringFile, "s_104");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Have you forced that ship down yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet.
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: The timing is very close. You need to intercept that ship as soon as possible.
			string_id message = new string_id (c_stringFile, "s_82");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry I am having some problems with my ship. I should be taking off shortly.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: The timing is very close. You need to intercept that ship as soon as possible.
			string_id message = new string_id (c_stringFile, "s_82");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Soci has sent me some hot info. Looks like the Black Sun are going to try and smuggle out a cargo of Death Star salvage. You want to do another job for me?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure do.
	if (response == "s_103")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_giveQuest_pt_3 (player, npc);

			//-- NPC: Great. The timing for the intercept will be close, but here is the best location for jumping the ship, before it escapes into hyper-space.
			string_id message = new string_id (c_stringFile, "s_104");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not now. I am getting, shall we say ... uncomfortable ... with your activities.
	if (response == "s_107")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: You need to do some hard thinking about your answer my friend. Take a little time. Come back and talk with me again. You don't want to make me an enemy.
			string_id message = new string_id (c_stringFile, "s_108");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing back so soon?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I haven't really started.
	if (response == "s_835")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well get to it then.
			string_id message = new string_id (c_stringFile, "s_837");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Dr'Lar isn't to co-operative. 
	if (response == "s_839")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well it's your job to see that he is. 
			string_id message = new string_id (c_stringFile, "s_841");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] D4
	//-- NPC: Did Dr'Lar get my message?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yep. So where is my payment?
	if (response == "s_845")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_1 (player, npc);

			//-- NPC: Here is something for your trouble. Come back if you want more work. I like your style.
			string_id message = new string_id (c_stringFile, "s_847");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He mentioned that you are working for the Hutts. Is that true?
	if (response == "s_849")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_1 (player, npc);

			//-- NPC: Let's just say I am representing their interest here on Yavin IV... at least for the moment.
			string_id message = new string_id (c_stringFile, "s_851");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well I expect it doesn't matter much. So where is my payment?
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Can't say I am comfortable with that, but what is done is done.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_853");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_855");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let's just say I am representing their interest here on Yavin IV... at least for the moment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well I expect it doesn't matter much. So where is my payment?
	if (response == "s_853")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_1 (player, npc);

			//-- NPC: Here is something for your trouble. Come back if you want more work. I like your style.
			string_id message = new string_id (c_stringFile, "s_847");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can't say I am comfortable with that, but what is done is done.
	if (response == "s_855")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_1 (player, npc);

			//-- NPC: Here is something for your trouble. Come back if you want more work. I like your style.
			string_id message = new string_id (c_stringFile, "s_847");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Given if the players do not get Wuioe's cooperation. 
	//-- NPC: Is Ewrosa Soci going to co-operate?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think it's going to be as easy as you thought.
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: You took the job. Get out there and do it or I will be very upset with you. And you won't like me when I am upset. 
			string_id message = new string_id (c_stringFile, "s_61");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Still working on it.
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well time is a wasting. Get to it. 
			string_id message = new string_id (c_stringFile, "s_65");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great Job. You scared Soci so badly that he has already contacted me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks. It wasn't a problem at all.
	if (response == "s_79")
	{
		yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_2_Opca (player, npc);

		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_2_Opca (player, npc);

			//-- NPC: He is talking about getting me some hot info in a little while. Here is something for you for now. Come back soon and we can talk more business. 
			string_id message = new string_id (c_stringFile, "s_81");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you again my friend. Are you interested in another little job?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now but thanks.
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: Ok.  You know where to find me if you are interested.
			string_id message = new string_id (c_stringFile, "s_56");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure that is why I am here.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Well this one is a little messy. I need to get a certain individual on my payroll. He has access to very valuable information. Problem is, he has his own operation. We need to take out his operation before we can get him to hire on with me.
			string_id message = new string_id (c_stringFile, "s_64");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What type of independent operation?
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am in.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Well this one is a little messy. I need to get a certain individual on my payroll. He has access to very valuable information. Problem is, he has his own operation. We need to take out his operation before we can get him to hire on with me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What type of independent operation?
	if (response == "s_67")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: A real triangle trade route. The mark's name is Ewrosa Soci. Officially he is a waiter at the Labor Outpost cantina. Unofficially he sells Sith and Massassi artifacts off-world and with those proceeds he smuggles in spice for the laborers.  
			string_id message = new string_id (c_stringFile, "s_69");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds like a real smart operator. I'm in. 
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You know I am not at all comfortable with this. I think I will pass.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am in.
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: Great. You have to do two things. First we have to take out Soci's little team of grave robbers. They can be found near a dig. Next take out his latest shipment of spice. Once you have done both, go to Soci. Let him know he is ruined financially but I am willing to pay him well for information.
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER:  It is as good as done.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought I think I will pass.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A real triangle trade route. The mark's name is Ewrosa Soci. Officially he is a waiter at the Labor Outpost cantina. Unofficially he sells Sith and Massassi artifacts off-world and with those proceeds he smuggles in spice for the laborers.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a real smart operator. I'm in. 
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: Great. You have to do two things. First we have to take out Soci's little team of grave robbers. They can be found near a dig. Next take out his latest shipment of spice. Once you have done both, go to Soci. Let him know he is ruined financially but I am willing to pay him well for information.
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER:  It is as good as done.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought I think I will pass.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You know I am not at all comfortable with this. I think I will pass.
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: Ok.  You know where to find me if you are interested.
			string_id message = new string_id (c_stringFile, "s_56");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great. You have to do two things. First we have to take out Soci's little team of grave robbers. They can be found near a dig. Next take out his latest shipment of spice. Once you have done both, go to Soci. Let him know he is ruined financially but I am willing to pay him well for information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER:  It is as good as done.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_giveQuest_pt_2 (player, npc);

			//-- NPC: Here's the info on where to find everyone. 
			string_id message = new string_id (c_stringFile, "s_88");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought I think I will pass.
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

			//-- NPC: Ok.  You know where to find me if you are interested.
			string_id message = new string_id (c_stringFile, "s_56");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] D1
	//-- NPC: So what brings you to this lovely garden spot in the armpit of the galaxy?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just looking for work ... you?
	if (response == "s_807")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let's say I have been sent here to take advantage of some business opportunities. You interested it helping out?
			string_id message = new string_id (c_stringFile, "s_809");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not right now.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am not sure. Is it legal?
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Sure. What's the job
			boolean hasResponse2 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_811");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_815");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_823");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let's say I have been sent here to take advantage of some business opportunities. You interested it helping out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not right now.
	if (response == "s_811")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well you look tough enough for the job I have in mind. Come back if you are interested.
			string_id message = new string_id (c_stringFile, "s_813");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am not sure. Is it legal?
	if (response == "s_815")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: You worried about legalities here? You need a government for there to be legalities. In case you haven't noticed we are in the middle of a combat zone. The Imps are still trying to flush out the last of the Rebs and stop them from fully evacuating this planet.
			string_id message = new string_id (c_stringFile, "s_817");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well I expect you are right. What about the job?
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Nope. Things are too dangerous out there. Figure I will wait for things to calm down first.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_819");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_821");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure. What's the job
	if (response == "s_823")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm in charge of ... an independent salvage venture. I have competitor that I have to warn off. You just tell Nagem Dr'Lar that he needs to stop trying to shut down my operation. And make sure he agrees. OK?
			string_id message = new string_id (c_stringFile, "s_825");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's as good as done.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well now that you ask, never mind.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_831");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You worried about legalities here? You need a government for there to be legalities. In case you haven't noticed we are in the middle of a combat zone. The Imps are still trying to flush out the last of the Rebs and stop them from fully evacuating this planet.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well I expect you are right. What about the job?
	if (response == "s_819")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm in charge of ... an independent salvage venture. I have competitor that I have to warn off. You just tell Nagem Dr'Lar that he needs to stop trying to shut down my operation. And make sure he agrees. OK?
			string_id message = new string_id (c_stringFile, "s_825");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's as good as done.
			boolean hasResponse0 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well now that you ask, never mind.
			boolean hasResponse1 = false;
			if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_827");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_831");

				utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nope. Things are too dangerous out there. Figure I will wait for things to calm down first.
	if (response == "s_821")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well you look tough enough for the job I have in mind. Come back if you are interested.
			string_id message = new string_id (c_stringFile, "s_813");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_fallenstar_pt_1_osae_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm in charge of ... an independent salvage venture. I have competitor that I have to warn off. You just tell Nagem Dr'Lar that he needs to stop trying to shut down my operation. And make sure he agrees. OK?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's as good as done.
	if (response == "s_827")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			yavin_fallenstar_pt_1_osae_action_giveQuest_pt_1 (player, npc);

			//-- NPC: Great. I'll be watching to see how you handle yourself. Here is Dr'lar's location.
			string_id message = new string_id (c_stringFile, "s_829");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well now that you ask, never mind.
	if (response == "s_831")
	{
		//-- [NOTE] 
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well you look tough enough for the job I have in mind. Come back if you are interested.
			string_id message = new string_id (c_stringFile, "s_813");
			utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.yavin_fallenstar_pt_1_osae");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Osae Meilea");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Osae Meilea");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.yavin_fallenstar_pt_1_osae");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_questComplete (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: Thanks for all your help with that little unpleasantness. I should have something new for you soon. 
		string_id message = new string_id (c_stringFile, "s_101");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_spaceCompleted (player, npc))
	{
		doAnimationAction (npc, "laugh_cackle");

		yavin_fallenstar_pt_1_osae_action_rewardSignal_pt_3_chose (player, npc);

		//-- NPC: Nicely done. Nicely done. You know you have been such a great help, I am going to let you decide who we are going to sell the cargo to. So what will it be? Imperial or Rebel?
		string_id message = new string_id (c_stringFile, "s_118");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I say go with strength over the long haul. Let's sell it to the Imperials.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I have a good feeling bout that Alliance. Let's sell it to the Rebels.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Why are you letting me decide?
		boolean hasResponse2 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_120");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_121");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_122");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 2);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_spaceFailed (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: The ship got away! Ok I have the schedule for the next one. You want to try again?
		string_id message = new string_id (c_stringFile, "s_105");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not right now.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yes I am ready to try again.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_106");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_110");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 8);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_questNotDone_pt_3_ship (player, npc))
	{
		//-- NPC: Have you forced that ship down yet?
		string_id message = new string_id (c_stringFile, "s_75");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not yet.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sorry I am having some problems with my ship. I should be taking off shortly.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_78");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_84");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 10);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_HasJTL (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: Soci has sent me some hot info. Looks like the Black Sun are going to try and smuggle out a cargo of Death Star salvage. You want to do another job for me?
		string_id message = new string_id (c_stringFile, "s_102");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sure do.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not now. I am getting, shall we say ... uncomfortable ... with your activities.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_103");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_107");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 12);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_questNotDone (player, npc))
	{
		//-- NPC: What are you doing back so soon?
		string_id message = new string_id (c_stringFile, "s_833");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I haven't really started.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Dr'Lar isn't to co-operative. 
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_835");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_839");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 15);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] D4
	if (yavin_fallenstar_pt_1_osae_condition_MeganWarned (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: Did Dr'Lar get my message?
		string_id message = new string_id (c_stringFile, "s_843");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yep. So where is my payment?
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: He mentioned that you are working for the Hutts. Is that true?
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_845");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_849");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 18);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Given if the players do not get Wuioe's cooperation. 
	if (yavin_fallenstar_pt_1_osae_condition_questNotDone_pt_2_Wuioe (player, npc))
	{
		//-- NPC: Is Ewrosa Soci going to co-operate?
		string_id message = new string_id (c_stringFile, "s_57");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I don't think it's going to be as easy as you thought.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Still working on it.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_59");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_63");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 21);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_opcaCompleted (player, npc))
	{
		doAnimationAction (npc, "thank");

		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: Great Job. You scared Soci so badly that he has already contacted me.
		string_id message = new string_id (c_stringFile, "s_77");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks. It wasn't a problem at all.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_79");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 24);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_fallenstar_pt_1_osae_condition_Pt1_questComplete (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: Good to see you again my friend. Are you interested in another little job?
		string_id message = new string_id (c_stringFile, "s_52");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not right now but thanks.
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sure that is why I am here.
		boolean hasResponse1 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_54");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 26);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] D1
	if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
	{
		yavin_fallenstar_pt_1_osae_action_facePlayer (player, npc);

		//-- NPC: So what brings you to this lovely garden spot in the armpit of the galaxy?
		string_id message = new string_id (c_stringFile, "s_805");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Just looking for work ... you?
		boolean hasResponse0 = false;
		if (yavin_fallenstar_pt_1_osae_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_807");

			utils.setScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId", 32);

			npcStartConversation (player, npc, "yavin_fallenstar_pt_1_osae", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "yavin_fallenstar_pt_1_osae")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

	if (branchId == 2 && yavin_fallenstar_pt_1_osae_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && yavin_fallenstar_pt_1_osae_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && yavin_fallenstar_pt_1_osae_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && yavin_fallenstar_pt_1_osae_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && yavin_fallenstar_pt_1_osae_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && yavin_fallenstar_pt_1_osae_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && yavin_fallenstar_pt_1_osae_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && yavin_fallenstar_pt_1_osae_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && yavin_fallenstar_pt_1_osae_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && yavin_fallenstar_pt_1_osae_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && yavin_fallenstar_pt_1_osae_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && yavin_fallenstar_pt_1_osae_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && yavin_fallenstar_pt_1_osae_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && yavin_fallenstar_pt_1_osae_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && yavin_fallenstar_pt_1_osae_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && yavin_fallenstar_pt_1_osae_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && yavin_fallenstar_pt_1_osae_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && yavin_fallenstar_pt_1_osae_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && yavin_fallenstar_pt_1_osae_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.yavin_fallenstar_pt_1_osae.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

