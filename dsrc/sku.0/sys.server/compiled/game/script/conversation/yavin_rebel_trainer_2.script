// ======================================================================
//
// yavin_rebel_trainer_2.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;
include library.xp;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/yavin_rebel_trainer_2";

// ======================================================================
// Script Conditions
// ======================================================================

boolean yavin_rebel_trainer_2_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForMission1 (obj_id player, obj_id npc)
{
	if ( (hasSkill( player, "pilot_rebel_navy_starships_02" ) ||
		hasSkill( player, "pilot_rebel_navy_weapons_02" ) ||
		hasSkill( player, "pilot_rebel_navy_procedures_02" ) ||
		hasSkill( player, "pilot_rebel_navy_droid_02" )) && 
		space_flags.hasSpaceFlag(player, "ekerPilot") &&
		!space_quest.hasWonQuest ( player, "escort", "yavin_rebel_13") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasFailedMission1 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "escort", "yavin_rebel_13" ) ||
		 space_quest.hasAbortedQuest( player, "escort", "yavin_rebel_13" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasWonMission1 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "escort", "yavin_rebel_13" ) &&
	!space_quest.hasReceivedReward( player, "escort", "yavin_rebel_13" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForMission2 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 2 ) && space_flags.hasSpaceFlag(player, "ekerPilot") &&
	!space_quest.hasWonQuest( player, "inspect", "yavin_rebel_14") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasWonMission2 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "inspect", "yavin_rebel_14" ) &&
	!space_quest.hasReceivedReward( player, "inspect", "yavin_rebel_14" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasFailedMission2 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "inspect", "yavin_rebel_14" ) ||
		 space_quest.hasAbortedQuest( player, "inspect", "yavin_rebel_14" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isOnMission (obj_id player, obj_id npc)
{
	if ( space_quest.hasQuest( player, "escort", "yavin_rebel_13" ) ||
		 space_quest.hasQuest( player, "inspect", "yavin_rebel_14" ) ||
		 space_quest.hasQuest( player, "inspect", "yavin_rebel_15" ) ||
		 space_quest.hasQuest( player, "escort", "yavin_rebel_16" ) ||
		 space_quest.hasQuest( player, "escort_duty", "yavin_rebel_10" ) ||
		 space_quest.hasQuest( player, "destroy_duty", "yavin_rebel_9" ) ||
		 space_quest.hasQuest( player, "recovery_duty", "yavin_rebel_12" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForMission3 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 3 ) && space_flags.hasSpaceFlag(player, "ekerPilot") &&
	!space_quest.hasWonQuest ( player, "destroy_surpriseattack", "yavin_rebel_15") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasFailedMission3 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "inspect", "yavin_rebel_15" ) ||
		space_quest.hasFailedQuest( player, "destroy_surpriseattack", "yavin_rebel_15" ) ||
		space_quest.hasAbortedQuest( player, "inspect", "yavin_rebel_15" ) ||
		space_quest.hasAbortedQuest( player, "destroy_surpriseattack", "yavin_rebel_15" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasWonMission3 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "destroy_surpriseattack", "yavin_rebel_15" ) &&
	!space_quest.hasReceivedReward( player, "destroy_surpriseattack", "yavin_rebel_15" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForMission4 (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_02", 
						"pilot_rebel_navy_weapons_02",
						"pilot_rebel_navy_procedures_02",
						"pilot_rebel_navy_droid_02" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 4 ) && space_flags.hasSpaceFlag(player, "ekerPilot") &&
	!space_quest.hasWonQuest ( player, "escort", "yavin_rebel_16") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasWonMission4 (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "escort", "yavin_rebel_16" ) &&
	!space_quest.hasReceivedReward( player, "escort", "yavin_rebel_16" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasFailedMission4 (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "escort", "yavin_rebel_16" ) ||
		 space_quest.hasAbortedQuest( player, "escort", "yavin_rebel_16" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForDuty (obj_id player, obj_id npc)
{
	if ( space_flags.getIntSpaceFlag(player, "ekerPilot") == 2 )
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyForSecondSkill (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_starships_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_weapons_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_procedures_02" ) &&
		 !hasSkill( player, "pilot_rebel_navy_droid_02" ) )
		 return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canBuySkill1 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_starships_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_starships_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canBuySkill2 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_weapons_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_weapons_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canBuySkill3 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_procedures_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_procedures_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canBuySkill4 (obj_id player, obj_id npc)
{
	if ( !hasSkill( player, "pilot_rebel_navy_droid_02" ) && space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_droid_02" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canBuySkill (obj_id player, obj_id npc)
{
	if ( space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_starships_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_weapons_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_procedures_02" ) ||
		space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_droid_02" ) && 
		space_flags.hasSpaceFlag(player, "ekerPilot"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasAllSkills (obj_id player, obj_id npc)
{
	if(space_quest.hasReceivedReward( player, "escort", "yavin_rebel_16" ) && space_flags.hasCompletedTierTwo(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasCompletedSeries (obj_id player, obj_id npc)
{
	return space_quest.hasCompletedQuestSeries( player, "imperial_corellia_1" );
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isGm (obj_id player, obj_id npc)
{
	return ( hasObjVar( player, "gm" ) );
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isNeutralPilot (obj_id player, obj_id npc)
{
	if ( hasSkill( player, "pilot_neutral_novice" ) )
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isRebelNonMember (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_novice" ) && !space_flags.hasSpaceFlag( player, "ekerPilot" ) );
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_notTalkedSmuggler (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 1)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isImperial (obj_id player, obj_id npc)
{
	string playerFaction = factions.getFaction(player);
	if (playerFaction == null)  
		return hasSkill( player, "pilot_imperial_navy_novice" );
			
	if (playerFaction.equals("Imperial") || hasSkill( player, "pilot_imperial_navy_novice" ) )
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isCorrectRebelPilot (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierOne(player) && (space_flags.getIntSpaceFlag(player, "ekerPilot")==1))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_talkedSmuggler (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 2)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_notTalkedSmuggler2 (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 3)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_talkedSmuggler2 (obj_id player, obj_id npc)
{
	if (space_flags.getIntSpaceFlag(player, "viopaSmuggler") == 4)
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_readyTier3 (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierTwo(player) && 
	   space_flags.hasSpaceFlag(player, "ekerPilot") && 
	   space_quest.hasReceivedReward ( player, "escort", "yavin_rebel_16"))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierOne(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isOnAnotherMission (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player);
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.REBEL_TATOOINE);
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_REBEL) < 0.0f );
}

// ----------------------------------------------------------------------

boolean yavin_rebel_trainer_2_condition_hasCompletedTier3 (obj_id player, obj_id npc)
{
	return space_flags.hasCompletedTierThree(player);
}

// ======================================================================
// Script Actions
// ======================================================================

void yavin_rebel_trainer_2_action_grantMission1 (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Mission grant.
	space_quest.grantQuest( player, "escort", "yavin_rebel_13" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_goToSmuggler (obj_id player, obj_id npc)
{
	// setObjVar (player, "viopaSmuggler", 1);
	
	space_flags.setSpaceFlag(player, "viopaSmuggler", 1);
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveRewardMission1 (obj_id player, obj_id npc)
{
	if ( space_quest.hasReceivedReward( player, "escort", "yavin_rebel_13") )
		return;
		
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "escort", "yavin_rebel_13", 5000, "object/tangible/ship/components/shield_generator/shd_mission_reward_rebel_incom_k77.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_removeSmuggler (obj_id player, obj_id npc)
{
	// removeObjVar (player, "viopaSmuggler");
	
	space_flags.removeSpaceFlag(player, "viopaSmuggler");
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_goToSmuggler2 (obj_id player, obj_id npc)
{
	// setObjVar (player, "viopaSmuggler", 3);
	
	space_flags.setSpaceFlag(player, "viopaSmuggler", 3);
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantMission2 (obj_id player, obj_id npc)
{
	// Wave finger.
	faceTo( npc, player );
	
	// Assign mission.
	space_quest.grantQuest( player, "inspect", "yavin_rebel_14" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveRewardMission2 (obj_id player, obj_id npc)
{
	if ( space_quest.hasReceivedReward( player, "inspect", "yavin_rebel_14") )
		return;

	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "inspect", "yavin_rebel_14", 5000, "object/tangible/ship/components/droid_interface/ddi_mission_reward_rebel_moncal_d22.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantMission3 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	// Assign mission.
	space_quest.grantQuest( player, "inspect", "yavin_rebel_15" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveRewardMission3 (obj_id player, obj_id npc)
{
	if ( space_quest.hasReceivedReward( player, "destroy_surpriseattack", "yavin_rebel_15") )
		return;

	// Animation.
	faceTo( npc, player );
	
	// Give reward.
	space_quest.giveReward( player, "destroy_surpriseattack", "yavin_rebel_15", 5000, "object/tangible/ship/components/booster/bst_mission_reward_rebel_novaldex_hypernova.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantMission4 (obj_id player, obj_id npc)
{
	// Wave finger.
	faceTo( npc, player );
	
	// Assign mission.
	space_quest.grantQuest( player, "escort", "yavin_rebel_16" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveRewardMission4 (obj_id player, obj_id npc)
{
	if ( space_quest.hasReceivedReward( player, "escort", "yavin_rebel_16") )
		return;

	// Animation.
	faceTo( npc, player );
	
	// Give reward.
	space_quest.giveReward( player, "escort", "yavin_rebel_16", 5000, "object/tangible/ship/components/weapon/wpn_mission_reward_rebel_taim_ion_driver.iff" );
	factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
	
	space_flags.setSpaceFlag(player, "ekerPilot", 3);
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveSkill1 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	//note:  I'm changing this - no freebies at tier2!	
	skill.purchaseSkill( player, "pilot_rebel_navy_starships_02" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveSkill2 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	//note:  I'm changing this - no freebies at tier2!
	skill.purchaseSkill( player, "pilot_rebel_navy_weapons_02" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveSkill3 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	//note:  I'm changing this - no freebies at tier2!
	skill.purchaseSkill( player, "pilot_rebel_navy_procedures_02" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_giveSkill4 (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	//note:  I'm changing this - no freebies at tier2!
	skill.purchaseSkill( player, "pilot_rebel_navy_droid_02" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_flagQuestSeriesComplete (obj_id player, obj_id npc)
{
	faceTo( npc, player );

	space_quest.setQuestSeriesFlag( player, "imperial_corellia_1", space_quest.QUEST_SERIES_COMPLETED );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantDestroyDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "yavin_rebel_9" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantRecoveryDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "yavin_rebel_12" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_grantEscortDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "yavin_rebel_10" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_removeEkerPilot (obj_id player, obj_id npc)
{
	// removeObjVar( player, "ekerPilot" );
	
	space_flags.removeSpaceFlag( player, "ekerPilot" );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_face (obj_id player, obj_id npc)
{
	faceTo( npc, player );
}

// ----------------------------------------------------------------------

void yavin_rebel_trainer_2_action_makeEkerPilot (obj_id player, obj_id npc)
{
	// setObjVar (player, "ekerPilot", 2);
	
	space_flags.setSpaceFlag( player, "ekerPilot", 2 );
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string yavin_rebel_trainer_2_tokenTO_tokenTO0001 (obj_id player, obj_id npc)
{
	return new string();
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int yavin_rebel_trainer_2_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you %TU! I'm afraid that our time of service together has come to an end. The Navy has requested your presence at a different location. I just wanted to let you know that even though I've been hard on you now and then, you've been one of my best pilots ever %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You could have fooled me.
	if (response == "s_3938bdfc")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: It's just my way of teaching. Anyway, you are to report to a Bothan named Arnecio Ulvaw'op in a science outpost on the planet of Dathomir. Remember what you've learned during your time here and be careful %TU!
			string_id message = new string_id (c_stringFile, "s_6a18240d");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's been my honor and privilege Major.
	if (response == "s_214de988")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: You will do well in the Rebel Navy pilot. Now you are to report to a Bothan named Arnecio Ulvaw'op in a science outpost on the planet of Dathomir. Be careful there %TU, that's a dangerous place. Now get out of here and remember everything you've learned!
			string_id message = new string_id (c_stringFile, "s_308630ef");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Move along. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_ca776e30")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm going to be your worst nightmare, if you keep talking to me. Now get out of here.
			string_id message = new string_id (c_stringFile, "s_a35edd6c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are all these Rebel forces doing here?
	if (response == "s_e93cc431")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Looking for people who are aligned with the Empire. Should I send someone over here to take you into custody?
			string_id message = new string_id (c_stringFile, "s_b030df0f");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sorry, %TU.  You're on report.  That means no more missions for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why not?
	if (response == "s_7f9b8387")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: No one ever tells me anything.  Maybe Alliance Intelligence found out something about you they didn't like.  You haven't been doing anything they might take the wrong way, have you?
			string_id message = new string_id (c_stringFile, "s_4cc5f79c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Of course not!
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f5427310");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No one ever tells me anything.  Maybe Alliance Intelligence found out something about you they didn't like.  You haven't been doing anything they might take the wrong way, have you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course not!
	if (response == "s_f5427310")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: Well, sorry.  Nothing I can do about it.  If you want to get your wings back you'll have to do SOMETHING to improve your standing in the eyes of the Alliance.  'Show 'em you're still on OUR team.
			string_id message = new string_id (c_stringFile, "s_44d689b7");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A Rebel pilot, eh? But you don't fly with the Phoenix? What are you doing here, soldier?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you have any missions I could fly?
	if (response == "s_1583743c")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canFlyNonTrackDuty (player, npc))
		{
			//-- NPC: I don't have any missions, but I do have several elective duty tasks if you'd like to take one of those?
			string_id message = new string_id (c_stringFile, "s_cc00d56b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. What is there to do?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks, I'd rather not.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ca47d528");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7115a155");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Since you're not a member of my unit, I can't assign you missions. Why don't you scuttle back to your own commanding officer?
			string_id message = new string_id (c_stringFile, "s_5242f9d0");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't have any missions, but I do have several elective duty tasks if you'd like to take one of those?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. What is there to do?
	if (response == "s_ca47d528")
	{
		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks, I'd rather not.
	if (response == "s_7115a155")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Be on your way then.
			string_id message = new string_id (c_stringFile, "s_36b1d069");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I didn't expect those Imperial rescue squads to respond so quickly.

	//-- [RESPONSE NOTE] original version: I got a good look at them. I know what to do now. They won't shoot me down again. 
	//-- PLAYER: They won't shoot me down again. 
	if (response == "s_591601b8")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Watch their maneuvers. Imperial forces are predictable. 
			string_id message = new string_id (c_stringFile, "s_8bea99a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How so?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ca03ddb");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Send me back out there!
	if (response == "s_d8db54f6")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Get going.
			string_id message = new string_id (c_stringFile, "s_393047f3");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ship needs repairs.
	if (response == "s_b130ff0a")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Make it quick. 
			string_id message = new string_id (c_stringFile, "s_7b2f5e99");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Watch their maneuvers. Imperial forces are predictable. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How so?
	if (response == "s_4ca03ddb")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: They're all trained the same way. Once you've learned their rules, you can break them. Good luck.
			string_id message = new string_id (c_stringFile, "s_cd41219");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Eker lets his guard down when you come through for him. 
	//-- NPC: Good work, soldier. With this information, we'll be able to run rings around those Imperial patrols.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Until they reroute their patrols.
	if (response == "s_c48841")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_giveRewardMission2 (player, npc);

			//-- NPC: That won't happen - not for a while. The Empire doesn't exactly  turn on a dime. Good work, soldier.
			string_id message = new string_id (c_stringFile, "s_c9846d38");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Crack about Eker's Empire ties]
	if (response == "s_8d66b6a5")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			yavin_rebel_trainer_2_action_giveRewardMission2 (player, npc);

			//-- NPC: Come again? I'd think very carefully about what comes out of your mouth next, soldier.
			string_id message = new string_id (c_stringFile, "s_61b35d7b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm just saying.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No harm meant, sir.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bb847e4c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_51");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Come again? I'd think very carefully about what comes out of your mouth next, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm just saying.
	if (response == "s_bb847e4c")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "threaten");

			//-- NPC: This uniform comes off, you know.
			string_id message = new string_id (c_stringFile, "s_8f0eb0e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No harm meant, sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Whenever you're ready.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_287ec62a");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d757b665");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No harm meant, sir.
	if (response == "s_51")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Yeah right. Get out of here.
			string_id message = new string_id (c_stringFile, "s_4c6d0461");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This uniform comes off, you know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No harm meant, sir.
	if (response == "s_287ec62a")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Get out of here.
			string_id message = new string_id (c_stringFile, "s_6fe71f0c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Whenever you're ready.
	if (response == "s_d757b665")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: You can count on it. Dismissed.
			string_id message = new string_id (c_stringFile, "s_d3b6ccb7");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: %NU! Get over here. I've got a job for you.

	//-- [RESPONSE NOTE] alt: What have you got?
	//-- PLAYER: [ask for information]
	if (response == "s_b1df084d")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: An Imperial Spy shuttle has malfunctioned in our area. We think it's carrying data on the Imperial Navy's patrol routes. 
			string_id message = new string_id (c_stringFile, "s_a760a737");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's serious.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [not interested]
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d5609495");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_564211e6");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [gripe about last mission]
	if (response == "s_12a5eddf")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			doAnimationAction (player, "goodbye");

			//-- NPC: Aw. Sorry it's been so rough on you. Come back once you've caught up on your damn beauty sleep.
			string_id message = new string_id (c_stringFile, "s_15192b9e");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An Imperial Spy shuttle has malfunctioned in our area. We think it's carrying data on the Imperial Navy's patrol routes. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's serious.
	if (response == "s_d5609495")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: If we can get that information, we can protect our ships. I need you get out there and shoot a spy droid into the shuttle's hull, so that we can extract the information.
			string_id message = new string_id (c_stringFile, "s_cec991df");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where are the Empire forces?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Give me the droid.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8bdbd90b");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62b1a1d0");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [not interested]
	if (response == "s_564211e6")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Is this a joke? When are they going to start sending me some REAL pilots?...Dismissed.
			string_id message = new string_id (c_stringFile, "s_3d2dd8e2");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If we can get that information, we can protect our ships. I need you get out there and shoot a spy droid into the shuttle's hull, so that we can extract the information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the Empire forces?
	if (response == "s_8bdbd90b")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Closing in. An Imperial rescue squad is en route. Suit up and get out there ASAP.
			string_id message = new string_id (c_stringFile, "s_f9855bf1");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Give me the droid.
	if (response == "s_62b1a1d0")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Done. The coordinates are already in your nav system.
			string_id message = new string_id (c_stringFile, "s_c56973bf");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've got to find those pirates. They know where that Imperial freighter is. We HAVE to find it. 

	//-- [RESPONSE NOTE] ***Good, I won't let him slip away this time!
	//-- PLAYER: I know what's at stake. 
	if (response == "s_e0651b79")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: I'm counting on you.
			string_id message = new string_id (c_stringFile, "s_2eef8e0e");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ship needs repairs.
	if (response == "s_70")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: You're going to have a lot more than your ship to worry about if we don't get that database!
			string_id message = new string_id (c_stringFile, "s_dd3bf8f6");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You look like your dog just died.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need another way to fight the Empire. 
	if (response == "s_faf96c0a")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_giveRewardMission3 (player, npc);

			//-- NPC: Maybe you'll have better luck at another post. 
			string_id message = new string_id (c_stringFile, "s_1a163be3");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All that work- for nothing.
	if (response == "s_4471d2b")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_giveRewardMission3 (player, npc);

			//-- NPC: You lost the battle - but the war's not over. The Alliance still needs you. 
			string_id message = new string_id (c_stringFile, "s_450abd55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Give me something to do. 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not in the shape I'm in.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_affe46cc");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_166e7e70");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You lost the battle - but the war's not over. The Alliance still needs you. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Give me something to do. 
	if (response == "s_affe46cc")
	{
		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not in the shape I'm in.
	if (response == "s_166e7e70")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Take a walk. Clear your head. I'll be here when you're ready.
			string_id message = new string_id (c_stringFile, "s_354d9179");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] What's the difference b/w salutes 1 and 2? Is there some way for the NPC
	//-- NPC: I've got news, %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [ask for more info]
	if (response == "s_ae785ffa")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We know now why the Empire is so interested in Yavin. 
			string_id message = new string_id (c_stringFile, "s_154b642e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_841d27db");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We know now why the Empire is so interested in Yavin. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why?
	if (response == "s_841d27db")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Apparently there's sections of the space station there that are still intact... And have important information.
			string_id message = new string_id (c_stringFile, "s_918115be");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Such as?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That would explain their heavy presence in the debris field.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3de0965c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a0412756");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Apparently there's sections of the space station there that are still intact... And have important information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Such as?
	if (response == "s_3de0965c")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Our spy droids have located a database within the Death Star debris listing many of the Imperial spies operating within the Alliance. 
			string_id message = new string_id (c_stringFile, "s_44584a57");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where are the spies?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71bb443b");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That would explain their heavy presence in the debris field.
	if (response == "s_a0412756")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Empire's done a good job covering their tracks. However, our spy droids have located a database within the Death Star debris listing many of the Imperial spies operating within the Alliance. 
			string_id message = new string_id (c_stringFile, "s_5018d177");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready to blast that thing.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7b4382cf");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Our spy droids have located a database within the Death Star debris listing many of the Imperial spies operating within the Alliance. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the spies?
	if (response == "s_71bb443b")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: We haven't made any arrests, because we don't have any details  - yet. 
			string_id message = new string_id (c_stringFile, "s_329b2195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why not? 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aacd1f1");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We haven't made any arrests, because we don't have any details  - yet. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why not? 
	if (response == "s_6aacd1f1")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Imperial Recovery team seized the Death Star section before we could get the data. It's en route to Naboo as we speak. 
			string_id message = new string_id (c_stringFile, "s_c928423d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And that's where I come in.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38f14bb8");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Imperial Recovery team seized the Death Star section before we could get the data. It's en route to Naboo as we speak. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And that's where I come in.
	if (response == "s_38f14bb8")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Correct. We need you to travel to Lok and steal that data before the shuttle reaches a safe location.
			string_id message = new string_id (c_stringFile, "s_a1f998fd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can't travel to Lok right now.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Lok? I thought you said they are taking the debris to Naboo!
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ee790f5c");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2588496a");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Correct. We need you to travel to Lok and steal that data before the shuttle reaches a safe location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't travel to Lok right now.
	if (response == "s_ee790f5c")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What do you think this is %TU?! You will do as you're told or you will be put under arrest!
			string_id message = new string_id (c_stringFile, "s_c909e899");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Lok? I thought you said they are taking the debris to Naboo!
	if (response == "s_2588496a")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is. But first it has to pass through Lok. Nym and his men know everything about that system and have provided us with coordinates that it will pass through. You can't cut a fart in Lok without Nym hearing about it.
			string_id message = new string_id (c_stringFile, "s_b0753766");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough. Where do I find them?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I signed up to shoot TIE fighters, not this kind of stuff.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a99ad4e8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d583db1d");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is. But first it has to pass through Lok. Nym and his men know everything about that system and have provided us with coordinates that it will pass through. You can't cut a fart in Lok without Nym hearing about it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough. Where do I find them?
	if (response == "s_a99ad4e8")
	{
		//-- [NOTE] original version: Nym and his men have the Lok system covered. You're bound to find one of his officers as soon as you arrive. Good luck.
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Proceed to the Lok system and we will supply you with the coordinates we got from Nym. Search the nearby area there, if the freighter is not in sight, wait near the point to ambush him when he arrives.
			string_id message = new string_id (c_stringFile, "s_a7558b8");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Sounds exciting, Major, but I'm not much for scavenger hunts. I think I'd rather be blasting Tie fighters.
	//-- PLAYER: I signed up to shoot TIE fighters, not this kind of stuff.
	if (response == "s_d583db1d")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you kidding me? Just what the galaxy needs, another cowboy. Get out of here! 
			string_id message = new string_id (c_stringFile, "s_a57083c1");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Empire's done a good job covering their tracks. However, our spy droids have located a database within the Death Star debris listing many of the Imperial spies operating within the Alliance. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to blast that thing.
	if (response == "s_7b4382cf")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. It's carrying information on Imperial spies. We need that data.
			string_id message = new string_id (c_stringFile, "s_e015a069");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get it.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Give the job to a more experienced pilot.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd0a60d4");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31f57362");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. It's carrying information on Imperial spies. We need that data.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get it.
	if (response == "s_cd0a60d4")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It won't be easy. An Imperial Recovery team is transporting the database section to Naboo right now.
			string_id message = new string_id (c_stringFile, "s_5c4ab8c9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: We have to stop them!
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47003e68");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Give the job to a more experienced pilot.
	if (response == "s_31f57362")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Hm. Good point. I'll just use you for the easy jobs.
			string_id message = new string_id (c_stringFile, "s_38bfb556");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It won't be easy. An Imperial Recovery team is transporting the database section to Naboo right now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We have to stop them!
	if (response == "s_47003e68")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: They're passing through Lok. Nym and his space pirates run that system with an iron fist. In exchange for some services they have provided us with some coordinates that the freighter will pass through.
			string_id message = new string_id (c_stringFile, "s_32a7abcd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Lok? I thought you said the recovery team is heading to Naboo!
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_851cc47");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They're passing through Lok. Nym and his space pirates run that system with an iron fist. In exchange for some services they have provided us with some coordinates that the freighter will pass through.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Lok? I thought you said the recovery team is heading to Naboo!
	if (response == "s_851cc47")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is. But first it has to pass through Lok. And Nym and his men know everything about that system. You can't cut a fart in Lok without Nym hearing about it. He's SURE to know the location of the Imperial freighter.
			string_id message = new string_id (c_stringFile, "s_9525ae41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough. Where do I find them?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm more used to shooting TIE fighters.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b9adf734");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is. But first it has to pass through Lok. And Nym and his men know everything about that system. You can't cut a fart in Lok without Nym hearing about it. He's SURE to know the location of the Imperial freighter.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough. Where do I find them?
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Proceed to the Lok system and we will supply you with the coordinates we got from Nym. Search the nearby area there, if the freighter is not in sight, wait near the point to ambush him when he arrives.
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm more used to shooting TIE fighters.
	if (response == "s_b9adf734")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Are you kidding me? Just what the galaxy needs, another cowboy. Get out of here! 
			string_id message = new string_id (c_stringFile, "s_117");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing here? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Send someone else to get that database.
	if (response == "s_78bae101")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Dismissed, soldier. As of NOW.
			string_id message = new string_id (c_stringFile, "s_d5c526b8");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on it.
	if (response == "s_80d8485c")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Move it! 
			string_id message = new string_id (c_stringFile, "s_ec739555");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alliance forces are rounding up the Imperial spies as we speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [nod, satisfied]
	if (response == "s_ef170270")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_giveRewardMission4 (player, npc);

			//-- NPC: Looks like I was right about you after all.
			string_id message = new string_id (c_stringFile, "s_a86a8807");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Looks that way.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Thanks for giving me a chance.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c551ea96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_813ee7df");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperial forces don't own Yavin.
	if (response == "s_21bdbf0f")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_giveRewardMission4 (player, npc);

			//-- NPC: The war's not over yet. The Empire's going to respond with force. 
			string_id message = new string_id (c_stringFile, "s_a10e0cd4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Bring it on.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I guess you're right.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6d00e51e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4e2c42f1");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Looks like I was right about you after all.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Looks that way.
	if (response == "s_c551ea96")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: See you around, soldier.
			string_id message = new string_id (c_stringFile, "s_2e8799ad");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks for giving me a chance.
	if (response == "s_813ee7df")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I know a good soldier when I see one.  
			string_id message = new string_id (c_stringFile, "s_877ef2c8");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The war's not over yet. The Empire's going to respond with force. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bring it on.
	if (response == "s_6d00e51e")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Congratulations, soldier. You did good today.
			string_id message = new string_id (c_stringFile, "s_b685e199");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess you're right.
	if (response == "s_4e2c42f1")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: So will we. So long, %NU.
			string_id message = new string_id (c_stringFile, "s_e6f59343");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: %TU! Just the person I wanted to see. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Give me a job.
	if (response == "s_6673b556")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Turns out the Death Star section didn't burn up in the freighter explosion. It fell to Lok - and Nym's got it.
			string_id message = new string_id (c_stringFile, "s_18ac5f05");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not for long he doesn't. 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: NYM's got it? Why hasn't he sent it here?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14bcd839");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3d419bc4");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll be right back.
	if (response == "s_47a389f6")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Double-time, soldier! I've got a job for you.
			string_id message = new string_id (c_stringFile, "s_5ab73a77");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You feeling all right? 
	if (response == "s_4431cbae")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Never better! Good news, soldier. The Death Star section didn't burn up in the explosion.
			string_id message = new string_id (c_stringFile, "s_d931ff32");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is it?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Better give the job to another pilot.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f930a587");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62f0f943");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Turns out the Death Star section didn't burn up in the freighter explosion. It fell to Lok - and Nym's got it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not for long he doesn't. 
	if (response == "s_14bcd839")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's right. Suit up. You're heading back to Lok. Get the Death Star section from Nym. He's charging a fee. Don't worry about it; the Alliance will pay.
			string_id message = new string_id (c_stringFile, "s_1c128099");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then what?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_32146025");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: NYM's got it? Why hasn't he sent it here?
	if (response == "s_3d419bc4")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Two reasons. One, he doesn't want Imperial patrols to spot him. Two, he wants us to pay his fee.
			string_id message = new string_id (c_stringFile, "s_b6cf63f0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: He's CHARGING us? 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2e9d505");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's right. Suit up. You're heading back to Lok. Get the Death Star section from Nym. He's charging a fee. Don't worry about it; the Alliance will pay.

	//-- [RESPONSE NOTE] original version: What should I do once I've got it?
	//-- PLAYER: Then what?
	if (response == "s_32146025")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Take it to the Rebel space station in Lok. And keep it out of sight of those Imperial patrols.
			string_id message = new string_id (c_stringFile, "s_d76c93fd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Will do.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d24a2285");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Take it to the Rebel space station in Lok. And keep it out of sight of those Imperial patrols.

	//-- [RESPONSE NOTE] original version: I'll be honest, sir. I'm surprised you chose me for this mission.
	//-- PLAYER: Will do.
	if (response == "s_d24a2285")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: They didn't want me to give you this mission, you know. Said I couldn't trust you.
			string_id message = new string_id (c_stringFile, "s_df72e251");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [silence]
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c3c8f385");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They didn't want me to give you this mission, you know. Said I couldn't trust you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [silence]
	if (response == "s_c3c8f385")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: They used to say that about me too. Don't let me down.
			string_id message = new string_id (c_stringFile, "s_76473360");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Two reasons. One, he doesn't want Imperial patrols to spot him. Two, he wants us to pay his fee.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: He's CHARGING us? 
	if (response == "s_b2e9d505")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: He has to charge us, or they'll kick him out of the pirate guild. 
			string_id message = new string_id (c_stringFile, "s_2857391a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [look away in disgust]
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bb25f9e7");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He has to charge us, or they'll kick him out of the pirate guild. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [look away in disgust]
	if (response == "s_bb25f9e7")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Go back to Lok, get the Death Star section from Nym, and bring it to the Rebel space station in the Lok system. And the sooner you leave, the better.
			string_id message = new string_id (c_stringFile, "s_6c872984");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Never better! Good news, soldier. The Death Star section didn't burn up in the explosion.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is it?
	if (response == "s_f930a587")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's on Lok. Nym's got it. And he's ready to hand it over - if the price is right. 
			string_id message = new string_id (c_stringFile, "s_3e7eb818");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Pirates don't do anything for free.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39acc227");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Better give the job to another pilot.
	if (response == "s_62f0f943")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: If that's the way you feel. See you around, %NU.
			string_id message = new string_id (c_stringFile, "s_dee42d5e");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's on Lok. Nym's got it. And he's ready to hand it over - if the price is right. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Pirates don't do anything for free.
	if (response == "s_39acc227")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_goToSmuggler2 (player, npc);

			//-- NPC: At this point, we can't afford NOT to buy it. Go back to Lok. Pay Nym his fee. And bring back that Death Star!
			string_id message = new string_id (c_stringFile, "s_81fb32f3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You got it.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6c251948");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: At this point, we can't afford NOT to buy it. Go back to Lok. Pay Nym his fee. And bring back that Death Star!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You got it.
	if (response == "s_6c251948")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: It won't be easy; you'll have to smuggle it past Imperial patrols. Keep your eyes peeled. Dismissed.
			string_id message = new string_id (c_stringFile, "s_8efa75c2");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] ( When does player find out that the woman is a jedi? Would he discuss that with Eker?) 
	//-- NPC: Nice job out there. It's not every day I see a pilot outrun a TIE Interceptor.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That was a hell of a fight for one refugee. 
	if (response == "s_837615b6")
	{
		//-- [NOTE] cinco: DOES major eker know anything about the woman's jedi status? Does the player, for that matter? 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: She's not just any refugee, and the Empire knows it.  
			string_id message = new string_id (c_stringFile, "s_35783339");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Do you still need me?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [shrug, start to turn away]
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e39ec30");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7f93598d");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need a drink.
	if (response == "s_c3e68b1f")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've earned it. Hit the cantina.
			string_id message = new string_id (c_stringFile, "s_25670467");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] cinco: DOES major eker know anything about the woman's jedi status? Does the player, for that matter? 
	//-- NPC: She's not just any refugee, and the Empire knows it.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you still need me?
	if (response == "s_e39ec30")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Take on some duties.
			string_id message = new string_id (c_stringFile, "s_d2acb60b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good to me. What's available?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather be shooting down some Imperials.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Will do, but it's going to have to happen later.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b54697f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b4c2d5d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_67a197b0");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [shrug, start to turn away]
	if (response == "s_7f93598d")
	{
		doAnimationAction (player, "goodbye");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I don't know where you think you're going. There's work to do.
			string_id message = new string_id (c_stringFile, "s_32c8e4da");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe later.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Like what?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2f9e3b7b");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_53de9d8f");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Take on some duties.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good to me. What's available?
	if (response == "s_b54697f")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather be shooting down some Imperials.
	if (response == "s_1b4c2d5d")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What you need is some discipline. I advise you to take on some duties.
			string_id message = new string_id (c_stringFile, "s_82844140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine, what tasks are available right now?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Maybe some other time.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_aaf61b87");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_be61c03c");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Will do, but it's going to have to happen later.
	if (response == "s_67a197b0")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			//-- NPC: Come back. I expect my soldiers to be in top condition. And you need the exercise.
			string_id message = new string_id (c_stringFile, "s_8786e77c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What you need is some discipline. I advise you to take on some duties.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine, what tasks are available right now?
	if (response == "s_aaf61b87")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe some other time.
	if (response == "s_be61c03c")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "goodbye");

			//-- NPC: You're a real go-getter, you know that?
			string_id message = new string_id (c_stringFile, "s_6b8fc506");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know where you think you're going. There's work to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe later.
	if (response == "s_2f9e3b7b")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			doAnimationAction (player, "goodbye");

			//-- NPC: Some other time, soldier.
			string_id message = new string_id (c_stringFile, "s_e8a0555b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Like what?
	if (response == "s_53de9d8f")
	{
		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] how does player learn of woman's jedi status? Does that impact the relationship with Major Eker in any way? 
	//-- NPC: That woman is vital to Alliance interests. You're going back out there, stat.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The sooner the better.
	if (response == "s_d9c145dd")
	{
		//-- [NOTE] Give mission 1 here. Disable mission. 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: How about now?
			string_id message = new string_id (c_stringFile, "s_1f02f56b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's pretty hairy up there.
	if (response == "s_b585598c")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] Eker shifts techniques here, becomes more supportive
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I've read your report. I know what kind of pilot you are. 
			string_id message = new string_id (c_stringFile, "s_bf176a8f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't know. 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll give it another shot. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b601ca9f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_252b3bf5");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Eker shifts techniques here, becomes more supportive
	//-- NPC: I've read your report. I know what kind of pilot you are. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know. 
	if (response == "s_b601ca9f")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: I'm not going to beg, soldier. If you can't do it, I'll find someone else. Dismissed. 
			string_id message = new string_id (c_stringFile, "s_ee36cca8");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll give it another shot. 
	if (response == "s_252b3bf5")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: I knew you would.
			string_id message = new string_id (c_stringFile, "s_6a1944ad");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There's work to do on Yavin. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: For some other pilot, maybe.
	if (response == "s_38e4c8a3")
	{
		//-- [NOTE] Stuff like this never happened to Eker when he was with the Empire ;) 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			doAnimationAction (player, "shrug_shoulders");

			//-- NPC: What? You're not my pilot? I've had it with this sloppy Rebel paperwork!...Dismissed, soldier.
			string_id message = new string_id (c_stringFile, "s_ff0af3bc");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Reporting for duty.  
	if (response == "s_468ab4d3")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sitrep is as follows: we've got a VIP down on the surface. She resisted the first evacuation, but now she's ready for exfil. 
			string_id message = new string_id (c_stringFile, "s_d8ffe780");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why did she stay behind?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My ship's ready to go. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why is the Empire going after Yavin?
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313aff7d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1591adc2");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2dec7766");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER:  I thought Yavin had already been evacuated. 
	if (response == "s_e58651c5")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's a negative. We've got a holdout down there. A female. 
			string_id message = new string_id (c_stringFile, "s_88179ade");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Extraction is my specialty.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What's her problem? 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8e571bd6");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97f7a201");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER:  Any chance we'll see some action?
	if (response == "s_7065e138")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You can count on it. Imperial TIE fighters are patrolling the area. The Empire's taken a serious interest in this system.
			string_id message = new string_id (c_stringFile, "s_ceb818e1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Good. I'm ready to rumble.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I wonder why.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7b3f9583");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5e7c5f7b");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
	//-- NPC: Sitrep is as follows: we've got a VIP down on the surface. She resisted the first evacuation, but now she's ready for exfil. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why did she stay behind?
	if (response == "s_313aff7d")
	{
		//-- [NOTE] longer version: Unknown. This planet's her home, that may have something to do with it. But we don't leave anyone behind. Do I copy, pilot?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unknown. But we don't leave anyone behind. Do you copy, pilot?
			string_id message = new string_id (c_stringFile, "s_76491b38");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Loud and clear.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: If she wants to stay, why force her to leave?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f685a04e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2e17432d");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ship's ready to go. 
	if (response == "s_1591adc2")
	{
		//-- [NOTE] I hope you are correct %NU and I hope you can beat their rescue team to the ship. I've taken the liberty to update your ships droid with the coordinates. Good luck!
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
			string_id message = new string_id (c_stringFile, "s_5fdfb6c3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [nod]
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8e9d0848");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why is the Empire going after Yavin?
	if (response == "s_2dec7766")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Unknown - although I have a theory. Are you ready to go?
			string_id message = new string_id (c_stringFile, "s_67c78480");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My ship's no match for TIE fighters.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b43a7ee");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_241bc364");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] longer version: Unknown. This planet's her home, that may have something to do with it. But we don't leave anyone behind. Do I copy, pilot?
	//-- NPC: Unknown. But we don't leave anyone behind. Do you copy, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Loud and clear.
	if (response == "s_f685a04e")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  Dismissed.
			string_id message = new string_id (c_stringFile, "s_9bcf9c5b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If she wants to stay, why force her to leave?
	if (response == "s_2e17432d")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: When I want your opinion, soldier, I'll tell you what it is. She's ready to go, and WE'RE ready to help her in any way we can. 
			string_id message = new string_id (c_stringFile, "s_22bd4bdf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll be more useful somewhere else.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Right. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e23e884f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5494c458");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 109);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: When I want your opinion, soldier, I'll tell you what it is. She's ready to go, and WE'RE ready to help her in any way we can. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll be more useful somewhere else.
	if (response == "s_e23e884f")
	{
		//-- [NOTE] longer version: Well in that case, it's been a real pleasure wasting my time with you. Get out of here, and don't talk to me again until you're ready to get to work.
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Well in that case, get out of here, and don't talk to me again until you're ready to work.
			string_id message = new string_id (c_stringFile, "s_998c6a73");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Right. 
	if (response == "s_5494c458")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  We're uploading coordinates to your ship now. Get going.
			string_id message = new string_id (c_stringFile, "s_d80e99ca");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] I hope you are correct %NU and I hope you can beat their rescue team to the ship. I've taken the liberty to update your ships droid with the coordinates. Good luck!
	//-- NPC: You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [nod]
	if (response == "s_8e9d0848")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: We're uploading coordinates to your navigation system now. You're clear to leave our airspace.
			string_id message = new string_id (c_stringFile, "s_c4480fc5");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Unknown - although I have a theory. Are you ready to go?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir.
	if (response == "s_9b43a7ee")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
			string_id message = new string_id (c_stringFile, "s_219");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ship's no match for TIE fighters.
	if (response == "s_241bc364")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sounds like you need a new ship.
			string_id message = new string_id (c_stringFile, "s_29b7d74a");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's a negative. We've got a holdout down there. A female. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Extraction is my specialty.
	if (response == "s_8e571bd6")
	{
		//-- [NOTE] You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sitrep is as follows: we've got a VIP down on the surface. She resisted the first evacuation, but now she's ready for exfil. 
			string_id message = new string_id (c_stringFile, "s_d8ffe780");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why did she stay behind?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My ship's ready to go. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why is the Empire going after Yavin?
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313aff7d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1591adc2");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2dec7766");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's her problem? 
	if (response == "s_97f7a201")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right now, her problem is that her pilot's got a negative attitude.
			string_id message = new string_id (c_stringFile, "s_9ddb6cf8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not the one for the job. 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No attitude problem, sir. I'm ready to go. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_260761cf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d945a469");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 118);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch118 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right now, her problem is that her pilot's got a negative attitude.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not the one for the job. 
	if (response == "s_260761cf")
	{
		//-- [NOTE] or shake_head_disgust and then point_away (is it possible to do that?) 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Is that right? Well in that case, why are you still standing here? 
			string_id message = new string_id (c_stringFile, "s_8650827b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No attitude problem, sir. I'm ready to go. 
	if (response == "s_d945a469")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: That's nice to hear. Her safe arrival is now your top priority. You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
			string_id message = new string_id (c_stringFile, "s_6dccb496");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You can count on it. Imperial TIE fighters are patrolling the area. The Empire's taken a serious interest in this system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good. I'm ready to rumble.
	if (response == "s_7b3f9583")
	{
		//-- [NOTE] You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sitrep is as follows: we've got a VIP down on the surface. She resisted the first evacuation, but now she's ready for exfil. 
			string_id message = new string_id (c_stringFile, "s_d8ffe780");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why did she stay behind?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My ship's ready to go. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Why is the Empire going after Yavin?
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313aff7d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1591adc2");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2dec7766");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wonder why.
	if (response == "s_5e7c5f7b")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because I told them to come here. They're my old friends after all. That's your point, isn't it?
			string_id message = new string_id (c_stringFile, "s_d5b4ea09");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave for Yavin?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I can fight for a man who once served the Emperor.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ca4d37ba");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_af144418");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because I told them to come here. They're my old friends after all. That's your point, isn't it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: When do I leave for Yavin?
	if (response == "s_ca4d37ba")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Immediately. Coordinates are already in your ship database. You're to take your ship to the Massassi temple, pick her up at the extraction point, and bring her back to base.  
			string_id message = new string_id (c_stringFile, "s_c4f8041b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I can fight for a man who once served the Emperor.
	if (response == "s_af144418")
	{
		//-- [NOTE] Are multiple anims possible? could Eker nod once and then wave the player off? 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: You're not the first person to say that to me. It's all right. I'll find another pilot. Dismissed.
			string_id message = new string_id (c_stringFile, "s_98361f2c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch125 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good news, soldier. One of my best pilots has volunteered to train new recruits - and that includes you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What can he teach me?
	if (response == "s_dd2fd70")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: I think it's time you learned about multi-role spacecraft. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_427");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 126);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill2 (player, npc))
		{
			//-- NPC: I think it's time you learned about intermediate Alliance starship ordinance. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_411");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_423");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill3 (player, npc))
		{
			//-- NPC: I think it's time you learned about space combat techniques. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_419");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 130);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think it's time you learned about engineering algorithms. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_413");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_415");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What could these dregs possibly teach me?
	if (response == "s_2f0a6ba8")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: I don't know! Why don't we find out?
			string_id message = new string_id (c_stringFile, "s_8d0a5ef4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, what does this pilot think he can 'teach' me?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Bah, I want action. Any duties?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a6e1c30a");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_11e0bfe9");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 134);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do I have to pay them for the training?
	if (response == "s_dede1eae")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's free, soldier. An Alliance perk.
			string_id message = new string_id (c_stringFile, "s_f2142cc7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does he know?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: All I want to do is take out some Imperial fighters. Any duties?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f4862cb7");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8a4cdaa1");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 135);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a great opportunity, sir, but I'm going to have to pass for now.
	if (response == "s_fd447981")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pass? Who passes on training? I hope whatever else you're doing is just as useful.
			string_id message = new string_id (c_stringFile, "s_1f1b512d");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch126 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think it's time you learned about multi-role spacecraft. Think you're up to it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_427")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_giveSkill1 (player, npc);

			//-- NPC: Good. Come back when you're done. We've got work to do.
			string_id message = new string_id (c_stringFile, "s_429");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch128 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think it's time you learned about intermediate Alliance starship ordinance. Think you're up to it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir.
	if (response == "s_423")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_giveSkill2 (player, npc);

			//-- NPC: Good. Come back when you're done. We've got work to do.
			string_id message = new string_id (c_stringFile, "s_425");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch130 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think it's time you learned about space combat techniques. Think you're up to it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_419")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_giveSkill3 (player, npc);

			//-- NPC: Good. Come back when you're done. We've got work to do.
			string_id message = new string_id (c_stringFile, "s_421");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch132 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think it's time you learned about engineering algorithms. Think you're up to it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir.
	if (response == "s_415")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			yavin_rebel_trainer_2_action_giveSkill4 (player, npc);

			//-- NPC: Good. Come back when you're done. We've got work to do.
			string_id message = new string_id (c_stringFile, "s_417");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know! Why don't we find out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well, what does this pilot think he can 'teach' me?
	if (response == "s_a6e1c30a")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: I think it's time you learned about multi-role spacecraft. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_427");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 126);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill2 (player, npc))
		{
			//-- NPC: I think it's time you learned about intermediate Alliance starship ordinance. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_411");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_423");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill3 (player, npc))
		{
			//-- NPC: I think it's time you learned about space combat techniques. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_419");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 130);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think it's time you learned about engineering algorithms. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_413");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_415");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Bah, I want action. Any duties?
	if (response == "s_11e0bfe9")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch135 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's free, soldier. An Alliance perk.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does he know?
	if (response == "s_f4862cb7")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill1 (player, npc))
		{
			//-- NPC: I think it's time you learned about multi-role spacecraft. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_427");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 126);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill2 (player, npc))
		{
			//-- NPC: I think it's time you learned about intermediate Alliance starship ordinance. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_411");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_423");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition_canBuySkill3 (player, npc))
		{
			//-- NPC: I think it's time you learned about space combat techniques. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_419");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 130);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think it's time you learned about engineering algorithms. Think you're up to it?
			string_id message = new string_id (c_stringFile, "s_413");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_415");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All I want to do is take out some Imperial fighters. Any duties?
	if (response == "s_8a4cdaa1")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch137 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] The player is in need of more XP before he/she can be trained. This is where Eker says 'take a duty.' 
	//-- NPC: Are you ready for duty? There's plenty of work to be done around here.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh yeah.
	if (response == "s_2bf9b1f7")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Afraid not, sir. I've got some things to take care of.
	if (response == "s_72c594c9")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: You come see me when you're ready.
			string_id message = new string_id (c_stringFile, "s_d270ae31");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm a Developer/Tester and want missions.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition_isGm (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6b158a0e");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 143);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_313")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_315");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_317");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_321");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_325");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_329");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_333");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_341");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 152);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch138 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] why does a rebel force need to steal anything?
	//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Stealing Imperial ships? Sounds like fun.
	if (response == "s_73c783f8")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: That's what I thought you'd say. Get moving, we'll update you once you're airborne. 
			string_id message = new string_id (c_stringFile, "s_d6f036fd");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll help escort some smugglers.
	if (response == "s_80e4843e")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Watch your six. There are plenty of experienced TIE fighters up there. 
			string_id message = new string_id (c_stringFile, "s_908b2b2c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to blast some pirates out of the sky.
	if (response == "s_46fb1c35")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: You'll get your chance, soldier - unless they hit you first. Move into position, and we'll tell you more over your comlink.
			string_id message = new string_id (c_stringFile, "s_d6896b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
	if (response == "s_6deac9a2")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sorry to hear that I'm not your top priority, soldier! I'll remember this.
			string_id message = new string_id (c_stringFile, "s_1bab5480");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch143 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You come see me when you're ready.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_6b158a0e")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_e53c5017");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_165db597");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64b6ea44");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b6af2b98");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_816055e2");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_954c43bb");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ec5b15d1");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91156160");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 144);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch144 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_165db597")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Escort mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_9d95a0f8");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_64b6ea44")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Inspect mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_91746e6");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_b6af2b98")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_8c839067");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_816055e2")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Escort mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_753a307b");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_954c43bb")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_f3cbd30c");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_ec5b15d1")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_308");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_91156160")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_311");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch152 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_317")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Escort mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_319");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_321")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Inspect mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_323");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_325")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_327");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_329")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Escort mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_335");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_337")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_339");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_341")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_343");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch160 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Meet the player - player is ready to start doing missions for Maj. Eker.
	//-- NPC: I'm Major Eker. I am your commanding officer.  You are going to do what I say, when I say it. Do we understand each other?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes SIR.
	if (response == "s_6a1c47d9")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

			//-- NPC: Good. I look forward to seeing what you're capable of. Get settled in and return to me when you are ready for your first duty mission. Dismissed.
			string_id message = new string_id (c_stringFile, "s_97073639");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You sound like an Imperial officer.
	if (response == "s_c1015a4d")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Is that right?
			string_id message = new string_id (c_stringFile, "s_535a48bf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready for duty.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You're not...THE Eker, are you?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a9d63a81");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92310551");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Loud and clear.
	if (response == "s_362")
	{
		//-- [NOTE] could NPC approach player, come in close and dominate?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: I'm going to tell you something, before you hear it from somebody else. I am a former Imperial officer. I defected. Now I fight for the Alliance. 
			string_id message = new string_id (c_stringFile, "s_fe82187");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Come again?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready for duty.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2bc43dfd");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_376");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 166);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a Developer/Tester and want missions.
	if (response == "s_378")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: What mission do you want?
			string_id message = new string_id (c_stringFile, "s_380");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want mission 1.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I want mission 2.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I want mission 3.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I want mission 4.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Escort duty.
			boolean hasResponse4 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Destroy duty.
			boolean hasResponse5 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Recovery duty.
			boolean hasResponse6 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_394");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_398");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_402");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_406");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 171);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch162 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is that right?

	//-- [RESPONSE NOTE] What does "makeEkerPilot" mean?
	//-- PLAYER: I'm ready for duty.
	if (response == "s_a9d63a81")
	{
		doAnimationAction (player, "salute2");

		yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're not...THE Eker, are you?
	if (response == "s_92310551")
	{
		//-- [NOTE] lean forward, do something to show Eker is attentive
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which Eker is that?
			string_id message = new string_id (c_stringFile, "s_cc34a699");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Never mind. My mistake. 
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Eker that defected from the Empire. 
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8f9a3bf4");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5e5b4379");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 163);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch163 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] lean forward, do something to show Eker is attentive
	//-- NPC: Which Eker is that?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind. My mistake. 
	if (response == "s_8f9a3bf4")
	{
		doAnimationAction (player, "salute1");

		yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Eker that defected from the Empire. 
	if (response == "s_5e5b4379")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: That is correct, soldier. And if you've got a problem with that, then you can transfer to another unit right now. Otherwise, you can rest assured that I now serve the Alliance, 100%. And we will not speak of this again.
			string_id message = new string_id (c_stringFile, "s_ee574fb3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes sir.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm ready for duty.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_356");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_360");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 164);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch164 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is correct, soldier. And if you've got a problem with that, then you can transfer to another unit right now. Otherwise, you can rest assured that I now serve the Alliance, 100%. And we will not speak of this again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir.
	if (response == "s_356")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

			//-- NPC: Good. I look forward to seeing what you're capable of. Get settled in and return to me when you are ready for your first duty mission. Dismissed.
			string_id message = new string_id (c_stringFile, "s_358");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] What does "make EkerPilot" mean?
	//-- PLAYER: I'm ready for duty.
	if (response == "s_360")
	{
		yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch166 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] could NPC approach player, come in close and dominate?
	//-- NPC: I'm going to tell you something, before you hear it from somebody else. I am a former Imperial officer. I defected. Now I fight for the Alliance. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come again?
	if (response == "s_2bc43dfd")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: You heard me. 
			string_id message = new string_id (c_stringFile, "s_3c468733");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready for duty.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why are you telling me this?
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_367");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd0cb0d4");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 167);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready for duty.
	if (response == "s_376")
	{
		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch167 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You heard me. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready for duty.
	if (response == "s_367")
	{
		yavin_rebel_trainer_2_action_makeEkerPilot (player, npc);

		//-- [NOTE] why does a rebel force need to steal anything?
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have a few different duty missions available. Help steal Imperial ships, destroy pirate patrols or help escort Alliance smugglers. Take your pick pilot. I want you to assist with these duties until you feel you have enough experience to proceed with training. They are voluntarily missions and can be aborted at any time.
			string_id message = new string_id (c_stringFile, "s_e641a3d8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Stealing Imperial ships? Sounds like fun.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll help escort some smugglers.
			boolean hasResponse1 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'm ready to blast some pirates out of the sky.
			boolean hasResponse2 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Let me just tie up some loose ends, and I'll be ready to report for duty.
			boolean hasResponse3 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73c783f8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80e4843e");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46fb1c35");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6deac9a2");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why are you telling me this?
	if (response == "s_dd0cb0d4")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because I want you to understand something about me. 
			string_id message = new string_id (c_stringFile, "s_fd00fedc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's that?
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b2e340f6");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 168);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch168 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because I want you to understand something about me. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's that?
	if (response == "s_b2e340f6")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: I hate the Empire. I hate it more than anybody else you'll ever meet. With me, you will have the chance to hit Imperial forces like never before. 
			string_id message = new string_id (c_stringFile, "s_b532b4dc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good to me.
			boolean hasResponse0 = false;
			if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bc57b086");

				utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 169);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch169 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hate the Empire. I hate it more than anybody else you'll ever meet. With me, you will have the chance to hit Imperial forces like never before. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good to me.
	if (response == "s_bc57b086")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. I look forward to seeing what you're capable of. Get settled in and return to me when you are ready for your first duty mission. Dismissed.
			string_id message = new string_id (c_stringFile, "s_374");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int yavin_rebel_trainer_2_handleBranch171 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What mission do you want?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 1.
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission1 (player, npc);

			//-- NPC: Very well. Escort mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_384");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 2.
	if (response == "s_386")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission2 (player, npc);

			//-- NPC: Very well. Inspect mission in Yavin sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_388");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 3.
	if (response == "s_390")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission3 (player, npc);

			//-- NPC: Very well. Inspect mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want mission 4.
	if (response == "s_394")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantMission4 (player, npc);

			//-- NPC: Very well. Escort mission in Lok sector. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_396");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Escort duty.
	if (response == "s_398")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantEscortDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_400");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Destroy duty.
	if (response == "s_402")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantDestroyDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_404");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Recovery duty.
	if (response == "s_406")
	{
		//-- [NOTE] 
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			yavin_rebel_trainer_2_action_grantRecoveryDuty (player, npc);

			//-- NPC: Very well. If you find any errors or have suggestions, report them to Niklas at njohansson@soe.sony.com
			string_id message = new string_id (c_stringFile, "s_408");
			utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.yavin_rebel_trainer_2");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable (self, true);
	factions.setFaction( self, factions.FACTION_REBEL );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_SPACE_INTERESTING);
	setInvulnerable (self, true );
	factions.setFaction( self, factions.FACTION_REBEL );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.yavin_rebel_trainer_2");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!yavin_rebel_trainer_2_condition_isPilot (player, npc))
	{
		//-- NPC: I can't think of one good reason for you to be talking to me, can you? On your way, then.
		string_id message = new string_id (c_stringFile, "s_e18f6059");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_readyTier3 (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Good to see you %TU! I'm afraid that our time of service together has come to an end. The Navy has requested your presence at a different location. I just wanted to let you know that even though I've been hard on you now and then, you've been one of my best pilots ever %NU.
		string_id message = new string_id (c_stringFile, "s_71f6ca11");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You could have fooled me.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's been my honor and privilege Major.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3938bdfc");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_214de988");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 2);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Could be cool if Eker whispers - could make player wonder if he's still with the Empire, which of course he's not. Can the NPC grab somebody's lapels, touch the player in any way? 
	if (yavin_rebel_trainer_2_condition_isImperial (player, npc))
	{
		doAnimationAction (npc, "whisper");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I know you. You better get out of here if you know what's good for you. 
		string_id message = new string_id (c_stringFile, "s_9c34f0ad");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_isNeutralPilot (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Move along. 
		string_id message = new string_id (c_stringFile, "s_1a1b1cf0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Who are you?
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What are all these Rebel forces doing here?
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ca776e30");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e93cc431");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 6);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: Sorry, %TU.  You're on report.  That means no more missions for you.
		string_id message = new string_id (c_stringFile, "s_418a4a24");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why not?
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_7f9b8387");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 9);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!yavin_rebel_trainer_2_condition_onMyTrack (player, npc))
	{
		//-- NPC: A Rebel pilot, eh? But you don't fly with the Phoenix? What are you doing here, soldier?
		string_id message = new string_id (c_stringFile, "s_56b0632");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Do you have any missions I could fly?
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1583743c");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 12);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Eker tells the player that they are not assigned to his unit and that they must go elsewhere... 
	if (yavin_rebel_trainer_2_condition_isRebelNonMember (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Unless you're here to request a transfer, I'd suggest you get back to your unit.
		string_id message = new string_id (c_stringFile, "s_30e8e9e0");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasCompletedTier3 (player, npc))
	{
		//-- NPC: Nice to see you again, %TU. They tell me you've been a great help to the Alliance since you I last saw you. Looks like you turned out alright.
		string_id message = new string_id (c_stringFile, "s_9ec42807");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] The player already has a mission and the NPC cannot give the player another mission. Make it sound as if the player is lolly-gagging around or whatever. 
	if (yavin_rebel_trainer_2_condition_isOnMission (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I'm still waiting on your mission report, soldier.
		string_id message = new string_id (c_stringFile, "s_94dbed1a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_isOnAnotherMission (player, npc))
	{
		//-- NPC: Duty reports show you've already got an assignment. Finish what you've started, then we'll talk.
		string_id message = new string_id (c_stringFile, "s_f7f3ab80");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasFailedMission2 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I didn't expect those Imperial rescue squads to respond so quickly.
		string_id message = new string_id (c_stringFile, "s_3c9ecbe9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: They won't shoot me down again. 
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Send me back out there!
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: My ship needs repairs.
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_591601b8");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d8db54f6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b130ff0a");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 20);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Eker lets his guard down when you come through for him. 
	if (yavin_rebel_trainer_2_condition_hasWonMission2 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Good work, soldier. With this information, we'll be able to run rings around those Imperial patrols.
		string_id message = new string_id (c_stringFile, "s_9777c464");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Until they reroute their patrols.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Crack about Eker's Empire ties]
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c48841");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8d66b6a5");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 25);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_readyForMission2 (player, npc))
	{
		doAnimationAction (npc, "beckon");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: %NU! Get over here. I've got a job for you.
		string_id message = new string_id (c_stringFile, "s_27ad3073");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [ask for information]
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [gripe about last mission]
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b1df084d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_12a5eddf");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 32);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasFailedMission3 (player, npc))
	{
		doAnimationAction (npc, "pound_fist_palm");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: You've got to find those pirates. They know where that Imperial freighter is. We HAVE to find it. 
		string_id message = new string_id (c_stringFile, "s_7b57442");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I know what's at stake. 
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: My ship needs repairs.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e0651b79");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_70");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 39);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasWonMission3 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: You look like your dog just died.
		string_id message = new string_id (c_stringFile, "s_cdb6a148");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I need another way to fight the Empire. 
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: All that work- for nothing.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_faf96c0a");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4471d2b");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 42);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] What's the difference b/w salutes 1 and 2? Is there some way for the NPC
	if (yavin_rebel_trainer_2_condition_readyForMission3 (player, npc))
	{
		doAnimationAction (npc, "salute2");

		doAnimationAction (player, "salute1");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I've got news, %NU.
		string_id message = new string_id (c_stringFile, "s_fddb83ca");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [ask for more info]
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ae785ffa");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 46);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasFailedMission4 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: What are you doing here? 
		string_id message = new string_id (c_stringFile, "s_fcfc8bbb");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Send someone else to get that database.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm on it.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_78bae101");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_80d8485c");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 65);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_hasWonMission4 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Alliance forces are rounding up the Imperial spies as we speak.
		string_id message = new string_id (c_stringFile, "s_865fdc7d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [nod, satisfied]
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Imperial forces don't own Yavin.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ef170270");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_21bdbf0f");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 68);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_readyForMission4 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: %TU! Just the person I wanted to see. 
		string_id message = new string_id (c_stringFile, "s_643292f4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Give me a job.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll be right back.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: You feeling all right? 
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6673b556");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47a389f6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4431cbae");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 75);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] ( When does player find out that the woman is a jedi? Would he discuss that with Eker?) 
	if (yavin_rebel_trainer_2_condition_hasWonMission1 (player, npc))
	{
		yavin_rebel_trainer_2_action_giveRewardMission1 (player, npc);

		//-- NPC: Nice job out there. It's not every day I see a pilot outrun a TIE Interceptor.  
		string_id message = new string_id (c_stringFile, "s_2a29add6");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: That was a hell of a fight for one refugee. 
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need a drink.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_837615b6");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c3e68b1f");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 90);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] how does player learn of woman's jedi status? Does that impact the relationship with Major Eker in any way? 
	if (yavin_rebel_trainer_2_condition_hasFailedMission1 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: That woman is vital to Alliance interests. You're going back out there, stat.
		string_id message = new string_id (c_stringFile, "s_14086bc1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The sooner the better.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's pretty hairy up there.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d9c145dd");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b585598c");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 99);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_readyForMission1 (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: There's work to do on Yavin. 
		string_id message = new string_id (c_stringFile, "s_f88289a7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: For some other pilot, maybe.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Reporting for duty.  
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER:  I thought Yavin had already been evacuated. 
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER:  Any chance we'll see some action?
		boolean hasResponse3 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_38e4c8a3");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_468ab4d3");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e58651c5");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_7065e138");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 104);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition_canBuySkill (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Good news, soldier. One of my best pilots has volunteered to train new recruits - and that includes you.
		string_id message = new string_id (c_stringFile, "s_434cf40e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What can he teach me?
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What could these dregs possibly teach me?
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Do I have to pay them for the training?
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Sounds like a great opportunity, sir, but I'm going to have to pass for now.
		boolean hasResponse3 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dd2fd70");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2f0a6ba8");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dede1eae");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fd447981");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 125);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] The player is in need of more XP before he/she can be trained. This is where Eker says 'take a duty.' 
	if (yavin_rebel_trainer_2_condition_readyForDuty (player, npc))
	{
		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: Are you ready for duty? There's plenty of work to be done around here.
		string_id message = new string_id (c_stringFile, "s_6d80a4d8");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Oh yeah.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Afraid not, sir. I've got some things to take care of.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a Developer/Tester and want missions.
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2bf9b1f7");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_72c594c9");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_313");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 137);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] Meet the player - player is ready to start doing missions for Maj. Eker.
	if (yavin_rebel_trainer_2_condition_isCorrectRebelPilot (player, npc))
	{
		doAnimationAction (npc, "salute2");

		doAnimationAction (player, "salute1");

		yavin_rebel_trainer_2_action_face (player, npc);

		//-- NPC: I'm Major Eker. I am your commanding officer.  You are going to do what I say, when I say it. Do we understand each other?
		string_id message = new string_id (c_stringFile, "s_928a5ee3");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes SIR.
		boolean hasResponse0 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You sound like an Imperial officer.
		boolean hasResponse1 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Loud and clear.
		boolean hasResponse2 = false;
		if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm a Developer/Tester and want missions.
		boolean hasResponse3 = false;
		if (yavin_rebel_trainer_2_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6a1c47d9");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c1015a4d");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_362");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_378");

			utils.setScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId", 160);

			npcStartConversation (player, npc, "yavin_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (yavin_rebel_trainer_2_condition__defaultCondition (player, npc))
	{
		//-- NPC: I'm too busy to deal with you now... whatever you are.
		string_id message = new string_id (c_stringFile, "s_8740fd1");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "yavin_rebel_trainer_2")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

	if (branchId == 2 && yavin_rebel_trainer_2_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && yavin_rebel_trainer_2_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && yavin_rebel_trainer_2_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && yavin_rebel_trainer_2_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && yavin_rebel_trainer_2_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && yavin_rebel_trainer_2_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && yavin_rebel_trainer_2_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && yavin_rebel_trainer_2_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && yavin_rebel_trainer_2_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && yavin_rebel_trainer_2_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && yavin_rebel_trainer_2_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && yavin_rebel_trainer_2_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && yavin_rebel_trainer_2_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && yavin_rebel_trainer_2_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && yavin_rebel_trainer_2_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && yavin_rebel_trainer_2_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && yavin_rebel_trainer_2_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && yavin_rebel_trainer_2_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && yavin_rebel_trainer_2_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && yavin_rebel_trainer_2_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && yavin_rebel_trainer_2_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && yavin_rebel_trainer_2_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && yavin_rebel_trainer_2_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && yavin_rebel_trainer_2_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && yavin_rebel_trainer_2_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && yavin_rebel_trainer_2_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && yavin_rebel_trainer_2_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && yavin_rebel_trainer_2_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && yavin_rebel_trainer_2_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && yavin_rebel_trainer_2_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && yavin_rebel_trainer_2_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && yavin_rebel_trainer_2_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && yavin_rebel_trainer_2_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && yavin_rebel_trainer_2_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && yavin_rebel_trainer_2_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && yavin_rebel_trainer_2_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && yavin_rebel_trainer_2_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && yavin_rebel_trainer_2_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && yavin_rebel_trainer_2_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && yavin_rebel_trainer_2_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && yavin_rebel_trainer_2_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && yavin_rebel_trainer_2_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && yavin_rebel_trainer_2_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && yavin_rebel_trainer_2_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && yavin_rebel_trainer_2_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && yavin_rebel_trainer_2_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && yavin_rebel_trainer_2_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && yavin_rebel_trainer_2_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && yavin_rebel_trainer_2_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && yavin_rebel_trainer_2_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && yavin_rebel_trainer_2_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && yavin_rebel_trainer_2_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && yavin_rebel_trainer_2_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && yavin_rebel_trainer_2_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && yavin_rebel_trainer_2_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && yavin_rebel_trainer_2_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && yavin_rebel_trainer_2_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && yavin_rebel_trainer_2_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 118 && yavin_rebel_trainer_2_handleBranch118 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && yavin_rebel_trainer_2_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && yavin_rebel_trainer_2_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 125 && yavin_rebel_trainer_2_handleBranch125 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 126 && yavin_rebel_trainer_2_handleBranch126 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 128 && yavin_rebel_trainer_2_handleBranch128 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 130 && yavin_rebel_trainer_2_handleBranch130 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 132 && yavin_rebel_trainer_2_handleBranch132 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && yavin_rebel_trainer_2_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 135 && yavin_rebel_trainer_2_handleBranch135 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 137 && yavin_rebel_trainer_2_handleBranch137 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 138 && yavin_rebel_trainer_2_handleBranch138 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 143 && yavin_rebel_trainer_2_handleBranch143 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 144 && yavin_rebel_trainer_2_handleBranch144 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 152 && yavin_rebel_trainer_2_handleBranch152 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 160 && yavin_rebel_trainer_2_handleBranch160 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 162 && yavin_rebel_trainer_2_handleBranch162 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 163 && yavin_rebel_trainer_2_handleBranch163 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 164 && yavin_rebel_trainer_2_handleBranch164 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 166 && yavin_rebel_trainer_2_handleBranch166 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 167 && yavin_rebel_trainer_2_handleBranch167 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 168 && yavin_rebel_trainer_2_handleBranch168 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 169 && yavin_rebel_trainer_2_handleBranch169 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 171 && yavin_rebel_trainer_2_handleBranch171 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.yavin_rebel_trainer_2.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

