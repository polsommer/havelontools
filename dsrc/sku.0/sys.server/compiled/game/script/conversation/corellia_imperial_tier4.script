// ======================================================================
//
// corellia_imperial_tier4.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/corellia_imperial_tier4";

// ======================================================================
// Script Conditions
// ======================================================================

boolean corellia_imperial_tier4_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isWrongFaction (obj_id player, obj_id npc)
{
	//check the player has the correct novice skill box for this trainer
	return (!hasSkill(player,"pilot_imperial_navy_novice"));
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasCompletedTier3 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_imperial_navy_starships_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_procedures_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_droid_03" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_weapons_03" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierThree(player);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isOnMission (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest(player) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_faliedMissionOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "patrol", "corellia_imperial_tier4_1" ) ||
		 space_quest.hasFailedQuestRecursive( player, "patrol", "corellia_imperial_tier4_1" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_failedMissionTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "recovery", "corellia_imperial_tier4_2" ) ||
		 space_quest.hasFailedQuestRecursive( player, "recovery", "corellia_imperial_tier4_2" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_failedMissionThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "escort", "corellia_imperial_tier4_3" ) ||
		 space_quest.hasFailedQuestRecursive( player, "escort", "corellia_imperial_tier4_3" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_failedMissionFour (obj_id player, obj_id npc)
{
	if ( space_quest.hasAbortedQuestRecursive( player, "assassinate", "corellia_imperial_tier4_4" ) ||
		 space_quest.hasFailedQuestRecursive( player, "assassinate", "corellia_imperial_tier4_4" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_failedMasterMission (obj_id player, obj_id npc)
{

	if ( space_quest.hasAbortedQuestRecursive( player, "destroy", "corellia_imperial_master" ) ||
		 space_quest.hasFailedQuestRecursive( player, "destroy", "corellia_imperial_master" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isReadyForTraining (obj_id player, obj_id npc)
{
	//see if the player has NOT completed all of tier 4
	//AND has enough XP to buy a tier-4 skill
	if (corellia_imperial_tier4_condition_hasCompletedTier4(player,npc))
		return false;//you're already done
		
	return ( space_quest.isPlayerQualifiedForSkill( player, "pilot_imperial_navy_starships_04" ) );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasCompletedTier4 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_imperial_navy_starships_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_procedures_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_droid_04" ))
		return false;
	else if (!hasSkill( player, "pilot_imperial_navy_weapons_04" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierFour(player);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasMasterSkill (obj_id player, obj_id npc)
{
	if (hasSkill( player, "pilot_imperial_navy_master" ) ||
		space_flags.hasSpaceFlag(player, "workingForAdmiralDeclann"))
		return false;
	else
		return true;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isGettingMissionOneReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "patrol", "corellia_imperial_tier4_1" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "patrol", "corellia_imperial_tier4_1" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isGettingMissionTwoReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier4_2" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "recovery", "corellia_imperial_tier4_2" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isGettingMissionThreeReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "escort", "corellia_imperial_tier4_3" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "escort", "corellia_imperial_tier4_3" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isGettingMissionFourReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "assassinate", "corellia_imperial_tier4_4" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "assassinate", "corellia_imperial_tier4_4" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isGettingMasterMissionReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "destroy", "corellia_imperial_master" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "destroy", "corellia_imperial_master" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasWonMissionOne (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "patrol", "corellia_imperial_tier4_1" ))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasWonMissionTwo (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "recovery", "corellia_imperial_tier4_2" ))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasWonMissionThree (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuestRecursive( player, "escort", "corellia_imperial_tier4_3" ))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasDroidSkill (obj_id player, obj_id npc)
{
	if(!hasSkill(player, "pilot_imperial_navy_droid_04"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasWeaponSkill (obj_id player, obj_id npc)
{
	if(!hasSkill(player, "pilot_imperial_navy_weapons_04"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasProceduresSkill (obj_id player, obj_id npc)
{
	if(!hasSkill(player, "pilot_imperial_navy_procedures_04"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasStarshipSkill (obj_id player, obj_id npc)
{
	if(!hasSkill(player, "pilot_imperial_navy_starships_04"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.IMPERIAL_CORELLIA);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierThree(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_openMissionTrack (obj_id player, obj_id npc)
{
	if(!space_flags.hasSpaceFlag(player, "meetInsurgent"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasMetMe (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "metTier4");
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_IMPERIAL ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean corellia_imperial_tier4_condition_isReadyForMission (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "readyForTier4Mission");
}

// ======================================================================
// Script Actions
// ======================================================================

void corellia_imperial_tier4_action_grantMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "patrol", "corellia_imperial_tier4_1" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery", "corellia_imperial_tier4_2" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantMissionThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort", "corellia_imperial_tier4_3" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantMissionFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "assassinate", "corellia_imperial_tier4_4" );
	
	if(space_flags.hasSpaceFlag(player, "readyForTier4Mission"))
		space_flags.removeSpaceFlag(player, "readyForTier4Mission");
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantMasterMission (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy", "corellia_imperial_master" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantDutyMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "corellia_imperial_tier4_1" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantDutyMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "corellia_imperial_tier4_2" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantDutyMissionThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "corellia_imperial_tier4_3" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantDutyMissionFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "rescue_duty", "corellia_imperial_tier4_4" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_rewardForMissionOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "patrol", "corellia_imperial_tier4_1" ))
	{
		space_quest.giveReward( player, "patrol", "corellia_imperial_tier4_1", 10000, "object/tangible/ship/components/weapon/wpn_mission_reward_imperial_sds_boltdriver.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_rewardForMissionTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "recovery", "corellia_imperial_tier4_2" ))
	{
		space_quest.giveReward( player, "recovery", "corellia_imperial_tier4_2", 10000, "object/tangible/ship/components/shield_generator/shd_mission_reward_imperial_cygnus_holoscreen.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_rewardForMissionThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "escort", "corellia_imperial_tier4_3" ))
	{
		space_quest.giveReward( player, "escort", "corellia_imperial_tier4_3", 10000, "object/tangible/ship/components/armor/arm_mission_reward_imperial_rss_special_durasteel.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_rewardForMissionFour (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "assassinate", "corellia_imperial_tier4_4" ))
	{
		space_quest.giveReward( player, "assassinate", "corellia_imperial_tier4_4", 10000, "object/tangible/ship/components/reactor/rct_mission_reward_imperial_rss_advanced_military.iff" );
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_rewardForMasterMission (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "destroy", "corellia_imperial_master" ))
	{
		space_quest.giveReward( player, "destroy", "corellia_imperial_master", 5000 );
		grantSkill( player, "pilot_imperial_navy_master");
	}
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantDroidSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_droid_04" );	
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantStarshipSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_starships_04" );	
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantProcedureSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_procedures_04" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_grantWeaponSkill (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_imperial_navy_weapons_04" );
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_metInsurgent (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "meetInsurgent", 1);
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_setMetMe (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "metTier4", true);
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_transferToMaster (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "workingForAdmiralDeclann", 1);
}

// ----------------------------------------------------------------------

void corellia_imperial_tier4_action_setReadyForMission (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "readyForTier4Mission", true);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int corellia_imperial_tier4_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Get lost, %TU.  I don't want to be seen talking to you.  Before you know it, people will think that I am a traitor, too.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Traitor?!
	if (response == "s_61ee3818")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Don't act surprised.  A person doesn't just ACCIDENTALLY work for the Rebel Alliance to overthrow the Empire.  Now get lost, we have no use for your kind.
			string_id message = new string_id (c_stringFile, "s_6a0fad7b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's not true!
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14c18bea");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Don't act surprised.  A person doesn't just ACCIDENTALLY work for the Rebel Alliance to overthrow the Empire.  Now get lost, we have no use for your kind.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's not true!
	if (response == "s_14c18bea")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Save your stories for children.  If you ever want to fly for the Imperial Navy again, you'll improve your standing with the Empire.  Until then, don't talk to me.
			string_id message = new string_id (c_stringFile, "s_1f6db0c9");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're a long way from home, pilot. Why have you come?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to request a mission.
	if (response == "s_4854758d")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_canFlyNonTrackDuty (player, npc))
		{
			//-- NPC: Normally I would only give missions to my own pilots, but I'm a little short-handed and I have several elective duty missions available. Would you like to hear a briefing?
			string_id message = new string_id (c_stringFile, "s_81995254");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, please.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c82e9a2f");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I cannot use someone like you. I am only looking for highly skilled pilots and you don't make the cut. Perhaps you should return to your commanding officer.
			string_id message = new string_id (c_stringFile, "s_83af3aa0");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Normally I would only give missions to my own pilots, but I'm a little short-handed and I have several elective duty missions available. Would you like to hear a briefing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, please.
	if (response == "s_c82e9a2f")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.
			string_id message = new string_id (c_stringFile, "s_b3155267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your ultimate targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ecc8830");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 1, do it over.
	//-- NPC: Are you having any luck?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm afraid not.
	if (response == "s_b4712f35")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: These mercenaries are very good - and very motivated. I'm not surprised to hear that you've run into difficulties, but I still don't want to hear any excuses. You are supposed to be better.
			string_id message = new string_id (c_stringFile, "s_8406a42d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I just need another shot.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d071495");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm still in pursuit.
	if (response == "s_828cdbfa")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I've read your report. I know how good you are. These mercenaries are surprisingly resilient, if they can fight you off.
			string_id message = new string_id (c_stringFile, "s_e3e51927");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: They won't last for long.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bbed80fc");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: These mercenaries are very good - and very motivated. I'm not surprised to hear that you've run into difficulties, but I still don't want to hear any excuses. You are supposed to be better.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just need another shot.
	if (response == "s_9d071495")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Of course. Good luck.
			string_id message = new string_id (c_stringFile, "s_bde3268d");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've read your report. I know how good you are. These mercenaries are surprisingly resilient, if they can fight you off.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: They won't last for long.
	if (response == "s_bbed80fc")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: The Empire will prevail. You're clear to leave. Better luck this time.
			string_id message = new string_id (c_stringFile, "s_9f7da911");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 2, do it over.
	//-- NPC: Your mission's not yet complete.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know.
	if (response == "s_87d7e908")
	{
		doAnimationAction (player, "slump_head");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: This is very important, %TU. More important than you realize.
			string_id message = new string_id (c_stringFile, "s_81b729d2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It'll get done.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7017e938");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 17);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's been difficult.
	if (response == "s_40d40fc4")
	{
		doAnimationAction (player, "embarrassed");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Cry me a river. I thought you were tough?
			string_id message = new string_id (c_stringFile, "s_77729b2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I know what to do; I just need to do it.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e76b9ab1");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is very important, %TU. More important than you realize.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It'll get done.
	if (response == "s_7017e938")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: I'm counting on you. Do not fail.
			string_id message = new string_id (c_stringFile, "s_9a8ac7e9");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Cry me a river. I thought you were tough?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know what to do; I just need to do it.
	if (response == "s_e76b9ab1")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Then do it.
			string_id message = new string_id (c_stringFile, "s_1d3e1b08");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 3, do it over.
	//-- NPC: They're quite good, aren't they?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've never seen mercenaries that good!
	if (response == "s_c4c33621")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: What does that mean, do you think?
			string_id message = new string_id (c_stringFile, "s_2f76570d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe they're getting better.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96219092");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Too good, if you ask me.
	if (response == "s_50b309d4")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I wish I could join you out there.
			string_id message = new string_id (c_stringFile, "s_450797b1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I could use the help.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd02ac28");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What does that mean, do you think?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe they're getting better.
	if (response == "s_96219092")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Or maybe it's not mercenaries you're fighting.
			string_id message = new string_id (c_stringFile, "s_30f28d53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are you talking about?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2313ac9e");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Or maybe it's not mercenaries you're fighting.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are you talking about?
	if (response == "s_2313ac9e")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Keep trying, %NU. You're doing the Emperor's work.
			string_id message = new string_id (c_stringFile, "s_5d0255cb");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I wish I could join you out there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I could use the help.
	if (response == "s_cd02ac28")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, %NU. You don't need my help. We would do well together, but you are the one for the job. You can do this. Focus your mind. 
			string_id message = new string_id (c_stringFile, "s_ca6d4505");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9301eff1");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 26);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, %NU. You don't need my help. We would do well together, but you are the one for the job. You can do this. Focus your mind. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will.
	if (response == "s_9301eff1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave1");

			corellia_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Good luck. I'll be watching you.
			string_id message = new string_id (c_stringFile, "s_d7e41231");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 4, do it over.
	//-- NPC: Listen to me. Our targets must be stopped. They are our greatest enemy! They have the potential to be a major thorn in the side of the Empire unless we take care of them now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You've never had a more important mission, %NU. You MUST succeed.
			string_id message = new string_id (c_stringFile, "s_9bad275c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 29);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's brutal up there.
	if (response == "s_4af031d3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have to fight like you've never fought before. Do you understand me?
			string_id message = new string_id (c_stringFile, "s_87f2bc56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d70dba34");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've never had a more important mission, %NU. You MUST succeed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will.
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Good luck.
			string_id message = new string_id (c_stringFile, "s_90422eb5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have to fight like you've never fought before. Do you understand me?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_d70dba34")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I gave this job to you for a reason. You're my best pilot. Do you have  the guts to go back out there?
			string_id message = new string_id (c_stringFile, "s_edc55445");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I gave this job to you for a reason. You're my best pilot. Do you have  the guts to go back out there?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Good luck.
			string_id message = new string_id (c_stringFile, "s_61");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission one and so here is your reward.
	//-- NPC: Good work, %NU. You managed to gather me some information that might turn out to be very important. I believe that this will lead us on the right direction.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was in the message?
	if (response == "s_fd6077a1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The message was essentially all in code. There isn't much chance that we will actually be able to find out what it actually told the Velocity. It contained a few phrases, such as, 'the enlightened walks with rancors' and 'keep the skeletons walking the path of misdirection'. Basically if you do not already know what the code words mean you probably will never find out what is being said.
			string_id message = new string_id (c_stringFile, "s_e08f9706");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't understand. How is that useful information?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I bet I could figure it out.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: We should capture one of the Velocity and make him tell us what it means.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40cb88ec");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6465b813");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68d65b58");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The message was essentially all in code. There isn't much chance that we will actually be able to find out what it actually told the Velocity. It contained a few phrases, such as, 'the enlightened walks with rancors' and 'keep the skeletons walking the path of misdirection'. Basically if you do not already know what the code words mean you probably will never find out what is being said.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't understand. How is that useful information?
	if (response == "s_40cb88ec")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: One has to look beyond the words of the message itself. The transmission originated from deep in the Dantooine system, so that is a place to start my search. Also it is a good bet that this message came from whoever hired the Velocity, since the message does appear to be instructions of some sort.
			string_id message = new string_id (c_stringFile, "s_e0aca724");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I still don't see how this helps us.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42c52a5");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I bet I could figure it out.
	if (response == "s_6465b813")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course, I have my own theories on what those phrases mean but I am very intrigued to find out what you think they mean.
			string_id message = new string_id (c_stringFile, "s_a4f727f1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The first obviously means that only the smart man can deal with danger.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The second means that the Velocity should continue their assault on the Empire.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I would need more time and information about our targets.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_592140");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79d6c690");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_493aef07");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We should capture one of the Velocity and make him tell us what it means.
	if (response == "s_68d65b58")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is very little need for us to do that. They have left me a very large clue without even knowing they did. Instead of trying to figure out what the message actually said I am going to be looking into where the message originated from.
			string_id message = new string_id (c_stringFile, "s_74f79dbe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What can that tell you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b5e3a1");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One has to look beyond the words of the message itself. The transmission originated from deep in the Dantooine system, so that is a place to start my search. Also it is a good bet that this message came from whoever hired the Velocity, since the message does appear to be instructions of some sort.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I still don't see how this helps us.
	if (response == "s_42c52a5")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It doesn't matter that you do not know what is going on. All that matters is that I have some direction. When the time comes, I will point you in that direction and together we will find what I am after. For now I will leave you to your own devices. You can continue to take some duty missions from me or go on leave, it really doesn't matter to me. Once I figure out my next move I will let you know.
			string_id message = new string_id (c_stringFile, "s_5bea4bf3");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, I have my own theories on what those phrases mean but I am very intrigued to find out what you think they mean.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The first obviously means that only the smart man can deal with danger.
	if (response == "s_592140")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perhaps. Like I said, I have my own theories on what those code phrases mean. But it is not so much what was in the message, but rather where the message was from that interested me. The message originated from deep in the Dantooine system. I believe that will be a good place for me to start my search. For now, you are on stand by. You can take some more duty missions or go on leave. When we are both ready, we will continue.
			string_id message = new string_id (c_stringFile, "s_7dd5c9b5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The second means that the Velocity should continue their assault on the Empire.
	if (response == "s_79d6c690")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Perhaps. Like I said, I have my own theories on what those code phrases mean. But it is not so much what was in the message, but rather where the message was from that interested me. The message originated from deep in the Dantooine system. I believe that will be a good place for me to start my search. For now, you are on stand by. You can take some more duty missions or go on leave. When we are both ready, we will continue.
			string_id message = new string_id (c_stringFile, "s_75");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would need more time and information about our targets.
	if (response == "s_493aef07")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It doesn't matter that you do not know what is going on. All that matters is that I have some direction. When the time comes, I will point you in that direction and together we will find what I am after. For now I will leave you to your own devices. You can continue to take some duty missions from me or go on leave, it really doesn't matter to me. Once I figure out my next move I will let you know.
			string_id message = new string_id (c_stringFile, "s_78");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is very little need for us to do that. They have left me a very large clue without even knowing they did. Instead of trying to figure out what the message actually said I am going to be looking into where the message originated from.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What can that tell you?
	if (response == "s_b5e3a1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The transmission originated from deep in the Dantooine system, so that is a place to start my search. Also it is a good bet that this message came from whoever hired the Velocity, since the message does appear to be instructions of some sort.  For now I will leave you to your own devices. You can continue to take some duty missions from me or go on leave, it really doesn't matter to me. Once I figure out my next move I will let you know.
			string_id message = new string_id (c_stringFile, "s_e5dc0118");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission two and so here is your reward.
	//-- NPC: Welcome back. We have the orders you retrieved from the Velocity in our possession and I will be investigating the freighter shortly. So far, you have performed better than I expected you to be able to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just doing my job.
	if (response == "s_dcc126b1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is what I like most about you. You are all business. If there isn't anything else I would like to get on with my investigation.
			string_id message = new string_id (c_stringFile, "s_35e6e0c7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What were in the orders from the Velocity?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, Insurgent. I will wait until you need me again.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d56d9c26");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7fc0dbf6");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can do better.
	if (response == "s_f83729d0")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I get the feeling that soon you will have to. Of course, that will not happen until I can have a chance to look into this new information you brought to me.
			string_id message = new string_id (c_stringFile, "s_b3f97e26");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood. I will leave you to your work.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e3d62b89");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: With the Emperor's blessing, I am unstoppable.
	if (response == "s_6d6d19f4")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do not put to much faith into words, even if they come from the Emperor. Action is the only true way of gaining power and the Emperor only respects people of action. Keep that in mind.
			string_id message = new string_id (c_stringFile, "s_e7e4fdc5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It is the Emperor's prerogative who he takes favor with.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce9d7377");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is what I like most about you. You are all business. If there isn't anything else I would like to get on with my investigation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What were in the orders from the Velocity?
	if (response == "s_d56d9c26")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is more of that coded phrasing but I am quite certain I have figured out the code, or at least the general meaning behind the orders. I will tell you more about this once I am certain.
			string_id message = new string_id (c_stringFile, "s_92c25c6d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well. I will wait until you need me again.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47e47c9e");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, Insurgent. I will wait until you need me again.
	if (response == "s_7fc0dbf6")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: While I am looking into the latest information that you have brought to me, feel free to take some duty missions or...do whatever you wish. Frankly I don't care which, just as long as you become available when I need you again.
			string_id message = new string_id (c_stringFile, "s_d460a728");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is more of that coded phrasing but I am quite certain I have figured out the code, or at least the general meaning behind the orders. I will tell you more about this once I am certain.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well. I will wait until you need me again.
	if (response == "s_47e47c9e")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: While I am looking into the latest information that you have brought to me, feel free to take some duty missions or...do whatever you wish. Frankly I don't care which, just as long as you become available when I need you again.
			string_id message = new string_id (c_stringFile, "s_d460a728");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I get the feeling that soon you will have to. Of course, that will not happen until I can have a chance to look into this new information you brought to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood. I will leave you to your work.
	if (response == "s_e3d62b89")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: While I am looking into the latest information that you have brought to me, feel free to take some duty missions or...do whatever you wish. Frankly I don't care which, just as long as you become available when I need you again.
			string_id message = new string_id (c_stringFile, "s_95");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do not put to much faith into words, even if they come from the Emperor. Action is the only true way of gaining power and the Emperor only respects people of action. Keep that in mind.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It is the Emperor's prerogative who he takes favor with.
	if (response == "s_ce9d7377")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very true. While I am looking into the latest information that you have brought to me, feel free to take some duty missions or...do whatever you wish. Frankly I don't care which, just as long as you become available when I need you again.
			string_id message = new string_id (c_stringFile, "s_29b41abf");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission three and so here is your reward.
	//-- NPC: That pretty much confirms my suspicion. The Velocity are in the Dathomir system, which means the targets are as well. We will get those orders you recovered decoded and see if they lead us any closer to our prey.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You mean you didn't know for certain that they would be there?
	if (response == "s_bb5f90b1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I was almost certain they were, but the unique nature of Dathomir makes it a little hard to completely detect these things. It doesn't matter now though. We have a confirmation. Also, the ground crew has reported in and there are no signs of any vessels landing on Dathomir recently so I think it is safe to assume the targets are still in space. On a humorous note, the ground crew asked when they could expect to be picked up.
			string_id message = new string_id (c_stringFile, "s_43d39a86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then I will have to track the targets down.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What did you tell them?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_516e76a2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0036582");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that information should be helpful.
	if (response == "s_14c473a")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: We will begin decoding these orders and see where they lead us. Until then feel free to take some duty missions or go on leave. When you are ready for your next step, we will hunt them down. The time is drawing very near now.
			string_id message = new string_id (c_stringFile, "s_109");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was almost certain they were, but the unique nature of Dathomir makes it a little hard to completely detect these things. It doesn't matter now though. We have a confirmation. Also, the ground crew has reported in and there are no signs of any vessels landing on Dathomir recently so I think it is safe to assume the targets are still in space. On a humorous note, the ground crew asked when they could expect to be picked up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then I will have to track the targets down.
	if (response == "s_516e76a2")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			//-- NPC: We will begin decoding these orders and see where they lead us. Until then feel free to take some duty missions or go on leave. When you are ready for your next step, we will hunt them down. The time is drawing very near now.
			string_id message = new string_id (c_stringFile, "s_9c7a221c");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did you tell them?
	if (response == "s_c0036582")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I haven't told them anything. They will either make it to the prison, be eaten by a Rancor, or perhaps worse. They do not matter to me now. All that does matter is catching our prey. We will begin decoding these orders and see where they lead us. Until then feel free to take some duty missions or go on leave. When you are ready for your next step, we will hunt them down.
			string_id message = new string_id (c_stringFile, "s_62c2e765");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission four and so here is your reward.
	//-- NPC: You have done very well. There are not many people in this entire galaxy who can out-pilot one Jedi much less three.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What! Those were Jedi?
	if (response == "s_d129b116")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Who else would garner such attention from the Emperor? I must say that he is very pleased with the outcome. Now that the Jedi are no more, the remaining Velocity should be fairly simple to clean up.
			string_id message = new string_id (c_stringFile, "s_15b3b360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Wait! I still want to know who you are.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fe20f03e");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I figured that is who we were after.
	if (response == "s_85e8b1c4")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Really? Perhaps you have learned to read between the lines. The Emperor is most pleased with the outcome of this situation. You have done very well.
			string_id message = new string_id (c_stringFile, "s_a8fbb11");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What I want to know is who you are?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8778fe46");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Who else would garner such attention from the Emperor? I must say that he is very pleased with the outcome. Now that the Jedi are no more, the remaining Velocity should be fairly simple to clean up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wait! I still want to know who you are.
	if (response == "s_fe20f03e")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Too bad. Good bye, %NU. Nice work out there.
			string_id message = new string_id (c_stringFile, "s_84fad79c");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Really? Perhaps you have learned to read between the lines. The Emperor is most pleased with the outcome of this situation. You have done very well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What I want to know is who you are?
	if (response == "s_8778fe46")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Too bad. Good bye, %NU. Nice work out there.
			string_id message = new string_id (c_stringFile, "s_119");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you must be %NU. I have been watching your progress for sometime now.  I must say that I am very impressed, although there ARE a number of areas where you could use improvement... but we will get to that later.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you with Black Epsilon, sir?
	if (response == "s_cdcb7b73")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, I am not part of Black Epsilon, although I have used their pilots several times in the past and have always been more than satisfied with the results. And do not call me sir. I have no military rank.
			string_id message = new string_id (c_stringFile, "s_644e6e82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you are not in the military, who are you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_453c3282");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Improvement!? You cannot improve perfection.
	if (response == "s_2b6c0655")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very amusing. I had hoped that the stories about your ego were exaggerations, but I can see now that they were right on the mark. To be honest, I do not really care what you think of yourself, as long as you do your job.
			string_id message = new string_id (c_stringFile, "s_a4d2d2a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I always do my job.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c0dc404f");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am but a simple instrument of the Empire.
	if (response == "s_c06cf370")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah, one of those. I have worked with people like you in the past and I haven't had any difficulties. I just require that you keep your mind on the task at hand and do not let your fervor cloud your judgment. As long as you are able to do that, we shall not have any problems.
			string_id message = new string_id (c_stringFile, "s_fd2777e5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ca776e30");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, I am not part of Black Epsilon, although I have used their pilots several times in the past and have always been more than satisfied with the results. And do not call me sir. I have no military rank.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you are not in the military, who are you?
	if (response == "s_453c3282")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You may call me Insurgent. And let us just say that I have the Emperor's best interests at heart and leave it at that.
			string_id message = new string_id (c_stringFile, "s_6f6fe7c5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Insurgent isn't your real name, is it?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What do you need me to do, si... Insurgent?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41f35a20");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fad3519e");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You may call me Insurgent. And let us just say that I have the Emperor's best interests at heart and leave it at that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Insurgent isn't your real name, is it?
	if (response == "s_41f35a20")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is why I like using Black Epsilon pilots. Always thinking unlike your standard neolithic naval pilot. You are correct in your assumption that Insurgent is not my real name. Of course, if you attempt to find out my real name I will be forced to kill you and neither of us want that.
			string_id message = new string_id (c_stringFile, "s_e031ecbb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So noted. What will I be doing for you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95c4c876");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you need me to do, si... Insurgent?
	if (response == "s_fad3519e")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: It is quite simple. You will be going where I say, when I say, and doing what I say. Until that time comes you have no need to know, so let us just keep it that way. For now I was just simply interested in meeting the pilot who would be working for me face-to-face. I have seen what I need, that is all. Come back and see me a little later, perhaps I will have something for you then.
			string_id message = new string_id (c_stringFile, "s_f97238d8");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is why I like using Black Epsilon pilots. Always thinking unlike your standard neolithic naval pilot. You are correct in your assumption that Insurgent is not my real name. Of course, if you attempt to find out my real name I will be forced to kill you and neither of us want that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So noted. What will I be doing for you?
	if (response == "s_95c4c876")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: It is quite simple. You will be going where I say, when I say, and doing what I say. Until that time comes you have no need to know, so let us just keep it that way. For now I was just simply interested in meeting the pilot who would be working for me face to-face. I have seen what I need, that is all. Come back and see me a little later, perhaps I will have something for you then.
			string_id message = new string_id (c_stringFile, "s_78026113");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very amusing. I had hoped that the stories about your ego were exaggerations, but I can see now that they were right on the mark. To be honest, I do not really care what you think of yourself, as long as you do your job.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I always do my job.
	if (response == "s_c0dc404f")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. I will have need for a talented pilot very shortly and I think that you might just do very well. You are still a little rough around the edges but I can take care of that. With my help you should become an acceptable pilot.
			string_id message = new string_id (c_stringFile, "s_35dc12ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it I will be doing for you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't need your help! I know how to fly.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a2d93e75");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4de90b3");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. I will have need for a talented pilot very shortly and I think that you might just do very well. You are still a little rough around the edges but I can take care of that. With my help you should become an acceptable pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it I will be doing for you?
	if (response == "s_a2d93e75")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: It is quite simple. You will be going where I say, when I say, and doing what I say. Until that time comes you have no need to know, so let us just keep it that way. For now I was just simply interested in meeting the pilot who would be working for me face to face. I have seen what I need, that is all. Come back and see me a little later, perhaps I will have something for you then.
			string_id message = new string_id (c_stringFile, "s_c93f02d5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't need your help! I know how to fly.
	if (response == "s_e4de90b3")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: And I will make you even more potent. Despite your claim that you are perfection personified, your approach needs some polish. When you are working for me you will gain that polish.
			string_id message = new string_id (c_stringFile, "s_340f88e7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What exactly will I be doing for you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4e7e870d");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And I will make you even more potent. Despite your claim that you are perfection personified, your approach needs some polish. When you are working for me you will gain that polish.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What exactly will I be doing for you?
	if (response == "s_4e7e870d")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: It is quite simple. You will be going where I say, when I say, and you will  be doing WHAT I say. Until that time comes, you have no need to know, so let us just keep it that way. For now, I was simply interested in meeting my new pilot face-to-face. I have seen what I need, that is all. Come back and see me a little later. Perhaps I will have something for you then.
			string_id message = new string_id (c_stringFile, "s_50bf402f");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, one of those. I have worked with people like you in the past and I haven't had any difficulties. I just require that you keep your mind on the task at hand and do not let your fervor cloud your judgment. As long as you are able to do that, we shall not have any problems.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_ca776e30")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You may call me Insurgent. And let us just say that, much like you, I only have the Emperor's best interests at heart. I, too, live only to serve.
			string_id message = new string_id (c_stringFile, "s_d1579156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah, a kindred spirit. It will be a pleasure.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will see if that is true.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4e718340");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_244c9eec");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You may call me Insurgent. And let us just say that, much like you, I only have the Emperor's best interests at heart. I, too, live only to serve.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, a kindred spirit. It will be a pleasure.
	if (response == "s_4e718340")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: As long as you work for me, you will go where I say, when I say, and you will do what I tell you to do. Until that time comes you have no need to know, so let us just keep it that way. For now, I was simply interested in meeting my new pilot face-to-face. I have seen what I need, that is all. Come back and see me a little later. Perhaps I will have something for you then.
			string_id message = new string_id (c_stringFile, "s_beec51b5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will see if that is true.
	if (response == "s_244c9eec")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_metInsurgent (player, npc);

			//-- NPC: A fanatic and a skeptic. What other surprises do you have in store for me? Do not bother to answer that question. I am sure I will find out in time. For now, it is enough that you do what I say without question. I will have need of you later, but for now you may go. Come back to me when you think you are ready to undertake my task.
			string_id message = new string_id (c_stringFile, "s_b4a065ba");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are doing well, Pilot. Are you ready for your next assignment?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am.
	if (response == "s_36a4e374")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasWonMissionThree (player, npc))
		{
			//-- NPC: We have Neja' Bertolo! My men have finally decoded the orders you brought back to me. They have Nej'a all over them. He also made a terrible mistake by putting his coordinates in those orders. Apparently, he wanted his men to be able to reach him if he was needed.
			string_id message = new string_id (c_stringFile, "s_690701a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Doesn't sound like he is all that smart.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The enemy of the Emperor must be destroyed!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasWonMissionTwo (player, npc))
		{
			//-- NPC: I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.
			string_id message = new string_id (c_stringFile, "s_4faccfdf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasWonMissionOne (player, npc))
		{
			//-- NPC: I have another little job that I want you to address. My instincts were correct. I was right to tell you to search that area.
			string_id message = new string_id (c_stringFile, "s_1138832b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find, Insurgent?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will crush our enemies.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_502");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_518");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_546");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings but I must be certain before I act.
			string_id message = new string_id (c_stringFile, "s_b52941c3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready and willing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ah, yes. I am even more deadly than before!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_600");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_626");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We have Neja' Bertolo! My men have finally decoded the orders you brought back to me. They have Nej'a all over them. He also made a terrible mistake by putting his coordinates in those orders. Apparently, he wanted his men to be able to reach him if he was needed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: When do I leave?
	if (response == "s_378")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Now, we cannot take the risk that Nej'a will change his staging location. The Empire has waited for many years to bring this criminal to justice... today is that day. Remember he is very dangerous, destroy him quickly. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_380");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't sound like he is all that smart.
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: He didn't expect us to be able to find him in Dathomir. His lack of vision will be his undoing, but it is unwise to question his intelligence. He is a formidable foe and he will be made even more so now that he is cornered.
			string_id message = new string_id (c_stringFile, "s_384");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So, when do you want me to finish him off?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The enemy of the Emperor must be destroyed!
	if (response == "s_390")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: That is what you are going to do. We cannot take the risk that Nej'a will change his staging location. The Empire has waited for many years to bring this criminal to justice... today is that day. Remember he is very dangerous, destroy him quickly. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that mean?
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you recovered told me much more than was intended. My targets were careful but not careful enough. Their mercenaries force really made a mistake by not destroying that freighter after it sent its final transmission.
			string_id message = new string_id (c_stringFile, "s_398");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it you found?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_400");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have another little job that I want you to address. My instincts were correct. I was right to tell you to search that area.

	//-- [RESPONSE NOTE] this is the "jump into mission" track
	//-- PLAYER: What did you find, Insurgent?
	if (response == "s_502")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: It took me a little while but I managed to find the source of the transmission. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.
			string_id message = new string_id (c_stringFile, "s_504");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are on the freighter?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Do you want me to retrieve the vessel?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_506");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_514");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 116);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] This begins a discussion about jedi that will continue for the course of the tier
	//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
	if (response == "s_518")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Yes, it is. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.
			string_id message = new string_id (c_stringFile, "s_520");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do you know that?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_522");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will crush our enemies.
	if (response == "s_546")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: All in good time. Right now I have a job that may not require any crushing of anyone. Of course, that is a best case scenario and when has anything gone according to that?
			string_id message = new string_id (c_stringFile, "s_548");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you require of me?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_550");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 127);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings but I must be certain before I act.

	//-- [RESPONSE NOTE] this is the blunt "get right into the mission" branch
	//-- PLAYER: Ready and willing, sir.
	if (response == "s_572")
	{
		//-- [NOTE] this branch jumps quickly into mission
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I thought I told you to simply refer to me as Insurgent! I cannot use someone who is incapable of even obeying the simplest of orders.
			string_id message = new string_id (c_stringFile, "s_574");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, Insurgent. Force of habit.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_576");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 134);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
	if (response == "s_600")
	{
		//-- [NOTE] more of the story here
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: If you say so. But I would suggest that you not start counting your victory quite yet. If this was an easy operation, I would not be involved.
			string_id message = new string_id (c_stringFile, "s_602");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what am I am going to be doing?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_604");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, yes. I am even more deadly than before!
	if (response == "s_626")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed. And the time is at hand for you to prove just how deadly you can be. I want to know as much as we can about the Velocity mercenary operation in this system. More than anything, I want to know who hired them.
			string_id message = new string_id (c_stringFile, "s_628");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can capture one and we can 'question' him together.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is your command, my lord?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_630");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_642");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 147);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're ready for a new skill, which would you like?
	//-- NPC: You have done very well and it would seem that your skills are improving. I will assist you in your quest for pilot perfection, when man and machine become almost one. What skill would you like to learn? Once you have made your choice, I have a very important task that requires immediate attention.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what am I to be trained?
	if (response == "s_363")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasStarshipSkill (player, npc))
		{
			//-- NPC: I believe you are now ready for experimental TIE vessel training.
			string_id message = new string_id (c_stringFile, "s_364");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready to learn.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasWeaponSkill (player, npc))
		{
			//-- NPC: I believe you are now ready for heavy starship component training.
			string_id message = new string_id (c_stringFile, "s_365");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready to learn.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_370");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 153);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition_hasProceduresSkill (player, npc))
		{
			//-- NPC: I believe you are now ready for elite TIE guard training.
			string_id message = new string_id (c_stringFile, "s_366");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready to learn.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_372");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 154);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I believe you are now ready for droid intelligence theory training.
			string_id message = new string_id (c_stringFile, "s_367");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready to learn.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_374");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 155);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe you are now ready for experimental TIE vessel training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to learn.
	if (response == "s_368")
	{
		corellia_imperial_tier4_action_grantStarshipSkill (player, npc);

		//-- [NOTE] Now go do Mission Four
		if (corellia_imperial_tier4_condition_hasWonMissionThree (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now back to business. We have Neja' Bertolo! Those orders you brought back to me have finally been decoded and they have Nej'a all over them. He also made a most fatal flaw of placing his coordinates in those orders. Apparently he wanted his men to be able to reach him if he was needed.
			string_id message = new string_id (c_stringFile, "s_376");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Doesn't sound like he is all that smart.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The enemy of the Emperor must be destroyed!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (corellia_imperial_tier4_condition_hasWonMissionTwo (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Good, but now I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.
			string_id message = new string_id (c_stringFile, "s_394");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two. 
		if (corellia_imperial_tier4_condition_hasWonMissionOne (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Very good. And now I have another little job that I want taken care of. My instincts about searching the area that the transmission originated from have paid off.
			string_id message = new string_id (c_stringFile, "s_500");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find, Insurgent?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will crush our enemies.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_502");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_518");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_546");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One. 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings, but I must be certain before I act.
			string_id message = new string_id (c_stringFile, "s_570");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready and willing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ah, yes. I am even more deadly than before!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_600");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_626");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Four
	//-- NPC: Now back to business. We have Neja' Bertolo! Those orders you brought back to me have finally been decoded and they have Nej'a all over them. He also made a most fatal flaw of placing his coordinates in those orders. Apparently he wanted his men to be able to reach him if he was needed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: When do I leave?
	if (response == "s_378")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Now, we cannot take the risk that Nej'a will change his staging location. The Empire has waited for many years to bring this criminal to justice... today is that day. Remember he is very dangerous, destroy him quickly. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_380");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't sound like he is all that smart.
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: He didn't expect us to be able to find him in Dathomir. His lack of vision will be his undoing, but it is unwise to question his intelligence. He is a formidable foe and he will be made even more so now that he is cornered.
			string_id message = new string_id (c_stringFile, "s_384");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So, when do you want me to finish him off?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The enemy of the Emperor must be destroyed!
	if (response == "s_390")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: That is what you are going to do. We cannot take the risk that Nej'a will change his staging location. The Empire has waited for many years to bring this criminal to justice... today is that day. Remember he is very dangerous, destroy him quickly. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_392");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: He didn't expect us to be able to find him in Dathomir. His lack of vision will be his undoing, but it is unwise to question his intelligence. He is a formidable foe and he will be made even more so now that he is cornered.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, when do you want me to finish him off?
	if (response == "s_386")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Now, we cannot take the risk that Nej'a will change his staging location. The Empire has waited for many years to bring this criminal to justice... today is that day. Remember he is very dangerous, destroy him quickly. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_388");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Three.
	//-- NPC: Good, but now I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that mean?
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you recovered told me much more than was intended. My targets were careful but not careful enough. Their mercenaries force really made a mistake by not destroying that freighter after it sent its final transmission.
			string_id message = new string_id (c_stringFile, "s_398");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it you found?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_400");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The freighter you recovered told me much more than was intended. My targets were careful but not careful enough. Their mercenaries force really made a mistake by not destroying that freighter after it sent its final transmission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was it you found?
	if (response == "s_400")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: They wiped the databanks, cleared out the logs, and destroyed the flight recorder but they left behind traces of themselves all over the vessel. It was those traces which have pointed me in the direction of where they went.
			string_id message = new string_id (c_stringFile, "s_402");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So where did they go?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_404");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They wiped the databanks, cleared out the logs, and destroyed the flight recorder but they left behind traces of themselves all over the vessel. It was those traces which have pointed me in the direction of where they went.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So where did they go?
	if (response == "s_404")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, I think it is time for me to better explain what my mission is. I am afraid that I am going to have to place much of my responsibility on your shoulders because of circumstances out of my control. It will become far more dangerous for you from here on out.
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready for whatever you need me to do.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Haven't I already been doing your job?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I do not fear danger.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_408");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_492");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First, I think it is time for me to better explain what my mission is. I am afraid that I am going to have to place much of my responsibility on your shoulders because of circumstances out of my control. It will become far more dangerous for you from here on out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready for whatever you need me to do.
	if (response == "s_408")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I hope so. My targets are criminals that have eluded Imperial justice since the days of the Old Republic. The Emperor has been searching for them for a very long time, finally discovered a lead with these Velocity mercenaries, and sent me to deal with these criminals.
			string_id message = new string_id (c_stringFile, "s_410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Emperor concern himself with criminals?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does that have to do with me taking on more responsibility?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_412");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Haven't I already been doing your job?
	if (response == "s_474")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You have simply done what I told you to do in order to assist me in tracking down my targets. I never intended you to have to face them in combat, but it would seem that I do not have any other choice.
			string_id message = new string_id (c_stringFile, "s_476");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How tough can they be?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_478");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 109);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do not fear danger.
	if (response == "s_492")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I never assumed that the likes of you would. That is why I think you will at least stand a chance in bringing my targets to justice as my stand in.  
			string_id message = new string_id (c_stringFile, "s_494");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_496");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope so. My targets are criminals that have eluded Imperial justice since the days of the Old Republic. The Emperor has been searching for them for a very long time, finally discovered a lead with these Velocity mercenaries, and sent me to deal with these criminals.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would the Emperor concern himself with criminals?
	if (response == "s_412")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let us just say that these are 'special' criminals who at one time threatened the Emperor. After this much time we finally have a chance to deal out justice on them and cannot allow them to escape again. Do you understand?
			string_id message = new string_id (c_stringFile, "s_414");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it they are to be killed?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that have to do with me taking on more responsibility?
	if (response == "s_470")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I will explain that shortly. Once we find them they must be killed. We think that they are attempting to build power, either to help the Rebellion or for their own reasons. That is why they have the Velocity working for them.
			string_id message = new string_id (c_stringFile, "s_472");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It must be expensive to pay for an entire mercenary outfit.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Wouldn't it make more sense to launch a full scale attack on them?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_420");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_460");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let us just say that these are 'special' criminals who at one time threatened the Emperor. After this much time we finally have a chance to deal out justice on them and cannot allow them to escape again. Do you understand?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it they are to be killed?
	if (response == "s_416")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, once we find them they must be killed. We think that they are attempting to build power, either to help the Rebellion or for their own reasons. That is why they have the Velocity working for them.
			string_id message = new string_id (c_stringFile, "s_418");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It must be expensive to pay for an entire mercenary outfit.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Wouldn't it make more sense to launch a full scale attack on them?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_420");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_460");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, once we find them they must be killed. We think that they are attempting to build power, either to help the Rebellion or for their own reasons. That is why they have the Velocity working for them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It must be expensive to pay for an entire mercenary outfit.
	if (response == "s_420")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I doubt if these particular people had any problems convincing the Velocity to work for them. They can be very persuasive when they need to be. I would be surprised if the Velocity is being paid, which is why they attack our supply freighters...in order to pay for their operations.
			string_id message = new string_id (c_stringFile, "s_422");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How many of these criminals are there?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wouldn't it make more sense to launch a full scale attack on them?
	if (response == "s_460")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The last thing we want to do is to make it readily known that these three have survived for so long. It would be nearly impossible to conduct a large scale operation without drawing unwanted attention, especially from the Rebellion. If the Rebellion got word of these three they would most certainly reach out and try to offer their support. As far as the rest of the galaxy is concerned these three died during the Clone Wars.
			string_id message = new string_id (c_stringFile, "s_462");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Clone Wars? What threat could these old criminals possibly be?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_464");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I doubt if these particular people had any problems convincing the Velocity to work for them. They can be very persuasive when they need to be. I would be surprised if the Velocity is being paid, which is why they attack our supply freighters...in order to pay for their operations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How many of these criminals are there?
	if (response == "s_424")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Three. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.
			string_id message = new string_id (c_stringFile, "s_426");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't understand. What do you mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Three. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't understand. What do you mean?
	if (response == "s_428")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you brought back told me everything. Those three used it to help leave the system after your operation started to put the heat on them. They sent the transmission, wiped all the databanks, boarded their fighters, and left the system.
			string_id message = new string_id (c_stringFile, "s_430");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where did they go?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Then what could you possibly learn from it?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What about the orders I recovered from the Velocity?
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The freighter you brought back told me everything. Those three used it to help leave the system after your operation started to put the heat on them. They sent the transmission, wiped all the databanks, boarded their fighters, and left the system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where did they go?
	if (response == "s_432")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: They have gone to the one place I cannot follow. They have gone to the Dathomir system.
			string_id message = new string_id (c_stringFile, "s_434");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why can you not follow them?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_436");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then what could you possibly learn from it?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The unseen sometimes can tell you far more than what is right in front of your eyes. You can learn to see things that others cannot with the proper training and lets just leave it at that. What I did learn was that our targets went to the one place I cannot follow...Dathomir.
			string_id message = new string_id (c_stringFile, "s_450");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why can you not follow them?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_436");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about the orders I recovered from the Velocity?
	if (response == "s_452")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, it would seem that those were not quite as important as I originally thought they would be. From what I understand of the code it simply told the Velocity to continue their operations in this system until they were told otherwise.
			string_id message = new string_id (c_stringFile, "s_454");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmmm...then where did the criminals go?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_456");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They have gone to the one place I cannot follow. They have gone to the Dathomir system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why can you not follow them?
	if (response == "s_436")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because it has been forbidden for me to follow them there. I do not know why I am not allowed to follow my prey, but I do not question those orders. It will be up to you to finish the job that was started so long ago.
			string_id message = new string_id (c_stringFile, "s_438");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do I do?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_440");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Because it has been forbidden for me to follow them there. I do not know why I am not allowed to follow my prey, but I do not question those orders. It will be up to you to finish the job that was started so long ago.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do?
	if (response == "s_440")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we need to make sure they have not taken shelter on the planets surface. I have arranged for a drop ship to send a scan team to the planets surface to begin a sweep of the surface. Of course, once that team is on the surface they will not be able to leave, but they don't know that and there is no reason to tell them.
			string_id message = new string_id (c_stringFile, "s_442");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Completely understood, Insurgent.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_444");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First, we need to make sure they have not taken shelter on the planets surface. I have arranged for a drop ship to send a scan team to the planets surface to begin a sweep of the surface. Of course, once that team is on the surface they will not be able to leave, but they don't know that and there is no reason to tell them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Completely understood, Insurgent.
	if (response == "s_444")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Once the team is searching the surface, you will begin searching space. I completely expect that they took a number of their Velocity lackies along with them. Find the Velocity and they will lead us to our targets. There is no where else they can run. Let's get this operation under way. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_446");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The unseen sometimes can tell you far more than what is right in front of your eyes. You can learn to see things that others cannot with the proper training and lets just leave it at that. What I did learn was that our targets went to the one place I cannot follow...Dathomir.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why can you not follow them?
	if (response == "s_436")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because it has been forbidden for me to follow them there. I do not know why I am not allowed to follow my prey, but I do not question those orders. It will be up to you to finish the job that was started so long ago.
			string_id message = new string_id (c_stringFile, "s_438");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do I do?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_440");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, it would seem that those were not quite as important as I originally thought they would be. From what I understand of the code it simply told the Velocity to continue their operations in this system until they were told otherwise.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmmm...then where did the criminals go?
	if (response == "s_456")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: They have gone to the one place I cannot follow. They have gone to the Dathomir system.
			string_id message = new string_id (c_stringFile, "s_458");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why can you not follow them?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_436");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They have gone to the one place I cannot follow. They have gone to the Dathomir system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why can you not follow them?
	if (response == "s_436")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Because it has been forbidden for me to follow them there. I do not know why I am not allowed to follow my prey, but I do not question those orders. It will be up to you to finish the job that was started so long ago.
			string_id message = new string_id (c_stringFile, "s_438");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do I do?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_440");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The last thing we want to do is to make it readily known that these three have survived for so long. It would be nearly impossible to conduct a large scale operation without drawing unwanted attention, especially from the Rebellion. If the Rebellion got word of these three they would most certainly reach out and try to offer their support. As far as the rest of the galaxy is concerned these three died during the Clone Wars.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Clone Wars? What threat could these old criminals possibly be?
	if (response == "s_464")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: So much more than you could possibly imagine. They have great knowledge and skill. What they might have lost with youth, I am sure they gained in experience. Do not discount them simply because of their age.
			string_id message = new string_id (c_stringFile, "s_466");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How many of these criminals are there?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_468");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So much more than you could possibly imagine. They have great knowledge and skill. What they might have lost with youth, I am sure they gained in experience. Do not discount them simply because of their age.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How many of these criminals are there?
	if (response == "s_468")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Three. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.
			string_id message = new string_id (c_stringFile, "s_426");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't understand. What do you mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will explain that shortly. Once we find them they must be killed. We think that they are attempting to build power, either to help the Rebellion or for their own reasons. That is why they have the Velocity working for them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It must be expensive to pay for an entire mercenary outfit.
	if (response == "s_420")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I doubt if these particular people had any problems convincing the Velocity to work for them. They can be very persuasive when they need to be. I would be surprised if the Velocity is being paid, which is why they attack our supply freighters...in order to pay for their operations.
			string_id message = new string_id (c_stringFile, "s_422");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How many of these criminals are there?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wouldn't it make more sense to launch a full scale attack on them?
	if (response == "s_460")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The last thing we want to do is to make it readily known that these three have survived for so long. It would be nearly impossible to conduct a large scale operation without drawing unwanted attention, especially from the Rebellion. If the Rebellion got word of these three they would most certainly reach out and try to offer their support. As far as the rest of the galaxy is concerned these three died during the Clone Wars.
			string_id message = new string_id (c_stringFile, "s_462");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Clone Wars? What threat could these old criminals possibly be?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_464");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 106);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have simply done what I told you to do in order to assist me in tracking down my targets. I never intended you to have to face them in combat, but it would seem that I do not have any other choice.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How tough can they be?
	if (response == "s_478")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: My targets have eluded Imperial justice since the days of the Old Republic. They are all veterans of the Clone Wars. The Emperor himself has declared that they are to be hunted down and killed in order to neutralize their threat. These are very dangerous men.
			string_id message = new string_id (c_stringFile, "s_480");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Impressive resume. This might actually be a challenge.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Clone wars? So our feared enemies are a bunch of old men?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_482");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_486");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 110);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My targets have eluded Imperial justice since the days of the Old Republic. They are all veterans of the Clone Wars. The Emperor himself has declared that they are to be hunted down and killed in order to neutralize their threat. These are very dangerous men.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Impressive resume. This might actually be a challenge.
	if (response == "s_482")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You could say that. There are three of them. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.
			string_id message = new string_id (c_stringFile, "s_484");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't understand. What do you mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Clone wars? So our feared enemies are a bunch of old men?
	if (response == "s_486")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: So much more than you could possibly imagine. They have great knowledge and skill. What they might have lost with youth, I am sure they gained in experience. Do not discount them simply because of their age.
			string_id message = new string_id (c_stringFile, "s_488");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How many of these criminals are there?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_490");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch111 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You could say that. There are three of them. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't understand. What do you mean?
	if (response == "s_428")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter you brought back told me everything. Those three used it to help leave the system after your operation started to put the heat on them. They sent the transmission, wiped all the databanks, boarded their fighters, and left the system.
			string_id message = new string_id (c_stringFile, "s_430");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where did they go?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Then what could you possibly learn from it?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: What about the orders I recovered from the Velocity?
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So much more than you could possibly imagine. They have great knowledge and skill. What they might have lost with youth, I am sure they gained in experience. Do not discount them simply because of their age.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How many of these criminals are there?
	if (response == "s_490")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Three. Nej'a Bertolo, Onli Shi'en, and Tiberus Anderlock. Every one a very dangerous individual. They were my targets and now they are yours. You are going to have to be the one to finally bring about their demise.
			string_id message = new string_id (c_stringFile, "s_426");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't understand. What do you mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I never assumed that the likes of you would. That is why I think you will at least stand a chance in bringing my targets to justice as my stand in.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are your targets?
	if (response == "s_496")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: My targets are criminals that have eluded Imperial justice since the days of the Old Republic. The Emperor has been searching for them for a very long time, finally discovered a lead with these Velocity mercenaries, and sent me to deal with these criminals.
			string_id message = new string_id (c_stringFile, "s_498");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Emperor concern himself with criminals?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does that have to do with me taking on more responsibility?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_412");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My targets are criminals that have eluded Imperial justice since the days of the Old Republic. The Emperor has been searching for them for a very long time, finally discovered a lead with these Velocity mercenaries, and sent me to deal with these criminals.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would the Emperor concern himself with criminals?
	if (response == "s_412")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Let us just say that these are 'special' criminals who at one time threatened the Emperor. After this much time we finally have a chance to deal out justice on them and cannot allow them to escape again. Do you understand?
			string_id message = new string_id (c_stringFile, "s_414");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it they are to be killed?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that have to do with me taking on more responsibility?
	if (response == "s_470")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I will explain that shortly. Once we find them they must be killed. We think that they are attempting to build power, either to help the Rebellion or for their own reasons. That is why they have the Velocity working for them.
			string_id message = new string_id (c_stringFile, "s_472");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It must be expensive to pay for an entire mercenary outfit.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Wouldn't it make more sense to launch a full scale attack on them?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_420");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_460");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch115 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission Two. 
	//-- NPC: Very good. And now I have another little job that I want taken care of. My instincts about searching the area that the transmission originated from have paid off.

	//-- [RESPONSE NOTE] this is the "jump into mission" track
	//-- PLAYER: What did you find, Insurgent?
	if (response == "s_502")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: It took me a little while but I managed to find the source of the transmission. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.
			string_id message = new string_id (c_stringFile, "s_504");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are on the freighter?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Do you want me to retrieve the vessel?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_506");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_514");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 116);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] This begins a discussion about jedi that will continue for the course of the tier
	//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
	if (response == "s_518")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Yes, it is. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.
			string_id message = new string_id (c_stringFile, "s_520");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do you know that?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_522");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will crush our enemies.
	if (response == "s_546")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: All in good time. Right now I have a job that may not require any crushing of anyone. Of course, that is a best case scenario and when has anything gone according to that?
			string_id message = new string_id (c_stringFile, "s_548");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you require of me?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_550");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 127);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It took me a little while but I managed to find the source of the transmission. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are on the freighter?
	if (response == "s_506")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. They evacuated the vessel for parts unknown before the message was sent. I am highly surprised that the Velocity did not destroy the freighter, or perhaps they just haven't gotten around to it yet. You must get me that freighter.
			string_id message = new string_id (c_stringFile, "s_508");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood, Insurgent. I will retrieve their freighter in one piece.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_510");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you want me to retrieve the vessel?
	if (response == "s_514")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Yes. The vessel is unmanned, but I think it may still contain what I am looking for. Be warned that the vessel probably has automatic defenses, but since it is just a freighter I doubt they will be any issue for you. Keep your eyes open though:  If the Velocity meant to destroy the ship and haven't yet, your taking it will draw them out in a hurry. Good luck, pilot.
			string_id message = new string_id (c_stringFile, "s_516");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. They evacuated the vessel for parts unknown before the message was sent. I am highly surprised that the Velocity did not destroy the freighter, or perhaps they just haven't gotten around to it yet. You must get me that freighter.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, Insurgent. I will retrieve their freighter in one piece.
	if (response == "s_510")
	{
		//-- [NOTE] come back with specific race - check with a Star Wars master 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Be warned that the vessel probably has automatic defenses but since it is just a freighter I doubt they will be any issue for you. Keep your eyes open though, if the Velocity meant to destroy the ship and haven't yet, your taking it will draw them out in a hurry. Good luck, pilot.
			string_id message = new string_id (c_stringFile, "s_512");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch120 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, it is. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do you know that?
	if (response == "s_522")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I have my...sources. But you can rest assured that the vessel is currently on autopilot and should be an easy target. It probably will have auto defenses on but for a skilled pilot like yourself those should be nothing. I would like to examine that freighter and see if it contains any clues about my targets whereabouts.
			string_id message = new string_id (c_stringFile, "s_524");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: This will not take me very long.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Your sources? What does that mean?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_526");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_534");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have my...sources. But you can rest assured that the vessel is currently on autopilot and should be an easy target. It probably will have auto defenses on but for a skilled pilot like yourself those should be nothing. I would like to examine that freighter and see if it contains any clues about my targets whereabouts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This will not take me very long.
	if (response == "s_526")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I didn't assume that it would. One last thing though. I am surprised that the Velocity have not destroyed the vessel, although it is possible that they just haven't gotten around to it yet. I would guess that if their intention was to destroy the ship they will come swarming once you take it.
			string_id message = new string_id (c_stringFile, "s_528");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Or it could be a trap.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_530");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Your sources? What does that mean?
	if (response == "s_534")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: What makes you think that I would share any of my secrets with you? We are not friends. You are a tool and I will use you in any way that I see fit. A craftsman does not explain what he is doing to his wrench, does he? Be thankful for what I do tell you.
			string_id message = new string_id (c_stringFile, "s_536");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You really haven't told me anything.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Fine. If that is the way it is.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_538");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_542");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I didn't assume that it would. One last thing though. I am surprised that the Velocity have not destroyed the vessel, although it is possible that they just haven't gotten around to it yet. I would guess that if their intention was to destroy the ship they will come swarming once you take it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Or it could be a trap.
	if (response == "s_530")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: That is a risk I am willing to let you take. One way or the other get me that freighter. Show me the vaunted skill you are constantly claiming your possess. Good luck to you, %NU.
			string_id message = new string_id (c_stringFile, "s_532");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch124 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What makes you think that I would share any of my secrets with you? We are not friends. You are a tool and I will use you in any way that I see fit. A craftsman does not explain what he is doing to his wrench, does he? Be thankful for what I do tell you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You really haven't told me anything.
	if (response == "s_538")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: You are catching on, good. Now no more talk. Go get me that freighter and bring it back to me. I have wasted more than enough of my time dealing with your ego. I really hope that you don't run into any unforeseen problems out there. Go!
			string_id message = new string_id (c_stringFile, "s_540");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. If that is the way it is.
	if (response == "s_542")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: That is the way it is. I suggest you show some caution when recovering that freighter. I am surprised that the Velocity have not destroyed it already but I would imagine that you taking it will cause them some distress. Make sure that you get that freighter back to me intact. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_544");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch127 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All in good time. Right now I have a job that may not require any crushing of anyone. Of course, that is a best case scenario and when has anything gone according to that?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you require of me?
	if (response == "s_550")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It took me a little while but I managed to find the source of the transmission. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal. I require that freighter.
			string_id message = new string_id (c_stringFile, "s_552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then it shall be yours.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Whose authority?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_554");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_562");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch128 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It took me a little while but I managed to find the source of the transmission. There is a freighter that appears to be on autopilot flying on the outskirts of the system that sent the signal. I have it on very good authority that my targets were on board that vessel shortly before it sent the signal. I require that freighter.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then it shall be yours.
	if (response == "s_554")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The freighter's passengers left shortly before the transmission was sent and I must admit I am surprised that freighter has not been destroyed. Perhaps the Velocity are being slack in their duty, or perhaps it is a trap. Either way I care not. You are to recover that freighter for me.
			string_id message = new string_id (c_stringFile, "s_556");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, Lord Insurgent. I will not fail you.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_558");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 129);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Whose authority?
	if (response == "s_562")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have spoken with the Emperor and he has told me many things about those I seek. It is on his command that you are to capture and protect this freighter so I can investigate it.
			string_id message = new string_id (c_stringFile, "s_564");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then it shall be done.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_566");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch129 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The freighter's passengers left shortly before the transmission was sent and I must admit I am surprised that freighter has not been destroyed. Perhaps the Velocity are being slack in their duty, or perhaps it is a trap. Either way I care not. You are to recover that freighter for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, Lord Insurgent. I will not fail you.
	if (response == "s_558")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: I have the feeling that you will do just fine. The Emperor's blessing be on you, %NU.
			string_id message = new string_id (c_stringFile, "s_560");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch131 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have spoken with the Emperor and he has told me many things about those I seek. It is on his command that you are to capture and protect this freighter so I can investigate it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then it shall be done.
	if (response == "s_566")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Be wary, %NU. I am surprised that the Velocity have not already destroyed this freighter. I think that when you capture the vessel they will attack in force. But that shouldn't be anything you cannot handle. The Emperor's bless be on you.
			string_id message = new string_id (c_stringFile, "s_568");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch133 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Now go do Mission One. 
	//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings, but I must be certain before I act.

	//-- [RESPONSE NOTE] this is the blunt "get right into the mission" branch
	//-- PLAYER: Ready and willing, sir.
	if (response == "s_572")
	{
		//-- [NOTE] this branch jumps quickly into mission
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I thought I told you to simply refer to me as Insurgent! I cannot use someone who is incapable of even obeying the simplest of orders.
			string_id message = new string_id (c_stringFile, "s_574");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, Insurgent. Force of habit.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_576");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 134);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
	if (response == "s_600")
	{
		//-- [NOTE] more of the story here
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: If you say so. But I would suggest that you not start counting your victory quite yet. If this was an easy operation, I would not be involved.
			string_id message = new string_id (c_stringFile, "s_602");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what am I am going to be doing?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_604");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, yes. I am even more deadly than before!
	if (response == "s_626")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed. And the time is at hand for you to prove just how deadly you can be. I want to know as much as we can about the Velocity mercenary operation in this system. More than anything, I want to know who hired them.
			string_id message = new string_id (c_stringFile, "s_628");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can capture one and we can 'question' him together.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is your command, my lord?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_630");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_642");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 147);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] this branch jumps quickly into mission
	//-- NPC: I thought I told you to simply refer to me as Insurgent! I cannot use someone who is incapable of even obeying the simplest of orders.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, Insurgent. Force of habit.
	if (response == "s_576")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Must be a military thing. Usually, members of Black Epsilon are not quite so rigid, which is why I like using them. Despite that, I still believe you will do. Now back to the matter at hand. We need to find out more about the Velocity. I want to know everything I can about their operations in this system, especially who they are working for.
			string_id message = new string_id (c_stringFile, "s_578");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How should I proceed?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can handle that.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_580");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_588");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 135);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch135 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. Must be a military thing. Usually, members of Black Epsilon are not quite so rigid, which is why I like using them. Despite that, I still believe you will do. Now back to the matter at hand. We need to find out more about the Velocity. I want to know everything I can about their operations in this system, especially who they are working for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How should I proceed?
	if (response == "s_580")
	{
		//-- [NOTE] - WIDE open.
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol, you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will have valuable information that will allow us to dig deeper into uncovering who they are working for.
			string_id message = new string_id (c_stringFile, "s_582");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why are you so interested in who hired these mercenaries?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_584");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 136);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can handle that.
	if (response == "s_588")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: And how do you expect to find this officer? Just fly up into space and hope that one is waiting for you? You are eager enough but you should think before you speak up.
			string_id message = new string_id (c_stringFile, "s_590");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, Insurgent. So how will I find this officer?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_592");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 138);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch136 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] - WIDE open.
	//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol, you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will have valuable information that will allow us to dig deeper into uncovering who they are working for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why are you so interested in who hired these mercenaries?
	if (response == "s_584")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I suggest you simply focus on finding me any information that an officer can produce. If you pay attention, I am sure all will be revealed in time. Now you had best get on with my patrol. I am not well known for my patience.
			string_id message = new string_id (c_stringFile, "s_586");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch138 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And how do you expect to find this officer? Just fly up into space and hope that one is waiting for you? You are eager enough but you should think before you speak up.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, Insurgent. So how will I find this officer?
	if (response == "s_592")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Glad you asked! I have formulated a patrol based on the Velocity fighter movements that I believe will take you close enough to recognize a Velocity officer's vessel with short-range scanning. Follow the patrol route and find me an officer.
			string_id message = new string_id (c_stringFile, "s_594");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should I do if I locate the officer?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_596");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 139);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch139 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad you asked! I have formulated a patrol based on the Velocity fighter movements that I believe will take you close enough to recognize a Velocity officer's vessel with short-range scanning. Follow the patrol route and find me an officer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What should I do if I locate the officer?
	if (response == "s_596")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: You mean, WHEN you locate the officer. Naturally, I want you to inspect the officer for any information that we can use to help us track down the people who hired the mercenaries. I could care less about the Velocity...I just want the ones who hired them. Now get on with your patrol. I am not known to be a patient man.
			string_id message = new string_id (c_stringFile, "s_598");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch141 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] more of the story here
	//-- NPC: If you say so. But I would suggest that you not start counting your victory quite yet. If this was an easy operation, I would not be involved.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what am I am going to be doing?
	if (response == "s_604")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I need to find out more about the Velocity and more specifically who hired them. As I said before, I have a good idea as to who their benefactor is, but I have never liked following hunches. You are going to get that information for me.
			string_id message = new string_id (c_stringFile, "s_606");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No problem. Just point in the right direction.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Should I just go out there and ask them or do you actually have a plan?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_608");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_620");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 142);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch142 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need to find out more about the Velocity and more specifically who hired them. As I said before, I have a good idea as to who their benefactor is, but I have never liked following hunches. You are going to get that information for me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No problem. Just point in the right direction.
	if (response == "s_608")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will contain valuable information that will allow us to dig deeper into uncovering who they are working for.
			string_id message = new string_id (c_stringFile, "s_610");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is it you are actually looking for?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: An officer. Check.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_612");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_616");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 143);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Should I just go out there and ask them or do you actually have a plan?
	if (response == "s_620")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Just because I might be lax on the discipline does not mean that I will tolerate any lip from the likes of you. I suggest you do your best to stay in my good graces. 
			string_id message = new string_id (c_stringFile, "s_622");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmm, well what is it you want me to do?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_624");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 146);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch143 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will contain valuable information that will allow us to dig deeper into uncovering who they are working for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is it you are actually looking for?
	if (response == "s_612")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Again with a question whose answer you are not ready for. I suggest you simply focus on finding me any information that an officer can produce. If you pay attention, I am sure all will be revealed in time. Now you had best get on with my patrol. I am not well known for my patience.
			string_id message = new string_id (c_stringFile, "s_614");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: An officer. Check.
	if (response == "s_616")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: Once you locate the officer, search his vessel for any information that will progress my investigation forward. Now, get on with that patrol. I am not well known for my patience.
			string_id message = new string_id (c_stringFile, "s_618");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch146 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Just because I might be lax on the discipline does not mean that I will tolerate any lip from the likes of you. I suggest you do your best to stay in my good graces. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm, well what is it you want me to do?
	if (response == "s_624")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will contain valuable information that will allow us to dig deeper into uncovering who they are working for.
			string_id message = new string_id (c_stringFile, "s_610");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is it you are actually looking for?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: An officer. Check.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_612");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_616");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 143);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch147 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed. And the time is at hand for you to prove just how deadly you can be. I want to know as much as we can about the Velocity mercenary operation in this system. More than anything, I want to know who hired them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can capture one and we can 'question' him together.
	if (response == "s_630")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Your zeal is much appreciated but if everything goes according to my plan we will not have to get our hands dirty in that fashion. All you need to do is to follow a patrol route that I have formulated based off of the mercenary movements and use short range scans to locate a Velocity officer.
			string_id message = new string_id (c_stringFile, "s_632");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It would be better if we had a live captive.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_634");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 148);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is your command, my lord?
	if (response == "s_642")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will contain valuable information that will allow us to dig deeper into uncovering who they are working for.
			string_id message = new string_id (c_stringFile, "s_644");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If it is the Emperor's will, than I shall do so.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_646");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch148 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your zeal is much appreciated but if everything goes according to my plan we will not have to get our hands dirty in that fashion. All you need to do is to follow a patrol route that I have formulated based off of the mercenary movements and use short range scans to locate a Velocity officer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It would be better if we had a live captive.
	if (response == "s_634")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Try not to be disappointed. We are going to be doing the Emperor's bidding, after all. Once you have located the Velocity officer, inspect the vessel for anything that might be used to further my investigation.
			string_id message = new string_id (c_stringFile, "s_636");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't see where the fun in that is but if it is as the Emperor will...
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_638");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 149);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch149 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Try not to be disappointed. We are going to be doing the Emperor's bidding, after all. Once you have located the Velocity officer, inspect the vessel for anything that might be used to further my investigation.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't see where the fun in that is but if it is as the Emperor will...
	if (response == "s_638")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: It is. Now get on with the patrol. I am in a hurry to get this information and I have never been well known for patience.
			string_id message = new string_id (c_stringFile, "s_640");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch151 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have formulated a patrol route that I need you to follow. While on this patrol you will scan the region for signs of a Velocity officer's vessel. I am hoping that an officer will contain valuable information that will allow us to dig deeper into uncovering who they are working for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If it is the Emperor's will, than I shall do so.
	if (response == "s_646")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantMissionOne (player, npc);

			//-- NPC: It is. Now get on with the patrol. I am in a hurry to get this information and I have never been well known for patience.
			string_id message = new string_id (c_stringFile, "s_648");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch153 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe you are now ready for heavy starship component training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to learn.
	if (response == "s_370")
	{
		corellia_imperial_tier4_action_grantWeaponSkill (player, npc);

		//-- [NOTE] Now go do Mission Four
		if (corellia_imperial_tier4_condition_hasWonMissionThree (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now back to business. We have Neja' Bertolo! Those orders you brought back to me have finally been decoded and they have Nej'a all over them. He also made a most fatal flaw of placing his coordinates in those orders. Apparently he wanted his men to be able to reach him if he was needed.
			string_id message = new string_id (c_stringFile, "s_376");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Doesn't sound like he is all that smart.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The enemy of the Emperor must be destroyed!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (corellia_imperial_tier4_condition_hasWonMissionTwo (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Good, but now I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.
			string_id message = new string_id (c_stringFile, "s_394");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two. 
		if (corellia_imperial_tier4_condition_hasWonMissionOne (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Very good. And now I have another little job that I want taken care of. My instincts about searching the area that the transmission originated from have paid off.
			string_id message = new string_id (c_stringFile, "s_500");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find, Insurgent?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will crush our enemies.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_502");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_518");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_546");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One. 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings, but I must be certain before I act.
			string_id message = new string_id (c_stringFile, "s_570");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready and willing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ah, yes. I am even more deadly than before!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_600");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_626");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch154 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe you are now ready for elite TIE guard training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to learn.
	if (response == "s_372")
	{
		corellia_imperial_tier4_action_grantProcedureSkill (player, npc);

		//-- [NOTE] Now go do Mission Four
		if (corellia_imperial_tier4_condition_hasWonMissionThree (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now back to business. We have Neja' Bertolo! Those orders you brought back to me have finally been decoded and they have Nej'a all over them. He also made a most fatal flaw of placing his coordinates in those orders. Apparently he wanted his men to be able to reach him if he was needed.
			string_id message = new string_id (c_stringFile, "s_376");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Doesn't sound like he is all that smart.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The enemy of the Emperor must be destroyed!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (corellia_imperial_tier4_condition_hasWonMissionTwo (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Good, but now I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.
			string_id message = new string_id (c_stringFile, "s_394");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two. 
		if (corellia_imperial_tier4_condition_hasWonMissionOne (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Very good. And now I have another little job that I want taken care of. My instincts about searching the area that the transmission originated from have paid off.
			string_id message = new string_id (c_stringFile, "s_500");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find, Insurgent?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will crush our enemies.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_502");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_518");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_546");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One. 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings, but I must be certain before I act.
			string_id message = new string_id (c_stringFile, "s_570");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready and willing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ah, yes. I am even more deadly than before!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_600");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_626");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch155 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I believe you are now ready for droid intelligence theory training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to learn.
	if (response == "s_374")
	{
		corellia_imperial_tier4_action_grantDroidSkill (player, npc);

		//-- [NOTE] Now go do Mission Four
		if (corellia_imperial_tier4_condition_hasWonMissionThree (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now back to business. We have Neja' Bertolo! Those orders you brought back to me have finally been decoded and they have Nej'a all over them. He also made a most fatal flaw of placing his coordinates in those orders. Apparently he wanted his men to be able to reach him if he was needed.
			string_id message = new string_id (c_stringFile, "s_376");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: When do I leave?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Doesn't sound like he is all that smart.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The enemy of the Emperor must be destroyed!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_378");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Three.
		if (corellia_imperial_tier4_condition_hasWonMissionTwo (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Good, but now I have need of your abilities yet again. It would seem that you are now even more important to this operation than ever before.
			string_id message = new string_id (c_stringFile, "s_394");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that mean?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission Two. 
		if (corellia_imperial_tier4_condition_hasWonMissionOne (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Very good. And now I have another little job that I want taken care of. My instincts about searching the area that the transmission originated from have paid off.
			string_id message = new string_id (c_stringFile, "s_500");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did you find, Insurgent?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Excellent. I take it that it is time for me to do my thing?
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I will crush our enemies.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_502");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_518");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_546");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] Now go do Mission One. 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_setReadyForMission (player, npc);

			//-- NPC: Now it is time to put your training to good use. The time has come for us to find out more about who these Velocity mercenaries are. I have my suspicious about who is pulling their strings, but I must be certain before I act.
			string_id message = new string_id (c_stringFile, "s_570");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ready and willing, sir.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Now that I have more training, I am pretty sure I am unstoppable.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Ah, yes. I am even more deadly than before!
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_572");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_600");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_626");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch156 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've been expecting you. And you are late. There is much to be done. Are you ready?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course.
	if (response == "s_52917b0d")
	{
		corellia_imperial_tier4_action_setMetMe (player, npc);

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.
			string_id message = new string_id (c_stringFile, "s_b3155267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your ultimate targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ecc8830");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch157 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	//-- NPC: You have great potential, but you still have much to learn before I can make use of your talents. I have a few odd jobs that I need taken care of. If you wish I can give you one of these duty missions. Or would you like to hear the briefing again?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
	if (response == "s_99bb69ca")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. You're clear to leave.
			string_id message = new string_id (c_stringFile, "s_1c6fdb34");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I can escort those ships, no problem.
	if (response == "s_4349156c")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: The Empire does a lot of good in this system. It provides work for people who need it. It's important that the equilibrium not be disturbed. Take good care of those freighters.
			string_id message = new string_id (c_stringFile, "s_828612f");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I hate smugglers. I'll take that job.
	if (response == "s_b881db2e")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: I'm curious about this smuggler. See what you can find out. Let me know what he's carrying.
			string_id message = new string_id (c_stringFile, "s_65da4fa5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: Sure. I'll get those ships.
	if (response == "s_98338b18")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: It's good work. The Emperor will appreciate your efforts.
			string_id message = new string_id (c_stringFile, "s_b456d97d");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.
			string_id message = new string_id (c_stringFile, "s_b3155267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your ultimate targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ecc8830");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch162 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are your ultimate targets?
	if (response == "s_4ecc8830")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: All in good time. You are not quite ready for that challenge yet. The next task would be protecting the interests of the Emperor in this system. The Velocity mercenaries have been attacking Imperial military freighters, most likely in order to increase their own combat capability. We need escorts to protect our freighters from these attacks.
			string_id message = new string_id (c_stringFile, "s_5e4d41df");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3f68df7d");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 163);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch163 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All in good time. You are not quite ready for that challenge yet. The next task would be protecting the interests of the Emperor in this system. The Velocity mercenaries have been attacking Imperial military freighters, most likely in order to increase their own combat capability. We need escorts to protect our freighters from these attacks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough.
	if (response == "s_3f68df7d")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. Another task that has need for a good pilot is to cull the smuggling aspects of the Velocity mercenaries. It would seem that they are moving the supplies stolen from us to other systems. We need someone to break their supply lines and capture the vessels carrying these goods. The Empire wants its property back.
			string_id message = new string_id (c_stringFile, "s_34120baf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Anything else?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362a48e0");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 164);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch164 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. Another task that has need for a good pilot is to cull the smuggling aspects of the Velocity mercenaries. It would seem that they are moving the supplies stolen from us to other systems. We need someone to break their supply lines and capture the vessels carrying these goods. The Empire wants its property back.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Anything else?
	if (response == "s_362a48e0")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Velocity mercenaries have been targeting Imperial ships, as you know. They've left several ships adrift most likely to be picked up at a later time. We need a pilot to meet those ships, assist with repairs, and bring those valuable craft safely back to Imperial hands.
			string_id message = new string_id (c_stringFile, "s_8fd1ce47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand. I would like to take a duty mission.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't think I will take a duty mission at this time.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6b9c2fb8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d26d7ae1");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 165);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch165 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Velocity mercenaries have been targeting Imperial ships, as you know. They've left several ships adrift most likely to be picked up at a later time. We need a pilot to meet those ships, assist with repairs, and bring those valuable craft safely back to Imperial hands.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand. I would like to take a duty mission.
	if (response == "s_6b9c2fb8")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: What duty mission would you like to undertake?
			string_id message = new string_id (c_stringFile, "s_beb66be");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can escort those ships, no problem.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I hate smugglers. I'll take that job.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Sure. I'll get those ships.
			boolean hasResponse3 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Can I hear the briefing again?
			boolean hasResponse4 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99bb69ca");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4349156c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b881db2e");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98338b18");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 157);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I will take a duty mission at this time.
	if (response == "s_d26d7ae1")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well, come back to me if you decide differently.
			string_id message = new string_id (c_stringFile, "s_9caa883f");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch166 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What duty mission would you like to undertake?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
	if (response == "s_99bb69ca")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. You're clear to leave.
			string_id message = new string_id (c_stringFile, "s_1c6fdb34");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I can escort those ships, no problem.
	if (response == "s_4349156c")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: The Empire does a lot of good in this system. It provides work for people who need it. It's important that the equilibrium not be disturbed. Take good care of those freighters.
			string_id message = new string_id (c_stringFile, "s_828612f");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I hate smugglers. I'll take that job.
	if (response == "s_b881db2e")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: I'm curious about this smuggler. See what you can find out. Let me know what he's carrying.
			string_id message = new string_id (c_stringFile, "s_65da4fa5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: Sure. I'll get those ships.
	if (response == "s_98338b18")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: It's good work. The Emperor will appreciate your efforts.
			string_id message = new string_id (c_stringFile, "s_b456d97d");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.
			string_id message = new string_id (c_stringFile, "s_b3155267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your ultimate targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ecc8830");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch168 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So, you seem to have made a fan. I can tell by your look that you do not have any idea what I am talking about. I have just received orders from High Command that you are being transferred.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Transferred? Who am I being transferred to this time?
	if (response == "s_6d9530c5")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have been ordered to have you moved under Nial Declann's command. I am not very used to taking orders from one quite so low but since I am through with you I see no reason to fight him on this. You are to report to Theed palace and present yourself to Nial immediately.
			string_id message = new string_id (c_stringFile, "s_c610ccb7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is Nial Declann?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Nial Declann? Grand Admiral Nial Declann!
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_817cf33");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4b6d4db");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 169);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch169 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have been ordered to have you moved under Nial Declann's command. I am not very used to taking orders from one quite so low but since I am through with you I see no reason to fight him on this. You are to report to Theed palace and present yourself to Nial immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Nial Declann?
	if (response == "s_817cf33")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would highly suggest that you only refer to him as Grand Admiral or better yet...sir. He is one of twelve top navy men in the entire galaxy and a definite favorite of the Emperor, though I have never quite figured out why...perhaps one day. Regardless, I have accepted his transfer and suggest you get to Theed in a hurry.
			string_id message = new string_id (c_stringFile, "s_fde2347a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do so. Thank you for allowing me to assist you in your assignment.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9ec3be5d");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 170);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nial Declann? Grand Admiral Nial Declann!
	if (response == "s_4b6d4db")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: One and the same. One of the original members of the twelve Grand Admirals of the Imperial Fleet, member of the High Council, and personal favorite to the Empire. Overall a very unpleasant man. But it is never wise to make enemies when one can avoid it, which is why you are going to report to him immediately.
			string_id message = new string_id (c_stringFile, "s_d2794755");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You have the authority to choose to obey a Grand Admiral? Insurgent, who are you?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_11c1ca52");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 172);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch170 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would highly suggest that you only refer to him as Grand Admiral or better yet...sir. He is one of twelve top navy men in the entire galaxy and a definite favorite of the Emperor, though I have never quite figured out why...perhaps one day. Regardless, I have accepted his transfer and suggest you get to Theed in a hurry.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do so. Thank you for allowing me to assist you in your assignment.
	if (response == "s_9ec3be5d")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_transferToMaster (player, npc);

			//-- NPC: It is I who thank you. It is very rare to meet a competent pilot who can think for themselves. I wish you the best with your new assignment.
			string_id message = new string_id (c_stringFile, "s_94a6034a");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch172 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One and the same. One of the original members of the twelve Grand Admirals of the Imperial Fleet, member of the High Council, and personal favorite to the Empire. Overall a very unpleasant man. But it is never wise to make enemies when one can avoid it, which is why you are going to report to him immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You have the authority to choose to obey a Grand Admiral? Insurgent, who are you?
	if (response == "s_11c1ca52")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_transferToMaster (player, npc);

			//-- NPC: Having the authority to ignore a Grand Admiral's order is very different than actually using that authority. Just because someone can do something doesn't always mean that they should. I am Insurgent and I am but a humble servant of the Emperor. Now, I suggest you do not keep the Nial waiting. While I might be able to get away with it you most certainly cannot.
			string_id message = new string_id (c_stringFile, "s_69231042");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch174 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you haven't been to see Admiral Declann yet, you had best get going. He is in the Theed Palace.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am on my way now.
	if (response == "s_338")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Yes, you had best get going pilot.
			string_id message = new string_id (c_stringFile, "s_340");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually I was looking for more work.
	if (response == "s_342")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I appreciate the work you have done for me in the past but really have nothing more for you to do. Unless you would be interested in some duties that I still need help with.
			string_id message = new string_id (c_stringFile, "s_344");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can escort those ships, no problem.
			boolean hasResponse1 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I hate smugglers. I'll take that job.
			boolean hasResponse2 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Sure. I'll get those ships.
			boolean hasResponse3 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Can I hear the briefing again?
			boolean hasResponse4 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99bb69ca");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4349156c");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b881db2e");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98338b18");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 157);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int corellia_imperial_tier4_handleBranch176 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I appreciate the work you have done for me in the past but really have nothing more for you to do. Unless you would be interested in some duties that I still need help with.

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
	if (response == "s_99bb69ca")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent. You're clear to leave.
			string_id message = new string_id (c_stringFile, "s_1c6fdb34");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I can escort those ships, no problem.
	if (response == "s_4349156c")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: The Empire does a lot of good in this system. It provides work for people who need it. It's important that the equilibrium not be disturbed. Take good care of those freighters.
			string_id message = new string_id (c_stringFile, "s_828612f");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: I hate smugglers. I'll take that job.
	if (response == "s_b881db2e")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: I'm curious about this smuggler. See what you can find out. Let me know what he's carrying.
			string_id message = new string_id (c_stringFile, "s_65da4fa5");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: Sure. I'll get those ships.
	if (response == "s_98338b18")
	{
		//-- [NOTE] Get to work
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			corellia_imperial_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: It's good work. The Emperor will appreciate your efforts.
			string_id message = new string_id (c_stringFile, "s_b456d97d");
			utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: A new group of mercenaries, calling themselves the Velocity, have moved into the Dantooine system. I have reason to believe that they are connected to my ultimate targets but more investigation will be needed in order to confirm that suspicion. But for now I need someone to start reducing the numbers of these Velocity mercenaries to a more manageable level.
			string_id message = new string_id (c_stringFile, "s_b3155267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who are your ultimate targets?
			boolean hasResponse0 = false;
			if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4ecc8830");

				utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 162);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.corellia_imperial_tier4");

	setCondition (self, CONDITION_CONVERSABLE);
	setName( self, "Insurgent");
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setName( self, "Insurgent");
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.corellia_imperial_tier4");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!corellia_imperial_tier4_condition_isPilot (player, npc))
	{
		//-- NPC: I don't have time to deal with you right now. How about you come back when you actually know how to pilot a ship? Of course, I probably won't talk to you then either...but it would be a start.
		string_id message = new string_id (c_stringFile, "s_362907ef");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're the wrong faction.
	if (corellia_imperial_tier4_condition_isWrongFaction (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: You really don't have any business here or with me. Since you don't belong here, why don't you just move along quietly?
		string_id message = new string_id (c_stringFile, "s_9ed0c023");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier4_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		//-- NPC: Get lost, %TU.  I don't want to be seen talking to you.  Before you know it, people will think that I am a traitor, too.
		string_id message = new string_id (c_stringFile, "s_b66c783f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Traitor?!
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_61ee3818");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 3);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!corellia_imperial_tier4_condition_onMyTrack (player, npc))
	{
		//-- NPC: You're a long way from home, pilot. Why have you come?
		string_id message = new string_id (c_stringFile, "s_253224d8");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I would like to request a mission.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4854758d");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 6);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're not through tier-3 yet
	if (!corellia_imperial_tier4_condition_hasCompletedTier3 (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: I do have need for a skilled pilot but I have no interest in babysitting. I would suggest that you go work on your skills a bit more and maybe you will hear from me.
		string_id message = new string_id (c_stringFile, "s_2934bbe1");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're busy.  Already doing a mission.  Hup hup, go do it.
	if (corellia_imperial_tier4_condition_isOnMission (player, npc))
	{
		//-- NPC: Shouldn't you be out on assignment? I have no use for someone who cannot finish what they start.
		string_id message = new string_id (c_stringFile, "s_520cdd79");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 1, do it over.
	if (corellia_imperial_tier4_condition_faliedMissionOne (player, npc))
	{
		//-- NPC: Are you having any luck?
		string_id message = new string_id (c_stringFile, "s_d832aba0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm afraid not.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm still in pursuit.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b4712f35");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_828cdbfa");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 11);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 2, do it over.
	if (corellia_imperial_tier4_condition_failedMissionTwo (player, npc))
	{
		//-- NPC: Your mission's not yet complete.
		string_id message = new string_id (c_stringFile, "s_b94e3a35");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I know.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's been difficult.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_87d7e908");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_40d40fc4");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 16);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 3, do it over.
	if (corellia_imperial_tier4_condition_failedMissionThree (player, npc))
	{
		//-- NPC: They're quite good, aren't they?
		string_id message = new string_id (c_stringFile, "s_1d658537");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've never seen mercenaries that good!
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Too good, if you ask me.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c4c33621");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_50b309d4");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 21);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 4, do it over.
	if (corellia_imperial_tier4_condition_failedMissionFour (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: Listen to me. Our targets must be stopped. They are our greatest enemy! They have the potential to be a major thorn in the side of the Empire unless we take care of them now.
		string_id message = new string_id (c_stringFile, "s_dcdce64");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I know.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's brutal up there.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4af031d3");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 28);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission one and so here is your reward.
	if (corellia_imperial_tier4_condition_isGettingMissionOneReward (player, npc))
	{
		corellia_imperial_tier4_action_rewardForMissionOne (player, npc);

		//-- NPC: Good work, %NU. You managed to gather me some information that might turn out to be very important. I believe that this will lead us on the right direction.
		string_id message = new string_id (c_stringFile, "s_e705e25f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What was in the message?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fd6077a1");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 34);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission two and so here is your reward.
	if (corellia_imperial_tier4_condition_isGettingMissionTwoReward (player, npc))
	{
		corellia_imperial_tier4_action_rewardForMissionTwo (player, npc);

		//-- NPC: Welcome back. We have the orders you retrieved from the Velocity in our possession and I will be investigating the freighter shortly. So far, you have performed better than I expected you to be able to.
		string_id message = new string_id (c_stringFile, "s_f8880079");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Just doing my job.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I can do better.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: With the Emperor's blessing, I am unstoppable.
		boolean hasResponse2 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dcc126b1");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f83729d0");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6d6d19f4");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 44);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission three and so here is your reward.
	if (corellia_imperial_tier4_condition_isGettingMissionThreeReward (player, npc))
	{
		corellia_imperial_tier4_action_rewardForMissionThree (player, npc);

		//-- NPC: That pretty much confirms my suspicion. The Velocity are in the Dathomir system, which means the targets are as well. We will get those orders you recovered decoded and see if they lead us any closer to our prey.
		string_id message = new string_id (c_stringFile, "s_3f2bae5b");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You mean you didn't know for certain that they would be there?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I think that information should be helpful.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_bb5f90b1");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_14c473a");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 52);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission four and so here is your reward.
	if (corellia_imperial_tier4_condition_isGettingMissionFourReward (player, npc))
	{
		corellia_imperial_tier4_action_rewardForMissionFour (player, npc);

		//-- NPC: You have done very well. There are not many people in this entire galaxy who can out-pilot one Jedi much less three.
		string_id message = new string_id (c_stringFile, "s_d4500734");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What! Those were Jedi?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I figured that is who we were after.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d129b116");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_85e8b1c4");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 57);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier4_condition_openMissionTrack (player, npc))
	{
		//-- NPC: So you must be %NU. I have been watching your progress for sometime now.  I must say that I am very impressed, although there ARE a number of areas where you could use improvement... but we will get to that later.
		string_id message = new string_id (c_stringFile, "s_735e94f9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Are you with Black Epsilon, sir?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Improvement!? You cannot improve perfection.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I am but a simple instrument of the Empire.
		boolean hasResponse2 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cdcb7b73");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2b6c0655");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c06cf370");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 62);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "corellia_imperial_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier4_condition_isReadyForMission (player, npc))
	{
		//-- NPC: You are doing well, Pilot. Are you ready for your next assignment?
		string_id message = new string_id (c_stringFile, "s_cbf9f5e7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I am.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_36a4e374");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 77);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're ready for a new skill, which would you like?
	if (corellia_imperial_tier4_condition_isReadyForTraining (player, npc))
	{
		//-- NPC: You have done very well and it would seem that your skills are improving. I will assist you in your quest for pilot perfection, when man and machine become almost one. What skill would you like to learn? Once you have made your choice, I have a very important task that requires immediate attention.
		string_id message = new string_id (c_stringFile, "s_2afc3f27");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: In what am I to be trained?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_363");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 82);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!corellia_imperial_tier4_condition_hasMetMe (player, npc))
	{
		//-- NPC: I've been expecting you. And you are late. There is much to be done. Are you ready?
		string_id message = new string_id (c_stringFile, "s_dce56ebd");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_52917b0d");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 156);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	if (!corellia_imperial_tier4_condition_hasCompletedTier4 (player, npc))
	{
		//-- NPC: You have great potential, but you still have much to learn before I can make use of your talents. I have a few odd jobs that I need taken care of. If you wish I can give you one of these duty missions. Or would you like to hear the briefing again?
		string_id message = new string_id (c_stringFile, "s_966e7d64");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Shooting down mercenaries? That's not business; that's pleasure.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I can escort those ships, no problem.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I hate smugglers. I'll take that job.
		boolean hasResponse2 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Sure. I'll get those ships.
		boolean hasResponse3 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Can I hear the briefing again?
		boolean hasResponse4 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_99bb69ca");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4349156c");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b881db2e");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_98338b18");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 157);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier4_condition_hasMasterSkill (player, npc))
	{
		//-- NPC: So, you seem to have made a fan. I can tell by your look that you do not have any idea what I am talking about. I have just received orders from High Command that you are being transferred.
		string_id message = new string_id (c_stringFile, "s_1d2760a0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Transferred? Who am I being transferred to this time?
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6d9530c5");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 168);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
	{
		//-- NPC: If you haven't been to see Admiral Declann yet, you had best get going. He is in the Theed Palace.
		string_id message = new string_id (c_stringFile, "s_a74ee1d8");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am on my way now.
		boolean hasResponse0 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Actually I was looking for more work.
		boolean hasResponse1 = false;
		if (corellia_imperial_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_338");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_342");

			utils.setScriptVar (player, "conversation.corellia_imperial_tier4.branchId", 174);

			npcStartConversation (player, npc, "corellia_imperial_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "corellia_imperial_tier4")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

	if (branchId == 3 && corellia_imperial_tier4_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && corellia_imperial_tier4_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && corellia_imperial_tier4_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && corellia_imperial_tier4_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && corellia_imperial_tier4_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && corellia_imperial_tier4_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && corellia_imperial_tier4_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && corellia_imperial_tier4_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && corellia_imperial_tier4_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && corellia_imperial_tier4_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && corellia_imperial_tier4_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && corellia_imperial_tier4_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && corellia_imperial_tier4_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && corellia_imperial_tier4_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && corellia_imperial_tier4_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && corellia_imperial_tier4_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && corellia_imperial_tier4_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && corellia_imperial_tier4_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && corellia_imperial_tier4_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && corellia_imperial_tier4_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && corellia_imperial_tier4_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && corellia_imperial_tier4_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && corellia_imperial_tier4_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && corellia_imperial_tier4_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && corellia_imperial_tier4_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && corellia_imperial_tier4_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && corellia_imperial_tier4_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && corellia_imperial_tier4_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && corellia_imperial_tier4_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && corellia_imperial_tier4_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && corellia_imperial_tier4_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && corellia_imperial_tier4_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && corellia_imperial_tier4_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && corellia_imperial_tier4_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && corellia_imperial_tier4_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && corellia_imperial_tier4_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && corellia_imperial_tier4_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && corellia_imperial_tier4_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && corellia_imperial_tier4_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && corellia_imperial_tier4_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && corellia_imperial_tier4_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && corellia_imperial_tier4_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && corellia_imperial_tier4_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && corellia_imperial_tier4_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && corellia_imperial_tier4_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && corellia_imperial_tier4_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && corellia_imperial_tier4_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && corellia_imperial_tier4_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && corellia_imperial_tier4_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && corellia_imperial_tier4_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && corellia_imperial_tier4_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && corellia_imperial_tier4_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && corellia_imperial_tier4_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && corellia_imperial_tier4_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && corellia_imperial_tier4_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && corellia_imperial_tier4_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && corellia_imperial_tier4_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && corellia_imperial_tier4_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && corellia_imperial_tier4_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && corellia_imperial_tier4_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && corellia_imperial_tier4_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && corellia_imperial_tier4_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && corellia_imperial_tier4_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && corellia_imperial_tier4_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && corellia_imperial_tier4_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && corellia_imperial_tier4_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && corellia_imperial_tier4_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && corellia_imperial_tier4_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && corellia_imperial_tier4_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && corellia_imperial_tier4_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && corellia_imperial_tier4_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && corellia_imperial_tier4_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && corellia_imperial_tier4_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 111 && corellia_imperial_tier4_handleBranch111 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && corellia_imperial_tier4_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && corellia_imperial_tier4_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && corellia_imperial_tier4_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 115 && corellia_imperial_tier4_handleBranch115 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && corellia_imperial_tier4_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && corellia_imperial_tier4_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 120 && corellia_imperial_tier4_handleBranch120 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && corellia_imperial_tier4_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && corellia_imperial_tier4_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 124 && corellia_imperial_tier4_handleBranch124 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 127 && corellia_imperial_tier4_handleBranch127 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 128 && corellia_imperial_tier4_handleBranch128 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 129 && corellia_imperial_tier4_handleBranch129 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 131 && corellia_imperial_tier4_handleBranch131 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 133 && corellia_imperial_tier4_handleBranch133 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && corellia_imperial_tier4_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 135 && corellia_imperial_tier4_handleBranch135 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 136 && corellia_imperial_tier4_handleBranch136 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 138 && corellia_imperial_tier4_handleBranch138 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 139 && corellia_imperial_tier4_handleBranch139 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 141 && corellia_imperial_tier4_handleBranch141 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 142 && corellia_imperial_tier4_handleBranch142 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 143 && corellia_imperial_tier4_handleBranch143 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 146 && corellia_imperial_tier4_handleBranch146 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 147 && corellia_imperial_tier4_handleBranch147 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 148 && corellia_imperial_tier4_handleBranch148 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 149 && corellia_imperial_tier4_handleBranch149 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 151 && corellia_imperial_tier4_handleBranch151 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 153 && corellia_imperial_tier4_handleBranch153 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 154 && corellia_imperial_tier4_handleBranch154 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 155 && corellia_imperial_tier4_handleBranch155 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 156 && corellia_imperial_tier4_handleBranch156 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 157 && corellia_imperial_tier4_handleBranch157 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 162 && corellia_imperial_tier4_handleBranch162 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 163 && corellia_imperial_tier4_handleBranch163 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 164 && corellia_imperial_tier4_handleBranch164 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 165 && corellia_imperial_tier4_handleBranch165 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 166 && corellia_imperial_tier4_handleBranch166 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 168 && corellia_imperial_tier4_handleBranch168 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 169 && corellia_imperial_tier4_handleBranch169 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 170 && corellia_imperial_tier4_handleBranch170 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 172 && corellia_imperial_tier4_handleBranch172 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 174 && corellia_imperial_tier4_handleBranch174 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 176 && corellia_imperial_tier4_handleBranch176 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.corellia_imperial_tier4.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

