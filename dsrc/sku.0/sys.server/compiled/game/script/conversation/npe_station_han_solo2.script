// ======================================================================
//
// npe_station_han_solo2.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.npe;
include library.space_quest;
include library.sui;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/npe_station_han_solo2";

// ======================================================================
// Script Conditions
// ======================================================================

boolean npe_station_han_solo2_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_firstConversation (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "npe_solo_profession");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_secondConversation (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "npe_solo_profession", "talktosolo2");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_finishedClassQuest (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "npe_smuggler_try");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_ClassQuestActive (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "npe_smuggler_try", "talktojake");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_isTraining (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "npe_smuggler_try");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onLastSmugglerStep (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive (player, "npe_smuggler_try_2", "talktohan");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_isBH (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.BOUNTY_HUNTER);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_choseProfessionTrainer (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "npe_solo_profession_2");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onMainQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "npe_new_main_quest");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onCantinaStep (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "npe_new_main_quest", "getparts");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onCollectStep (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "npe_new_main_quest", "bounty");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onlastHanstep (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "npe_new_main_quest", "return");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_onInaldraQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "npe_inaldra_quest");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_finishedInaldraQuest (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "npe_inaldra_quest");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_completedMainQuest (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "npe_new_main_quest");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisSpy (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.SPY);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_isSmugglerToTrain (obj_id player, obj_id npc)
{
	if ( (utils.isProfession(player, utils.SMUGGLER))&& groundquests.isQuestActive(player, "npe_pointer_smuggler_template") )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisTrader (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.TRADER);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisForceSensitive (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.FORCE_SENSITIVE);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisEntertainer (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.ENTERTAINER);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisMedic (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.MEDIC);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisOfficer (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.OFFICER);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisSmuggler (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.SMUGGLER);
	
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisCommando (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.COMMANDO);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_playerisBountyHunter (obj_id player, obj_id npc)
{
	return utils.isProfession(player, utils.BOUNTY_HUNTER);
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_finishedProfessionTrainer (obj_id player, obj_id npc)
{
	return hasObjVar(player, "npe.finishedTemplate");
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_finishedTraining (obj_id player, obj_id npc)
{	
	return (groundquests.isTaskActive(player, "npe_smuggler_comm", "donedone") ||
		   groundquests.hasCompletedQuest(player, "npe_smuggler_comm"));
}

// ----------------------------------------------------------------------

boolean npe_station_han_solo2_condition_isAtLeastLevel5 (obj_id player, obj_id npc)
{
	int level = getLevel(player);

	if(npe_station_han_solo2_condition_playerisEntertainer(player, npc) || npe_station_han_solo2_condition_playerisTrader(player, npc))
		return true;
	
	if(level >= 5)
			return true;
	return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void npe_station_han_solo2_action_giveContactPointer (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "found_smuggler");
	groundquests.grantQuest(player, "npe_smuggler_try");
	
	if(!hasObjVar(player, npe.QUEST_REWORK_VAR))
		setObjVar(player, npe.QUEST_REWORK_VAR, npe.QUEST_ENUMERATION);
		
	play2dNonLoopingSound(player, "sound/vo_han_solo_28c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_signaSmugglerQuestComplete (obj_id player, obj_id npc)
{
	groundquests.sendSignal (player, "donedone");
	groundquests.sendSignal (player, "found_smuggler");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveSecretaryPointer (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "reward");
	groundquests.grantQuest(player, "npe_pointer_secretary");
	setObjVar(player, "npe.finishedTemplate", 1);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveSmugglerQuestSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "npe_smuggler_try_2_han");
	setObjVar(player, "npe.finishedTemplate", 1);
	play2dNonLoopingSound(player, "sound/vo_han_solo_33c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveFirstReward (obj_id player, obj_id npc)
{
	faceTo(npc, player);	
	if (!hasObjVar(player, "npe.gotWeapon"))
		{
			npe.giveProfessionWeapon(player);
			setObjVar(player, "npe.gotWeapon", true);
		}
	
	play2dNonLoopingSound(player, "sound/vo_han_solo_10c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveAnothersignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "found_smuggler");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound1 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_11c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound2 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_12c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_signalMainQuestComplete (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "npe_new_main_quest_han");
	groundquests.grantQuest(player, "npe_pointer_inaldra");
	
	play2dNonLoopingSound(player, "sound/vo_han_solo_52c.snd");
	//npe.grantNewbArmor(player, "vest");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveMainQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "npe_new_main_quest");

 	npe.giveMapPopUp(player, npc);
 	
 	play2dNonLoopingSound(player, "sound/vo_han_solo_39c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_faceplayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound3 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_13c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_giveProfessionPointer (obj_id player, obj_id npc)
{
	npe.giveTemplatePointer (player);
	//npe.sendDelayed3poPopup(player, 0, 10, "sound/c3po_29.snd", "npe", "pop_credits", "npe.credits");
	play2dNonLoopingSound(player, "sound/vo_han_solo_14c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_leaveStation (obj_id player, obj_id npc)
{
	string_id stfPrompt = new string_id("npe", "exit_station_prompt");
	string_id stfTitle = new string_id("npe", "exit_station");
	string prompt = utils.packStringId(stfPrompt);
	string title = utils.packStringId(stfTitle);
	int pid = sui.msgbox(player, player, prompt, sui.OK_CANCEL, title, 0, "handTransfer");
	play2dNonLoopingSound(player, "sound/vo_han_solo_64c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_signalMQCompleteNoInaldra (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "npe_new_main_quest_han");
	groundquests.grantQuest(player, "npe_job_pointer_han");
	play2dNonLoopingSound(player, "sound/vo_han_solo_51c.snd");

	//npe.grantNewbArmor(player, "vest");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound4 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_15c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound5 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_16c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound6 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_17c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound7 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_18c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound8 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_19c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound9 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_20c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound10 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_21c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound11 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_22c.snd");
	npe.giveTemplatePointer (player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound12 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_25c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound13 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_26c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound14 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_27c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound15 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_29c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound16 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_30c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound17 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_31c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound18 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_32c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound19 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_35c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound20 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_36c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound21 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_37c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound22 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_38c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound23 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_40c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound24 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_41c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound25 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_34c.snd");	
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound26 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_43c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound27 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_44c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound28 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_45c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound29 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_46c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound30 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_47c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound31 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_48c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound32 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_49c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound33 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_50c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound34 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_53c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound35 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_54c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound36 (obj_id player, obj_id npc)
{	
	play2dNonLoopingSound(player, "sound/vo_han_solo_55c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound37 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_56c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound38 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_57c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound39 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_58c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound40 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_59c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound41 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_60c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound42 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_61c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound43 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_62c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound44 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_63c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound45 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_65c.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound46 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_66c.snd");
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound2ca (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_12ca.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound47 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_xtra3.snd");
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sound48 (obj_id player, obj_id npc)
{
	play2dNonLoopingSound(player, "sound/vo_han_solo_xtra4.snd");
	npe_station_han_solo2_action_giveSecretaryPointer (player, npc);
}

// ----------------------------------------------------------------------

void npe_station_han_solo2_action_sendMainSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "npe_new_main_quest_han");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int npe_station_han_solo2_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good luck, kid! And don't forget, you owe me one!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hey, what happened to that shipment you mentioned?
	if (response == "s_149")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			npe_station_han_solo2_action_sound37 (player, npc);

			//-- NPC: Did I? I guess I did. Well, I managed to sell it, not for the profit that I wanted, but it never works out that way, does it?
			string_id message = new string_id (c_stringFile, "s_152");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_153");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to leave the station now.
	if (response == "s_223")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition_isAtLeastLevel5 (player, npc))
		{
			npe_station_han_solo2_action_sound44 (player, npc);

			//-- NPC: I don't blame you! The ship's ready to go, just remember that you won't be able to come back once we leave. Are you sure you want to go?
			string_id message = new string_id (c_stringFile, "s_218");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely. I want a planet beneath my feet!
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, I'm sure that there's money to be made here still.
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound47 (player, npc);

			//-- NPC: I would love to take you kid, but I don't think you are ready. You will need a little skill under your belt before you leave for Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I get that?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How's it going?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You didn't tell me that Inaldra hated you.
	if (response == "s_127")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound35 (player, npc);

			//-- NPC: Hates me? She can't possibly remember...
			string_id message = new string_id (c_stringFile, "s_128");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would say that she does.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_129");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, didn't you say something about a shipment?
	if (response == "s_151")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			npe_station_han_solo2_action_sound37 (player, npc);

			//-- NPC: Did I? I guess I did. Well, I managed to sell it, not for the profit that I wanted, but it never works out that way, does it?
			string_id message = new string_id (c_stringFile, "s_152");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was it?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_153");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to leave the station now.
	if (response == "s_217")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition_isAtLeastLevel5 (player, npc))
		{
			npe_station_han_solo2_action_sound44 (player, npc);

			//-- NPC: I don't blame you! The ship's ready to go, just remember that you won't be able to come back once we leave. Are you sure you want to go?
			string_id message = new string_id (c_stringFile, "s_218");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely. I want a planet beneath my feet!
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, I'm sure that there's money to be made here still.
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_219");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound47 (player, npc);

			//-- NPC: I would love to take you kid, but I don't think you are ready. You will need a little skill under your belt before you leave for Mos Eisley.
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I get that?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hates me? She can't possibly remember...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would say that she does.
	if (response == "s_129")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "refuse_offer_affection");

			npe_station_han_solo2_action_sound36 (player, npc);

			//-- NPC: It's not my fault, kid! I didn't know that she would lose so much money.
			string_id message = new string_id (c_stringFile, "s_130");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did I? I guess I did. Well, I managed to sell it, not for the profit that I wanted, but it never works out that way, does it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was it?
	if (response == "s_153")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			npe_station_han_solo2_action_sound38 (player, npc);

			//-- NPC: You helped me out, so I'll tell you. When I came to rescue you, I also came across some goods that also needed to be liberated from the Empire. I thought that I'd pass them along to some ... friends. 
			string_id message = new string_id (c_stringFile, "s_154");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Friends?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: And?
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_157");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You helped me out, so I'll tell you. When I came to rescue you, I also came across some goods that also needed to be liberated from the Empire. I thought that I'd pass them along to some ... friends. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Friends?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cough_polite");

			npe_station_han_solo2_action_sound39 (player, npc);

			//-- NPC: Colleagues, really. You might meet them someday. Want me to finish?
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And?
	if (response == "s_157")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			npe_station_han_solo2_action_sound40 (player, npc);

			//-- NPC: It turns out that this stuff is hot, really hot! Unless I wanted a Star Destroyer flying up my nose, I had to get rid of it. All I know is that there's something valuable in it. I don't know what it is.
			string_id message = new string_id (c_stringFile, "s_158");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who did you sell it to?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Colleagues, really. You might meet them someday. Want me to finish?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure.
	if (response == "s_159")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			npe_station_han_solo2_action_sound40 (player, npc);

			//-- NPC: It turns out that this stuff is hot, really hot! Unless I wanted a Star Destroyer flying up my nose, I had to get rid of it. All I know is that there's something valuable in it. I don't know what it is.
			string_id message = new string_id (c_stringFile, "s_158");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who did you sell it to?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It turns out that this stuff is hot, really hot! Unless I wanted a Star Destroyer flying up my nose, I had to get rid of it. All I know is that there's something valuable in it. I don't know what it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who did you sell it to?
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			npe_station_han_solo2_action_sound41 (player, npc);

			//-- NPC: For your own safety, kid. I won't tell you. That's business that you don't want to get involved in, believe me.
			string_id message = new string_id (c_stringFile, "s_161");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks for telling me.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who says I don't?
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_162");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_168");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For your own safety, kid. I won't tell you. That's business that you don't want to get involved in, believe me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks for telling me.
	if (response == "s_162")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thumb_up");

			npe_station_han_solo2_action_sound42 (player, npc);

			//-- NPC: Thanks for your help!
			string_id message = new string_id (c_stringFile, "s_169");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I get more work?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_141");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who says I don't?
	if (response == "s_168")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			npe_station_han_solo2_action_sound43 (player, npc);

			//-- NPC: Then I don't want to get you more involved in it! I'm done with that shipment.
			string_id message = new string_id (c_stringFile, "s_170");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I get more work?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_143");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thanks for your help!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I get more work?
	if (response == "s_141")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound48 (player, npc);

			//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.
			string_id message = new string_id (c_stringFile, "s_137");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then I don't want to get you more involved in it! I'm done with that shipment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I get more work?
	if (response == "s_143")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound48 (player, npc);

			//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.
			string_id message = new string_id (c_stringFile, "s_137");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't blame you! The ship's ready to go, just remember that you won't be able to come back once we leave. Are you sure you want to go?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely. I want a planet beneath my feet!
	if (response == "s_219")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_leaveStation (player, npc);

			//-- NPC: Alright. Come aboard!
			string_id message = new string_id (c_stringFile, "s_222");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, I'm sure that there's money to be made here still.
	if (response == "s_220")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thumb_up");

			npe_station_han_solo2_action_sound45 (player, npc);

			//-- NPC: That's the spirit!
			string_id message = new string_id (c_stringFile, "s_221");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would love to take you kid, but I don't think you are ready. You will need a little skill under your belt before you leave for Mos Eisley.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I get that?
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound48 (player, npc);

			//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.
			string_id message = new string_id (c_stringFile, "s_137");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you have what you need?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. Here are the parts that we needed.
	if (response == "s_119")
	{
		npe_station_han_solo2_action_sendMainSignal (player, npc);

		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound33 (player, npc);

			//-- NPC: Great. I'm going to make repairs and get out of here. I heard that a friend of mine needs some help keeping this station together.  You got time to help?
			string_id message = new string_id (c_stringFile, "s_120");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I just want to get off this station.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure. Who's your friend?
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_122");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great. I'm going to make repairs and get out of here. I heard that a friend of mine needs some help keeping this station together.  You got time to help?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just want to get off this station.
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			npe_station_han_solo2_action_signalMQCompleteNoInaldra (player, npc);

			//-- NPC: Alright. Give me some time to get these repairs made.
			string_id message = new string_id (c_stringFile, "s_123");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure. Who's your friend?
	if (response == "s_122")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_signalMainQuestComplete (player, npc);

			//-- NPC: A lovely Twi'lek named Inaldra. She just took over as Station Master here, and she seems to be in over her head.
			string_id message = new string_id (c_stringFile, "s_216");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is a serious problem, kid. If Boba Fett is here, he's looking for someone, and that someone is probably me. I need to get out of here.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok. What do you need me to do?
	if (response == "s_240")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			npe_station_han_solo2_action_sound30 (player, npc);

			//-- NPC: Check your journal. There's a list of the things that I need from here to get the ship running and where I think you can find them.
			string_id message = new string_id (c_stringFile, "s_244");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: All right. I'm going. I expect payment for this!
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_247");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Check your journal. There's a list of the things that I need from here to get the ship running and where I think you can find them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All right. I'm going. I expect payment for this!
	if (response == "s_247")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			npe_station_han_solo2_action_sound31 (player, npc);

			//-- NPC: You will get it.
			string_id message = new string_id (c_stringFile, "s_249");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sounds like someone is trying to trap me here. Well, I can believe it, but I don't know who it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What should I do?
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound28 (player, npc);

			//-- NPC: Go to the Cantina. See what you find there.
			string_id message = new string_id (c_stringFile, "s_110");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, my diagnostics on the Falcon are done. I'm glad you're getting comfortable here because we're stuck until I can get this problem fixed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the problem?
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			npe_station_han_solo2_action_sound21 (player, npc);

			//-- NPC: The hyperdrive is still inoperative. Would you go over to the other hangar and get some parts that I need?
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm really not interested. I want to get off this station.
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound23 (player, npc);

			//-- NPC: Didn't you hear me? We're not going anywhere until I get the Falcon fixed!
			string_id message = new string_id (c_stringFile, "s_164");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: There's no other way out of here?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_165");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You were saying I could earn some easy credits on this Station?
	if (response == "s_191")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound48 (player, npc);

			//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Mind if I stay and help you out with the Falcon?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where do I find her.
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_193");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_135");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The hyperdrive is still inoperative. Would you go over to the other hangar and get some parts that I need?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure.
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound22 (player, npc);

			//-- NPC: Talk to the Head Mechanic in the other hangar. He will be able to send the parts to me. Tell him that I'll pay when I get the parts.
			string_id message = new string_id (c_stringFile, "s_100");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Talk to the Head Mechanic in the other hangar. He will be able to send the parts to me. Tell him that I'll pay when I get the parts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go now.
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			npe_station_han_solo2_action_giveMainQuest (player, npc);

			//-- NPC: Thanks. 
			string_id message = new string_id (c_stringFile, "s_104");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Didn't you hear me? We're not going anywhere until I get the Falcon fixed!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There's no other way out of here?
	if (response == "s_165")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			npe_station_han_solo2_action_sound24 (player, npc);

			//-- NPC: Nope. You're stuck helping me.
			string_id message = new string_id (c_stringFile, "s_167");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine. What's the problem?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_215");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nope. You're stuck helping me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine. What's the problem?
	if (response == "s_215")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			npe_station_han_solo2_action_sound21 (player, npc);

			//-- NPC: The hyperdrive is still inoperative. Would you go over to the other hangar and get some parts that I need?
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Mind if I stay and help you out with the Falcon?
	if (response == "s_193")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			npe_station_han_solo2_action_sound21 (player, npc);

			//-- NPC: The hyperdrive is still inoperative. Would you go over to the other hangar and get some parts that I need?
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I find her.
	if (response == "s_135")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveSecretaryPointer (player, npc);

			//-- NPC: Look for her in the Station Master's office.
			string_id message = new string_id (c_stringFile, "s_138");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great work, kid! I couldn't have done a better job, myself. Easy stuff, huh?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You have a very strange definition of 'easy'.
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			npe_station_han_solo2_action_sound18 (player, npc);

			//-- NPC: Any job that you get paid for that leaves you with your limbs intact is easy, right? Anyway, it enhances your reputation, which is always a good thing.
			string_id message = new string_id (c_stringFile, "s_107");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Right, and the credits dampen the pain a bit.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Any job that you get paid for that leaves you with your limbs intact is easy, right? Anyway, it enhances your reputation, which is always a good thing.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Right, and the credits dampen the pain a bit.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			npe_station_han_solo2_action_giveSmugglerQuestSignal (player, npc);

			//-- NPC: Exactly! Now I know that you're good enough execute a perfect Fast Draw. Use it to get an advantage on an opponent. They won't expect you to be able to move that quickly, which will keep them from being able to dodge.
			string_id message = new string_id (c_stringFile, "s_125");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah, I see. If they can't dodge, my shot will be more effective.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Exactly! Now I know that you're good enough execute a perfect Fast Draw. Use it to get an advantage on an opponent. They won't expect you to be able to move that quickly, which will keep them from being able to dodge.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, I see. If they can't dodge, my shot will be more effective.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			npe_station_han_solo2_action_sound19 (player, npc);

			//-- NPC: I could also use a hand with the Falcon!
			string_id message = new string_id (c_stringFile, "s_133");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the problem?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm really not interested. I want to get off this station.
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: You were saying I could earn some easy credits on this Station?
			boolean hasResponse2 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_191");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I could also use a hand with the Falcon!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the problem?
	if (response == "s_95")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			npe_station_han_solo2_action_sound21 (player, npc);

			//-- NPC: The hyperdrive is still inoperative. Would you go over to the other hangar and get some parts that I need?
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm really not interested. I want to get off this station.
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound23 (player, npc);

			//-- NPC: Didn't you hear me? We're not going anywhere until I get the Falcon fixed!
			string_id message = new string_id (c_stringFile, "s_164");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: There's no other way out of here?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_165");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You were saying I could earn some easy credits on this Station?
	if (response == "s_191")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound48 (player, npc);

			//-- NPC: Talk to Inaldra's lieutenant and get some work.  Tansarii Station could use someone like you to help out.
			string_id message = new string_id (c_stringFile, "s_192");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Mind if I stay and help you out with the Falcon?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where do I find her.
			boolean hasResponse1 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_193");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_135");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're good, kid. There's no denying that. So good, in fact, I'm going to tell you about an offer I got that I think you'd be perfect for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. What's the offer?
	if (response == "s_226")
	{
		npe_station_han_solo2_action_giveAnothersignal (player, npc);

		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound14 (player, npc);

			//-- NPC: An old contact of mine, Jake Felan, has a job. He may take a little convincing. He's usually a pretty upstanding guy though. You should have no trouble.
			string_id message = new string_id (c_stringFile, "s_227");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood. Where is he?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An old contact of mine, Jake Felan, has a job. He may take a little convincing. He's usually a pretty upstanding guy though. You should have no trouble.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood. Where is he?
	if (response == "s_229")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveContactPointer (player, npc);

			//-- NPC: He will be in the Cantina, probably nursing a drink. He likes Corellian Brandy.
			string_id message = new string_id (c_stringFile, "s_231");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Great work up there, kid! Things can get a little rough when you cross the Empire; those TIEs tore apart the Falcon.  Anyway, I have a little gift for you from...some friends.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks... but who are these 'friends'?
	if (response == "s_197")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			npe_station_han_solo2_action_sound1 (player, npc);

			//-- NPC: It's not important. But what is important is that they paid me a lot of money to bust you out.
			string_id message = new string_id (c_stringFile, "s_200");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I suppose I have to work for your 'friends' now?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_148");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's not important. But what is important is that they paid me a lot of money to bust you out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I suppose I have to work for your 'friends' now?
	if (response == "s_148")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			npe_station_han_solo2_action_sound2 (player, npc);

			//-- NPC: Personally, I don't care who you work for -- Empire or Rebellion, either way you need money.  From what I've seen, you should be able to make some easy credits.
			string_id message = new string_id (c_stringFile, "s_166");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Alright then.  Who's willing to pay me around here?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_139");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Personally, I don't care who you work for -- Empire or Rebellion, either way you need money.  From what I've seen, you should be able to make some easy credits.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright then.  Who's willing to pay me around here?
	if (response == "s_139")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound2ca (player, npc);

			//-- NPC: Hah!  Kid, this place needs all the help it can get.  Lately, it's been overrun with thugs and scoundrels, and the station master is powerless to stop them.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hmmm...do you have a contact for me?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hah!  Kid, this place needs all the help it can get.  Lately, it's been overrun with thugs and scoundrels, and the station master is powerless to stop them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmmm...do you have a contact for me?
	if (response == "s_142")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisSpy (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound3 (player, npc);

			//-- NPC: I know of a guy that is probably doing some undercover work here. I'll bet he could use somebody who's trained to be a Spy. Talk to Lercer in the Cantina. I'll give you a waypoint.
			string_id message = new string_id (c_stringFile, "s_144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisTrader (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound4 (player, npc);

			//-- NPC: My buddy Raine is right over  there. He's a decent trader and I'm sure that he'd be willing to give you some materials, if you show him your technique.
			string_id message = new string_id (c_stringFile, "s_173");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisEntertainer (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound5 (player, npc);

			//-- NPC: I know just the person: Mira T'rani! She could use a great Entertainer like you. She's in the cantina. 
			string_id message = new string_id (c_stringFile, "s_177");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisCommando (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound6 (player, npc);

			//-- NPC: You want to talk to Sgt. Snopel in the Ranged Combat Training Room. He only teaches those with potential. I'll give you a waypoint.
			string_id message = new string_id (c_stringFile, "s_181");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisBountyHunter (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound7 (player, npc);

			//-- NPC: I'm glad that you're not after me! Let's see. Problem is, I've been trying to avoid Bounty Hunters for so long that I'm not sure who to talk to. Maybe the Bartender in the Cantina would have a lead.
			string_id message = new string_id (c_stringFile, "s_185");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisMedic (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound8 (player, npc);

			//-- NPC: I'm sure that Tansarii Station needs a good Medic. The droids are fine in a pinch, but nothing compared to a real doctor. There's a droid here named Billingsly in the Medical Center that coordinates the staff.
			string_id message = new string_id (c_stringFile, "s_189");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisForceSensitive (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound9 (player, npc);

			//-- NPC: If you insist on following that hokey religion, there's a guy named Nos'lyn you should meet. He's probably meditating in the Close Combat Training Room.
			string_id message = new string_id (c_stringFile, "s_201");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisOfficer (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			npe_station_han_solo2_action_sound10 (player, npc);

			//-- NPC: Antom in the Station Master's Office would be thrilled to see you. I'm sure he's gotten himself into some kind of sticky situation that requires diplomacy.
			string_id message = new string_id (c_stringFile, "s_203");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go there now.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (npe_station_han_solo2_condition_playerisSmuggler (player, npc))
		{
			doAnimationAction (npc, "thumbs_up");

			npe_station_han_solo2_action_sound11 (player, npc);

			//-- NPC: Look no further. I'm your man!  With my contacts and your reputation, you're set. Just let me know when you're ready to get started.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will.
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_207");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know of a guy that is probably doing some undercover work here. I'll bet he could use somebody who's trained to be a Spy. Talk to Lercer in the Cantina. I'll give you a waypoint.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My buddy Raine is right over  there. He's a decent trader and I'm sure that he'd be willing to give you some materials, if you show him your technique.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know just the person: Mira T'rani! She could use a great Entertainer like you. She's in the cantina. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You want to talk to Sgt. Snopel in the Ranged Combat Training Room. He only teaches those with potential. I'll give you a waypoint.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm glad that you're not after me! Let's see. Problem is, I've been trying to avoid Bounty Hunters for so long that I'm not sure who to talk to. Maybe the Bartender in the Cantina would have a lead.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm sure that Tansarii Station needs a good Medic. The droids are fine in a pinch, but nothing compared to a real doctor. There's a droid here named Billingsly in the Medical Center that coordinates the staff.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you insist on following that hokey religion, there's a guy named Nos'lyn you should meet. He's probably meditating in the Close Combat Training Room.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Antom in the Station Master's Office would be thrilled to see you. I'm sure he's gotten himself into some kind of sticky situation that requires diplomacy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go there now.
	if (response == "s_146")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_giveProfessionPointer (player, npc);

			//-- NPC: See ya later, kid.
			string_id message = new string_id (c_stringFile, "s_150");
			utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int npe_station_han_solo2_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Look no further. I'm your man!  With my contacts and your reputation, you're set. Just let me know when you're ready to get started.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will.
	if (response == "s_207")
	{
		//-- [NOTE] 
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			npe_station_han_solo2_action_sound14 (player, npc);

			//-- NPC: An old contact of mine, Jake Felan, has a job. He may take a little convincing. He's usually a pretty upstanding guy though. You should have no trouble.
			string_id message = new string_id (c_stringFile, "s_227");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood. Where is he?
			boolean hasResponse0 = false;
			if (npe_station_han_solo2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.npe_station_han_solo2");

	setCondition (self, CONDITION_CONVERSABLE);
	//setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Han Solo");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );


	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	//setCondition (self, CONDITION_INTERESTING);
	setInvulnerable (self, true);
	setName (self, "Han Solo");
	ai_lib.setDefaultCalmBehavior( self, ai_lib.BEHAVIOR_SENTINEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.npe_station_han_solo2");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_finishedInaldraQuest (player, npc))
	{
		doAnimationAction (npc, "thank");

		npe_station_han_solo2_action_sound46 (player, npc);

		//-- NPC: Good luck, kid! And don't forget, you owe me one!
		string_id message = new string_id (c_stringFile, "s_131");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Hey, what happened to that shipment you mentioned?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to leave the station now.
		boolean hasResponse1 = false;
		if (!npe_station_han_solo2_condition_isBH (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_149");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_223");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 1);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_completedMainQuest (player, npc))
	{
		npe_station_han_solo2_action_sound34 (player, npc);

		//-- NPC: How's it going?
		string_id message = new string_id (c_stringFile, "s_126");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You didn't tell me that Inaldra hated you.
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition_onInaldraQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: So, didn't you say something about a shipment?
		boolean hasResponse1 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I want to leave the station now.
		boolean hasResponse2 = false;
		if (!npe_station_han_solo2_condition_isBH (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_127");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_151");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_217");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 2);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_onlastHanstep (player, npc))
	{
		npe_station_han_solo2_action_sound32 (player, npc);

		//-- NPC: Do you have what you need?
		string_id message = new string_id (c_stringFile, "s_118");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. Here are the parts that we needed.
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_119");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 17);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_onCollectStep (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		npe_station_han_solo2_action_sound29 (player, npc);

		//-- NPC: This is a serious problem, kid. If Boba Fett is here, he's looking for someone, and that someone is probably me. I need to get out of here.
		string_id message = new string_id (c_stringFile, "s_111");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Ok. What do you need me to do?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_240");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 21);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_onCantinaStep (player, npc))
	{
		npe_station_han_solo2_action_sound27 (player, npc);

		//-- NPC: Sounds like someone is trying to trap me here. Well, I can believe it, but I don't know who it is.
		string_id message = new string_id (c_stringFile, "s_108");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What should I do?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_109");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 24);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_onMainQuest (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		npe_station_han_solo2_action_sound26 (player, npc);

		//-- NPC: Hey kid, go talk to the Head Mechanic. I need to work on the ship.
		string_id message = new string_id (c_stringFile, "s_106");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_finishedProfessionTrainer (player, npc))
	{
		doAnimationAction (npc, "greet");

		npe_station_han_solo2_action_sound20 (player, npc);

		//-- NPC: Well, my diagnostics on the Falcon are done. I'm glad you're getting comfortable here because we're stuck until I can get this problem fixed.
		string_id message = new string_id (c_stringFile, "s_94");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What's the problem?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm really not interested. I want to get off this station.
		boolean hasResponse1 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: You were saying I could earn some easy credits on this Station?
		boolean hasResponse2 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_95");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_163");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_191");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 27);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_onLastSmugglerStep (player, npc))
	{
		doAnimationAction (npc, "thank");

		npe_station_han_solo2_action_sound17 (player, npc);

		//-- NPC: Great work, kid! I couldn't have done a better job, myself. Easy stuff, huh?
		string_id message = new string_id (c_stringFile, "s_103");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You have a very strange definition of 'easy'.
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_105");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 35);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_ClassQuestActive (player, npc))
	{
		npe_station_han_solo2_action_sound16 (player, npc);

		//-- NPC: Jake seems to be very happy that you agreed to work for him. He didn't give you a hard time did he? Anyway, have fun with that!
		string_id message = new string_id (c_stringFile, "s_245");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_isTraining (player, npc))
	{
		npe_station_han_solo2_action_sound15 (player, npc);

		//-- NPC: I'm just starting the Falcon's diagnostics. Go talk to Jake in the Cantina.
		string_id message = new string_id (c_stringFile, "s_243");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_isSmugglerToTrain (player, npc))
	{
		doAnimationAction (npc, "nod");

		npe_station_han_solo2_action_sound13 (player, npc);

		//-- NPC: You're good, kid. There's no denying that. So good, in fact, I'm going to tell you about an offer I got that I think you'd be perfect for.
		string_id message = new string_id (c_stringFile, "s_224");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I see. What's the offer?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_226");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 41);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition_choseProfessionTrainer (player, npc))
	{
		npe_station_han_solo2_action_sound12 (player, npc);

		//-- NPC: How are things going, kid? You making some good money yet?
		string_id message = new string_id (c_stringFile, "s_225");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (npe_station_han_solo2_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "thumbs_up");

		npe_station_han_solo2_action_giveFirstReward (player, npc);

		//-- NPC: Great work up there, kid! Things can get a little rough when you cross the Empire; those TIEs tore apart the Falcon.  Anyway, I have a little gift for you from...some friends.
		string_id message = new string_id (c_stringFile, "s_196");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thanks... but who are these 'friends'?
		boolean hasResponse0 = false;
		if (npe_station_han_solo2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_197");

			utils.setScriptVar (player, "conversation.npe_station_han_solo2.branchId", 45);

			npcStartConversation (player, npc, "npe_station_han_solo2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "npe_station_han_solo2")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.npe_station_han_solo2.branchId");

	if (branchId == 1 && npe_station_han_solo2_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && npe_station_han_solo2_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && npe_station_han_solo2_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && npe_station_han_solo2_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && npe_station_han_solo2_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && npe_station_han_solo2_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && npe_station_han_solo2_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && npe_station_han_solo2_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && npe_station_han_solo2_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && npe_station_han_solo2_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && npe_station_han_solo2_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && npe_station_han_solo2_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && npe_station_han_solo2_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && npe_station_han_solo2_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && npe_station_han_solo2_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && npe_station_han_solo2_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && npe_station_han_solo2_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && npe_station_han_solo2_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && npe_station_han_solo2_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && npe_station_han_solo2_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && npe_station_han_solo2_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && npe_station_han_solo2_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && npe_station_han_solo2_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && npe_station_han_solo2_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && npe_station_han_solo2_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && npe_station_han_solo2_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && npe_station_han_solo2_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && npe_station_han_solo2_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && npe_station_han_solo2_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && npe_station_han_solo2_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && npe_station_han_solo2_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && npe_station_han_solo2_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && npe_station_han_solo2_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && npe_station_han_solo2_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && npe_station_han_solo2_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && npe_station_han_solo2_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && npe_station_han_solo2_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && npe_station_han_solo2_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && npe_station_han_solo2_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && npe_station_han_solo2_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && npe_station_han_solo2_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && npe_station_han_solo2_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.npe_station_han_solo2.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

