// ======================================================================
//
// prof_spy_11_kaesii.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/prof_spy_11_kaesii";

// ======================================================================
// Script Conditions
// ======================================================================

boolean prof_spy_11_kaesii_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean prof_spy_11_kaesii_condition_onContact (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/prof_spy_11");
	int prof_spy_goto_e2 = groundquests.getTaskId(questId1, "prof_spy_goto_e2"); 
	
	boolean onTask = questIsTaskActive(questId1, prof_spy_goto_e2, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean prof_spy_11_kaesii_condition_onMission11 (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/prof_spy_11a");
	int spy_mission_1_e1 = groundquests.getTaskId(questId1, "spy_mission_1_e1"); 
	
	boolean onTask = questIsTaskActive(questId1, spy_mission_1_e1, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean prof_spy_11_kaesii_condition_mission11Complete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/prof_spy_11a");
	int spy_mission_1_e3 = groundquests.getTaskId(questId1, "spy_mission_1_e3"); 
	
	boolean onTask = questIsTaskActive(questId1, spy_mission_1_e3, player);
	
	return onTask;
}

// ----------------------------------------------------------------------

boolean prof_spy_11_kaesii_condition_missionIntroComplete (obj_id player, obj_id npc)
{
	int questId1 = questGetQuestId("quest/prof_spy_11");
	
	boolean OnTask = 	(questIsQuestComplete(questId1, player));
	
	return OnTask;
}

// ----------------------------------------------------------------------

boolean prof_spy_11_kaesii_condition_finishedMission (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest (player, "quest/prof_spy_11a");
}

// ======================================================================
// Script Actions
// ======================================================================

void prof_spy_11_kaesii_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void prof_spy_11_kaesii_action_signalMission11Complete (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "spy_mission_1_e3");
}

// ----------------------------------------------------------------------

void prof_spy_11_kaesii_action_grantMission11 (obj_id player, obj_id npc)
{

	
    int questId = questGetQuestId("quest/prof_spy_11a");
    groundquests.grantQuest(questId, player, npc, true);	
}

// ----------------------------------------------------------------------

void prof_spy_11_kaesii_action_signalGoto (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "prof_spy_goto_e2");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int prof_spy_11_kaesii_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent work. The manager of the White Thranta is already looking for these.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How did he find out so quickly?
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I told him.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You... WHAT?!?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I told him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You... WHAT?!?
	if (response == "s_80")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I was setting him up. By telling one of his rivals that we could sell him the plans, I knew it would get back to the White Thranta manager. Once he started looking for his missing plans it would prove to our buyer that we had the exact plans he was wanting to buy.
			string_id message = new string_id (c_stringFile, "s_81");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Seems like a longshot to me.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_82");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was setting him up. By telling one of his rivals that we could sell him the plans, I knew it would get back to the White Thranta manager. Once he started looking for his missing plans it would prove to our buyer that we had the exact plans he was wanting to buy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Seems like a longshot to me.
	if (response == "s_82")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I had faith in you. Besides, the extra money from the blackmail of Durr to Jabba was a nice boost to our payoffs.
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't like being used.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I had faith in you. Besides, the extra money from the blackmail of Durr to Jabba was a nice boost to our payoffs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't like being used.
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: What do you think being a spy is all about, honey? Even after all that I've told you about this mission there is still plenty you don't know.
			string_id message = new string_id (c_stringFile, "s_85");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm sure.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you think being a spy is all about, honey? Even after all that I've told you about this mission there is still plenty you don't know.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sure.
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			prof_spy_11_kaesii_action_signalMission11Complete (player, npc);

			//-- NPC: Well, here's your pay, and something extra I was able to find for you.
			string_id message = new string_id (c_stringFile, "s_87");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing here? I'm going to miss my party. You're supposed to be getting those plans. You're going to blow my cover.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I couldn't find the plans.
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: They are in the vehicle repair bay. It's in the back of the complex. Just look for all the vehicles and repair equipment.
			string_id message = new string_id (c_stringFile, "s_74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, I will try again.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_75");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They are in the vehicle repair bay. It's in the back of the complex. Just look for all the vehicles and repair equipment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, I will try again.
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hurry!
			string_id message = new string_id (c_stringFile, "s_76");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're back?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I need the mission information again.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well listen carefully this time.
			string_id message = new string_id (c_stringFile, "s_109");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why did you want to see me?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_110");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well listen carefully this time.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why did you want to see me?
	if (response == "s_110")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am supposed to recover plans for a military prototype speeder.
			string_id message = new string_id (c_stringFile, "s_29");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that have to do with me?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who stole them?
			boolean hasResponse1 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I was told to expect you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why do you want to see me?
	if (response == "s_27")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am supposed to recover plans for a military prototype speeder.
			string_id message = new string_id (c_stringFile, "s_29");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does that have to do with me?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who stole them?
			boolean hasResponse1 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am supposed to recover plans for a military prototype speeder.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does that have to do with me?
	if (response == "s_31")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think you would be perfect for this job. It's a good start if you really want to be a spy.
			string_id message = new string_id (c_stringFile, "s_33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. I'll take the job.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why don't you do it?
			boolean hasResponse1 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who stole them?
	if (response == "s_55")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Some people that work for Jabba. I am sure Jabba doesn't know about this yet.
			string_id message = new string_id (c_stringFile, "s_57");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can you be sure?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think you would be perfect for this job. It's a good start if you really want to be a spy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. I'll take the job.
	if (response == "s_35")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.
			string_id message = new string_id (c_stringFile, "s_37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can do. I'll return the plans to you.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why don't you do it?
	if (response == "s_39")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would, but I have bigger issues at the moment. Don't you want the work?
			string_id message = new string_id (c_stringFile, "s_41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, I could do that for you.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not that desperate.
			boolean hasResponse1 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_43");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_51");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can do. I'll return the plans to you.
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			prof_spy_11_kaesii_action_grantMission11 (player, npc);

			//-- NPC: I'll have your payment, and maybe something a bit more useful to you as well.
			string_id message = new string_id (c_stringFile, "s_49");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would, but I have bigger issues at the moment. Don't you want the work?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, I could do that for you.
	if (response == "s_43")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.
			string_id message = new string_id (c_stringFile, "s_45");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can do. I'll return the plans to you.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not that desperate.
	if (response == "s_51")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Your loss. Good luck out there.
			string_id message = new string_id (c_stringFile, "s_53");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can do. I'll return the plans to you.
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			prof_spy_11_kaesii_action_grantMission11 (player, npc);

			//-- NPC: I'll have your payment, and maybe something a bit more useful to you as well.
			string_id message = new string_id (c_stringFile, "s_49");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Some people that work for Jabba. I am sure Jabba doesn't know about this yet.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can you be sure?
	if (response == "s_59")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's my job.
			string_id message = new string_id (c_stringFile, "s_61");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You sure don't look like a spy.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's my job.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You sure don't look like a spy.
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's because I am good at my job.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It seems you are. I'll take the offer, what do I need to do?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's because I am good at my job.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It seems you are. I'll take the offer, what do I need to do?
	if (response == "s_88")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.
			string_id message = new string_id (c_stringFile, "s_89");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Can do. I'll return the plans to you.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok. Here is the location of the plans. You're going to have to work your way back to their repair bay. It shouldn't be that difficult.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can do. I'll return the plans to you.
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			prof_spy_11_kaesii_action_grantMission11 (player, npc);

			//-- NPC: I'll have your payment, and maybe something a bit more useful to you as well.
			string_id message = new string_id (c_stringFile, "s_49");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, Hello! Are you planning to attend the VanDern's ball tonight. I hear all the best people from the rim are flying in to attend. I do hope you will be there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A formal ball? Here? On Tatooine?
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Why yes! It may not be Coruscant, but we do have people of exceptional breeding even out here on the rim!
			string_id message = new string_id (c_stringFile, "s_91");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Exceptional breeding? You mean like genetics and test tubes?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well it's good to see that the best of us can still find social time here!
			boolean hasResponse1 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why yes! It may not be Coruscant, but we do have people of exceptional breeding even out here on the rim!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Exceptional breeding? You mean like genetics and test tubes?
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Why no, of course. I mean the elite of society. The people of measure who have lifted themselves up from the common folk.
			string_id message = new string_id (c_stringFile, "s_95");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The common folk? You mean like the people who do your work for you?
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well it's good to see that the best of us can still find social time here!
	if (response == "s_113")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed! So please make sure you attend.
			string_id message = new string_id (c_stringFile, "s_116");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why no, of course. I mean the elite of society. The people of measure who have lifted themselves up from the common folk.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The common folk? You mean like the people who do your work for you?
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course, darling. The common people, the workers, the slaves and the servants. It is simply human nature to aspire to one's best. If your best is menial tasks well then you are of the common folk.
			string_id message = new string_id (c_stringFile, "s_99");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think I've had enough of this.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, darling. The common people, the workers, the slaves and the servants. It is simply human nature to aspire to one's best. If your best is menial tasks well then you are of the common folk.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think I've had enough of this.
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well if you ever decide you need work, I have an opening for a cleaning servant. Droids just don't do well enough.
			string_id message = new string_id (c_stringFile, "s_103");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll keep it in mind.
			boolean hasResponse0 = false;
			if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int prof_spy_11_kaesii_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well if you ever decide you need work, I have an opening for a cleaning servant. Droids just don't do well enough.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll keep it in mind.
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed! Good day to you then!
			string_id message = new string_id (c_stringFile, "s_111");
			utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.prof_spy_11_kaesii");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.prof_spy_11_kaesii");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition_finishedMission (player, npc))
	{
		//-- NPC: Thanks for all your help.
		string_id message = new string_id (c_stringFile, "s_115");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition_mission11Complete (player, npc))
	{
		prof_spy_11_kaesii_action_facePlayer (player, npc);

		//-- NPC: Excellent work. The manager of the White Thranta is already looking for these.
		string_id message = new string_id (c_stringFile, "s_77");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: How did he find out so quickly?
		boolean hasResponse0 = false;
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_78");

			utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 2);

			npcStartConversation (player, npc, "prof_spy_11_kaesii", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition_onMission11 (player, npc))
	{
		prof_spy_11_kaesii_action_facePlayer (player, npc);

		//-- NPC: What are you doing here? I'm going to miss my party. You're supposed to be getting those plans. You're going to blow my cover.
		string_id message = new string_id (c_stringFile, "s_72");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I couldn't find the plans.
		boolean hasResponse0 = false;
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_73");

			utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 8);

			npcStartConversation (player, npc, "prof_spy_11_kaesii", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition_missionIntroComplete (player, npc))
	{
		//-- NPC: You're back?
		string_id message = new string_id (c_stringFile, "s_107");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. I need the mission information again.
		boolean hasResponse0 = false;
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_108");

			utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 11);

			npcStartConversation (player, npc, "prof_spy_11_kaesii", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition_onContact (player, npc))
	{
		prof_spy_11_kaesii_action_signalGoto (player, npc);

		//-- NPC: I was told to expect you.
		string_id message = new string_id (c_stringFile, "s_25");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why do you want to see me?
		boolean hasResponse0 = false;
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_27");

			utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 13);

			npcStartConversation (player, npc, "prof_spy_11_kaesii", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
	{
		prof_spy_11_kaesii_action_facePlayer (player, npc);

		//-- NPC: Well, Hello! Are you planning to attend the VanDern's ball tonight. I hear all the best people from the rim are flying in to attend. I do hope you will be there.
		string_id message = new string_id (c_stringFile, "s_69");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: A formal ball? Here? On Tatooine?
		boolean hasResponse0 = false;
		if (prof_spy_11_kaesii_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_71");

			utils.setScriptVar (player, "conversation.prof_spy_11_kaesii.branchId", 25);

			npcStartConversation (player, npc, "prof_spy_11_kaesii", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "prof_spy_11_kaesii")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

	if (branchId == 2 && prof_spy_11_kaesii_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && prof_spy_11_kaesii_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && prof_spy_11_kaesii_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && prof_spy_11_kaesii_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && prof_spy_11_kaesii_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && prof_spy_11_kaesii_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && prof_spy_11_kaesii_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && prof_spy_11_kaesii_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && prof_spy_11_kaesii_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && prof_spy_11_kaesii_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && prof_spy_11_kaesii_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && prof_spy_11_kaesii_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && prof_spy_11_kaesii_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && prof_spy_11_kaesii_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && prof_spy_11_kaesii_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && prof_spy_11_kaesii_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && prof_spy_11_kaesii_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && prof_spy_11_kaesii_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && prof_spy_11_kaesii_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && prof_spy_11_kaesii_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && prof_spy_11_kaesii_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && prof_spy_11_kaesii_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && prof_spy_11_kaesii_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && prof_spy_11_kaesii_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.prof_spy_11_kaesii.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

