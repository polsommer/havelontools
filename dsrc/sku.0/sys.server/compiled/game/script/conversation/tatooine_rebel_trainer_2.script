// ======================================================================
//
// tatooine_rebel_trainer_2.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.24 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.space_quest;
include library.space_skill;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_rebel_trainer_2";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_rebel_trainer_2_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasRebelSkill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_novice") );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasImperialSkill (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	return ( hasSkill( player, "pilot_imperial_navy_novice") );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasPilotSkill (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	return ( hasSkill( player, "pilot_neutral_novice") );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasNoSkill (obj_id player, obj_id npc)
{
	return (!space_skill.hasSpaceSkills( player ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasRebelQuest (obj_id player, obj_id npc)
{

	faceTo( npc, player );
	
	//only return TRUE if the player is a REBEL and has a Quest:
	if (!tatooine_rebel_trainer_2_condition_hasRebelSkill(player, npc) )
		return false;
		
	return ( space_quest.hasQuest( player ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasWonFirstQuest (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	return ( space_quest.hasWonQuest( player, "destroy", "rebel_destroy_03" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasWonSecondQuest (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest( player, "destroy", "rebel_destroy_01" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasWonThirdQuest (obj_id player, obj_id npc)
{
	return ( space_quest.hasWonQuest( player, "patrol", "rebel_patrol_02" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasFinishedNewbieSeries (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	return ( space_quest.hasWonQuest( player, "destroy", "rebel_destroy_02" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasStarShips01 (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_starships_01" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasNavigation01 (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_navigation_01" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasCombat01 (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_combat_01" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasDroid01 (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_droid_01" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasAllTier1Skills (obj_id player, obj_id npc)
{
	if ( 	hasSkill( player, "pilot_rebel_navy_navigation_01") &&
			hasSkill( player, "pilot_rebel_navy_starships_01") &&
			hasSkill( player, "pilot_rebel_navy_combat_01") &&
			hasSkill( player, "pilot_rebel_navy_droid_01") )
	{	
		return true;
	}
	else
	{
		return false;
	}
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasWonAllQuests (obj_id player, obj_id npc)
{
	if ( 	tatooine_rebel_trainer_2_condition_hasWonFirstQuest( player, npc ) && 
			tatooine_rebel_trainer_2_condition_hasWonSecondQuest( player, npc  ) && 
		 	tatooine_rebel_trainer_2_condition_hasWonThirdQuest( player, npc  ) && 
		 	tatooine_rebel_trainer_2_condition_hasFinishedNewbieSeries( player, npc  ) )
	{
		return true;
	}
	else
	{
		return false;
	}
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_readyForPromotion (obj_id player, obj_id npc)
{
	if ( 	tatooine_rebel_trainer_2_condition_hasWonAllQuests( player, npc ) && 
			(!tatooine_rebel_trainer_2_condition_hasAnyTier1Skills( player, npc )) && 
			tatooine_rebel_trainer_2_condition_hasRebelSkill(player, npc ) )
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasAnyTier1Skills (obj_id player, obj_id npc)
{
	if ( 	hasSkill( player, "pilot_rebel_navy_navigation_01") ||
			hasSkill( player, "pilot_rebel_navy_starships_01") ||
			hasSkill( player, "pilot_rebel_navy_combat_01") ||
			hasSkill( player, "pilot_rebel_navy_droid_01") )
	{	
		return true;
	}
	else
	{
		return false;
	}
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasFailedFirstQuest (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "destroy", "rebel_destroy_03" ) )
		 return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasAbortedFirstQuest (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	if ( space_quest.hasAbortedQuest( player, "destroy", "rebel_destroy_03" ) )
		 return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasFirstQuest (obj_id player, obj_id npc)
{
		// Return true if we have the FIRST quest or have finished the FIRST quest.
	if ( space_quest.hasQuest( player, "destroy", "rebel_destroy_03" ) ||
		 space_quest.hasCompletedQuest( player, "destroy", "rebel_destroy_03" ) )
		 return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean tatooine_rebel_trainer_2_condition_hasSecondQuest (obj_id player, obj_id npc)
{
		// Return true if we have the SECOND quest or have finished the SECOND quest.
	if ( space_quest.hasQuest( player, "escort", "rebel_escort_01" ) ||
		 space_quest.hasCompletedQuest( player, "escort", "rebel_escort_01" ) )
		 return true;
	else
		return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_rebel_trainer_2_action_grantRebelSkill (obj_id player, obj_id npc)
{
	grantSkill( player, "pilot_rebel_navy_novice" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantFirstQuest (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "pound_fist_palm" );
	space_quest.grantQuest( player, "destroy", "rebel_destroy_03" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantSecondQuest (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "explain" );
	space_quest.grantQuest( player, "escort", "rebel_escort_01" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantThirdQuest (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "explain" );
	space_quest.grantQuest( player, "patrol", "rebel_patrol_02" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantFourthQuest (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "snap_finger2" );
	space_quest.grantQuest( player, "destroy", "rebel_destroy_02" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantStarships01 (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_to_self" );
	grantSkill( player, "pilot_rebel_navy_starships_01" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantNavigation01 (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_to_self" );
	grantSkill( player, "pilot_rebel_navy_navigation_01" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantCombat01 (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_to_self" );
	grantSkill( player, "pilot_rebel_navy_combat_01" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_grantDroid01 (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_to_self" );
	grantSkill( player, "pilot_rebel_navy_droid_01" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animPointAway (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_away" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animSalute1 (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "salute1" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animSlowDown (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "slow_down" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animPointToSelf (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_to_self" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animPointForward (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_forward" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animSaluteEachOther (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "salute2" );
	doAnimationAction( player, "salute2" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animPoundFist (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	doAnimationAction( npc, "pound_fist_palm" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animScratchHead (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "scratch_head");//same as scratch
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animStop (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "stop" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animDismiss (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "dismiss" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animAccuse (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "point_accusingly" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animBye (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "goodbye" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animNo (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "shake_head_no" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animDisgust (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "shake_head_disgust" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animConverse (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "conversation_1"); //male
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animSlitThroat (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	doAnimationAction( npc, "slit_throat" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animShrugHands (obj_id player, obj_id npc)
{
	faceTo( npc, player );
	doAnimationAction( npc, "shrug_hands" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animGestureWild (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "gesticulate_wildly" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animWarn (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "wave_finger_warning" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animTaunt (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "taunt2");//talk to the hand
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animExplain (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "explain" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animSigh (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "sigh_deeply" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_animNodHead (obj_id player, obj_id npc)
{
	doAnimationAction( npc, "nod_head_once" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_actionSit (obj_id player, obj_id npc)
{
	ai_lib.setDefaultCalmMood ( npc, "npc_sitting_chair" );
}

// ----------------------------------------------------------------------

void tatooine_rebel_trainer_2_action_rewardFirstQuest (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "destroy", "rebel_destroy_03" ) )
	{
		space_quest.setQuestRewarded( player, "destroy", "rebel_destroy_03" );
		factions.addFactionStanding( player, factions.FACTION_REBEL, 75.0f );
	}
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_rebel_trainer_2_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So. I hear it was pretty rough out there. Would you like to try helping us again?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am ready.
	if (response == "s_65c6992e")
	{
		tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animNodHead (player, npc);

			//-- NPC: Good! Eliminate all Black Sun fighters at this nav point and return to me when you are finished.
			string_id message = new string_id (c_stringFile, "s_7f5b6f74");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I can't believe you aborted the first mission I gave you! I hope you're here to try again, soldier!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am ready.
	if (response == "s_65c6992e")
	{
		tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animNodHead (player, npc);

			//-- NPC: Good! Eliminate all Black Sun fighters at this nav point and return to me when you are finished.
			string_id message = new string_id (c_stringFile, "s_7f5b6f74");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How did the sensor sweep go?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The mission is still in-progress.
	if (response == "s_9ac87532")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animPointAway (player, npc);

			//-- NPC: Then get back out there and make it happen!
			string_id message = new string_id (c_stringFile, "s_14bb212a");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sweep is done, and our ship is safe.
	if (response == "s_c49dadaf")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animPoundFist (player, npc);

			//-- NPC: Outstanding! Let me know when you are ready to fly again!
			string_id message = new string_id (c_stringFile, "s_b65b63e");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you ready for your next assignment?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You got it.
	if (response == "s_6c251948")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantSecondQuest (player, npc);

			//-- NPC: Good. One of our top pilots is using a modified Y-Wing in this system to gather sensor data for the Alliance. Meet him at the rally point, and make sure he finishes his sensor sweep in one piece!
			string_id message = new string_id (c_stringFile, "s_b76bbf5f");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you have a progress report for me, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The mission is still in-progress.
	if (response == "s_9ac87532")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animPointAway (player, npc);

			//-- NPC: Then get back out there and make it happen!
			string_id message = new string_id (c_stringFile, "s_14bb212a");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Those Black Sun fighters are history.
	if (response == "s_fc01f22f")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_rewardFirstQuest (player, npc);

			//-- NPC: Outstanding! Talk to me when you're ready to fly again.
			string_id message = new string_id (c_stringFile, "s_9ccfeefa");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I haven't even left yet.
	if (response == "s_32583e8e")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animWarn (player, npc);

			//-- NPC: You're wasting my time, kid!
			string_id message = new string_id (c_stringFile, "s_30e82ed");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] This is the default branch for players that have no Rebel, Imperial or Pilot skills
	//-- NPC: Are you ready for a very dangerous mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am ready.
	if (response == "s_65c6992e")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animPoundFist (player, npc);

			//-- NPC: Perfect. We have word that a Black Sun assassin force is gathering strength somewhere deep in the Tatooine system.
			string_id message = new string_id (c_stringFile, "s_95ca3dcc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How dangerous?
	if (response == "s_9633bc98")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animGestureWild (player, npc);

			//-- NPC: Gonzo dangerous! An INSANE mission that will kill you flat out!
			string_id message = new string_id (c_stringFile, "s_803bce3f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm not afraid.
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Seems like a waste of resources.
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Tell me about it, then.
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76c732ab");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4e1e1511");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_704ffa17");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does it pay?
	if (response == "s_3a8e238f")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animTaunt (player, npc);

			//-- NPC: Are you kidding me? This is the Alliance, friend! Straighten up!
			string_id message = new string_id (c_stringFile, "s_add38b4");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perfect. We have word that a Black Sun assassin force is gathering strength somewhere deep in the Tatooine system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm. This seems a bit rough.
	if (response == "s_ce77bdfc")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: Well, if you're not ready - just say so!
			string_id message = new string_id (c_stringFile, "s_24fcd0f1");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm. This seems a bit rough.
	if (response == "s_ce77bdfc")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: Well, if you're not ready - just say so!
			string_id message = new string_id (c_stringFile, "s_24fcd0f1");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Hmm. This seems a bit rough.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ce77bdfc");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm. This seems a bit rough.
	if (response == "s_ce77bdfc")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: Well, if you're not ready - just say so!
			string_id message = new string_id (c_stringFile, "s_24fcd0f1");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Gonzo dangerous! An INSANE mission that will kill you flat out!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not afraid.
	if (response == "s_76c732ab")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animPoundFist (player, npc);

			//-- NPC: Perfect. We have word that a Black Sun assassin force is gathering strength somewhere deep in the Tatooine system.
			string_id message = new string_id (c_stringFile, "s_95ca3dcc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Seems like a waste of resources.
	if (response == "s_4e1e1511")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animSlowDown (player, npc);

			//-- NPC: C'mon, I'm just kidding. What say you fly for me? Bust up a Black Sun fighter rally in Quad III?
			string_id message = new string_id (c_stringFile, "s_b2f0eabb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about it, then.
	if (response == "s_704ffa17")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animExplain (player, npc);

			//-- NPC: The Black Sun are moving in to challenge the Hutts for this bit of the Outer Rim. That means bloodshed, and that's bad news for us!
			string_id message = new string_id (c_stringFile, "s_adb01382");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who is Black Sun?
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does Black Sun want?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71fdec41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eeed5bcd");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perfect. We have word that a Black Sun assassin force is gathering strength somewhere deep in the Tatooine system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: C'mon, I'm just kidding. What say you fly for me? Bust up a Black Sun fighter rally in Quad III?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Black Sun are moving in to challenge the Hutts for this bit of the Outer Rim. That means bloodshed, and that's bad news for us!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Black Sun?
	if (response == "s_71fdec41")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: You know, that would take a long time to explain. Look - I need someone with guts to take flight against a swarm of assassins. Are you interested?
			string_id message = new string_id (c_stringFile, "s_49580a34");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does Black Sun want?
	if (response == "s_eeed5bcd")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animExplain (player, npc);

			//-- NPC: They want to cut a hole through the Outer Rim to run spice, and they're sick of trying to negotiate with the Hutts...
			string_id message = new string_id (c_stringFile, "s_9d805e09");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You know, that would take a long time to explain. Look - I need someone with guts to take flight against a swarm of assassins. Are you interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They want to cut a hole through the Outer Rim to run spice, and they're sick of trying to negotiate with the Hutts...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at 'em!
	if (response == "s_c999ae60")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_grantFirstQuest (player, npc);

			//-- NPC: Excellent! The Force be with you, friend! See you soon.
			string_id message = new string_id (c_stringFile, "s_32761c80");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What sort of ships should I target?
	if (response == "s_4021e802")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animShrugHands (player, npc);

			//-- NPC: Look for any Black Sun craft in the area. They'll likely bring skiffs, some fighters, and maybe even a handful of gunboats.
			string_id message = new string_id (c_stringFile, "s_e3034e87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where exactly?
	if (response == "s_8d90443c")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

			//-- NPC: Deep in Tatooine system quadrant III. I think they're prepping to stage an assault on the Hutts... and a lot of our friends could get caught in the cross-fire.
			string_id message = new string_id (c_stringFile, "s_bf46ea6c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let me at 'em!
			boolean hasResponse0 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What sort of ships should I target?
			boolean hasResponse1 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where exactly?
			boolean hasResponse2 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I must decline.
			boolean hasResponse3 = false;
			if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c999ae60");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4021e802");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d90443c");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9d7e5a09");

				setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

				npcSpeak (player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must decline.
	if (response == "s_9d7e5a09")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animStop (player, npc);

			//-- NPC: If you weren't ready, you should've said so!
			string_id message = new string_id (c_stringFile, "s_c1cb6e44");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_rebel_trainer_2_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hold on, pal. I don't think you're ready to work for me, yet.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You sure?
	if (response == "s_1f680e83")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animDismiss (player, npc);

			//-- NPC: Heh. Get some missions under your belt, friend. Then come talk to me.
			string_id message = new string_id (c_stringFile, "s_7aa2ae19");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What should I do?
	if (response == "s_57c8489e")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animNodHead (player, npc);

			//-- NPC: Talk to the general. She'll have work for you.
			string_id message = new string_id (c_stringFile, "s_ad45bcbf");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who are you?
	if (response == "s_ca776e30")
	{
		//-- [NOTE] 
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			tatooine_rebel_trainer_2_action_animDisgust (player, npc);

			//-- NPC: You'll know when you need to know. Talk to the general. She's bound to have work for you.
			string_id message = new string_id (c_stringFile, "s_56ea3421");
			removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

			npcSpeak (player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_rebel_trainer_2");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_REBEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_REBEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_rebel_trainer_2");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasImperialSkill (player, npc))
	{
		tatooine_rebel_trainer_2_action_animDismiss (player, npc);

		//-- NPC: I have nothing to say to you.
		string_id message = new string_id (c_stringFile, "s_32c77056");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasPilotSkill (player, npc))
	{
		tatooine_rebel_trainer_2_action_animPointAway (player, npc);

		//-- NPC: Get out of here, pirate!
		string_id message = new string_id (c_stringFile, "s_4243cd30");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasFailedFirstQuest (player, npc))
	{
		tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

		//-- NPC: So. I hear it was pretty rough out there. Would you like to try helping us again?
		string_id message = new string_id (c_stringFile, "s_8af71059");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I am ready.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65c6992e");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 3);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasAbortedFirstQuest (player, npc))
	{
		tatooine_rebel_trainer_2_action_animScratchHead (player, npc);

		//-- NPC: I can't believe you aborted the first mission I gave you! I hope you're here to try again, soldier!
		string_id message = new string_id (c_stringFile, "s_f3a2a7d2");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I am ready.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65c6992e");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 5);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasSecondQuest (player, npc))
	{
		tatooine_rebel_trainer_2_action_animSaluteEachOther (player, npc);

		//-- NPC: How did the sensor sweep go?
		string_id message = new string_id (c_stringFile, "s_340e3cc");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The mission is still in-progress.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sweep is done, and our ship is safe.
		boolean hasResponse1 = false;
		if (tatooine_rebel_trainer_2_condition_hasWonSecondQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9ac87532");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c49dadaf");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 7);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasWonFirstQuest (player, npc))
	{
		tatooine_rebel_trainer_2_action_animSalute1 (player, npc);

		//-- NPC: Are you ready for your next assignment?
		string_id message = new string_id (c_stringFile, "s_113f133e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You got it.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6c251948");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 10);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition_hasFirstQuest (player, npc))
	{
		tatooine_rebel_trainer_2_action_animSaluteEachOther (player, npc);

		//-- NPC: Do you have a progress report for me, pilot?
		string_id message = new string_id (c_stringFile, "s_ef7c4c8");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The mission is still in-progress.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Those Black Sun fighters are history.
		boolean hasResponse1 = false;
		if (tatooine_rebel_trainer_2_condition_hasWonFirstQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: No, I haven't even left yet.
		boolean hasResponse2 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9ac87532");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fc01f22f");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_32583e8e");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 12);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] This is the default branch for players that have no Rebel, Imperial or Pilot skills
	if (tatooine_rebel_trainer_2_condition_hasFinishedNewbieSeries (player, npc))
	{
		tatooine_rebel_trainer_2_action_animSlitThroat (player, npc);

		//-- NPC: Are you ready for a very dangerous mission?
		string_id message = new string_id (c_stringFile, "s_3e8d2533");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I am ready.
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: How dangerous?
		boolean hasResponse1 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: What does it pay?
		boolean hasResponse2 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65c6992e");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9633bc98");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3a8e238f");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 16);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
	{
		tatooine_rebel_trainer_2_action_animSlowDown (player, npc);

		//-- NPC: Hold on, pal. I don't think you're ready to work for me, yet.
		string_id message = new string_id (c_stringFile, "s_1d2c155d");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You sure?
		boolean hasResponse0 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What should I do?
		boolean hasResponse1 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Who are you?
		boolean hasResponse2 = false;
		if (tatooine_rebel_trainer_2_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1f680e83");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_57c8489e");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ca776e30");

			setObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId", 33);

			npcStartConversation (player, npc, "tatooine_rebel_trainer_2", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_rebel_trainer_2")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = getIntObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

	if (branchId == 3 && tatooine_rebel_trainer_2_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && tatooine_rebel_trainer_2_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && tatooine_rebel_trainer_2_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && tatooine_rebel_trainer_2_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && tatooine_rebel_trainer_2_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && tatooine_rebel_trainer_2_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && tatooine_rebel_trainer_2_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && tatooine_rebel_trainer_2_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && tatooine_rebel_trainer_2_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_rebel_trainer_2_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && tatooine_rebel_trainer_2_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && tatooine_rebel_trainer_2_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && tatooine_rebel_trainer_2_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && tatooine_rebel_trainer_2_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && tatooine_rebel_trainer_2_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && tatooine_rebel_trainer_2_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && tatooine_rebel_trainer_2_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && tatooine_rebel_trainer_2_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	removeObjVar (player, "conversation.tatooine_rebel_trainer_2.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

