// ======================================================================
//
// poi_tatooine_general_1.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.28 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.space_combat;
include library.space_flags;
include library.space_quest;
include library.space_skill;
include library.space_transition;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/poi_tatooine_general_1";

// ======================================================================
// Script Conditions
// ======================================================================

boolean poi_tatooine_general_1_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_failedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "patrol", "poi_tatooine_general_1" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "patrol", "poi_tatooine_general_1" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_failedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "inspect", "poi_tatooine_general_2" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "inspect", "poi_tatooine_general_2" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_failedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "space_battle", "poi_tatooine_general_3" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "space_battle", "poi_tatooine_general_3" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_hasCompletedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "patrol", "poi_tatooine_general_1"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_hasCompletedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "inspect", "poi_tatooine_general_2"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_hasCompletedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasCompletedQuestRecursive( player, "space_battle", "poi_tatooine_general_3"))
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_collectingQuestOneReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "patrol", "poi_tatooine_general_1") &&
		!space_quest.hasReceivedReward( player, "patrol", "poi_tatooine_general_1" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_collectingQuestTwoReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "inspect", "poi_tatooine_general_2") &&
		!space_quest.hasReceivedReward( player, "inspect", "poi_tatooine_general_2" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_collectingQuestThreeReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if (space_quest.hasCompletedQuestRecursive( player, "space_battle", "poi_tatooine_general_3") &&
		!space_quest.hasReceivedReward( player, "space_battle", "poi_tatooine_general_3" ))
		
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_isCorrectFaction (obj_id player, obj_id npc)
{
	//if this is an Imperial trainer, make sure the player is an Imperial Pilot
	//if it is Rebel, then make sure the player is a rebel pilot, etc.
	//return FALSE if this NPC should NOT talk to this player!
	
	return ( hasSkill( player, "pilot_neutral_novice" ) );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_isNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, "jabba" ) < 0.0f );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_hasAnyQuest (obj_id player, obj_id npc)
{
	return space_quest.hasQuest ( player );
}

// ----------------------------------------------------------------------

boolean poi_tatooine_general_1_condition_isTooFar (obj_id player, obj_id npc)
{
	space_combat.playCombatTauntSound( player );
	obj_id containingShip = space_transition.getContainingShip(player);
	return ( getDistance( npc, containingShip ) > space_transition.STATION_COMM_MAX_DISTANCE );
}

// ======================================================================
// Script Actions
// ======================================================================

void poi_tatooine_general_1_action_grantQuestOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "patrol", "poi_tatooine_general_1" );
}

// ----------------------------------------------------------------------

void poi_tatooine_general_1_action_grantQuestTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "inspect", "poi_tatooine_general_2" );
}

// ----------------------------------------------------------------------

void poi_tatooine_general_1_action_grantQuestThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "space_battle", "poi_tatooine_general_3" );
}

// ----------------------------------------------------------------------

void poi_tatooine_general_1_action_rewardForQuestOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "patrol", "poi_tatooine_general_1" ))
	{
		space_quest.giveReward( player, "patrol", "poi_tatooine_general_1", 7000 );
	}
}

// ----------------------------------------------------------------------

void poi_tatooine_general_1_action_rewardForQuestTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "inspect", "poi_tatooine_general_2" ))
	{
		space_quest.giveReward( player, "inspect", "poi_tatooine_general_2", 15000 );
	}
}

// ----------------------------------------------------------------------

void poi_tatooine_general_1_action_rewardForQuestThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "space_battle", "poi_tatooine_general_3" ))
	{
		space_quest.giveReward( player, "space_battle", "poi_tatooine_general_3", 25000 );
	}
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int poi_tatooine_general_1_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why are you back already?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I kinda failed my mission.
	if (response == "s_fcf8c341")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestTwo (player, npc);

			//-- NPC: [sigh] I see. It is not too late. Go out there and try again.
			string_id message = new string_id (c_stringFile, "s_c738862c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you. [salute]
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_603f6374");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: [sigh] I see. It is not too late. Go out there and try again.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you. [salute]
	if (response == "s_603f6374")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: [nods and salutes]
			string_id message = new string_id (c_stringFile, "s_30a4f2c3");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've heard nothing but bad news about your performance. What went wrong?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know.. the Black Nemesis is more difficult than I expected.
	if (response == "s_406612f9")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestThree (player, npc);

			//-- NPC: Indeed. He's still out there though. What are you waiting for! Go try again!
			string_id message = new string_id (c_stringFile, "s_8a564db7");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What happened out there? All I could hear was static.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I failed my mission.
	if (response == "s_14b13184")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestOne (player, npc);

			//-- NPC: I see. Well, it's not too late to try again. Please go out there and complete your mission. It's important.
			string_id message = new string_id (c_stringFile, "s_fe1b33c5");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see you have returned and so quickly! Here is your reward for the tasks you have completed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why thank you.
	if (response == "s_81b811c0")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_rewardForQuestOne (player, npc);

			//-- NPC: Soon, I will have more work for you. Visit me when you have the time.
			string_id message = new string_id (c_stringFile, "s_c5afcca4");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, my friend. You've cleared all the work I have for you now. However, I didn't forget to process your reward.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you. No more work, huh?
	if (response == "s_6fc5551a")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_rewardForQuestThree (player, npc);

			//-- NPC: I wish it were different. Thank you for all of your hard work.
			string_id message = new string_id (c_stringFile, "s_2a29152c");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've done well with the tasks I've given you so far. I still have more work if you're interested. Check back with me in a few seconds. I have to clear another freighter for travel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you again. I will.
	if (response == "s_e7cb1e01")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_rewardForQuestTwo (player, npc);

			//-- NPC: Over and out.
			string_id message = new string_id (c_stringFile, "s_e7f5f946");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Black Nemesis has been defeated. Our freighters will be able to travel safely now because of you. I am very grateful for your help. Unfortunately, our work together must end. I have no more that needs to be done.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's sad. Maybe some other time.
	if (response == "s_21c417c8")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed. Thank you again for the help you've so selflessly lent us.
			string_id message = new string_id (c_stringFile, "s_e7af48c");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am eager to hear what you have to say, my friend. What did you discover?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [You tell Kelen about the Black Nemesis]
	if (response == "s_b4b3fdb5")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Black Nemesis?! Yes, I have briefly heard of such a 'ghost' a long time ago. Yes, indeed. Even in the information you retrieved off the Black Suns it was mentioned about a mysterious fighter in the Ghost Tide. It is time to act against this so-called Black Nemesis! Will you continue to be an asset to us and help?
			string_id message = new string_id (c_stringFile, "s_ea18852");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I need details.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I really don't want to help right now.
			boolean hasResponse1 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_676ef8a2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8d73b3f1");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Black Nemesis?! Yes, I have briefly heard of such a 'ghost' a long time ago. Yes, indeed. Even in the information you retrieved off the Black Suns it was mentioned about a mysterious fighter in the Ghost Tide. It is time to act against this so-called Black Nemesis! Will you continue to be an asset to us and help?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need details.
	if (response == "s_676ef8a2")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. Your next task entails going up against this Black Nemesis. You'll need help, however. I'm going to employ the help of my two best fighter pilots to aid you in this. It won't be easy. Will you accept this task and help us against the Black Nemesis?
			string_id message = new string_id (c_stringFile, "s_bf8bb897");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah, sure. Why not?
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Black Nemesis or no, I don't want to help.
			boolean hasResponse1 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6324b0d2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c8053613");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really don't want to help right now.
	if (response == "s_8d73b3f1")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: How unfortunate.
			string_id message = new string_id (c_stringFile, "s_95d8887f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. Your next task entails going up against this Black Nemesis. You'll need help, however. I'm going to employ the help of my two best fighter pilots to aid you in this. It won't be easy. Will you accept this task and help us against the Black Nemesis?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, sure. Why not?
	if (response == "s_6324b0d2")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestThree (player, npc);

			//-- NPC: I like to hear such eagerness! Go then, and be quick about it. I've uploaded the information you'll need to complete your mission. I wish you luck.
			string_id message = new string_id (c_stringFile, "s_a020b1a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b9b27823");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Nemesis or no, I don't want to help.
	if (response == "s_c8053613")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see.
			string_id message = new string_id (c_stringFile, "s_61657d0f");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I like to hear such eagerness! Go then, and be quick about it. I've uploaded the information you'll need to complete your mission. I wish you luck.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_b9b27823")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Over and out.
			string_id message = new string_id (c_stringFile, "s_e7f5f946");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You've returned so quickly! What have you discovered?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [You relay the events to Kelen]
	if (response == "s_a118c43e")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: No... I cannot readily assume it was merely Black Suns attacking our freighters. There has to be something more devious out there! Just let me think... Of course!! I have a second task for you, my friend, if you're up to it.
			string_id message = new string_id (c_stringFile, "s_239edf9a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't know. What does it entail?
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm going to think about doing this later..
			boolean hasResponse1 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_969c4dc2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a18139bb");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No... I cannot readily assume it was merely Black Suns attacking our freighters. There has to be something more devious out there! Just let me think... Of course!! I have a second task for you, my friend, if you're up to it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know. What does it entail?
	if (response == "s_969c4dc2")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: You say you saw Black Suns in the Ghost Tide Nebula, correct? I don't think the Black Suns are all that stupid. Perhaps if there's information on them... You need to go out and disable a few and get me the information they might have. I'm not certain any information or clues exist, but I'm willing to take the chance. Are you interested?
			string_id message = new string_id (c_stringFile, "s_724ce284");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure, I guess.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather not take this on quite yet.
			boolean hasResponse1 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ec4258cd");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1c914ce3");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going to think about doing this later..
	if (response == "s_a18139bb")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'll have to investigate this myself!
			string_id message = new string_id (c_stringFile, "s_de1d7ae9");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You say you saw Black Suns in the Ghost Tide Nebula, correct? I don't think the Black Suns are all that stupid. Perhaps if there's information on them... You need to go out and disable a few and get me the information they might have. I'm not certain any information or clues exist, but I'm willing to take the chance. Are you interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, I guess.
	if (response == "s_ec4258cd")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestTwo (player, npc);

			//-- NPC: Good. Again, I need you to find the Black Suns in the Ghost Tide Nebula, disable them and inspect them for information. Bring any information you find to me. Time is of the essence!
			string_id message = new string_id (c_stringFile, "s_18a00d6a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's as good as done!
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_668c0704");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather not take this on quite yet.
	if (response == "s_1c914ce3")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bah!
			string_id message = new string_id (c_stringFile, "s_6e5b35c0");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Again, I need you to find the Black Suns in the Ghost Tide Nebula, disable them and inspect them for information. Bring any information you find to me. Time is of the essence!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's as good as done!
	if (response == "s_668c0704")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Over and out!
			string_id message = new string_id (c_stringFile, "s_dfba44fb");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There has been a disturbance in the galaxy...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are you talking about...?
	if (response == "s_f0445c1d")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh. I'm sorry. I was rambling. But you're here and that's all that matters. I'm in need of assistance. I need someone brave, intelligent... and someone who is able to think 'outside the box', if you will. Are you that individual?
			string_id message = new string_id (c_stringFile, "s_11ee3ff6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I really need to know what's going on.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c9f21b00");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm so not going to get into this.
	if (response == "s_ae1a82fc")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: ...
			string_id message = new string_id (c_stringFile, "s_9208410d");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh. I'm sorry. I was rambling. But you're here and that's all that matters. I'm in need of assistance. I need someone brave, intelligent... and someone who is able to think 'outside the box', if you will. Are you that individual?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really need to know what's going on.
	if (response == "s_c9f21b00")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: You haven't heard of the freighter disappearances? Where have you been, man?! Let me explain. Firstly, I am Kelen Wordkal, Mos Eisley Police Captain. One of my duties is to clear freighters to their destination. It is their duty to check in with me so I know they've reached it safely. The freighters cleared to go through the Ghost Tide Nebula have never returned...
			string_id message = new string_id (c_stringFile, "s_7d7ae55");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: This sounds like a wild goose chase. Ghosts?
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3313e38");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You haven't heard of the freighter disappearances? Where have you been, man?! Let me explain. Firstly, I am Kelen Wordkal, Mos Eisley Police Captain. One of my duties is to clear freighters to their destination. It is their duty to check in with me so I know they've reached it safely. The freighters cleared to go through the Ghost Tide Nebula have never returned...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This sounds like a wild goose chase. Ghosts?
	if (response == "s_3313e38")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Possibly. I just need someone to investigate. Will you?
			string_id message = new string_id (c_stringFile, "s_c0dec268");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah, I guess so.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Nah. Ghosts are scary.
			boolean hasResponse1 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a99397a");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76cb0e7f");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Possibly. I just need someone to investigate. Will you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, I guess so.
	if (response == "s_a99397a")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			poi_tatooine_general_1_action_grantQuestOne (player, npc);

			//-- NPC: Good. I need you to patrol the Ghost Tide nebula in search of odd activities. I have no idea what we're looking for here. I have no idea what we're looking for here. However, I do suspect that whatever or whomever is causing the freighters to disappear will show up soon enough. I've transmitted the data you'll need to complete your mission. Please... be safe.
			string_id message = new string_id (c_stringFile, "s_e635adbf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You can count on me.
			boolean hasResponse0 = false;
			if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fdba7430");

				utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

				chat.chat (npc, player, message);
				npcEndConversation (player);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nah. Ghosts are scary.
	if (response == "s_76cb0e7f")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see you have no desire to help us. Go away. This is a serious matter!!
			string_id message = new string_id (c_stringFile, "s_890511af");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int poi_tatooine_general_1_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. I need you to patrol the Ghost Tide nebula in search of odd activities. I have no idea what we're looking for here. I have no idea what we're looking for here. However, I do suspect that whatever or whomever is causing the freighters to disappear will show up soon enough. I've transmitted the data you'll need to complete your mission. Please... be safe.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me.
	if (response == "s_fdba7430")
	{
		//-- [NOTE] 
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			//-- NPC: Glad to hear it. Over and out.
			string_id message = new string_id (c_stringFile, "s_8167d29a");
			utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

			chat.chat (npc, player, message);
			npcEndConversation (player);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.poi_tatooine_general_1");

	setCondition (self, CONDITION_CONVERSABLE);
	
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.poi_tatooine_general_1");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_isTooFar (player, npc))
	{
		//-- NPC: I think you're too far away. I can't get your signal.
		string_id message = new string_id (c_stringFile, "s_cd91abc2");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_hasAnyQuest (player, npc))
	{
		//-- NPC: You seem rather busy. You should probably come back a little bit later. I may have some tasks that may suit you.
		string_id message = new string_id (c_stringFile, "s_c14d0f0c");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_failedQuestTwo (player, npc))
	{
		//-- NPC: Why are you back already?
		string_id message = new string_id (c_stringFile, "s_255d3625");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I kinda failed my mission.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fcf8c341");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 3);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_failedQuestThree (player, npc))
	{
		//-- NPC: I've heard nothing but bad news about your performance. What went wrong?
		string_id message = new string_id (c_stringFile, "s_c34478b1");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I don't know.. the Black Nemesis is more difficult than I expected.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_406612f9");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 6);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_failedQuestOne (player, npc))
	{
		//-- NPC: What happened out there? All I could hear was static.
		string_id message = new string_id (c_stringFile, "s_dc79df4f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I failed my mission.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_14b13184");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 8);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_collectingQuestOneReward (player, npc))
	{
		//-- NPC: I see you have returned and so quickly! Here is your reward for the tasks you have completed.
		string_id message = new string_id (c_stringFile, "s_28c5432f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why thank you.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81b811c0");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 10);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_collectingQuestThreeReward (player, npc))
	{
		//-- NPC: Ah, my friend. You've cleared all the work I have for you now. However, I didn't forget to process your reward.
		string_id message = new string_id (c_stringFile, "s_1d52b30");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you. No more work, huh?
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6fc5551a");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 12);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_collectingQuestTwoReward (player, npc))
	{
		//-- NPC: You've done well with the tasks I've given you so far. I still have more work if you're interested. Check back with me in a few seconds. I have to clear another freighter for travel.
		string_id message = new string_id (c_stringFile, "s_3c3a1569");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Thank you again. I will.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e7cb1e01");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 14);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_hasCompletedQuestThree (player, npc))
	{
		//-- NPC: The Black Nemesis has been defeated. Our freighters will be able to travel safely now because of you. I am very grateful for your help. Unfortunately, our work together must end. I have no more that needs to be done.
		string_id message = new string_id (c_stringFile, "s_dfe42352");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: That's sad. Maybe some other time.
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_21c417c8");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 16);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_hasCompletedQuestTwo (player, npc))
	{
		//-- NPC: I am eager to hear what you have to say, my friend. What did you discover?
		string_id message = new string_id (c_stringFile, "s_9eaf76c6");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [You tell Kelen about the Black Nemesis]
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b4b3fdb5");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 18);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition_hasCompletedQuestOne (player, npc))
	{
		//-- NPC: You've returned so quickly! What have you discovered?
		string_id message = new string_id (c_stringFile, "s_e8b2ad1e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [You relay the events to Kelen]
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a118c43e");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 25);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
	{
		//-- NPC: There has been a disturbance in the galaxy...
		string_id message = new string_id (c_stringFile, "s_a23289f6");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What are you talking about...?
		boolean hasResponse0 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm so not going to get into this.
		boolean hasResponse1 = false;
		if (poi_tatooine_general_1_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f0445c1d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_ae1a82fc");

			utils.setScriptVar (player, "conversation.poi_tatooine_general_1.branchId", 32);

			npcStartConversation (player, npc, "poi_tatooine_general_1", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "poi_tatooine_general_1")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

	if (branchId == 3 && poi_tatooine_general_1_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && poi_tatooine_general_1_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && poi_tatooine_general_1_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && poi_tatooine_general_1_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && poi_tatooine_general_1_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && poi_tatooine_general_1_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && poi_tatooine_general_1_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && poi_tatooine_general_1_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && poi_tatooine_general_1_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && poi_tatooine_general_1_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && poi_tatooine_general_1_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && poi_tatooine_general_1_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && poi_tatooine_general_1_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && poi_tatooine_general_1_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && poi_tatooine_general_1_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && poi_tatooine_general_1_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && poi_tatooine_general_1_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && poi_tatooine_general_1_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && poi_tatooine_general_1_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && poi_tatooine_general_1_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && poi_tatooine_general_1_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.poi_tatooine_general_1.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

