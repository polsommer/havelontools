// ======================================================================
//
// imperial_master_trainer.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.prose;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.static_item;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/imperial_master_trainer";

// ======================================================================
// Script Conditions
// ======================================================================

boolean imperial_master_trainer_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isReadyforMasterImperial (obj_id player, obj_id npc)
{
	//you only want to return True here if the pilot is an Imperial pilot!
	if (!space_flags.isImperialPilot( player ))
		return false;
		
	//if you're missing any of these skills, then you aren't ready for tier3
	if 	(hasSkill( player, "pilot_imperial_navy_starships_04") &&		
		hasSkill( player, "pilot_imperial_navy_procedures_04") &&
		hasSkill( player, "pilot_imperial_navy_weapons_04") &&
		hasSkill( player, "pilot_imperial_navy_droid_04" ))
			return true;
	else	
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isReadyforMasterPrivateer (obj_id player, obj_id npc)
{
	//you only want to return False here if the player really is a Privateer
	if (!space_flags.isNeutralPilot(player))
		return false;

	//if you're missing any of these skills, then you aren't ready for tier3
	if 	(hasSkill( player, "pilot_neutral_starships_04") &&		
		hasSkill( player, "pilot_neutral_procedures_04") &&
		hasSkill( player, "pilot_neutral_weapons_04") &&
		hasSkill( player, "pilot_neutral_droid_04" ))
			return true;
	else		
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isRebelPilot (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_rebel_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isSmuggler (obj_id player, obj_id npc)
{
	if (space_flags.isSpaceTrack(player, space_flags.PRIVATEER_TATOOINE))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isWorkingForRebellion (obj_id player, obj_id npc)
{
	if(space_flags.hasSpaceFlag(player, "master_mission_rebel"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasWonMissionOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "destroy", "master_imperial_1" ) &&
	!space_quest.hasReceivedReward( player, "destroy", "master_imperial_1" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasWonMissionTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "destroy", "master_imperial_2" ) &&
	!space_quest.hasReceivedReward( player, "destroy", "master_imperial_2" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasFailedMissionOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "destroy", "master_imperial_1" ) ||
		space_quest.hasAbortedQuest( player, "destroy", "master_imperial_1" ) )
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasFailedMissionTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuest( player, "destroy", "master_imperial_2" ) ||
		space_quest.hasAbortedQuest( player, "destroy", "master_imperial_2" ) )
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isOnMasterQuest (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest( player, "destroy", "master_imperial_1" ) ||
		 space_quest.hasQuest( player, "destroy", "master_imperial_2" ) );
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasMasterImperialSkill (obj_id player, obj_id npc)
{
	return hasSkill(player, "pilot_imperial_navy_master");
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isPrivateer (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_neutral_novice" ));
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasReceivedRewardOneNeut (obj_id player, obj_id npc)
{
	if 	( 	space_quest.hasReceivedReward( player, "destroy", "master_imperial_1" ) &&
			hasSkill(player, "pilot_neutral_starships_04") )
			return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasReceivedRewardOneImp (obj_id player, obj_id npc)
{
	if ( space_quest.hasReceivedReward( player, "destroy", "master_imperial_1" ) &&
		 hasSkill(player, "pilot_imperial_navy_starships_04"))
			return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isCorsec (obj_id player, obj_id npc)
{
	if (space_flags.isSpaceTrack(player, space_flags.PRIVATEER_CORELLIA))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isRSF (obj_id player, obj_id npc)
{
	if (space_flags.isSpaceTrack(player, space_flags.PRIVATEER_NABOO))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasOtherMasterSkill (obj_id player, obj_id npc)
{
	return hasSkill(player, "pilot_neutral_master");
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isOnQuest (obj_id player, obj_id npc)
{
	return space_quest.hasQuest( player );
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isNotReadyforMasterImperial (obj_id player, obj_id npc)
{
	//you only want to return True here if the pilot is an Imperial pilot!
	if (!space_flags.isImperialPilot( player ))
		return false;
		
	//if you're missing any of these skills, then you aren't ready for tier3
	if 	(!hasSkill( player, "pilot_imperial_navy_starships_04") ||		
		!hasSkill( player, "pilot_imperial_navy_procedures_04") ||
		!hasSkill( player, "pilot_imperial_navy_weapons_04") ||
		!hasSkill( player, "pilot_imperial_navy_droid_04" ))
			return true;
	else	
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isNotReadyforMasterPrivateer (obj_id player, obj_id npc)
{
	//you only want to return False here if the player really is a Privateer
	if (!space_flags.isNeutralPilot(player))
		return false;

	//if you're missing any of these skills, then you aren't ready for tier3
	if 	(!hasSkill( player, "pilot_neutral_starships_04") ||		
		!hasSkill( player, "pilot_neutral_procedures_04") ||
		!hasSkill( player, "pilot_neutral_weapons_04") ||
		!hasSkill( player, "pilot_neutral_droid_04" ))
			return true;
	else		
		return false;
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_isImperial (obj_id player, obj_id npc)
{
	return ( hasSkill( player, "pilot_imperial_navy_novice" ));
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasImperialMasterNoMedal (obj_id player, obj_id npc)
{
	if (hasObjVar (player, "master_imperial_medal_recieved"))
		return false;//you already got the medal
	
	return hasSkill(player, "pilot_imperial_navy_master");
}

// ----------------------------------------------------------------------

boolean imperial_master_trainer_condition_hasNeutralMasterNoMedal (obj_id player, obj_id npc)
{
	if (hasObjVar (player, "master_neutral_medal_recieved"))
		return false;//you already got the medal
	
	return hasSkill (player, "pilot_neutral_master");
}

// ======================================================================
// Script Actions
// ======================================================================

void imperial_master_trainer_action_setWorkingForImperial (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "master_mission_imperial", true);
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMasterSkillBoxImperial (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_master");
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMasterSkillBoxNeutral (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_neutral_master");
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_giveRewardOneImp (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "destroy", "master_imperial_1", 25000, "object/tangible/wearables/jacket/jacket_ace_imperial.iff");
	factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 200.0f );
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_giveRewardTwoImp (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "destroy", "master_imperial_2", 50000, "object/tangible/wearables/helmet/helmet_fighter_imperial_ace.iff" );
	factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 400.0f );
	
	imperial_master_trainer_action_grantMedalImperial(player, npc);
	
	space_flags.setSpaceFlag(player, "master_pilot_medal_recieved", true);
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy", "master_imperial_1" );
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy", "master_imperial_2" );
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_giveRewardTwoPriv (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "destroy", "master_imperial_2", 50000, "object/tangible/wearables/helmet/helmet_fighter_privateer_ace.iff" );
	factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 400.0f );
	//give medal
	imperial_master_trainer_action_grantMedalNeutral(player, npc);
	
	space_flags.setSpaceFlag(player, "master_pilot_medal_recieved", true);
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_giveRewardOnePriv (obj_id player, obj_id npc)
{
	// Animation.
	faceTo( npc, player );
	
	// Give credits.
	space_quest.giveReward( player, "destroy", "master_imperial_1", 25000, "object/tangible/wearables/jacket/jacket_ace_privateer.iff" );
	factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 200.0f );
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMedalImperial (obj_id player, obj_id npc)
{
	setObjVar (player, "master_imperial_medal_recieved", 1);
	
	obj_id item = static_item.createNewItemFunction("item_quest_reward_imperial_pilot_medal_01_01", player);
	string_id name = new string_id ( "static_item_n", "item_quest_reward_imperial_pilot_medal_01_01" );
	prose_package pp = new prose_package ();
	pp = prose.setStringId(pp, new string_id( "quest/ground/system_message", "placed_in_inventory" ));
	pp = prose.setTO(pp, name);
	sendQuestSystemMessage(player, pp);
}

// ----------------------------------------------------------------------

void imperial_master_trainer_action_grantMedalNeutral (obj_id player, obj_id npc)
{
	setObjVar (player, "master_neutral_medal_recieved", 1);
	
	obj_id item = static_item.createNewItemFunction("item_quest_reward_neutral_pilot_medal_01_01", player);
	string_id name = new string_id ( "static_item_n", "item_quest_reward_neutral_pilot_medal_01_01" );
	prose_package pp = new prose_package ();
	pp = prose.setStringId(pp, new string_id( "quest/ground/system_message", "placed_in_inventory" ));
	pp = prose.setTO(pp, name);
	sendQuestSystemMessage(player, pp);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string imperial_master_trainer_tokenTO_tokenTO0001 (obj_id player, obj_id npc)
{
	return new string();
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int imperial_master_trainer_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot, what is the meaning of this? If I wish to speak to you I will have your superior officer inform you. Until that time I expect you to act with the appropriateness of a member of the Imperial Navy and only speak to your betters when spoken to.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir.
	if (response == "s_f2aa6939")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Did I ask for an apology? Get out of my sight before I decide to have you brought up on insubordination charges.
			string_id message = new string_id (c_stringFile, "s_46a8c207");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have disappointed me. Your former superiors spoke so highly of you that I assumed you were skilled enough to handle the important task that I gave to you. Perhaps they need me to teach them how to pick a good pilot from an incompetent buffoon.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There is no need for that, sir.
	if (response == "s_21a81b0b")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: So you show some loyalty to those who have supported you. Loyalty is a good trait to have for a soldier, as long as you do not misplace that loyalty. I demand that you show loyalty to me and do what I have asked you to accomplish.
			string_id message = new string_id (c_stringFile, "s_9f12075");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will not fail again, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I cannot do this
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bb68f6ed");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e6cf6a6f");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am a good pilot, sir.
	if (response == "s_275")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: You certainly have an interesting way of showing your skills then, pilot. Normally when someone is good at something they accomplish any tasks involved. 
			string_id message = new string_id (c_stringFile, "s_2881a66c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am sorry, sir. Give me another chance. I will succeed.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_278");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you show some loyalty to those who have supported you. Loyalty is a good trait to have for a soldier, as long as you do not misplace that loyalty. I demand that you show loyalty to me and do what I have asked you to accomplish.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will not fail again, sir.
	if (response == "s_bb68f6ed")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: The Rebels are still using their corvettes to patrol the Kessel system with regularity. Against my better judgment, I am going to give you another chance to prove yourself worthy to wear the uniform of an Imperial Navy Flight Officer. Get to your ship and destroy the Rebel corvette patrolling the Kessel system.
			string_id message = new string_id (c_stringFile, "s_37e6fdef");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir! Thank you, sir!
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4effeedc");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I cannot do this
	if (response == "s_e6cf6a6f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pathetic.
			string_id message = new string_id (c_stringFile, "s_7d404504");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebels are still using their corvettes to patrol the Kessel system with regularity. Against my better judgment, I am going to give you another chance to prove yourself worthy to wear the uniform of an Imperial Navy Flight Officer. Get to your ship and destroy the Rebel corvette patrolling the Kessel system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir! Thank you, sir!
	if (response == "s_4effeedc")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Are you still here? On the double trooper.
			string_id message = new string_id (c_stringFile, "s_7245a3eb");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You certainly have an interesting way of showing your skills then, pilot. Normally when someone is good at something they accomplish any tasks involved. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am sorry, sir. Give me another chance. I will succeed.
	if (response == "s_278")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: To show you that I am a forgiving man, I accept your apology. And I will also give you another chance to destroy the Rebel corvette that is regularly patrolling the Kessel system. For your sake, do not fail me again. Are we understood?
			string_id message = new string_id (c_stringFile, "s_18cbe5e7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perfectly clear, sir!
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_281");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: To show you that I am a forgiving man, I accept your apology. And I will also give you another chance to destroy the Rebel corvette that is regularly patrolling the Kessel system. For your sake, do not fail me again. Are we understood?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perfectly clear, sir!
	if (response == "s_281")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: Good. Now get to your ship before I change my mind.
			string_id message = new string_id (c_stringFile, "s_283");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Did I not make myself clear to what your assignment was? Because it certainly had nothing to do with failure! You were supposed to strike the Rebel forces in Kessel and cripple their ability to control that system. Instead you come back with your tail between your legs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am sorry, sir. Give me another chance. I will not let you down.
	if (response == "s_fc42e227")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "threaten");

			//-- NPC: Let me make one thing clear. I do not care about your career. I do not care about your goals. I do not care about you. I only care about results. If you are unable to give me results then you will find out what it is to cross a Grand Admiral.
			string_id message = new string_id (c_stringFile, "s_c4069644");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will give you results, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_862d3332");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, the Rebels were stronger than initially reported.
	if (response == "s_a460d610")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Are you saying that I was wrong in my assessment of the Rebel strength in the Kessel system?
			string_id message = new string_id (c_stringFile, "s_74926dbb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, sir. Of course not, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is too hard for me
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_294");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_34ac7172");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let me make one thing clear. I do not care about your career. I do not care about your goals. I do not care about you. I only care about results. If you are unable to give me results then you will find out what it is to cross a Grand Admiral.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will give you results, sir.
	if (response == "s_862d3332")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			imperial_master_trainer_action_grantMissionOne (player, npc);

			//-- NPC: That is what I expect. I will give you another chance at attacking the Rebel positions in Kessel. Launch the attack immediately on the Rebel positions and cripple their ability to hold that system.
			string_id message = new string_id (c_stringFile, "s_cb5e0360");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir! Right away, sir!
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_59047203");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is what I expect. I will give you another chance at attacking the Rebel positions in Kessel. Launch the attack immediately on the Rebel positions and cripple their ability to hold that system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir! Right away, sir!
	if (response == "s_59047203")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: You are dismissed, pilot. Move it before I change my mind and have you flying patrols in the Dagobah system for the rest of your career.
			string_id message = new string_id (c_stringFile, "s_e1e9b306");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you saying that I was wrong in my assessment of the Rebel strength in the Kessel system?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, sir. Of course not, sir.
	if (response == "s_294")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			imperial_master_trainer_action_grantMissionOne (player, npc);

			//-- NPC: Listen to me closely because you are walking on some very thin ice right now, Pilot. You are to return to the Kessel system and destroy the Rebel positions. My plan will not fail because of the incompetence of a lowly pilot such as yourself. Are we clear?
			string_id message = new string_id (c_stringFile, "s_275d33d7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir!
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_297");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is too hard for me
	if (response == "s_34ac7172")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Then we have nothing else to talk about.
			string_id message = new string_id (c_stringFile, "s_3eccac5");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Listen to me closely because you are walking on some very thin ice right now, Pilot. You are to return to the Kessel system and destroy the Rebel positions. My plan will not fail because of the incompetence of a lowly pilot such as yourself. Are we clear?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir!
	if (response == "s_297")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are we clear?
			string_id message = new string_id (c_stringFile, "s_299");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crystal.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_301");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are we clear?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crystal.
	if (response == "s_301")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Good, now get to your ship and take out those Rebel positions in Kessel.
			string_id message = new string_id (c_stringFile, "s_1ebf705e");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Make your report, pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [relay the destruction of the Rebel Corellia Corvette]
	if (response == "s_f010d9ab")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_polite");

			//-- NPC: Excellent, then my plan worked to perfection. I cannot wait to see the smug expression on Grant's face drop when he hears of my success. Should I open or close with this success in my report to the Emperor? Hmmm, oh are you still here?
			string_id message = new string_id (c_stringFile, "s_825762e5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I haven't been dismissed yet, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I was hoping for a reward of sorts, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2f52e0af");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aa8adaf");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent, then my plan worked to perfection. I cannot wait to see the smug expression on Grant's face drop when he hears of my success. Should I open or close with this success in my report to the Emperor? Hmmm, oh are you still here?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I haven't been dismissed yet, sir.
	if (response == "s_2f52e0af")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: Of course, you haven't. You have performed excellently for me and I always reward those who serve me. You have proven yourself a very valuable asset to the Empire and more importantly you have proven yourself to me.
			string_id message = new string_id (c_stringFile, "s_a8fd6791");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I do my best, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_beb9353a");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was hoping for a reward of sorts, sir.
	if (response == "s_6aa8adaf")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: I am willing to overlook your impertinence for your success in this difficult endeavor. But make no mistake, I will not overlook any lack of respect towards me, regardless of any deed that you might have performed for me in the past.
			string_id message = new string_id (c_stringFile, "s_4008a214");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir. I didn't mean to speak out of turn.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6a66a025");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, you haven't. You have performed excellently for me and I always reward those who serve me. You have proven yourself a very valuable asset to the Empire and more importantly you have proven yourself to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do my best, sir.
	if (response == "s_beb9353a")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isPrivateer (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			imperial_master_trainer_action_grantMasterSkillBoxNeutral (player, npc);

			//-- NPC: You may not be a member of the Imperial Navy but you have shown yourself to be a loyal member and valuable asset to the Empire. I believe that you have achieved the highest level of piloting skill that anyone can hope to accomplish. And as a token of my personal appreciation I have authorized a transfer of payment to your account.
			string_id message = new string_id (c_stringFile, "s_110667a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir. It has been an honor to be allowed to serve under you.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition_isImperial (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			imperial_master_trainer_action_grantMasterSkillBoxImperial (player, npc);

			//-- NPC: Your accomplishments have proven that you are a valued asset to the Empire and a truly exceptional pilot. I believe that you have achieved the highest level of piloting skill that anyone can possess. I have also decided that a payment bonus should be transferred to your account as a show of my personal gratitude. And, most importantly, I have decided to mention your name to the Emperor, in passing of course, but still the greatest of honors.
			string_id message = new string_id (c_stringFile, "s_c6be1c53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You honor me too much. Thank you, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a1669dff");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You may not be a member of the Imperial Navy but you have shown yourself to be a loyal member and valuable asset to the Empire. I believe that you have achieved the highest level of piloting skill that anyone can hope to accomplish. And as a token of my personal appreciation I have authorized a transfer of payment to your account.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir. It has been an honor to be allowed to serve under you.
	if (response == "s_313")
	{
		imperial_master_trainer_action_giveRewardTwoPriv (player, npc);

		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Yes, I am sure it was. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ebd84e91");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your accomplishments have proven that you are a valued asset to the Empire and a truly exceptional pilot. I believe that you have achieved the highest level of piloting skill that anyone can possess. I have also decided that a payment bonus should be transferred to your account as a show of my personal gratitude. And, most importantly, I have decided to mention your name to the Emperor, in passing of course, but still the greatest of honors.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You honor me too much. Thank you, sir.
	if (response == "s_a1669dff")
	{
		imperial_master_trainer_action_giveRewardTwoImp (player, npc);

		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, maybe you are right. It might not be wise for me to mention you to the Emperor. Others might try to have you transferred under their command. Oh, you are still here. Dismissed, Pilot!
			string_id message = new string_id (c_stringFile, "s_6276e267");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am willing to overlook your impertinence for your success in this difficult endeavor. But make no mistake, I will not overlook any lack of respect towards me, regardless of any deed that you might have performed for me in the past.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir. I didn't mean to speak out of turn.
	if (response == "s_6a66a025")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well, pilot. You are correct in the assumption that you will be rewarded for your small part in making my plan a success.
			string_id message = new string_id (c_stringFile, "s_14fd07f0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I do my best, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very well, pilot. You are correct in the assumption that you will be rewarded for your small part in making my plan a success.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do my best, sir.
	if (response == "s_323")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isPrivateer (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			imperial_master_trainer_action_grantMasterSkillBoxNeutral (player, npc);

			//-- NPC: You may not be a member of the Imperial Navy but you have shown yourself to be a loyal member and valuable asset to the Empire. I believe that you have achieved the highest level of piloting skill that anyone can hope to accomplish. And as a token of my personal appreciation I have authorized a transfer of payment to your account.
			string_id message = new string_id (c_stringFile, "s_110667a0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir. It has been an honor to be allowed to serve under you.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition_isImperial (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			imperial_master_trainer_action_grantMasterSkillBoxImperial (player, npc);

			//-- NPC: Your accomplishments have proven that you are a valued asset to the Empire and a truly exceptional pilot. I believe that you have achieved the highest level of piloting skill that anyone can possess. I have also decided that a payment bonus should be transferred to your account as a show of my personal gratitude. And, most importantly, I have decided to mention your name to the Emperor, in passing of course, but still the greatest of honors.
			string_id message = new string_id (c_stringFile, "s_c6be1c53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You honor me too much. Thank you, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a1669dff");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So you have managed to dilute the Rebel influence on the Kessel system. That is good. It is good to see that you were able to follow simple orders and allow my genius planning to do its work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. Your plan worked to perfection. The Rebellion didn't know what hit them.
	if (response == "s_b8ead210")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: The Rebels are fools. They will be crushed shortly, of that I have no doubt. But I have never been one to overlook the value of a good pilot. I am beginning to see what your other superiors saw in you.
			string_id message = new string_id (c_stringFile, "s_fdd6a0a8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you, sir. I simply do my best to serve the Empire.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3ffe1ded");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, I beg to differ but I had to improvise quite a bit out there to succeed.
	if (response == "s_3876be4f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: What! Are you questioning the plan that I gave to you? Improvisation should be left to actors not Imperial Pilots. A good Imperial Pilot obeys orders without question and follows them explicitly. It's a wonder that you even succeeded.
			string_id message = new string_id (c_stringFile, "s_966bc725");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You are absolutely correct, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a8ea09e9");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebels are fools. They will be crushed shortly, of that I have no doubt. But I have never been one to overlook the value of a good pilot. I am beginning to see what your other superiors saw in you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you, sir. I simply do my best to serve the Empire.
	if (response == "s_3ffe1ded")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: There is no need to be modest. You have the makings of one of the finest pilots I have ever seen. Of course, all the skill in the world is meaningless without proper planning and careful guidance,
			string_id message = new string_id (c_stringFile, "s_3cbc1b19");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You are absolutely correct, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a8ea09e9");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 41);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is no need to be modest. You have the makings of one of the finest pilots I have ever seen. Of course, all the skill in the world is meaningless without proper planning and careful guidance,

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You are absolutely correct, sir.
	if (response == "s_a8ea09e9")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isPrivateer (player, npc))
		{
			imperial_master_trainer_action_giveRewardOnePriv (player, npc);

			//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot.
			string_id message = new string_id (c_stringFile, "s_fbe23895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Grand Admiral is too kind.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1affba73");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "snap_finger1");

			imperial_master_trainer_action_giveRewardOneImp (player, npc);

			//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot. For the Empire.
			string_id message = new string_id (c_stringFile, "s_336");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Grand Admiral is too kind.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_338");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Grand Admiral is too kind.
	if (response == "s_1affba73")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, I know. One of my character flaws is that I am too kindhearted to the men who serve under me. Regardless, enjoy your extra pay and take some time off. We will have to initiate the second part of my plan before long in order to take advantage of the situation in Kessel.
			string_id message = new string_id (c_stringFile, "s_79b77be4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Second part of your plan?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cc0857f4");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, I know. One of my character flaws is that I am too kindhearted to the men who serve under me. Regardless, enjoy your extra pay and take some time off. We will have to initiate the second part of my plan before long in order to take advantage of the situation in Kessel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Second part of your plan?
	if (response == "s_cc0857f4")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Didn't I just order you to take some time off? I will explain the second part of my plan to you when I am ready. Pilot if you want to make it very far with me you had better start following orders and stop asking questions that do not concern you. Dismissed!
			string_id message = new string_id (c_stringFile, "s_378e9412");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot. For the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Grand Admiral is too kind.
	if (response == "s_338")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, I know. One of my character flaws is that I am too kindhearted to the men who serve under me. Regardless, enjoy your extra pay and take some time off. We will have to initiate the second part of my plan before long in order to take advantage of the situation in Kessel.
			string_id message = new string_id (c_stringFile, "s_340");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Second part of your plan?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_342");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, I know. One of my character flaws is that I am too kindhearted to the men who serve under me. Regardless, enjoy your extra pay and take some time off. We will have to initiate the second part of my plan before long in order to take advantage of the situation in Kessel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Second part of your plan?
	if (response == "s_342")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Didn't I just order you to take some time off? I will explain the second part of my plan to you when I am ready. Pilot if you want to make it very far with me you had better start following orders and stop asking questions that do not concern you. Dismissed!
			string_id message = new string_id (c_stringFile, "s_344");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What! Are you questioning the plan that I gave to you? Improvisation should be left to actors not Imperial Pilots. A good Imperial Pilot obeys orders without question and follows them explicitly. It's a wonder that you even succeeded.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You are absolutely correct, sir.
	if (response == "s_a8ea09e9")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isPrivateer (player, npc))
		{
			imperial_master_trainer_action_giveRewardOnePriv (player, npc);

			//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot.
			string_id message = new string_id (c_stringFile, "s_fbe23895");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Grand Admiral is too kind.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1affba73");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "snap_finger1");

			imperial_master_trainer_action_giveRewardOneImp (player, npc);

			//-- NPC: I have decided that you deserve a small token of my appreciation as a reward for your successful flight. I am going to have some credits transferred to your account so you can take a little rest and relaxation. A rested pilot is a better pilot. For the Empire.
			string_id message = new string_id (c_stringFile, "s_336");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Grand Admiral is too kind.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_338");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I hope that you are well rested because the time has come for me to unleash the second part of my plan. As you know, we have managed to partially cripple the Rebel battlegroup in the Kessel system and I feel the time to strike at their heart is now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am not sure if I would call the Rebel battlegroup crippled.
	if (response == "s_a2bd8a18")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Again you speak without thinking. You accomplished the tasks that comprised the first part of my plan. There is no way that the Rebels could have recovered from such a devastating strike this quickly.
			string_id message = new string_id (c_stringFile, "s_88eb64f3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If you say so, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6844241f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8efde2ae");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. The Rebels are poised to crumble.
	if (response == "s_8f760eed")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire sector.
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9e28d2b0");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Again you speak without thinking. You accomplished the tasks that comprised the first part of my plan. There is no way that the Rebels could have recovered from such a devastating strike this quickly.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If you say so, sir.
	if (response == "s_6844241f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: I don't care much for the tone in your voice. If you wish to continue to fly for your organization I suggest that you find a way to control your tongue. I will not suffer any rudeness from a local security pilot.
			string_id message = new string_id (c_stringFile, "s_26e02f1d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_353");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_8efde2ae")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire sector.
			string_id message = new string_id (c_stringFile, "s_16374fa8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9e28d2b0");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't care much for the tone in your voice. If you wish to continue to fly for your organization I suggest that you find a way to control your tongue. I will not suffer any rudeness from a local security pilot.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir.
	if (response == "s_353")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shush");

			//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire system.
			string_id message = new string_id (c_stringFile, "s_36e64ebe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9e28d2b0");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 52);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
	if (response == "s_9e28d2b0")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is what the Rebellion considers to be a capital ship. It lacks the fire power and strength of even the weakest Star Destroyer. Your job should be rather simple. You are to destroy that Corellian corvette as it passes through the system on its patrol. It apparently patrols several systems, so it is not always in Kessel. You will have to wait for it to enter Kessel on patrol before you will be able to strike.
			string_id message = new string_id (c_stringFile, "s_50e3a94f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, that is insanity.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Will I have support?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ef6b4924");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7cc631fe");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is what the Rebellion considers to be a capital ship. It lacks the fire power and strength of even the weakest Star Destroyer. Your job should be rather simple. You are to destroy that Corellian corvette as it passes through the system on its patrol. It apparently patrols several systems, so it is not always in Kessel. You will have to wait for it to enter Kessel on patrol before you will be able to strike.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, that is insanity.
	if (response == "s_ef6b4924")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: You insolent pup. You dare insinuate that I do not know exactly what I have ordered you to do. If I felt that there were any other pilots available to perform this task I would have you executed and be done with you. Unfortunately, I am still in need of your skills.
			string_id message = new string_id (c_stringFile, "s_5d0b4f6b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I didn't mean any disrespect, sir. It is just that, attacking a corvette in a fighter is not an effective combat technique.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5ac61a82");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Will I have support?
	if (response == "s_7cc631fe")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cover_eyes");

			//-- NPC: I would hardly expect you to attack a capital vessel by yourself. I may expect a lot out of the men that serve under me, but you going out alone to attack that vessel would not accomplish anything... other than your death.
			string_id message = new string_id (c_stringFile, "s_f85f5c9d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So I will have support?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9bbd1090");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You insolent pup. You dare insinuate that I do not know exactly what I have ordered you to do. If I felt that there were any other pilots available to perform this task I would have you executed and be done with you. Unfortunately, I am still in need of your skills.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't mean any disrespect, sir. It is just that, attacking a corvette in a fighter is not an effective combat technique.
	if (response == "s_5ac61a82")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			//-- NPC: I do not recall telling you to attack that ship alone. I am giving you this assignment but I am delegating you the authority to put together your own flight in order to accomplish this assignment. I know that a local security force is not expected to be a crack combat unit but I would expect that even there people show initiative.
			string_id message = new string_id (c_stringFile, "s_bd095033");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Again I apologize for my hasty words, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd386cda");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I do not recall telling you to attack that ship alone. I am giving you this assignment but I am delegating you the authority to put together your own flight in order to accomplish this assignment. I know that a local security force is not expected to be a crack combat unit but I would expect that even there people show initiative.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Again I apologize for my hasty words, sir.
	if (response == "s_fd386cda")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: My continued support for your organization is waning. I feel that your success in the destruction of the Rebel flag ship is just about the only thing that will convince me to change my mind.
			string_id message = new string_id (c_stringFile, "s_a15a9037");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will not fail you or the Empire.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f352e00f");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My continued support for your organization is waning. I feel that your success in the destruction of the Rebel flag ship is just about the only thing that will convince me to change my mind.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will not fail you or the Empire.
	if (response == "s_f352e00f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: See that you don't. I would hate to see you be the cause for me to decide that the time has come to do away with local security forces and replace them all with members of the Imperial Navy. You are dismissed.
			string_id message = new string_id (c_stringFile, "s_ace4b0c3");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would hardly expect you to attack a capital vessel by yourself. I may expect a lot out of the men that serve under me, but you going out alone to attack that vessel would not accomplish anything... other than your death.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So I will have support?
	if (response == "s_9bbd1090")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: Show some initiative. I have given you orders and the plan, everything else I delegate to you. It is time to prove that you are a capable leader as well as a pilot. Assemble a team that will assist you on your assault on the Rebel corvette.
			string_id message = new string_id (c_stringFile, "s_30f24d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. I shall not fail you.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_65d9bf6c");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Show some initiative. I have given you orders and the plan, everything else I delegate to you. It is time to prove that you are a capable leader as well as a pilot. Assemble a team that will assist you on your assault on the Rebel corvette.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. I shall not fail you.
	if (response == "s_65d9bf6c")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_polite");

			//-- NPC: See that you don't. Once the Empire has Kessel under its control the rest of the Outer Rim will fall into line without much of a struggle. With my great victory, I will personally hand the Emperor a prize that he has longed for, the Outer Rim.
			string_id message = new string_id (c_stringFile, "s_1ae97099");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire sector.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
	if (response == "s_9e28d2b0")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is what the Rebellion considers to be a capital ship. It lacks the fire power and strength of even the weakest Star Destroyer. Your job should be rather simple. You are to destroy that Corellian corvette as it passes through the system on its patrol. It apparently patrols several systems, so it is not always in Kessel. You will have to wait for it to enter Kessel on patrol before you will be able to strike.
			string_id message = new string_id (c_stringFile, "s_50e3a94f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, that is insanity.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Will I have support?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ef6b4924");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7cc631fe");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said, the Rebellion's fighter squads are greatly diminished and the time to unleash the second stage of my plan has come. The Rebels have moved a Corellian corvette into the Kessel system as part of their battlegroup. This ship is the Rebel command vessel for the entire sector.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A Corellian corvette? Isn't that a capital ship?
	if (response == "s_9e28d2b0")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is what the Rebellion considers to be a capital ship. It lacks the fire power and strength of even the weakest Star Destroyer. Your job should be rather simple. You are to destroy that Corellian corvette as it passes through the system on its patrol. It apparently patrols several systems, so it is not always in Kessel. You will have to wait for it to enter Kessel on patrol before you will be able to strike.
			string_id message = new string_id (c_stringFile, "s_50e3a94f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, that is insanity.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Will I have support?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ef6b4924");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7cc631fe");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I trust you are well rested and ready to serve me as well as you had before. The time has come for me to unleash the second stage of my plan to take the Kessel system for the glory of the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. I am ready.
	if (response == "s_5d519e4c")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Today we are going to launch the definitive strike at the Rebellion battlegroup inside the Kessel system. Part of the battlegroup consists of the support vessels that you attacked so successfully last time, the other is their command vessels. You are going to assault their command vessels and destroy their lead ship.
			string_id message = new string_id (c_stringFile, "s_671a4e3c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is my target ship?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77e59fd7");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today we are going to launch the definitive strike at the Rebellion battlegroup inside the Kessel system. Part of the battlegroup consists of the support vessels that you attacked so successfully last time, the other is their command vessels. You are going to assault their command vessels and destroy their lead ship.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is my target ship?
	if (response == "s_77e59fd7")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Rebellion has moved a Corellian corvette into the system and are using that vessel as their staging point for all operations that take place inside the system. You are to destroy that vessel. Reports show that the vessel moves throughout several systems, so it may not always be in Kessel. You will have to wait for it to arrive on its standard patrol through the system before you will be able to strike.
			string_id message = new string_id (c_stringFile, "s_92ac32ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A Corellian corvette! Wouldn't it be better to send a Star Destroyer after it?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sir, I will try my best but isn't it unwise to send fighters against a capital ship?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b41b5772");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6b581019");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebellion has moved a Corellian corvette into the system and are using that vessel as their staging point for all operations that take place inside the system. You are to destroy that vessel. Reports show that the vessel moves throughout several systems, so it may not always be in Kessel. You will have to wait for it to arrive on its standard patrol through the system before you will be able to strike.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A Corellian corvette! Wouldn't it be better to send a Star Destroyer after it?
	if (response == "s_b41b5772")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: You are not thinking. Even a corvette, as weak as they are, can cause a large amount of damage to a star destroyer. Star destroyers are not inexpensive pieces of military equipment. I have no intention of sending in one unless there are no other alternatives.
			string_id message = new string_id (c_stringFile, "s_43904a58");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So, I am expendable?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I understand, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7f4c531");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1980f233");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, I will try my best but isn't it unwise to send fighters against a capital ship?
	if (response == "s_6b581019")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: It is hardly uncommon for fighters to take down capital ships the size of a corvette. Granted they usually have the support of star destroyers but in this case I have full confidence in your abilities.
			string_id message = new string_id (c_stringFile, "s_582dc96a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, will I be supplied support?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are not thinking. Even a corvette, as weak as they are, can cause a large amount of damage to a star destroyer. Star destroyers are not inexpensive pieces of military equipment. I have no intention of sending in one unless there are no other alternatives.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, I am expendable?
	if (response == "s_c7f4c531")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: You are a pilot in the Imperial Navy. It is your duty to fight when, where, and what I tell you to fight. We all pay the costs for the conflict that the Rebels have brought on us. It is my lot to give the orders and it is your lot to obey and if necessary to die for those orders. You should not envy my position, for heavy is the crown of command.
			string_id message = new string_id (c_stringFile, "s_9a3f8378");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, will I be supplied support?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f2ba71dd");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 67);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand, sir.
	if (response == "s_1980f233")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: It is good to see that you are someone who understands the fiscal responsibility that I am in. If I can give the Emperor the Outer Rim for minimal costs it will reflect very well on me. 
			string_id message = new string_id (c_stringFile, "s_cb793d1b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, will I be supplied support?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_392");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are a pilot in the Imperial Navy. It is your duty to fight when, where, and what I tell you to fight. We all pay the costs for the conflict that the Rebels have brought on us. It is my lot to give the orders and it is your lot to obey and if necessary to die for those orders. You should not envy my position, for heavy is the crown of command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, will I be supplied support?
	if (response == "s_f2ba71dd")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: This is called delegation of responsibility. I am giving you the job to destroy the Rebel command vessel. How you accomplish that task is up to you. I would suggest that you assemble a strike team of fighter pilots in order to assist you with the assault. I cannot be bothered with the details.
			string_id message = new string_id (c_stringFile, "s_58e29478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. I will put together my team and assault the vessel.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd48bb84");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is called delegation of responsibility. I am giving you the job to destroy the Rebel command vessel. How you accomplish that task is up to you. I would suggest that you assemble a strike team of fighter pilots in order to assist you with the assault. I cannot be bothered with the details.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. I will put together my team and assault the vessel.
	if (response == "s_cd48bb84")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_polite");

			//-- NPC: See that you do. Once the Empire has Kessel under its control the rest of the Outer Rim will fall into line without much of a struggle. With my great victory, I will personally hand the Emperor a prize that he has longed for, the Outer Rim.
			string_id message = new string_id (c_stringFile, "s_88742275");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is good to see that you are someone who understands the fiscal responsibility that I am in. If I can give the Emperor the Outer Rim for minimal costs it will reflect very well on me. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, will I be supplied support?
	if (response == "s_392")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: This is called delegation of responsibility. I am giving you the job to destroy the Rebel command vessel. How you accomplish that task is up to you. I would suggest that you assemble a strike team of fighter pilots in order to assist you with the assault. I cannot be bothered with the details.
			string_id message = new string_id (c_stringFile, "s_58e29478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. I will put together my team and assault the vessel.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd48bb84");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is hardly uncommon for fighters to take down capital ships the size of a corvette. Granted they usually have the support of star destroyers but in this case I have full confidence in your abilities.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, will I be supplied support?
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			imperial_master_trainer_action_grantMissionTwo (player, npc);

			//-- NPC: This is called delegation of responsibility. I am giving you the job to destroy the Rebel command vessel. How you accomplish that task is up to you. I would suggest that you assemble a strike team of fighter pilots in order to assist you with the assault. I cannot be bothered with the details.
			string_id message = new string_id (c_stringFile, "s_58e29478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. I will put together my team and assault the vessel.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cd48bb84");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, yes. You are that bright, young pilot I have been hearing so much about. %NU, isn't it? That's okay, it really doesn't matter. You are probably wondering why a Grand Admiral wishes to see you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The thought had crossed my mind.
	if (response == "s_47acafeb")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Were you given permission to speak freely? If discipline in the ranks of the Imperial Navy has broken down so badly I can make sure that it is restored. If it wasn't for your exceptional service record I might consider having you shipped off to some backwater world for the rest of your career.
			string_id message = new string_id (c_stringFile, "s_fa54959d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir. I didn't mean to speak out of turn.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Reporting as ordered, sir.
	if (response == "s_6b18cf1e")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is about time you showed up. I was beginning to wonder if punctuality was a lost disciple in the Imperial Navy. At least you have enough sense to speak with respect to your betters. The last pilot who was in here and spoke to me out of turn is now servicing garbage scowls on Bespin.
			string_id message = new string_id (c_stringFile, "s_80f7c402");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It won't happen again, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_26c66fd1");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Were you given permission to speak freely? If discipline in the ranks of the Imperial Navy has broken down so badly I can make sure that it is restored. If it wasn't for your exceptional service record I might consider having you shipped off to some backwater world for the rest of your career.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir. I didn't mean to speak out of turn.
	if (response == "s_401")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's better. Now getting back to the matter at hand. After looking over your service record I cannot help but to be impressed. Your record is almost as decorated as mine was at your age. I think that you have the makings of a fine Imperial officer.
			string_id message = new string_id (c_stringFile, "s_9039a33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That would be my hope, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5bed3d33");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's better. Now getting back to the matter at hand. After looking over your service record I cannot help but to be impressed. Your record is almost as decorated as mine was at your age. I think that you have the makings of a fine Imperial officer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That would be my hope, sir.
	if (response == "s_5bed3d33")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, if you perform the assignment that I have for you with any sort of competence you should go a long way in making that dream come true.
			string_id message = new string_id (c_stringFile, "s_939fa385");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the assignment, sir?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am the very best pilot, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78edd4f");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8dd98074");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, if you perform the assignment that I have for you with any sort of competence you should go a long way in making that dream come true.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the assignment, sir?
	if (response == "s_78edd4f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: I trust you learned about the Kessel system in your naval flight training, so there shouldn't be any need to go into that.
			string_id message = new string_id (c_stringFile, "s_842637c2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I never went through naval flight training, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, I know all about Kessel, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a4b7535d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98790879");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am the very best pilot, sir.
	if (response == "s_8dd98074")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It remains to be seen if you are worthy of your glowing service record. I am not one of those men who believe everything that they read. My judgment on your prowess is far more keen than any of the commanders that you flew for in the past, I can assure you of that.
			string_id message = new string_id (c_stringFile, "s_6b3904f8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_431");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I trust you learned about the Kessel system in your naval flight training, so there shouldn't be any need to go into that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I never went through naval flight training, sir.
	if (response == "s_a4b7535d")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Remarkable. I am surprised that anyone who didn't go through flight training could rise through the ranks so quickly. Hmm...very interesting. I sense something in you that...never mind, I am just rambling.
			string_id message = new string_id (c_stringFile, "s_3eb86cb5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Forgotten, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4a7e1397");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I know all about Kessel, sir.
	if (response == "s_98790879")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Then you are well aware of Kessel's strategic value. With Kessel under our control, the Empire will be able to quickly bring order to the Outer Rim and maintain dominance throughout the region.
			string_id message = new string_id (c_stringFile, "s_a2a4d2a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that you are over estimating the value of the Kessel system.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That would be my assessment as well, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a3bdfc08");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_19377f3b");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Remarkable. I am surprised that anyone who didn't go through flight training could rise through the ranks so quickly. Hmm...very interesting. I sense something in you that...never mind, I am just rambling.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Forgotten, sir.
	if (response == "s_4a7e1397")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Kessel system is located deep in the Outer Rim. It has great strategic value due to its close proximity to three other sectors in the Outer Rim, all of which have trade routes cutting through Kessel. If the Empire were able to control Kessel we would have virtual control over every system in the area and be able to quickly bring order to the Outer Rim.
			string_id message = new string_id (c_stringFile, "s_a942beda");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that you are over estimating the value of the Kessel system.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That would be my assessment as well, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a3bdfc08");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_19377f3b");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Kessel system is located deep in the Outer Rim. It has great strategic value due to its close proximity to three other sectors in the Outer Rim, all of which have trade routes cutting through Kessel. If the Empire were able to control Kessel we would have virtual control over every system in the area and be able to quickly bring order to the Outer Rim.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that you are over estimating the value of the Kessel system.
	if (response == "s_a3bdfc08")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: I will remind you that I am a Grand Admiral. I did not gain my rank by over estimating anything. Control of the Kessel system is vital to the Empire's campaign in the Outer Rim. Without it we could be looking at years of chaos among the outer systems. 
			string_id message = new string_id (c_stringFile, "s_a5253219");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I just think that we will be looking at that struggle even with Kessel.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1cb9631b");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That would be my assessment as well, sir.
	if (response == "s_19377f3b")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Rebellion apparently has the same idea as we do about the Kessel system. They have already moved part of their fourth battlegroup into the sector. Before we are able to take control of that system, that battlegroup will have to be eliminated.
			string_id message = new string_id (c_stringFile, "s_b659975");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are my orders, sir?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78d92576");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will remind you that I am a Grand Admiral. I did not gain my rank by over estimating anything. Control of the Kessel system is vital to the Empire's campaign in the Outer Rim. Without it we could be looking at years of chaos among the outer systems. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just think that we will be looking at that struggle even with Kessel.
	if (response == "s_1cb9631b")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: You are here because you are a good pilot not because I care about your opinion. Never forget that.
			string_id message = new string_id (c_stringFile, "s_5f7103c7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_416");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are here because you are a good pilot not because I care about your opinion. Never forget that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_416")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: The Rebellion apparently has the same idea as we do about the Kessel system. They have already moved part of their fourth battlegroup into the system. Before we are able to take control of that system, that battlegroup will have to be eliminated.
			string_id message = new string_id (c_stringFile, "s_2f2ac428");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are my orders, sir?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78d92576");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebellion apparently has the same idea as we do about the Kessel system. They have already moved part of their fourth battlegroup into the system. Before we are able to take control of that system, that battlegroup will have to be eliminated.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are my orders, sir?
	if (response == "s_78d92576")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: My plan involves two steps. The first stage is to reduce the number of support fighters that the Rebels have in the area. I believe that if we can drop those numbers down enough it will be impossible for the Rebels to adequately defend against the second strike. Unfortunately, due to the interference from the Maw, long range scans are virtually useless in Kessel.  You are going to have to hunt the Rebel vessels down.
			string_id message = new string_id (c_stringFile, "s_eded2a14");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the second strike?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbf5f6bc");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: My plan involves two steps. The first stage is to reduce the number of support fighters that the Rebels have in the area. I believe that if we can drop those numbers down enough it will be impossible for the Rebels to adequately defend against the second strike. Unfortunately, due to the interference from the Maw, long range scans are virtually useless in Kessel.  You are going to have to hunt the Rebel vessels down.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the second strike?
	if (response == "s_cbf5f6bc")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			imperial_master_trainer_action_grantMissionOne (player, npc);

			//-- NPC: I will explain that to you when the time comes for that attack. The first thing that you need to worry about is reducing the fighters and gunboats in the Kessel system. If you can bring down enough of them, my plan cannot fail and the Empire will be on the verge of victory in the Kessel system.
			string_id message = new string_id (c_stringFile, "s_4f48309f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do my best to destroy the Rebel fighters.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e4eceb3e");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I will explain that to you when the time comes for that attack. The first thing that you need to worry about is reducing the fighters and gunboats in the Kessel system. If you can bring down enough of them, my plan cannot fail and the Empire will be on the verge of victory in the Kessel system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do my best to destroy the Rebel fighters.
	if (response == "s_e4eceb3e")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: I have placed my trust in you. Do not fail me. We cannot allow the Rebellion to maintain any sort of control in the system. You have your mission. Dismissed.
			string_id message = new string_id (c_stringFile, "s_36c3870b");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebellion apparently has the same idea as we do about the Kessel system. They have already moved part of their fourth battlegroup into the sector. Before we are able to take control of that system, that battlegroup will have to be eliminated.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What are my orders, sir?
	if (response == "s_78d92576")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: My plan involves two steps. The first stage is to reduce the number of support fighters that the Rebels have in the area. I believe that if we can drop those numbers down enough it will be impossible for the Rebels to adequately defend against the second strike. Unfortunately, due to the interference from the Maw, long range scans are virtually useless in Kessel.  You are going to have to hunt the Rebel vessels down.
			string_id message = new string_id (c_stringFile, "s_eded2a14");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the second strike?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbf5f6bc");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then you are well aware of Kessel's strategic value. With Kessel under our control, the Empire will be able to quickly bring order to the Outer Rim and maintain dominance throughout the region.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think that you are over estimating the value of the Kessel system.
	if (response == "s_a3bdfc08")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: I will remind you that I am a Grand Admiral. I did not gain my rank by over estimating anything. Control of the Kessel system is vital to the Empire's campaign in the Outer Rim. Without it we could be looking at years of chaos among the outer systems. 
			string_id message = new string_id (c_stringFile, "s_a5253219");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I just think that we will be looking at that struggle even with Kessel.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1cb9631b");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That would be my assessment as well, sir.
	if (response == "s_19377f3b")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Rebellion apparently has the same idea as we do about the Kessel system. They have already moved part of their fourth battlegroup into the sector. Before we are able to take control of that system, that battlegroup will have to be eliminated.
			string_id message = new string_id (c_stringFile, "s_b659975");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What are my orders, sir?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78d92576");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It remains to be seen if you are worthy of your glowing service record. I am not one of those men who believe everything that they read. My judgment on your prowess is far more keen than any of the commanders that you flew for in the past, I can assure you of that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_431")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: I trust you learned about the Kessel system in your naval flight training, so there shouldn't be any need to go into that.
			string_id message = new string_id (c_stringFile, "s_433");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I never went through naval flight training, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, I know all about Kessel, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a4b7535d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98790879");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I trust you learned about the Kessel system in your naval flight training, so there shouldn't be any need to go into that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I never went through naval flight training, sir.
	if (response == "s_a4b7535d")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Remarkable. I am surprised that anyone who didn't go through flight training could rise through the ranks so quickly. Hmm...very interesting. I sense something in you that...never mind, I am just rambling.
			string_id message = new string_id (c_stringFile, "s_3eb86cb5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Forgotten, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4a7e1397");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I know all about Kessel, sir.
	if (response == "s_98790879")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Then you are well aware of Kessel's strategic value. With Kessel under our control, the Empire will be able to quickly bring order to the Outer Rim and maintain dominance throughout the region.
			string_id message = new string_id (c_stringFile, "s_a2a4d2a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think that you are over estimating the value of the Kessel system.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That would be my assessment as well, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a3bdfc08");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_19377f3b");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is about time you showed up. I was beginning to wonder if punctuality was a lost disciple in the Imperial Navy. At least you have enough sense to speak with respect to your betters. The last pilot who was in here and spoke to me out of turn is now servicing garbage scowls on Bespin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It won't happen again, sir.
	if (response == "s_26c66fd1")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: That's better. Now getting back to the matter at hand. After looking over your service record I cannot help but to be impressed. Your record is almost as decorated as mine was at your age. I think that you have the makings of a fine Imperial officer.
			string_id message = new string_id (c_stringFile, "s_9039a33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That would be my hope, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5bed3d33");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, what is it? Speak up, I don't have all day to chat with you.

	//-- [RESPONSE NOTE] It is good to see that the Corsec are not a breeding ground for the rebellion like many of my peers seem to believe. Perhaps if you work well for me, you can show your fellow pilots that the only way to truly have peace is to fully support the Empire and it's endeavros.
	//-- PLAYER: I was told by RSF Command to report to you.
	if (response == "s_308a9ab1")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pose_proudly");

			//-- NPC: Ah, so you must be %NU. I have heard a great deal about you from your commanding officers from the RSF. A fine tradition that of the Royal Security Force. Not quite as noble as being a member of the Imperial Navy, but they have been known to make some very fine pilots.
			string_id message = new string_id (c_stringFile, "s_19aeaf5e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. The RSF has treated me very well.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I must disagree. The RSF has the best pilots in the galaxy.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7964ad2d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6c92dab");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 91);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was told by Corellia Security Command to report to you.
	if (response == "s_8409f60e")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It is good to see that the CorSec are not a breeding ground for the Rebellion like many of my peers seem to believe. Perhaps if you work well for me, you can show your fellow pilots that the only way to truly have peace is to fully support the Empire and its endeavors.
			string_id message = new string_id (c_stringFile, "s_f9df4c83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That is exactly how I feel, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I think you are mistaken about the ideals of CorSec.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c5aa2921");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e685629c");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, so you must be %NU. I have heard a great deal about you from your commanding officers from the RSF. A fine tradition that of the Royal Security Force. Not quite as noble as being a member of the Imperial Navy, but they have been known to make some very fine pilots.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. The RSF has treated me very well.
	if (response == "s_7964ad2d")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: From what I have heard you are among their best and brightest. Which is good since I have a very important honor to bestow on you. The time has come for you to prove yourself to your Imperial allies. I have an important mission that I believe you are well suited for.
			string_id message = new string_id (c_stringFile, "s_63462bcc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A mission? Shouldn't that be handled by the Imperial Navy?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, sir. It would be an honor, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e9aec8d7");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bc9b4055");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I must disagree. The RSF has the best pilots in the galaxy.
	if (response == "s_6c92dab")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Do not try my patience. The RSF exists at the whim of the Empire. At any time we can take away your vaunted security force and the whole lot of you would be placed into the Imperial Navy. I would be surprised if even a third of you made it out of our training program.
			string_id message = new string_id (c_stringFile, "s_1837e4aa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir, I must disagree.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_913ac8c9");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 110);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: From what I have heard you are among their best and brightest. Which is good since I have a very important honor to bestow on you. The time has come for you to prove yourself to your Imperial allies. I have an important mission that I believe you are well suited for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A mission? Shouldn't that be handled by the Imperial Navy?
	if (response == "s_e9aec8d7")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Are you questioning my judgment on this matter? I understand that things are a little less rigid in the RSF, but I would have still expected lesser flight officers not to question their superiors. Perhaps I need to have a word with the Queen about discipline among her troops. I made my decision based off of what is good for the Empire and that is all you need to know about that subject.
			string_id message = new string_id (c_stringFile, "s_5fca12da");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_445");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. It would be an honor, sir.
	if (response == "s_bc9b4055")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: Yes, I am sure. Since I do not have all day I am going to dispense with further pleasantries. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system.
			string_id message = new string_id (c_stringFile, "s_481");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you questioning my judgment on this matter? I understand that things are a little less rigid in the RSF, but I would have still expected lesser flight officers not to question their superiors. Perhaps I need to have a word with the Queen about discipline among her troops. I made my decision based off of what is good for the Empire and that is all you need to know about that subject.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir.
	if (response == "s_445")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, I am sure. Since I do not have all day I am going to dispense with further pleasantries. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system.
			string_id message = new string_id (c_stringFile, "s_47cf08a2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, I am sure. Since I do not have all day I am going to dispense with further pleasantries. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Kessel system?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Of course, why would I assume that you know anything of the Kessel system? The Kessel system is located deep in the Outer Rim. The Empire has had plans to take full control of the system for some time now, but we have never quite been able to succeed in its ultimate control.
			string_id message = new string_id (c_stringFile, "s_a622496d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Empire want control of the Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd661a34");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course, why would I assume that you know anything of the Kessel system? The Kessel system is located deep in the Outer Rim. The Empire has had plans to take full control of the system for some time now, but we have never quite been able to succeed in its ultimate control.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why would the Empire want control of the Kessel system?
	if (response == "s_fd661a34")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Kessel system is strategically connected to three other systems along the Outer Rim. With control of that one system, the Empire can exert it's influence on the entire region. From there it is only a small step in order to control the entire Outer Rim.
			string_id message = new string_id (c_stringFile, "s_1aff8b69");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I think you might over estimate the value of the Kessel system.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds like a very sound plan, sir.
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_15f15e84");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78dfc859");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Kessel system is strategically connected to three other systems along the Outer Rim. With control of that one system, the Empire can exert it's influence on the entire region. From there it is only a small step in order to control the entire Outer Rim.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think you might over estimate the value of the Kessel system.
	if (response == "s_15f15e84")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: This is why you are but a lowly pilot in a local planet security force and I am a Grand Admiral. Do not ever make the mistake of questioning my judgment. I am willing to let that remark go unpunished this time, but I am not accustomed to being questioned by mere pilots... and I do not plan on making a habit out of it.
			string_id message = new string_id (c_stringFile, "s_ca9b9b68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir. I spoke out of turn.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_af2fc12f");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds like a very sound plan, sir.
	if (response == "s_78dfc859")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Yes, yes. The Rebellion has moved portions of their fourth battle group into the region and before we can take control of the Kessel system, it is imperative that they be eliminated. In order to do this we will need to perform a dual stage attack on their power bases in the system.
			string_id message = new string_id (c_stringFile, "s_ba2453bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebellion has control of the Kessel system right now?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why isn't the Imperial Navy taking care of the Rebels in the region?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92172df0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33d1d488");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is why you are but a lowly pilot in a local planet security force and I am a Grand Admiral. Do not ever make the mistake of questioning my judgment. I am willing to let that remark go unpunished this time, but I am not accustomed to being questioned by mere pilots... and I do not plan on making a habit out of it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir. I spoke out of turn.
	if (response == "s_af2fc12f")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Yes, yes. The Rebellion has moved portions of their fourth battle group into the region and before we can take control of the Kessel system, it is imperative that they be eliminated. In order to do this we will need to perform a dual stage attack on their power bases in the system.
			string_id message = new string_id (c_stringFile, "s_ba2453bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebellion has control of the Kessel system right now?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Why isn't the Imperial Navy taking care of the Rebels in the region?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92172df0");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33d1d488");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, yes. The Rebellion has moved portions of their fourth battle group into the region and before we can take control of the Kessel system, it is imperative that they be eliminated. In order to do this we will need to perform a dual stage attack on their power bases in the system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Rebellion has control of the Kessel system right now?
	if (response == "s_92172df0")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: The Rebellion controls nothing in the galaxy. But they have a force in the Kessel system that could pose problems to our operations. Before we move into the system in force, we need to eliminate the Rebel threat. That will be your mission.
			string_id message = new string_id (c_stringFile, "s_a340005a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it that you want me to do?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60d3f4f8");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why isn't the Imperial Navy taking care of the Rebels in the region?
	if (response == "s_33d1d488")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Rebel battlegroup moved into the system sooner then we anticipated. Unfortunately, the main portion of our battle fleets are engaged elsewhere. The Rebels want Kessel for its strategic location in order to spread their chaos and dissension across the entire Outer Rim. In the same way, we want use Kessel to help bring order to the Outer Rim.
			string_id message = new string_id (c_stringFile, "s_732a67f3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So you are turning to local security forces to assist you in this matter?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bcb643d");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebellion controls nothing in the galaxy. But they have a force in the Kessel system that could pose problems to our operations. Before we move into the system in force, we need to eliminate the Rebel threat. That will be your mission.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it that you want me to do?
	if (response == "s_60d3f4f8")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			imperial_master_trainer_action_setWorkingForImperial (player, npc);

			//-- NPC: As I said, you are to eliminate the Rebel threat in the region. The first stage of the attack is to destroy a number of their smaller vessels that patrol throughout the region. These vessels would include fighters as well as gunboats.
			string_id message = new string_id (c_stringFile, "s_ecdec8ad");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You said smaller vessels. Does that mean there are larger capital class ships in the region?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2bd3a43c");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said, you are to eliminate the Rebel threat in the region. The first stage of the attack is to destroy a number of their smaller vessels that patrol throughout the region. These vessels would include fighters as well as gunboats.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You said smaller vessels. Does that mean there are larger capital class ships in the region?
	if (response == "s_2bd3a43c")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			imperial_master_trainer_action_grantMissionOne (player, npc);

			//-- NPC: That is not your concern at this time. My plan is to first weaken the fighter capability of the Rebels in the region and then we can initiate stage two. You are to focus all your energies on the destruction of the Rebel fighter craft in the region. Is that understood, Pilot?
			string_id message = new string_id (c_stringFile, "s_58a058a9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where are the Rebel positions in the sector?
			boolean hasResponse1 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bb9e4a63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_65031818");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is not your concern at this time. My plan is to first weaken the fighter capability of the Rebels in the region and then we can initiate stage two. You are to focus all your energies on the destruction of the Rebel fighter craft in the region. Is that understood, Pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, sir.
	if (response == "s_bb9e4a63")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isRSF (player, npc))
		{
			//-- NPC: Good. Now get on with my operation. I am placing a great deal of faith in a pilot who does not even belong to the Imperial Navy. I expect that you will prove the RSF is completely loyal to the Empire. Pilot, you are dismissed.
			string_id message = new string_id (c_stringFile, "s_eb171ae9");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition_isCorsec (player, npc))
		{
			//-- NPC: Good. Now get on with my operation. I am placing a great deal of faith in a pilot who does not even belong to the Imperial Navy. I expect that you will prove that the CorSec is not the breeding ground for Rebels that many of my peers seem to believe. Pilot, you are dismissed.
			string_id message = new string_id (c_stringFile, "s_7eeb4f8c");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where are the Rebel positions in the sector?
	if (response == "s_65031818")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Due to the interference from the Maw, long range scans are virtually useless in the Kessel system. You are going to have to hunt them down. Our system intelligence reports that they patrol throughout the system. You will just have to find them. Is that understood?
			string_id message = new string_id (c_stringFile, "s_1df5b492");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_468");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Due to the interference from the Maw, long range scans are virtually useless in the Kessel system. You are going to have to hunt them down. Our system intelligence reports that they patrol throughout the system. You will just have to find them. Is that understood?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, sir.
	if (response == "s_468")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition_isRSF (player, npc))
		{
			//-- NPC: Good. Now get on with my operation. I am placing a great deal of faith in a pilot who does not even belong to the Imperial Navy. I expect that you will prove the RSF is completely loyal to the Empire. Pilot, you are dismissed.
			string_id message = new string_id (c_stringFile, "s_470");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (imperial_master_trainer_condition_isCorsec (player, npc))
		{
			//-- NPC: Good. Now get on with my operation. I am placing a great deal of faith in a pilot who does not even belong to the Imperial Navy. I expect that you will prove that the CorSec is not the breeding ground for Rebels that many of my peers seem to believe. Pilot, you are dismissed.
			string_id message = new string_id (c_stringFile, "s_472");
			utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebel battlegroup moved into the system sooner then we anticipated. Unfortunately, the main portion of our battle fleets are engaged elsewhere. The Rebels want Kessel for its strategic location in order to spread their chaos and dissension across the entire Outer Rim. In the same way, we want use Kessel to help bring order to the Outer Rim.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So you are turning to local security forces to assist you in this matter?
	if (response == "s_bcb643d")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I would rather keep this matter completely in the Imperial Navy's hands but the situation dictates that we occasionally need to rely on our allies. This is a great opportunity for the planetary security forces to prove that the Empire was correct in not disbanding them.
			string_id message = new string_id (c_stringFile, "s_794642f2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you want me to do?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63f7aad9");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would rather keep this matter completely in the Imperial Navy's hands but the situation dictates that we occasionally need to rely on our allies. This is a great opportunity for the planetary security forces to prove that the Empire was correct in not disbanding them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you want me to do?
	if (response == "s_63f7aad9")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			imperial_master_trainer_action_setWorkingForImperial (player, npc);

			//-- NPC: As I said, you are to eliminate the Rebel threat in the region. The first stage of the attack is to destroy a number of their smaller vessels that patrol throughout the region. These vessels would include fighters as well as gunboats.
			string_id message = new string_id (c_stringFile, "s_ecdec8ad");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You said smaller vessels. Does that mean there are larger capital class ships in the region?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2bd3a43c");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, I am sure. Since I do not have all day I am going to dispense with further pleasantries. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Kessel system?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Of course, why would I assume that you know anything of the Kessel system? The Kessel system is located deep in the Outer Rim. The Empire has had plans to take full control of the system for some time now, but we have never quite been able to succeed in its ultimate control.
			string_id message = new string_id (c_stringFile, "s_a622496d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Empire want control of the Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd661a34");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do not try my patience. The RSF exists at the whim of the Empire. At any time we can take away your vaunted security force and the whole lot of you would be placed into the Imperial Navy. I would be surprised if even a third of you made it out of our training program.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir, I must disagree.
	if (response == "s_913ac8c9")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You forget your place, pilot. I asked for you simply based on the recommendations from your superior officers. They seemed to have a great deal of faith in you and were completely sure of your loyalty. Was their faith misplaced?
			string_id message = new string_id (c_stringFile, "s_c38038fe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, sir. Sorry, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8db79f00");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch111 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You forget your place, pilot. I asked for you simply based on the recommendations from your superior officers. They seemed to have a great deal of faith in you and were completely sure of your loyalty. Was their faith misplaced?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, sir. Sorry, sir.
	if (response == "s_8db79f00")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Just because they might tolerate insolence in the RSF does not mean that I have to listen to it. With this operation I am in command I expect complete respect. Do I make myself clear, pilot?
			string_id message = new string_id (c_stringFile, "s_1be63a5a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir. You are absolutely clear.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_baca5aeb");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Just because they might tolerate insolence in the RSF does not mean that I have to listen to it. With this operation I am in command I expect complete respect. Do I make myself clear, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir. You are absolutely clear.
	if (response == "s_baca5aeb")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Yes, I am sure. Since I do not have all day I am going to dispense with further pleasantries. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system.
			string_id message = new string_id (c_stringFile, "s_47cf08a2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is good to see that the CorSec are not a breeding ground for the Rebellion like many of my peers seem to believe. Perhaps if you work well for me, you can show your fellow pilots that the only way to truly have peace is to fully support the Empire and its endeavors.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is exactly how I feel, sir.
	if (response == "s_c5aa2921")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: I knew you would see things my way. I could tell from the moment you walked in that you were unlike the rest of that ilk. Personally I believe that the problems that exist within the CorSec can be fixed. I don't how many times I have saved your group from destruction. 
			string_id message = new string_id (c_stringFile, "s_4fb6fb91");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And many members of the CorSec do appreciate it.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87ccb642");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I think you are mistaken about the ideals of CorSec.
	if (response == "s_e685629c")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It has been well known for years that CorSec is nothing more then a breeding ground for dissension. Do not question my judgment in this matter. If it wasn't for me there wouldn't be a CorSec. I don't know how many times I fought against having your entire corps eliminated. Despite all of its obvious flaws, I do believe that the corps can be saved.
			string_id message = new string_id (c_stringFile, "s_3d30040d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see, sir.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24077de7");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I knew you would see things my way. I could tell from the moment you walked in that you were unlike the rest of that ilk. Personally I believe that the problems that exist within the CorSec can be fixed. I don't how many times I have saved your group from destruction. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And many members of the CorSec do appreciate it.
	if (response == "s_87ccb642")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: As well you should. I am hardly required to spend my valuable time trying to protect an agency that isn't under Imperial control. But I think that you and I shall change the perception that other members of Imperial Command might have of CorSec. Wouldn't you agree?
			string_id message = new string_id (c_stringFile, "s_c92b41e9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Perhaps if I had a better idea what you wanted from me.
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7b3a873");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 115);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch115 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As well you should. I am hardly required to spend my valuable time trying to protect an agency that isn't under Imperial control. But I think that you and I shall change the perception that other members of Imperial Command might have of CorSec. Wouldn't you agree?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Perhaps if I had a better idea what you wanted from me.
	if (response == "s_7b3a873")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: Ah, yes. You are interested in finding out why I have ordered your presence. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system. 
			string_id message = new string_id (c_stringFile, "s_8c202f75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah, yes. You are interested in finding out why I have ordered your presence. I am in need of a skilled pilot to implement a plan I have devised in order to secure the Kessel system. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Kessel system?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Of course, why would I assume that you know anything of the Kessel system? The Kessel system is located deep in the Outer Rim. The Empire has had plans to take full control of the system for some time now, but we have never quite been able to succeed in its ultimate control.
			string_id message = new string_id (c_stringFile, "s_a622496d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Empire want control of the Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd661a34");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It has been well known for years that CorSec is nothing more then a breeding ground for dissension. Do not question my judgment in this matter. If it wasn't for me there wouldn't be a CorSec. I don't know how many times I fought against having your entire corps eliminated. Despite all of its obvious flaws, I do believe that the corps can be saved.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see, sir.
	if (response == "s_24077de7")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: You and I shall work together in order to bring respectability back to CorSec.
			string_id message = new string_id (c_stringFile, "s_22dd5c33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do you propose we do that?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4041b73c");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 118);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch118 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You and I shall work together in order to bring respectability back to CorSec.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do you propose we do that?
	if (response == "s_4041b73c")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very simple. You will offer support to a plan I have devised in order to gain control of the Kessel system. With my brilliant strategy, even a pilot such as yourself, should have no trouble bringing victory in the name of the Empire.
			string_id message = new string_id (c_stringFile, "s_cf1c32cf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_448");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int imperial_master_trainer_handleBranch119 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very simple. You will offer support to a plan I have devised in order to gain control of the Kessel system. With my brilliant strategy, even a pilot such as yourself, should have no trouble bringing victory in the name of the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Kessel system?
	if (response == "s_448")
	{
		//-- [NOTE] 
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Of course, why would I assume that you know anything of the Kessel system? The Kessel system is located deep in the Outer Rim. The Empire has had plans to take full control of the system for some time now, but we have never quite been able to succeed in its ultimate control.
			string_id message = new string_id (c_stringFile, "s_a622496d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why would the Empire want control of the Kessel system?
			boolean hasResponse0 = false;
			if (imperial_master_trainer_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fd661a34");

				utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.imperial_master_trainer");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	
	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.imperial_master_trainer");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isWorkingForRebellion (player, npc))
	{
		doAnimationAction (npc, "pound_fist_palm");

		//-- NPC: Dog! How dare you get this close to me. I will have my security detail flogged for this transgression. Get out of my sight before you suffer a similar fate.
		string_id message = new string_id (c_stringFile, "s_ad4fc220");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isRebelPilot (player, npc))
	{
		doAnimationAction (npc, "threaten");

		//-- NPC: How did one such as you get this close to me? I will have my bodyguards heads for this. Get your traitorous self from my presence before I decide to sully my hands and terminate you myself.
		string_id message = new string_id (c_stringFile, "s_452c0be9");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isSmuggler (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: How dare you speak with me. Don't you have any idea of who I am? Go back to your grubby little hole and be thankful I don't have you put to death for this outrage.
		string_id message = new string_id (c_stringFile, "s_da529897");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isNotReadyforMasterImperial (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: Pilot, what is the meaning of this? If I wish to speak to you I will have your superior officer inform you. Until that time I expect you to act with the appropriateness of a member of the Imperial Navy and only speak to your betters when spoken to.
		string_id message = new string_id (c_stringFile, "s_a4bdc579");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sorry, sir.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f2aa6939");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 4);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isNotReadyforMasterPrivateer (player, npc))
	{
		doAnimationAction (npc, "wave_finger_warning");

		//-- NPC: Why would you assume that I wish to talk to you? Did I order your presence? Do I look like I wanted to speak with you? When and if I wish to speak to you I am sure you will be informed by your superior. Now get out of my sight before I begin to care that you are bothering me.
		string_id message = new string_id (c_stringFile, "s_cd392cb5");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasImperialMasterNoMedal (player, npc))
	{
		imperial_master_trainer_action_grantMedalImperial (player, npc);

		//-- NPC: So you must have heard that the Emperor in all of his brilliance has decreed that all Imperial pilots involved in my conquest of Kessel shall be granted medals. I myself have been granted no less then three medals and even had an audience with the Emperor. By our Emperor's orders here is your medal.
		string_id message = new string_id (c_stringFile, "s_504");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasNeutralMasterNoMedal (player, npc))
	{
		imperial_master_trainer_action_grantMedalNeutral (player, npc);

		//-- NPC: So you must have heard that the Emperor in all of his brilliance has decreed that all pilots involved in my conquest of Kessel shall be granted medals. I myself have been granted no less then three medals and even had an audience with the Emperor. By our Emperor's orders here is your medal.
		string_id message = new string_id (c_stringFile, "s_225");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasOtherMasterSkill (player, npc))
	{
		doAnimationAction (npc, "check_wrist_device");

		//-- NPC: Pilot, you have performed my brilliant plan to cripple the Rebellion in the Kessel system with competence,  but that does not give you reign to disturb me any time you please. Do not make the mistake of trying my patience simply because I lent you a kind word in the past. 
		string_id message = new string_id (c_stringFile, "s_73ed2b9a");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasMasterImperialSkill (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: Pilot, you have performed my brilliant plan to cripple the Rebellion in the Kessel system with competence. And I believe that you have the makings of a fine Imperial Naval Officer, but that does not give you reign to disturb me any time you please. Do not make the mistake of trying my patience simply because I lent you a kind word in the past. 
		string_id message = new string_id (c_stringFile, "s_80cfab4c");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isOnMasterQuest (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: What are you doing back here? I explained what you need to do in full detail and I expect you to do it. This mission will not fail because of your incompetence. Get back to the Kessel system and finish the job.
		string_id message = new string_id (c_stringFile, "s_faa7bc59");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isOnQuest (player, npc))
	{
		doAnimationAction (npc, "pound_fist_palm");

		//-- NPC: You seem distracted.  Perhaps there is somewhere else you are supposed to be, and something else you are supposed to be doing.  Wrap it up, and I mean NOW.
		string_id message = new string_id (c_stringFile, "s_4f462e49");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasFailedMissionTwo (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		//-- NPC: You have disappointed me. Your former superiors spoke so highly of you that I assumed you were skilled enough to handle the important task that I gave to you. Perhaps they need me to teach them how to pick a good pilot from an incompetent buffoon.
		string_id message = new string_id (c_stringFile, "s_5c54d077");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: There is no need for that, sir.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I am a good pilot, sir.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_21a81b0b");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_275");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 13);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasFailedMissionOne (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		//-- NPC: Did I not make myself clear to what your assignment was? Because it certainly had nothing to do with failure! You were supposed to strike the Rebel forces in Kessel and cripple their ability to control that system. Instead you come back with your tail between your legs.
		string_id message = new string_id (c_stringFile, "s_15cded59");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am sorry, sir. Give me another chance. I will not let you down.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sir, the Rebels were stronger than initially reported.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fc42e227");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a460d610");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 21);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasWonMissionTwo (player, npc))
	{
		//-- NPC: Make your report, pilot.
		string_id message = new string_id (c_stringFile, "s_38294227");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [relay the destruction of the Rebel Corellia Corvette]
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f010d9ab");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 30);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasWonMissionOne (player, npc))
	{
		doAnimationAction (npc, "point_to_self");

		//-- NPC: So you have managed to dilute the Rebel influence on the Kessel system. That is good. It is good to see that you were able to follow simple orders and allow my genius planning to do its work.
		string_id message = new string_id (c_stringFile, "s_6e1047cb");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, sir. Your plan worked to perfection. The Rebellion didn't know what hit them.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Sir, I beg to differ but I had to improvise quite a bit out there to succeed.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b8ead210");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3876be4f");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 39);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasReceivedRewardOneNeut (player, npc))
	{
		doAnimationAction (npc, "pound_fist_palm");

		//-- NPC: I hope that you are well rested because the time has come for me to unleash the second part of my plan. As you know, we have managed to partially cripple the Rebel battlegroup in the Kessel system and I feel the time to strike at their heart is now.
		string_id message = new string_id (c_stringFile, "s_52c03f61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am not sure if I would call the Rebel battlegroup crippled.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yes, sir. The Rebels are poised to crumble.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a2bd8a18");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8f760eed");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 49);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_hasReceivedRewardOneImp (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		//-- NPC: I trust you are well rested and ready to serve me as well as you had before. The time has come for me to unleash the second stage of my plan to take the Kessel system for the glory of the Empire.
		string_id message = new string_id (c_stringFile, "s_b170039f");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, sir. I am ready.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5d519e4c");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 63);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isReadyforMasterImperial (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		//-- NPC: Ah, yes. You are that bright, young pilot I have been hearing so much about. %NU, isn't it? That's okay, it really doesn't matter. You are probably wondering why a Grand Admiral wishes to see you.
		string_id message = new string_id (c_stringFile, "s_b00fab2");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The thought had crossed my mind.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Reporting as ordered, sir.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47acafeb");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6b18cf1e");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 72);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "imperial_master_trainer", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition_isReadyforMasterPrivateer (player, npc))
	{
		doAnimationAction (npc, "beckon");

		//-- NPC: Yes, what is it? Speak up, I don't have all day to chat with you.
		string_id message = new string_id (c_stringFile, "s_10009b23");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I was told by RSF Command to report to you.
		boolean hasResponse0 = false;
		if (imperial_master_trainer_condition_isRSF (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I was told by Corellia Security Command to report to you.
		boolean hasResponse1 = false;
		if (imperial_master_trainer_condition_isCorsec (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_308a9ab1");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_8409f60e");

			utils.setScriptVar (player, "conversation.imperial_master_trainer.branchId", 90);

			npcStartConversation (player, npc, "imperial_master_trainer", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (imperial_master_trainer_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: How dare you approach me. Where are my bodyguards? I will have them flogged for failure in their duties. I suggest that you get out of my sight before I decide that you are a threat rather than an annoyance.
		string_id message = new string_id (c_stringFile, "s_104cc43b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "imperial_master_trainer")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.imperial_master_trainer.branchId");

	if (branchId == 4 && imperial_master_trainer_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && imperial_master_trainer_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && imperial_master_trainer_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && imperial_master_trainer_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && imperial_master_trainer_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && imperial_master_trainer_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && imperial_master_trainer_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && imperial_master_trainer_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && imperial_master_trainer_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && imperial_master_trainer_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && imperial_master_trainer_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && imperial_master_trainer_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && imperial_master_trainer_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && imperial_master_trainer_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && imperial_master_trainer_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && imperial_master_trainer_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && imperial_master_trainer_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && imperial_master_trainer_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && imperial_master_trainer_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && imperial_master_trainer_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && imperial_master_trainer_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && imperial_master_trainer_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && imperial_master_trainer_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && imperial_master_trainer_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && imperial_master_trainer_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && imperial_master_trainer_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && imperial_master_trainer_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && imperial_master_trainer_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && imperial_master_trainer_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && imperial_master_trainer_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && imperial_master_trainer_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && imperial_master_trainer_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && imperial_master_trainer_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && imperial_master_trainer_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && imperial_master_trainer_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && imperial_master_trainer_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && imperial_master_trainer_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && imperial_master_trainer_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && imperial_master_trainer_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && imperial_master_trainer_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && imperial_master_trainer_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && imperial_master_trainer_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && imperial_master_trainer_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && imperial_master_trainer_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && imperial_master_trainer_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && imperial_master_trainer_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && imperial_master_trainer_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && imperial_master_trainer_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && imperial_master_trainer_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && imperial_master_trainer_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && imperial_master_trainer_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && imperial_master_trainer_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && imperial_master_trainer_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && imperial_master_trainer_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && imperial_master_trainer_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && imperial_master_trainer_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && imperial_master_trainer_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && imperial_master_trainer_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && imperial_master_trainer_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && imperial_master_trainer_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && imperial_master_trainer_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && imperial_master_trainer_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && imperial_master_trainer_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && imperial_master_trainer_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && imperial_master_trainer_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && imperial_master_trainer_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && imperial_master_trainer_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && imperial_master_trainer_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && imperial_master_trainer_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && imperial_master_trainer_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && imperial_master_trainer_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && imperial_master_trainer_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && imperial_master_trainer_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && imperial_master_trainer_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && imperial_master_trainer_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && imperial_master_trainer_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && imperial_master_trainer_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && imperial_master_trainer_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && imperial_master_trainer_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && imperial_master_trainer_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && imperial_master_trainer_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 111 && imperial_master_trainer_handleBranch111 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && imperial_master_trainer_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && imperial_master_trainer_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && imperial_master_trainer_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 115 && imperial_master_trainer_handleBranch115 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && imperial_master_trainer_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && imperial_master_trainer_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 118 && imperial_master_trainer_handleBranch118 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 119 && imperial_master_trainer_handleBranch119 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.imperial_master_trainer.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

