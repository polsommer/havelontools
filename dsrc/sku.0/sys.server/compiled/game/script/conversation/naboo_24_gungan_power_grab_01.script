// ======================================================================
//
// naboo_24_gungan_power_grab_01.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_24_gungan_power_grab_01";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_24_gungan_power_grab_01_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_playerCanTakeQuest (obj_id player, obj_id npc)
{
	return (!groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_01") && 
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma")); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_baubleBagDeliveringBag (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_01", "theed_gungan_bauble_bag_deliver_03");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_baubleBagDeliveringBauble (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_01", "theed_gungan_bauble_bag_deliver_05");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_baubleBagSearchingBag (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_01", "theed_gungan_bauble_bag_retrieve_04");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_baubleBagComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_01") && 
				!groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_gunganPowerGrabComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_01") || 
				groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_allComplete (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_01") && 
				groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_onJakMissions (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_01") && 
		(groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_meet_jak") ||
		groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_convince_jak")));
				

}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_jakMissionsReturnToBroma (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_return_to_broma");
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_baubleBagKillingGungans (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_01", "theed_gungan_bauble_bag_dml_01");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_playerDeletedQuest (obj_id player, obj_id npc)
{
	return (!groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_01") && 
			groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_broma_working")); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_return");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_hasPorgrynActive (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_meet_porgryn") || 
		groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_porgryn"));
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_hasTweegoActive (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_tweego");
}								

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_01_condition_hasProptiActive (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_azure_cabal_01", "azure_cabal_loruna_endorsements_01_propti");
}								

// ======================================================================
// Script Actions
// ======================================================================

void naboo_24_gungan_power_grab_01_action_grantBaubleBag (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/naboo_24_gungan_power_grab_01");
	groundquests.sendSignal(player, "metBromaLak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_signalBagDelivered (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "theed_gungan_bauble_bag_delivered");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_signalBaubleDelivered (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "theed_gungan_bauble_bag_deliver_05_complete");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_grantKnowJak (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/naboo_24_gungan_power_grab_02");
	
	if ( groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02a") ||
	 		groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02b") || 
	 		groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02c") )
	 {
	 	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_met_jak");
	 }
	 
	 if ( groundquests.isQuestActiveOrComplete(player, "naboo_24_gungan_power_grab_02d") )
	 {
	 	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_convinced_jak");
	 }
	 
	if ( groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02d") )
	{
		groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_helped_jak");
	}
	
	return;
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_signalJakComplete (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_finished_jak");
	groundquests.sendSignal(player, "endorsedByBromaLak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_grantTranslatorTrouble (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "quest/naboo_24_gungan_power_grab_03");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_signalBromaEndorsement (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "endorsedByBromaLak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_01_action_signalMetBroma (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "metBromaLak");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_24_gungan_power_grab_01_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you need something? I take it the bauble is not yet decrypted...

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is Jak Chucka?
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Jak Chucka likes to be near the water this time of year. Look for him southeast of here.
			string_id message = new string_id (c_stringFile, "s_50");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go now.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Come back when you have decrypted that bauble.
			string_id message = new string_id (c_stringFile, "s_51");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well done!  I see here that you managed to get Jak to come through after all. You will make a fine addition to the Azure Cabal. I will relay my endorsement to Loruna immediately.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, does that mean I'm in the Azure Cabal now?
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (player, npc))
		{
			//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can direct you to the other members of Loruna's inner circle.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Porgryn?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I find Tweego?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is Propti Xaroon stationed?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have all the directions I need now.
			boolean hasResponse3 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where can I find her?
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Loruna is not far away. She's about 700m to the east, if I recall... here in Theed.
			string_id message = new string_id (c_stringFile, "s_106");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I can direct you to the other members of Loruna's inner circle.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is Porgryn?
	if (response == "s_107")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Porgryn is in Wayfar on Tatooine. Anyone else?
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, thanks.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I find Tweego?
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Tweego is stationed in Mos Entha on Tatooine. Anyone else?
			string_id message = new string_id (c_stringFile, "s_116");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_117");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where is Propti Xaroon stationed?
	if (response == "s_109")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Propti Xaroon is currently in Mos Espa on Tatooine. Anyone else?
			string_id message = new string_id (c_stringFile, "s_119");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_121");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have all the directions I need now.
	if (response == "s_111")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I look forward to working with you again.
			string_id message = new string_id (c_stringFile, "s_115");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Porgryn is in Wayfar on Tatooine. Anyone else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (player, npc))
		{
			//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can direct you to the other members of Loruna's inner circle.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Porgryn?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I find Tweego?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is Propti Xaroon stationed?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have all the directions I need now.
			boolean hasResponse3 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, thanks.
	if (response == "s_113")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I look forward to working with you again.
			string_id message = new string_id (c_stringFile, "s_115");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Tweego is stationed in Mos Entha on Tatooine. Anyone else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_117")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (player, npc))
		{
			//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can direct you to the other members of Loruna's inner circle.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Porgryn?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I find Tweego?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is Propti Xaroon stationed?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have all the directions I need now.
			boolean hasResponse3 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I look forward to working with you again.
			string_id message = new string_id (c_stringFile, "s_115");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Propti Xaroon is currently in Mos Espa on Tatooine. Anyone else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (player, npc))
		{
			//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can direct you to the other members of Loruna's inner circle.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Porgryn?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I find Tweego?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is Propti Xaroon stationed?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have all the directions I need now.
			boolean hasResponse3 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_121")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I look forward to working with you again.
			string_id message = new string_id (c_stringFile, "s_115");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now that's more like it! What did you find?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It looks like some sort of information storage device...
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			naboo_24_gungan_power_grab_01_action_signalBaubleDelivered (player, npc);

			//-- NPC: Interesting, but it appears to be tightly encrypted. Hmm...I need you to get this thing sliced by a contact of mine named Jak Chucka.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds easy enough.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_69");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Interesting, but it appears to be tightly encrypted. Hmm...I need you to get this thing sliced by a contact of mine named Jak Chucka.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough.
	if (response == "s_69")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: You'd think so, wouldn't you? Just remember, Jak is a lot smarter than he seems.  He'll take you for everything you own if you don't watch him.  Still, he's the best hope we have of getting this bauble decrypted.
			string_id message = new string_id (c_stringFile, "s_74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can take care of myself.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'd think so, wouldn't you? Just remember, Jak is a lot smarter than he seems.  He'll take you for everything you own if you don't watch him.  Still, he's the best hope we have of getting this bauble decrypted.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can take care of myself.
	if (response == "s_76")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			naboo_24_gungan_power_grab_01_action_grantKnowJak (player, npc);

			//-- NPC: Good, come back when that bauble is decrypted.
			string_id message = new string_id (c_stringFile, "s_78");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That bauble you brought me is tightly encrypted. I doubt anyone but a Gungan could follow the logic they used in the process! That's why I need you to talk to a contact of mine named Jak Chucka.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds easy enough.
	if (response == "s_69")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: You'd think so, wouldn't you? Just remember, Jak is a lot smarter than he seems.  He'll take you for everything you own if you don't watch him.  Still, he's the best hope we have of getting this bauble decrypted.
			string_id message = new string_id (c_stringFile, "s_74");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can take care of myself.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Gah! That thing smells to Endor!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was in a kaadu mound.
	if (response == "s_43")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "heavy_cough_vomit");

			naboo_24_gungan_power_grab_01_action_signalBagDelivered (player, npc);

			//-- NPC: It smells like it was *inside* a kaadu! You've already got their filth on you...you examine it...I've got a weak stomach.
			string_id message = new string_id (c_stringFile, "s_45");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Maybe I was wrong to test you with something this important.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't find Gungans who know anything.
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ankura Gungans are typically more intelligent. There may be some near the coordinates I uploaded to you.
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get your information.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get the information you want.
	if (response == "s_75")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do that.
			string_id message = new string_id (c_stringFile, "s_77");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ankura Gungans are typically more intelligent. There may be some near the coordinates I uploaded to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get your information.
	if (response == "s_80")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do that.
			string_id message = new string_id (c_stringFile, "s_77");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I still need someone to locate that lost data... are you interested?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. What do you need?
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: One of our clients wants a deeper understanding of the workings of the Gungan technology.  They believe that many essential secrets have been concealed and that the necessary information was lost during the Battle of Naboo. 
			string_id message = new string_id (c_stringFile, "s_86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where should I start?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I get the picture. Point to my first target.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Loruna says that you're interested in becoming a member of the Azure Cabal. If you can prove that you know how to get information, I'll give you my endorsement.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Less talk, more credits. Just upload the data.
	if (response == "s_63")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			naboo_24_gungan_power_grab_01_action_grantBaubleBag (player, npc);

			//-- NPC: Fine. Uploading now.
			string_id message = new string_id (c_stringFile, "s_66");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I get your endorsement?
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: Straight to business...good!
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What information are you looking for?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yeah, yeah. Just upload the data.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_130");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll come back later.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Don't let me stop you.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Straight to business...good!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What information are you looking for?
	if (response == "s_84")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: One of our clients wants a deeper understanding of the workings of the Gungan technology.  They believe that many essential secrets have been concealed and that the necessary information was lost during the Battle of Naboo. 
			string_id message = new string_id (c_stringFile, "s_86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where should I start?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I get the picture. Point to my first target.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, yeah. Just upload the data.
	if (response == "s_130")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			naboo_24_gungan_power_grab_01_action_grantBaubleBag (player, npc);

			//-- NPC: Excellent.
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where should I look?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll return soon.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of our clients wants a deeper understanding of the workings of the Gungan technology.  They believe that many essential secrets have been concealed and that the necessary information was lost during the Battle of Naboo. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where should I start?
	if (response == "s_88")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: The only remaining mention of it in the database was of a satchel that disappeared during the Battle of Naboo.  Locating the satchel may mean...convincing some Gungans to cooperate.
			string_id message = new string_id (c_stringFile, "s_90");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't mind getting my hands dirty.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm not interested in fighting Gungans.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I get the picture. Point to my first target.
	if (response == "s_128")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			naboo_24_gungan_power_grab_01_action_grantBaubleBag (player, npc);

			//-- NPC: Excellent.
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where should I look?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll return soon.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The only remaining mention of it in the database was of a satchel that disappeared during the Battle of Naboo.  Locating the satchel may mean...convincing some Gungans to cooperate.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't mind getting my hands dirty.
	if (response == "s_92")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			naboo_24_gungan_power_grab_01_action_grantBaubleBag (player, npc);

			//-- NPC: Excellent.
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where should I look?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll return soon.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not interested in fighting Gungans.
	if (response == "s_124")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: Then I'm not interested in endorsing you. Goodbye.
			string_id message = new string_id (c_stringFile, "s_126");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where should I look?
	if (response == "s_96")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: There are some devious looking Gungans in a scout camp near the coordinates I uploaded. I recommend starting there.
			string_id message = new string_id (c_stringFile, "s_98");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll return soon.
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good luck.
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_01_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'll keep an eye open for other tasks, but I'm busy right now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do now, Broma?
	if (response == "s_138")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition_hasReturnToLorunaActive (player, npc))
		{
			//-- NPC: You have all four endorsements, but only Loruna Scathe can invite you.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where can I find her?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_105");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			//-- NPC: I can direct you to the other members of Loruna's inner circle.
			string_id message = new string_id (c_stringFile, "s_104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where is Porgryn?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How do I find Tweego?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Where is Propti Xaroon stationed?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I have all the directions I need now.
			boolean hasResponse3 = false;
			if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_109");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_24_gungan_power_grab_01");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_24_gungan_power_grab_01");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_onJakMissions (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: Do you need something? I take it the bauble is not yet decrypted...
		string_id message = new string_id (c_stringFile, "s_52");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Where is Jak Chucka?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll go now.
		boolean hasResponse1 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_48");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 1);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_jakMissionsReturnToBroma (player, npc))
	{
		doAnimationAction (npc, "celebrate1");

		naboo_24_gungan_power_grab_01_action_signalJakComplete (player, npc);

		//-- NPC: Well done!  I see here that you managed to get Jak to come through after all. You will make a fine addition to the Azure Cabal. I will relay my endorsement to Loruna immediately.
		string_id message = new string_id (c_stringFile, "s_59");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: So, does that mean I'm in the Azure Cabal now?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 4);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_baubleBagDeliveringBauble (player, npc))
	{
		doAnimationAction (npc, "clap_rousing");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: Now that's more like it! What did you find?
		string_id message = new string_id (c_stringFile, "s_35");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It looks like some sort of information storage device...
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_38");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 12);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_baubleBagComplete (player, npc))
	{
		//-- NPC: That bauble you brought me is tightly encrypted. I doubt anyone but a Gungan could follow the logic they used in the process! That's why I need you to talk to a contact of mine named Jak Chucka.
		string_id message = new string_id (c_stringFile, "s_122");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sounds easy enough.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_69");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 13);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_baubleBagSearchingBag (player, npc))
	{
		doAnimationAction (npc, "wtf");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: Get that thing away from me! You've got that kaadu filth all over you already, so you search it! Just double-click on it in your inventory, already.
		string_id message = new string_id (c_stringFile, "s_39");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_baubleBagDeliveringBag (player, npc))
	{
		doAnimationAction (npc, "hold_nose");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: Gah! That thing smells to Endor!
		string_id message = new string_id (c_stringFile, "s_41");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was in a kaadu mound.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_43");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 18);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_baubleBagKillingGungans (player, npc))
	{
		//-- NPC: Maybe I was wrong to test you with something this important.
		string_id message = new string_id (c_stringFile, "s_67");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I can't find Gungans who know anything.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'll get the information you want.
		boolean hasResponse1 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_73");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_75");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 20);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_playerDeletedQuest (player, npc))
	{
		//-- NPC: I still need someone to locate that lost data... are you interested?
		string_id message = new string_id (c_stringFile, "s_99");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. What do you need?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_101");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 23);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_playerCanTakeQuest (player, npc))
	{
		doAnimationAction (npc, "explain");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: Loruna says that you're interested in becoming a member of the Azure Cabal. If you can prove that you know how to get information, I'll give you my endorsement.
		string_id message = new string_id (c_stringFile, "s_61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Less talk, more credits. Just upload the data.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: How do I get your endorsement?
		boolean hasResponse1 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'll come back later.
		boolean hasResponse2 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_63");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_70");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_132");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 24);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition_allComplete (player, npc))
	{
		doAnimationAction (npc, "explain");

		naboo_24_gungan_power_grab_01_action_signalBromaEndorsement (player, npc);

		//-- NPC: I'll keep an eye open for other tasks, but I'm busy right now.
		string_id message = new string_id (c_stringFile, "s_136");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do I do now, Broma?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_138");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId", 34);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_01", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_01_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		naboo_24_gungan_power_grab_01_action_facePlayer (player, npc);

		//-- NPC: We have nothing to discuss right now.  Move along.
		string_id message = new string_id (c_stringFile, "s_140");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_24_gungan_power_grab_01")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

	if (branchId == 1 && naboo_24_gungan_power_grab_01_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && naboo_24_gungan_power_grab_01_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && naboo_24_gungan_power_grab_01_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && naboo_24_gungan_power_grab_01_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && naboo_24_gungan_power_grab_01_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && naboo_24_gungan_power_grab_01_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && naboo_24_gungan_power_grab_01_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && naboo_24_gungan_power_grab_01_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_24_gungan_power_grab_01_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && naboo_24_gungan_power_grab_01_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && naboo_24_gungan_power_grab_01_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && naboo_24_gungan_power_grab_01_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && naboo_24_gungan_power_grab_01_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && naboo_24_gungan_power_grab_01_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && naboo_24_gungan_power_grab_01_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && naboo_24_gungan_power_grab_01_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && naboo_24_gungan_power_grab_01_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && naboo_24_gungan_power_grab_01_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && naboo_24_gungan_power_grab_01_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && naboo_24_gungan_power_grab_01_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && naboo_24_gungan_power_grab_01_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_01.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

