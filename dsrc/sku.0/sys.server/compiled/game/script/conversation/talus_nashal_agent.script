// ======================================================================
//
// talus_nashal_agent.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/talus_nashal_agent";

// ======================================================================
// Script Conditions
// ======================================================================

boolean talus_nashal_agent_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completePreviousArc (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "corellia_39_chirq_council_04");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onFindWeakness (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "talus_nashal_find_weakness");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completeMother (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "talus_nashal_goto_mother")) &&
		   (!groundquests.isQuestActive(player, "talus_nashal_rescue_operation"));
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onTalkAgent (obj_id player, obj_id npc)
{
	//return groundquests.hasCompletedQuest(player, "talus_dearic_crisis_of_allegiance");'
	//return groundquests.hasCompletedQuest(player, "talus_nashal_goto_mother");
	return groundquests.isTaskActive(player, "talus_nashal_rescue_operation", "rescue_op_signal_01_02");	
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completeRescue (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "talus_nashal_rescue_operation");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onGrimReturn (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "talus_nashal_grim_discovery", "grim_discovery_signal_02_10");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completedGenocideGate (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "talus_dearic_genocide", "genocide_retrieve_01_02");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onGenocideReturn (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "talus_dearic_genocide", "genocide_signal_01_08");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completeGenocide (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "talus_dearic_genocide");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_afterTalkAgent (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedTask(player, "talus_nashal_rescue_operation", "rescue_op_signal_01_02");
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_completeGrimNeedGeno (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "talus_nashal_grim_discovery") &&
		   !groundquests.isQuestActive(player, "talus_dearic_genocide"));
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onGenocide (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "talus_dearic_genocide", "genocide_gotoloc_01_01") ||
			groundquests.isTaskActive(player, "talus_dearic_genocide", "genocide_retrieve_01_02"));
}

// ----------------------------------------------------------------------

boolean talus_nashal_agent_condition_onDroidBunkerGoto (obj_id player, obj_id npc)
{
	return groundquests.isQuestActiveOrComplete(player, "corellia_droid_bunker_legacy_goto");
}

// ======================================================================
// Script Actions
// ======================================================================

void talus_nashal_agent_action_grantGotoKiki (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_nashal_goto_kiki");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_pointerSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "selonian_talk_agent");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantGotoDathnaeya (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_dearic_goto_dathnaeya");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_signalTalkAgent (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "rescue_op_signal_01_02");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantDeletedQuest (obj_id player, obj_id npc)
{
	if (groundquests.hasCompletedQuest(player, "talus_nashal_evolution"))
	{
			groundquests.grantQuest(player, "talus_nashal_grim_discovery");
	}	
	else if (groundquests.hasCompletedQuest(player, "talus_nashal_tracking_crew"))
	{
			groundquests.grantQuest(player, "talus_nashal_evolution");
	}	
	else if (groundquests.hasCompletedQuest(player, "talus_nashal_rescue_operation"))
	{
			groundquests.grantQuest(player, "talus_nashal_tracking_crew");
	}	
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grimSignal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "grim_discovery_signal_02_10");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantGenocide (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_dearic_genocide");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantBetterGenetics (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_dearic_better_genetics");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantPleaPity (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_dearic_plea_pity");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantFindSource (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "talus_dearic_find_source");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_signalGenocideReward (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "genocide_signal_01_08");
}

// ----------------------------------------------------------------------

void talus_nashal_agent_action_grantDroidBunkerQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "corellia_droid_bunker_legacy_goto");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int talus_nashal_agent_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's all we have for you right now. You've been a huge help. If you are looking for more work however, I might be able to help you out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks, I think I need a vacation!
	if (response == "s_256")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is understandable. Return to me if you change your mind.
			string_id message = new string_id (c_stringFile, "s_258");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I could use the work.
	if (response == "s_260")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: An old friend of mine, Jornel Savas works with Corsec on Corellia. He recently contacted me. It seems they've encountered some trouble and he's looking for capable individuals to help solve whatever the problem is.
			string_id message = new string_id (c_stringFile, "s_262");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Maybe I'll give this one a miss.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sure, I'll look up Jornel Savas.
			boolean hasResponse1 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_264");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_268");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An old friend of mine, Jornel Savas works with Corsec on Corellia. He recently contacted me. It seems they've encountered some trouble and he's looking for capable individuals to help solve whatever the problem is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Maybe I'll give this one a miss.
	if (response == "s_264")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very well, let me know if you change your mind.
			string_id message = new string_id (c_stringFile, "s_266");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure, I'll look up Jornel Savas.
	if (response == "s_268")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantDroidBunkerQuest (player, npc);

			//-- NPC: Great, I'll let him know that you are coming.
			string_id message = new string_id (c_stringFile, "s_270");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fantastic job! You've really come through for us all on this one.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What about those escaped Genetech Syndicate scientists?
	if (response == "s_274")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: We've filed a complaint with the Imperial Research Division for carrying out class 5 biological experiments on an inhabited world, but I think it's going to be a long time before we see anything come of that.
			string_id message = new string_id (c_stringFile, "s_276");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they just get away?
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_278");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've filed a complaint with the Imperial Research Division for carrying out class 5 biological experiments on an inhabited world, but I think it's going to be a long time before we see anything come of that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they just get away?
	if (response == "s_278")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nothing we can do right now, %TU. Look, I'm just glad we're not bug food!
			string_id message = new string_id (c_stringFile, "s_280");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I suppose so.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_282");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 9);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nothing we can do right now, %TU. Look, I'm just glad we're not bug food!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I suppose so.
	if (response == "s_282")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_signalGenocideReward (player, npc);

			//-- NPC: Anyway...here's your reward. I pressured the Talus government to include a bonus for you. This is as much as a year's salary for some officers, but you earned it.
			string_id message = new string_id (c_stringFile, "s_284");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sorry about that. The communications array must have gone down again. Let me see your comm, I will retune it to the new frequency for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Here you go.
	if (response == "s_288")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: There we go...try it out, see if you can get the mission information.
			string_id message = new string_id (c_stringFile, "s_290");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that's better. Let's recalibrate the mission information.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_292");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There we go...try it out, see if you can get the mission information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, that's better. Let's recalibrate the mission information.
	if (response == "s_292")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ok, what information do you want to check?
			string_id message = new string_id (c_stringFile, "s_294");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let's check the information on destroying the eggs.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let's check the information on destroying the research data.
			boolean hasResponse1 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Let's check the information on destroying the creatures.
			boolean hasResponse2 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm good.
			boolean hasResponse3 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_296");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_304");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_312");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_320");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ok, what information do you want to check?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the eggs.
	if (response == "s_296")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantFindSource (player, npc);

			//-- NPC: Performing calibration...now.
			string_id message = new string_id (c_stringFile, "s_298");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_300");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the research data.
	if (response == "s_304")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantBetterGenetics (player, npc);

			//-- NPC: Starting calibration...now.
			string_id message = new string_id (c_stringFile, "s_306");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That checks out.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_308");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the creatures.
	if (response == "s_312")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantPleaPity (player, npc);

			//-- NPC: Beginning calibration...now.
			string_id message = new string_id (c_stringFile, "s_314");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's confirmed.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_316");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm good.
	if (response == "s_320")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great. Get back to the bunker and let me know whats going on there.
			string_id message = new string_id (c_stringFile, "s_322");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Performing calibration...now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Got it.
	if (response == "s_300")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Anything else?
			string_id message = new string_id (c_stringFile, "s_302");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let's check the information on destroying the eggs.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let's check the information on destroying the research data.
			boolean hasResponse1 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Let's check the information on destroying the creatures.
			boolean hasResponse2 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm good.
			boolean hasResponse3 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_296");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_304");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_312");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_320");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the eggs.
	if (response == "s_296")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantFindSource (player, npc);

			//-- NPC: Performing calibration...now.
			string_id message = new string_id (c_stringFile, "s_298");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_300");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the research data.
	if (response == "s_304")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantBetterGenetics (player, npc);

			//-- NPC: Starting calibration...now.
			string_id message = new string_id (c_stringFile, "s_306");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That checks out.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_308");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the creatures.
	if (response == "s_312")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantPleaPity (player, npc);

			//-- NPC: Beginning calibration...now.
			string_id message = new string_id (c_stringFile, "s_314");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's confirmed.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_316");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm good.
	if (response == "s_320")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great. Get back to the bunker and let me know whats going on there.
			string_id message = new string_id (c_stringFile, "s_322");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Starting calibration...now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That checks out.
	if (response == "s_308")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Is that all?
			string_id message = new string_id (c_stringFile, "s_310");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let's check the information on destroying the eggs.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let's check the information on destroying the research data.
			boolean hasResponse1 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Let's check the information on destroying the creatures.
			boolean hasResponse2 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm good.
			boolean hasResponse3 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_296");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_304");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_312");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_320");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is that all?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the eggs.
	if (response == "s_296")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantFindSource (player, npc);

			//-- NPC: Performing calibration...now.
			string_id message = new string_id (c_stringFile, "s_298");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_300");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the research data.
	if (response == "s_304")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantBetterGenetics (player, npc);

			//-- NPC: Starting calibration...now.
			string_id message = new string_id (c_stringFile, "s_306");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That checks out.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_308");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the creatures.
	if (response == "s_312")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantPleaPity (player, npc);

			//-- NPC: Beginning calibration...now.
			string_id message = new string_id (c_stringFile, "s_314");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's confirmed.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_316");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm good.
	if (response == "s_320")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great. Get back to the bunker and let me know whats going on there.
			string_id message = new string_id (c_stringFile, "s_322");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Beginning calibration...now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's confirmed.
	if (response == "s_316")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Has that got it?
			string_id message = new string_id (c_stringFile, "s_318");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Let's check the information on destroying the eggs.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Let's check the information on destroying the research data.
			boolean hasResponse1 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Let's check the information on destroying the creatures.
			boolean hasResponse2 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'm good.
			boolean hasResponse3 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_296");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_304");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_312");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_320");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Has that got it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the eggs.
	if (response == "s_296")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantFindSource (player, npc);

			//-- NPC: Performing calibration...now.
			string_id message = new string_id (c_stringFile, "s_298");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Got it.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_300");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the research data.
	if (response == "s_304")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantBetterGenetics (player, npc);

			//-- NPC: Starting calibration...now.
			string_id message = new string_id (c_stringFile, "s_306");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That checks out.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_308");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's check the information on destroying the creatures.
	if (response == "s_312")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantPleaPity (player, npc);

			//-- NPC: Beginning calibration...now.
			string_id message = new string_id (c_stringFile, "s_314");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's confirmed.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_316");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm good.
	if (response == "s_320")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Great. Get back to the bunker and let me know whats going on there.
			string_id message = new string_id (c_stringFile, "s_322");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You need to find that queen. Please go check out this location!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do you need me to go?
	if (response == "s_328")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantGenocide (player, npc);

			//-- NPC: Here is the information.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is dire news indeed. We traced the flight trajectory of the crashed ship, and it appears it took off from Dearic. A corsec scout team found a lab owned by the Genetech Syndicate undergoing an emergency evacuation. This is a good place to check for the queen arachne. Find out if it's the correct lab and then send me a comm.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_334")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grimSignal (player, npc);

			//-- NPC: Here's your payment for the rescue operation. There will be more when you've killed the queen.
			string_id message = new string_id (c_stringFile, "s_336");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_338");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's your payment for the rescue operation. There will be more when you've killed the queen.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_338")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantGenocide (player, npc);

			//-- NPC: Be careful. These things seem to be designed to kill everything they come in contact with.
			string_id message = new string_id (c_stringFile, "s_340");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing here? We need you out there looking for those crash victims!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I am on my way.
	if (response == "s_344")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantDeletedQuest (player, npc);

			//-- NPC: Let's hope you can find them. This is turning into a very strange rescue operation.
			string_id message = new string_id (c_stringFile, "s_346");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please go check out the crash site. People's lives are depending on you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going there now.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_352");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad to have you back, %TU. We've picked up an explosion  in the mountains to the northeast of here. Starport sensors showed a starship on that trajectory. We believe the explosion was it crashing into the mountains. We need you to go check it out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any other information?
	if (response == "s_356")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_signalTalkAgent (player, npc);

			//-- NPC: We don't have any rescue teams available at the moment. When you find the crash site send me a comm with the location, and we'll get one out to you as soon as possible.
			string_id message = new string_id (c_stringFile, "s_358");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Vitala Baize said you could help out. Let me detail the situation. There is a den of Selonians just outside Nashal that are being exploited by a group of smugglers. It appears the smugglers have some of the den's people, and are using them to coerce the rest of the den into mining for them. I need you to talk to Kiki Dorente and see if you can help her with the den's problems.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why can't you do this?
	if (response == "s_366")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Selonians are a proud race. They do not ask for help lightly. I suspect it took quite a bit to get Kiki to come to the conclusion the den needed outside help. In any event, it certainly cannot come from a political organization like CorSec. We want to help, but they would never allow us to help them. That's where an independent agent such as yourself comes in.
			string_id message = new string_id (c_stringFile, "s_368");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So I should just go talk to Kiki about what she needs me to do?
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_370");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Selonians are a proud race. They do not ask for help lightly. I suspect it took quite a bit to get Kiki to come to the conclusion the den needed outside help. In any event, it certainly cannot come from a political organization like CorSec. We want to help, but they would never allow us to help them. That's where an independent agent such as yourself comes in.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So I should just go talk to Kiki about what she needs me to do?
	if (response == "s_370")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			//-- NPC: Correct. Do not mention any ties to CorSec. They will not react well to that information. You need to understand that they do not welcome outside help easily.  You're likely to meet unfriendly Selonians during your tasks. Do not let them affect the completion of your tasks. Selonians are a very unemotional race, it may seem that they are ungrateful, but the truth is they will be deeply indebted to you.
			string_id message = new string_id (c_stringFile, "s_372");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will keep that in mind.
			boolean hasResponse0 = false;
			if (talus_nashal_agent_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_374");

				utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_nashal_agent_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Correct. Do not mention any ties to CorSec. They will not react well to that information. You need to understand that they do not welcome outside help easily.  You're likely to meet unfriendly Selonians during your tasks. Do not let them affect the completion of your tasks. Selonians are a very unemotional race, it may seem that they are ungrateful, but the truth is they will be deeply indebted to you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will keep that in mind.
	if (response == "s_374")
	{
		//-- [NOTE] 
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			talus_nashal_agent_action_grantGotoKiki (player, npc);

			//-- NPC: Please do, and good luck. What you do here will have a tremendous impact on Selonian - Human relations here in the core cluster.
			string_id message = new string_id (c_stringFile, "s_376");
			utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.talus_nashal_agent");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.talus_nashal_agent");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onDroidBunkerGoto (player, npc))
	{
		//-- NPC: It's good to see you again. Did you get manage to help out Jornel Savas?
		string_id message = new string_id (c_stringFile, "s_125");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completeGenocide (player, npc))
	{
		//-- NPC: That's all we have for you right now. You've been a huge help. If you are looking for more work however, I might be able to help you out.
		string_id message = new string_id (c_stringFile, "s_254");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No thanks, I think I need a vacation!
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Well, I could use the work.
		boolean hasResponse1 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_256");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_260");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 2);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onGenocideReturn (player, npc))
	{
		//-- NPC: Fantastic job! You've really come through for us all on this one.
		string_id message = new string_id (c_stringFile, "s_272");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What about those escaped Genetech Syndicate scientists?
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_274");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 7);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completedGenocideGate (player, npc))
	{
		//-- NPC: Sorry about that. The communications array must have gone down again. Let me see your comm, I will retune it to the new frequency for you.
		string_id message = new string_id (c_stringFile, "s_286");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Here you go.
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_288");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 11);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onGenocide (player, npc))
	{
		//-- NPC: You should be investigating the Genetech Syndicate lab. We need to know if that is the location of the brood queen.
		string_id message = new string_id (c_stringFile, "s_324");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completeGrimNeedGeno (player, npc))
	{
		//-- NPC: You need to find that queen. Please go check out this location!
		string_id message = new string_id (c_stringFile, "s_326");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Where do you need me to go?
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_328");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 22);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onGrimReturn (player, npc))
	{
		//-- NPC: This is dire news indeed. We traced the flight trajectory of the crashed ship, and it appears it took off from Dearic. A corsec scout team found a lab owned by the Genetech Syndicate undergoing an emergency evacuation. This is a good place to check for the queen arachne. Find out if it's the correct lab and then send me a comm.
		string_id message = new string_id (c_stringFile, "s_332");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Understood.
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_334");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 24);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completeRescue (player, npc))
	{
		//-- NPC: What are you doing here? We need you out there looking for those crash victims!
		string_id message = new string_id (c_stringFile, "s_342");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sorry, I am on my way.
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_344");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 27);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_afterTalkAgent (player, npc))
	{
		//-- NPC: Please go check out the crash site. People's lives are depending on you.
		string_id message = new string_id (c_stringFile, "s_348");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm going there now.
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_350");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 29);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onTalkAgent (player, npc))
	{
		//-- NPC: Glad to have you back, %TU. We've picked up an explosion  in the mountains to the northeast of here. Starport sensors showed a starship on that trajectory. We believe the explosion was it crashing into the mountains. We need you to go check it out.
		string_id message = new string_id (c_stringFile, "s_354");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Any other information?
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_356");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 31);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "talus_nashal_agent", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completeMother (player, npc))
	{
		talus_nashal_agent_action_grantGotoDathnaeya (player, npc);

		//-- NPC: Excellent work on the Selonian situation. I've been asked to direct you to the capital building in Dearic. There, you will need to speak to officer Loessin. Good luck, and thanks again for your help.
		string_id message = new string_id (c_stringFile, "s_360");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_onFindWeakness (player, npc))
	{
		//-- NPC: You should not be reporting back to me. You must complete the tasks the Selonians have asked of you.
		string_id message = new string_id (c_stringFile, "s_362");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition_completePreviousArc (player, npc))
	{
		talus_nashal_agent_action_pointerSignal (player, npc);

		//-- NPC: Vitala Baize said you could help out. Let me detail the situation. There is a den of Selonians just outside Nashal that are being exploited by a group of smugglers. It appears the smugglers have some of the den's people, and are using them to coerce the rest of the den into mining for them. I need you to talk to Kiki Dorente and see if you can help her with the den's problems.
		string_id message = new string_id (c_stringFile, "s_364");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Why can't you do this?
		boolean hasResponse0 = false;
		if (talus_nashal_agent_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_366");

			utils.setScriptVar (player, "conversation.talus_nashal_agent.branchId", 35);

			npcStartConversation (player, npc, "talus_nashal_agent", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_nashal_agent_condition__defaultCondition (player, npc))
	{
		//-- NPC: Sorry citizen, I do not have time to talk right now.
		string_id message = new string_id (c_stringFile, "s_378");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "talus_nashal_agent")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.talus_nashal_agent.branchId");

	if (branchId == 2 && talus_nashal_agent_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && talus_nashal_agent_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && talus_nashal_agent_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && talus_nashal_agent_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && talus_nashal_agent_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && talus_nashal_agent_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && talus_nashal_agent_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && talus_nashal_agent_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && talus_nashal_agent_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && talus_nashal_agent_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && talus_nashal_agent_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && talus_nashal_agent_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && talus_nashal_agent_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && talus_nashal_agent_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && talus_nashal_agent_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && talus_nashal_agent_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && talus_nashal_agent_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && talus_nashal_agent_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && talus_nashal_agent_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && talus_nashal_agent_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && talus_nashal_agent_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && talus_nashal_agent_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && talus_nashal_agent_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.talus_nashal_agent.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

