// ======================================================================
//
// quest_hero_of_tatooine_hermit.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.badge;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/quest_hero_of_tatooine_hermit";

// ======================================================================
// Script Conditions
// ======================================================================

boolean quest_hero_of_tatooine_hermit_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_hasSquillSkull (obj_id player, obj_id npc)
{
	//if(!hasObjVar(player, "quest.hero_of_tatooine.task"))
		//return false;
	
	if ( groundquests.isTaskActive(player, "quest_hero_of_tatooine_main", "hero_of_tatooine_main_02") )
	{
		if ( utils.playerHasItemByTemplate(player, "object/tangible/loot/quest/hero_of_tatooine/squill_skull.iff") )
			return true;
	}
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_BadgeAltruism (obj_id player, obj_id npc)
{
	if ( !badge.hasBadge( player, "poi_factoryliberation" ) )
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_BadgeIntellect (obj_id player, obj_id npc)
{
	if ( !badge.hasBadge( player, "poi_twoliars" ) )
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_BadgeCourage (obj_id player, obj_id npc)
{
	if( !badge.hasBadge( player, "poi_rabidbeast" ) )
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_BadgeHonor (obj_id player, obj_id npc)
{
	if ( !badge.hasBadge( player, "poi_prisonbreak" ) )
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_questHasAllMarks (obj_id player, obj_id npc)
{
	if( hasObjVar(player, "quest.hero_of_tatooine.badgequests") || 
		groundquests.hasCompletedTask(player, "quest_hero_of_tatooine_main", "hero_of_tatooine_main_02"))
	{
		if(badge.hasBadge( player, "poi_prisonbreak") &&
			badge.hasBadge( player, "poi_factoryliberation" ) &&
			badge.hasBadge( player, "poi_rabidbeast" ) &&
			badge.hasBadge( player, "poi_twoliars" ) )
			return true;
	}
				
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_heroOfTatooineActive (obj_id player, obj_id npc)
{
	if(hasObjVar(player, "quest.hero_of_tatooine.task") || hasObjVar(player, "quest.hero_of_tatooine.badgequests"))
		return true;
		
	return groundquests.isQuestActive(player, "quest_hero_of_tatooine_main");
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_OnSkullQuest (obj_id player, obj_id npc)
{
	return hasObjVar(player, "quest.hero_of_tatooine.task") ||
	groundquests.isTaskActive(player, "quest_hero_of_tatooine_main", "hero_of_tatooine_main_skull");
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_heroOfTatooineComplete (obj_id player, obj_id npc)
{
	if(hasObjVar( player, "quest.hero_of_tatooine.complete"))
		return true;
		
	if(badge.hasBadge(player, "poi_heromark"))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_IsOwedItems (obj_id player, obj_id npc)
{
	return hasObjVar(player, "quest.hero_of_tatooine.owed");
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_IsInvFull (obj_id player, obj_id npc)
{
	obj_id inv = utils.getInventoryContainer(player);
	
	int free = getVolumeFree(inv);
	
	if(free <= 0)
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_GrantOwed (obj_id player, obj_id npc)
{
	obj_id inv = utils.getInventoryContainer(player);
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.altruism")) {
	
		obj_id mark_altruism = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_altruism.iff", inv, "");
		
		if(isIdValid(mark_altruism)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.altruism");
			
		} else {
		
			return true;
		}
	}
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.intellect")) {
	
		obj_id mark_intellect = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_intellect.iff", inv, "");
		
		if(isIdValid(mark_intellect)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.intellect");
			
		} else {
		
			return true;
		}
	}
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.honor")) {
	
		obj_id mark_honor = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_honor.iff", inv, "");
		
		if(isIdValid(mark_honor)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.honor");
			
		} else {
		
			return true;
		}
	}
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.hero")) 
	{
	
		obj_id mark_hero = createObject("object/tangible/wearables/ring/ring_mark_hero.iff", inv, "");
		
		if(isIdValid(mark_hero)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.hero");
			
		} else {
		
			return true;
		}
	}
	
	return false;
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_collectingMarks (obj_id player, obj_id npc)
{
	return hasObjVar(player, "quest.hero_of_tatooine.badgequests") ||
	groundquests.isTaskActive(player, "quest_hero_of_tatooine_main", "hero_of_tatooine_main_03");
}

// ----------------------------------------------------------------------

boolean quest_hero_of_tatooine_hermit_condition_alreadyHasAllMarks (obj_id player, obj_id npc)
{
	return badge.hasBadge( player, "poi_prisonbreak") &&
			badge.hasBadge( player, "poi_factoryliberation" ) &&
			badge.hasBadge( player, "poi_rabidbeast" ) &&
			badge.hasBadge( player, "poi_twoliars" );
}

// ======================================================================
// Script Actions
// ======================================================================

void quest_hero_of_tatooine_hermit_action_QuestAccepted (obj_id player, obj_id npc)
{
	//setObjVar(player, "quest.hero_of_tatooine.task", true);
	groundquests.grantQuest(player, "quest_hero_of_tatooine_main");
}

// ----------------------------------------------------------------------

void quest_hero_of_tatooine_hermit_action_QuestCompleted (obj_id player, obj_id npc)
{
	if(hasObjVar(player, "quest.hero_of_tatooine.badgequests") || 
		groundquests.isTaskActive(player, "quest_hero_of_tatooine_main", "hero_of_tatooine_main_04"))	
	{
		obj_id inv = utils.getInventoryContainer(player);
		
		if(!isIdValid(inv))
			return;
			
		obj_id hero_mark = createObject("object/tangible/wearables/ring/ring_mark_hero.iff", inv, "");
		
		if(!isIdValid(hero_mark)) {
		
			setObjVar(player, "quest.hero_of_tatooine.owed.hero", 1);
			sendSystemMessage(player, new string_id("quest/hero_of_tatooine/system_messages", "hero_inv_full"));
		}
		
		removeObjVar(player, "quest.hero_of_tatooine.badgequests");
		//setObjVar(player, "quest.hero_of_tatooine.complete", 1);
		groundquests.sendSignal(player, "hero_of_tatooine_main_04");
		
		badge.grantBadge(player, "poi_heromark");
		
		CustomerServiceLog("quest", "HERO OF TATOOINE - %TU has acquired the Mark of the Hero", player);
	}
	
	return;
}

// ----------------------------------------------------------------------

void quest_hero_of_tatooine_hermit_action_TakeSquillSkull (obj_id player, obj_id npc)
{
	if (isIdValid(player))
	{
	 	obj_id objInventory = utils.getInventoryContainer(player);
		if(isIdValid(objInventory)) 
		{
			obj_id[] objContents = utils.getContents(objInventory);
	
			if( objContents != null )
			{					
			//obj_id item = createObject( REWARD, playerInv, "" );
			//if(isIdValid(item))
			//{
				for( int intI = 0; intI<objContents.length; intI++ )
				{
					if ( isIdValid(objContents[intI]) )
					{
						obj_id inventoryItem = objContents[intI];
						string strItemTemplate = getTemplateName(inventoryItem);
						if( strItemTemplate=="object/tangible/loot/quest/hero_of_tatooine/squill_skull.iff" )
						{
							setObjVar(inventoryItem, "hero_of_tatooine_skull_to_hermit", true);
							destroyObject(inventoryItem);
							
							groundquests.sendSignal(player, "hero_of_tatooine_main_02");
							
							if ( badge.hasBadge( player, "poi_factoryliberation" ) )
								groundquests.sendSignal(player, "hero_of_tatooine_main_altruism");
							
							if ( badge.hasBadge( player, "poi_rabidbeast" ) )
								groundquests.sendSignal(player, "hero_of_tatooine_main_courage");
								
							if ( badge.hasBadge( player, "poi_prisonbreak" ) )
								groundquests.sendSignal(player, "hero_of_tatooine_main_honor");
								
							if ( badge.hasBadge( player, "poi_twoliars" ) )
								groundquests.sendSignal(player, "hero_of_tatooine_main_intellect");
							
							//setObjVar(player, "quest.hero_of_tatooine.badgequests", true);
							removeObjVar(player, "quest.hero_of_tatooine.task");
							
						}
					}
				}
			}
		}
	}
return;
}

// ----------------------------------------------------------------------

void quest_hero_of_tatooine_hermit_action_face_to (obj_id player, obj_id npc)
{
	faceTo(npc, player);
 	return;
}

// ----------------------------------------------------------------------

void quest_hero_of_tatooine_hermit_action_grantOwedItems (obj_id player, obj_id npc)
{
	obj_id inv = utils.getInventoryContainer(player);
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.altruism")) 
	{
		obj_id mark_altruism = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_altruism.iff", inv, "");
		
		if(isIdValid(mark_altruism)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.altruism");
			
		} else {
		
			return;
		}
	}
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.intellect")) 
	{
		obj_id mark_intellect = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_intellect.iff", inv, "");
		
		if(isIdValid(mark_intellect)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.intellect");
			
		} else {
		
			return;
		}
	}
	
	if(hasObjVar(player, "quest.hero_of_tatooine.owed.honor")) 
	{
		obj_id mark_honor = createObject("object/tangible/loot/quest/hero_of_tatooine/mark_honor.iff", inv, "");
		
		if(isIdValid(mark_honor)) {
		
			removeObjVar(player, "quest.hero_of_tatooine.owed.honor");
			
		} else {
		
			return;
		}
	}
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int quest_hero_of_tatooine_hermit_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see that you have returned. You have done well so far, but I sense that something is missing. Please allow me to fulfil that which you are owed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As you wish.
	if (response == "s_6441a2a6")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition_IsInvFull (player, npc))
		{
			//-- NPC: It appears that your inventory is full. You must free some room before we proceed.
			string_id message = new string_id (c_stringFile, "s_ab4620a6");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition_GrantOwed (player, npc))
		{
			//-- NPC: You do not have the room in your inventory to receive all the items you need. Please free some room and speak to me again.
			string_id message = new string_id (c_stringFile, "s_5ff9d2ec");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: You should now have all the items that you have not yet received.
			string_id message = new string_id (c_stringFile, "s_db6d4167");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah!  The hero returns!  It is good to see you are still well.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am well. Just seeing how the old man is.
	if (response == "s_cfb883ed")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am well. Yet, I am still here in this drafty old cave. It suits me well, I think. I must return to my meditation. Go forth and spread your wisdom throughout the galaxy.
			string_id message = new string_id (c_stringFile, "s_e0ab34b6");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see that you have returned, my child. What do you seek?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have returned from my journeys, my friend.
	if (response == "s_cd2c070a")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see you bear the Marks of Courage, Honor, Intellect and Altruism! Can it be?  Have I found the one I have sought for so long?
			string_id message = new string_id (c_stringFile, "s_59283967");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I am the hero you seek.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48bfa35f");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have the skull you are looking for.
	if (response == "s_af540d0")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition_alreadyHasAllMarks (player, npc))
		{
			doAnimationAction (npc, "taken_aback");

			quest_hero_of_tatooine_hermit_action_TakeSquillSkull (player, npc);

			//-- NPC: Excellent. You have proven yourself as worthy of my challenges. In order to deserve the Mark of the Hero, you must undergo four different tasks and gain the Marks of Courage, Honor, Intellect, and Altruism. But, wait... what's this?
			string_id message = new string_id (c_stringFile, "s_100");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What? What's wrong?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			quest_hero_of_tatooine_hermit_action_TakeSquillSkull (player, npc);

			//-- NPC: Excellent. You have proven yourself as worthy of my challenges. In order to deserve the Mark of the Hero, you must undergo four different tasks and gain the Marks of Courage, Honor, Intellect, and Altruism. Which task and mark would you like to learn about?
			string_id message = new string_id (c_stringFile, "s_bbb8e096");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I would like to learn about...
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1bb3475f");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the squill skull again?
	if (response == "s_cc62685c")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Within the depths of this cave, there lies an item which has been stolen from my home by the vile creatures that live here. I need it to continue my studies. It is the skull of a squill. Find it, return to me, and I will present to you the ways in which you can become the Hero of Tatooine.
			string_id message = new string_id (c_stringFile, "s_c6825098");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like more information about...
	if (response == "s_503d468c")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nevermind.
	if (response == "s_da196589")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you wish.
			string_id message = new string_id (c_stringFile, "s_73");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see you bear the Marks of Courage, Honor, Intellect and Altruism! Can it be?  Have I found the one I have sought for so long?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am the hero you seek.
	if (response == "s_48bfa35f")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "worship");

			quest_hero_of_tatooine_hermit_action_QuestCompleted (player, npc);

			//-- NPC: You have done great things in the name of the light.  I am honored to be in your presence.  Take my Mark of the Hero and let it remind you of your cause.  Do not forget why you fight.  Good luck, young warrior.
			string_id message = new string_id (c_stringFile, "s_579bac17");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. You have proven yourself as worthy of my challenges. In order to deserve the Mark of the Hero, you must undergo four different tasks and gain the Marks of Courage, Honor, Intellect, and Altruism. But, wait... what's this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What? What's wrong?
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Nothing is wrong. Quite the contrary, actually. I see that you already bear the Marks of Courage, Honor, Intellect and Altruism! Can it be?  Have I found the one I have sought for so long?
			string_id message = new string_id (c_stringFile, "s_102");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I am the hero you seek.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48bfa35f");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nothing is wrong. Quite the contrary, actually. I see that you already bear the Marks of Courage, Honor, Intellect and Altruism! Can it be?  Have I found the one I have sought for so long?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I am the hero you seek.
	if (response == "s_48bfa35f")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "worship");

			quest_hero_of_tatooine_hermit_action_QuestCompleted (player, npc);

			//-- NPC: You have done great things in the name of the light.  I am honored to be in your presence.  Take my Mark of the Hero and let it remind you of your cause.  Do not forget why you fight.  Good luck, young warrior.
			string_id message = new string_id (c_stringFile, "s_579bac17");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent. You have proven yourself as worthy of my challenges. In order to deserve the Mark of the Hero, you must undergo four different tasks and gain the Marks of Courage, Honor, Intellect, and Altruism. Which task and mark would you like to learn about?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I would like to learn about...
	if (response == "s_1bb3475f")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, my friend?
			string_id message = new string_id (c_stringFile, "s_f013aca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb535214");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50c6e23d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_669b88aa");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_920f731c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d86dc24");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, my friend?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Altruism.
	if (response == "s_cb535214")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: To attain the Mark of Altruism, you must selflessly help a soul in need. Somewhere, in the harsh desert heat, a farmer desperately cries out...in need of a hero.
			string_id message = new string_id (c_stringFile, "s_96fd32c3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b9b27823");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Honor.
	if (response == "s_50c6e23d")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somewhere on this desert planet, strife between ranchers and pirates rages on. Seek them out, choose the correct path, and the Mark of Honor shall be bestowed upon you.
			string_id message = new string_id (c_stringFile, "s_856de06c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Courage.
	if (response == "s_669b88aa")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: You will gain the Mark of Courage by defeating a ferocious beast bent on terrorizing the world. Speak with the people of the cities of Tatooine. Perhaps they know of such a beast.
			string_id message = new string_id (c_stringFile, "s_5e7d1e16");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Intellect.
	if (response == "s_920f731c")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: In order to attain the Mark of Intellect, you must find one in need of your wisdom. Perhaps a bounty hunter needs assistance...or a puzzle needs to be solved somewhere in the galaxy. I beseech you to keep an eye out while traveling to the cities of Tatooine. You'll find what you're looking for there.
			string_id message = new string_id (c_stringFile, "s_f9a4e3e3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm done. Thank you for the information.
	if (response == "s_d86dc24")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Go then. Seek the tasks which I have described for you. Return to me when you have completed them. Only then will you become the Hero of Tatooine.
			string_id message = new string_id (c_stringFile, "s_a5bd2f51");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: To attain the Mark of Altruism, you must selflessly help a soul in need. Somewhere, in the harsh desert heat, a farmer desperately cries out...in need of a hero.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_b9b27823")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, my friend?
			string_id message = new string_id (c_stringFile, "s_f013aca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb535214");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50c6e23d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_669b88aa");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_920f731c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d86dc24");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Somewhere on this desert planet, strife between ranchers and pirates rages on. Seek them out, choose the correct path, and the Mark of Honor shall be bestowed upon you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_25")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, my friend?
			string_id message = new string_id (c_stringFile, "s_f013aca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb535214");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50c6e23d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_669b88aa");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_920f731c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d86dc24");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You will gain the Mark of Courage by defeating a ferocious beast bent on terrorizing the world. Speak with the people of the cities of Tatooine. Perhaps they know of such a beast.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_29")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, my friend?
			string_id message = new string_id (c_stringFile, "s_f013aca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb535214");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50c6e23d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_669b88aa");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_920f731c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d86dc24");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In order to attain the Mark of Intellect, you must find one in need of your wisdom. Perhaps a bounty hunter needs assistance...or a puzzle needs to be solved somewhere in the galaxy. I beseech you to keep an eye out while traveling to the cities of Tatooine. You'll find what you're looking for there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_33")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, my friend?
			string_id message = new string_id (c_stringFile, "s_f013aca1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb535214");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50c6e23d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_669b88aa");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_920f731c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d86dc24");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Marks? Which one?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Intellect.
	if (response == "s_41")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: In order to attain the Mark of Intellect, you must find one in need of your wisdom. Perhaps a bounty hunter needs assistance...or a puzzle needs to be solved somewhere in the galaxy. I beseech you to keep an eye out while traveling to the cities of Tatooine. You'll find what you're looking for there.
			string_id message = new string_id (c_stringFile, "s_43");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Courage.
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: You will gain the Mark of Courage by defeating a ferocious beast bent of terrorizing the world. Speak with the people of the cities of Tatooine. Perhaps they know of such a beast.
			string_id message = new string_id (c_stringFile, "s_8cb1f35d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Honor.
	if (response == "s_52")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somewhere on this desert planet, strife between ranchers and pirates rages on. Seek them out, choose the correct path, and the Mark of Honor shall be bestowed upon you.
			string_id message = new string_id (c_stringFile, "s_54");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of Altruism.
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: To attain the Mark of Altruism, you must selflessly help a soul in need. Somewhere, in the harsh desert heat, a farmer desperately cries out...in need of a hero.
			string_id message = new string_id (c_stringFile, "s_60");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Mark of the Hero.
	if (response == "s_cbb8634f")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Mark of the Hero will only be granted to those who have completed acts of Intellect, Honor, Courage, and Altruism. When you feel you have completed such tasks, return to me.
			string_id message = new string_id (c_stringFile, "s_b6a019cf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm done. Thank you for the information.
	if (response == "s_68")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Go then. Seek the tasks which I have described for you. Return to me when you have completed them. Only then will you become the Hero of Tatooine.
			string_id message = new string_id (c_stringFile, "s_70");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In order to attain the Mark of Intellect, you must find one in need of your wisdom. Perhaps a bounty hunter needs assistance...or a puzzle needs to be solved somewhere in the galaxy. I beseech you to keep an eye out while traveling to the cities of Tatooine. You'll find what you're looking for there.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_45")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You will gain the Mark of Courage by defeating a ferocious beast bent of terrorizing the world. Speak with the people of the cities of Tatooine. Perhaps they know of such a beast.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_50")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Somewhere on this desert planet, strife between ranchers and pirates rages on. Seek them out, choose the correct path, and the Mark of Honor shall be bestowed upon you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: To attain the Mark of Altruism, you must selflessly help a soul in need. Somewhere, in the harsh desert heat, a farmer desperately cries out...in need of a hero.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_62")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Mark of the Hero will only be granted to those who have completed acts of Intellect, Honor, Courage, and Altruism. When you feel you have completed such tasks, return to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Marks? Which one?
			string_id message = new string_id (c_stringFile, "s_194db552");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Mark of Intellect.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeIntellect (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Mark of Courage.
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeCourage (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Mark of Honor.
			boolean hasResponse2 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeHonor (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The Mark of Altruism.
			boolean hasResponse3 = false;
			if (quest_hero_of_tatooine_hermit_condition_BadgeAltruism (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: The Mark of the Hero.
			boolean hasResponse4 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'm done. Thank you for the information.
			boolean hasResponse5 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cbb8634f");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well met, traveler.  What brings you to my small and lonely abode?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was curious to see who lived here.
	if (response == "s_1bb7b1eb")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Merely an old man.  I keep to myself and tend my books.  I think.  I philosophize.
			string_id message = new string_id (c_stringFile, "s_b2929fdf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Here? In this cave?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e9bd97f9");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Merely an old man.  I keep to myself and tend my books.  I think.  I philosophize.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Here? In this cave?
	if (response == "s_e9bd97f9")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am able to watch after myself. These cold, lifeless walls do not disturb me any longer. Far too long have I lived here in solitude. I have become stoic to its effects.
			string_id message = new string_id (c_stringFile, "s_2a85c56b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you philosophize about, old man?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2d0b6a");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am able to watch after myself. These cold, lifeless walls do not disturb me any longer. Far too long have I lived here in solitude. I have become stoic to its effects.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you philosophize about, old man?
	if (response == "s_2d0b6a")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mind your manners, child.  I philosophize of the state of our worlds...of these dark times.
			string_id message = new string_id (c_stringFile, "s_d2a7ff43");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Dark times? What do you know of dark times?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f297414");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mind your manners, child.  I philosophize of the state of our worlds...of these dark times.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Dark times? What do you know of dark times?
	if (response == "s_f297414")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pirates and criminals travel freely.  The Old Republic has been shattered.  The Jedi have been hunted to all but extinction.  Over all of this hangs the shadow of the Empire.
			string_id message = new string_id (c_stringFile, "s_d38cc2cb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You speak truly.  The Empire rules ruthlessly and unjustly.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You speak boldly, my friend. Dangerously, in fact. 
			boolean hasResponse1 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8bfb7334");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55937d94");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pirates and criminals travel freely.  The Old Republic has been shattered.  The Jedi have been hunted to all but extinction.  Over all of this hangs the shadow of the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You speak truly.  The Empire rules ruthlessly and unjustly.
	if (response == "s_8bfb7334")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is my belief that the galaxy is in dire need of heroes--those individuals who have demonstrated beyond doubt their dedication to the path of light.  You are brash and young, but perhaps one day you will become a hero and bring light to this darkened place.
			string_id message = new string_id (c_stringFile, "s_66fbfd08");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I wish to become a hero.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b634554");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You speak boldly, my friend. Dangerously, in fact. 
	if (response == "s_55937d94")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have no interest in bandying words with you, child.  Educate yourself and seek out enlightenment. Perhaps then we might have a civilized discussion.
			string_id message = new string_id (c_stringFile, "s_d22f1e74");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is my belief that the galaxy is in dire need of heroes--those individuals who have demonstrated beyond doubt their dedication to the path of light.  You are brash and young, but perhaps one day you will become a hero and bring light to this darkened place.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wish to become a hero.
	if (response == "s_9b634554")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: A noble intent, but intentions in the face of a challenge are as dust upon a Tatooine windstorm.  One must act and through one's actions, one might be proven a hero.
			string_id message = new string_id (c_stringFile, "s_96a66dea");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I prove that I am a hero?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7abf0913");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: A noble intent, but intentions in the face of a challenge are as dust upon a Tatooine windstorm.  One must act and through one's actions, one might be proven a hero.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I prove that I am a hero?
	if (response == "s_7abf0913")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Travel the world.  Perform acts that demonstrate your heroism.  Through these actions you will be transformed.  A hero must be honorable, intelligent, courageous, and altruistic.  You must seek to help the world despite the cost.
			string_id message = new string_id (c_stringFile, "s_342ec337");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do these things.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cf3b7067");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Travel the world.  Perform acts that demonstrate your heroism.  Through these actions you will be transformed.  A hero must be honorable, intelligent, courageous, and altruistic.  You must seek to help the world despite the cost.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do these things.
	if (response == "s_cf3b7067")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Return to me when you have proven the measure of your character.  An act of honor.  An act of intellect.  An act of courage.  An act of altruism.  Demonstrate to me these characteristics and I will bestow upon you the Mark of the Hero.
			string_id message = new string_id (c_stringFile, "s_1f8abb5f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the Mark of the Hero?
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8ecd39ce");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Return to me when you have proven the measure of your character.  An act of honor.  An act of intellect.  An act of courage.  An act of altruism.  Demonstrate to me these characteristics and I will bestow upon you the Mark of the Hero.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the Mark of the Hero?
	if (response == "s_8ecd39ce")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: I wasn't always an old man.  Many years ago, I won many a campaign against the forces of darkness.  I wore the symbol about my neck as a reminder of my cause.  I would pass this thing to the one I believe capable of continuing my work.
			string_id message = new string_id (c_stringFile, "s_6cd88f7f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will seek to prove my character.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66270434");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I wasn't always an old man.  Many years ago, I won many a campaign against the forces of darkness.  I wore the symbol about my neck as a reminder of my cause.  I would pass this thing to the one I believe capable of continuing my work.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will seek to prove my character.
	if (response == "s_66270434")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. First, a small task for you to prove yourself worthy of my challenge...worthy of becoming a hero. Within the depths of this cave, there lies an item which has been stolen from my home by the vile creatures that live here. I need it to continue my studies. It is the skull of a squill. Find it, return to me, and I will present to you the ways in which you can become the Hero of Tatooine.
			string_id message = new string_id (c_stringFile, "s_4fcf6919");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do this for you.
			boolean hasResponse0 = false;
			if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d111fbf4");

				utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 38);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int quest_hero_of_tatooine_hermit_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. First, a small task for you to prove yourself worthy of my challenge...worthy of becoming a hero. Within the depths of this cave, there lies an item which has been stolen from my home by the vile creatures that live here. I need it to continue my studies. It is the skull of a squill. Find it, return to me, and I will present to you the ways in which you can become the Hero of Tatooine.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do this for you.
	if (response == "s_d111fbf4")
	{
		//-- [NOTE] 
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			quest_hero_of_tatooine_hermit_action_QuestAccepted (player, npc);

			//-- NPC: Go then.  One cannot become a hero by spending all day chatting with a crazed old man...and may the Force be with you.
			string_id message = new string_id (c_stringFile, "s_599bebab");
			utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.quest_hero_of_tatooine_hermit");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition (self, CONDITION_INTERESTING);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.quest_hero_of_tatooine_hermit");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (quest_hero_of_tatooine_hermit_condition_IsOwedItems (player, npc))
	{
		//-- NPC: I see that you have returned. You have done well so far, but I sense that something is missing. Please allow me to fulfil that which you are owed.
		string_id message = new string_id (c_stringFile, "s_63076377");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: As you wish.
		boolean hasResponse0 = false;
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6441a2a6");

			utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 1);

			npcStartConversation (player, npc, "quest_hero_of_tatooine_hermit", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (quest_hero_of_tatooine_hermit_condition_heroOfTatooineComplete (player, npc))
	{
		doAnimationAction (npc, "bow2");

		quest_hero_of_tatooine_hermit_action_face_to (player, npc);

		//-- NPC: Ah!  The hero returns!  It is good to see you are still well.
		string_id message = new string_id (c_stringFile, "s_7adceec5");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am well. Just seeing how the old man is.
		boolean hasResponse0 = false;
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cfb883ed");

			utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 5);

			npcStartConversation (player, npc, "quest_hero_of_tatooine_hermit", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (quest_hero_of_tatooine_hermit_condition_heroOfTatooineActive (player, npc))
	{
		quest_hero_of_tatooine_hermit_action_face_to (player, npc);

		//-- NPC: I see that you have returned, my child. What do you seek?
		string_id message = new string_id (c_stringFile, "s_2a82993c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I have returned from my journeys, my friend.
		boolean hasResponse0 = false;
		if (quest_hero_of_tatooine_hermit_condition_questHasAllMarks (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I have the skull you are looking for.
		boolean hasResponse1 = false;
		if (quest_hero_of_tatooine_hermit_condition_hasSquillSkull (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Tell me about the squill skull again?
		boolean hasResponse2 = false;
		if (quest_hero_of_tatooine_hermit_condition_OnSkullQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I would like more information about...
		boolean hasResponse3 = false;
		if (quest_hero_of_tatooine_hermit_condition_collectingMarks (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Nevermind.
		boolean hasResponse4 = false;
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cd2c070a");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_af540d0");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cc62685c");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_503d468c");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_da196589");

			utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 7);

			npcStartConversation (player, npc, "quest_hero_of_tatooine_hermit", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		quest_hero_of_tatooine_hermit_action_face_to (player, npc);

		//-- NPC: Well met, traveler.  What brings you to my small and lonely abode?
		string_id message = new string_id (c_stringFile, "s_48a263f0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I was curious to see who lived here.
		boolean hasResponse0 = false;
		if (quest_hero_of_tatooine_hermit_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1bb7b1eb");

			utils.setScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId", 28);

			npcStartConversation (player, npc, "quest_hero_of_tatooine_hermit", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "quest_hero_of_tatooine_hermit")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

	if (branchId == 1 && quest_hero_of_tatooine_hermit_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && quest_hero_of_tatooine_hermit_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && quest_hero_of_tatooine_hermit_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && quest_hero_of_tatooine_hermit_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && quest_hero_of_tatooine_hermit_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && quest_hero_of_tatooine_hermit_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && quest_hero_of_tatooine_hermit_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && quest_hero_of_tatooine_hermit_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && quest_hero_of_tatooine_hermit_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && quest_hero_of_tatooine_hermit_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && quest_hero_of_tatooine_hermit_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && quest_hero_of_tatooine_hermit_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && quest_hero_of_tatooine_hermit_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && quest_hero_of_tatooine_hermit_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && quest_hero_of_tatooine_hermit_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && quest_hero_of_tatooine_hermit_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && quest_hero_of_tatooine_hermit_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && quest_hero_of_tatooine_hermit_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && quest_hero_of_tatooine_hermit_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && quest_hero_of_tatooine_hermit_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && quest_hero_of_tatooine_hermit_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && quest_hero_of_tatooine_hermit_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && quest_hero_of_tatooine_hermit_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && quest_hero_of_tatooine_hermit_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && quest_hero_of_tatooine_hermit_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && quest_hero_of_tatooine_hermit_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && quest_hero_of_tatooine_hermit_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && quest_hero_of_tatooine_hermit_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && quest_hero_of_tatooine_hermit_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.quest_hero_of_tatooine_hermit.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

