// ======================================================================
//
// naboo_deeja_peak_prof_hudmasse.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_deeja_peak_prof_hudmasse";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_sentToProfHudmasse (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "legacy_naboo_droid_module_3") ||
	groundquests.hasCompletedQuest(player, "legacy_naboo_droid_module_3");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_needsSequencerQuest (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_deeja_peak_goto_tanoa") && 
	!groundquests.isQuestActive(player, "naboo_deeja_peak_sequencer_parts") &&
	!groundquests.hasCompletedQuest(player, "naboo_deeja_peak_sequencer_parts");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_completedBeaconAndSequencer (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_deeja_peak_beacon_mercs") &&
	groundquests.hasCompletedQuest(player, "naboo_deeja_peak_sequencer_scanner");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_hasDeejaPeakQuest (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_deeja_peak_goto_vance")	||
	groundquests.isQuestActive(player, "naboo_deeja_peak_beacon_safety") || 
	groundquests.hasCompletedQuest(player, "naboo_deeja_peak_beacon_safety") ||
	groundquests.isQuestActive(player, "naboo_deeja_peak_goto_tanoa") ||
	groundquests.isQuestActive(player, "naboo_deeja_peak_sequencer_parts") || 
	groundquests.hasCompletedQuest(player, "naboo_deeja_peak_sequencer_parts");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_needsBeaconQuest (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_deeja_peak_goto_vance") && 
	!groundquests.isQuestActive(player, "naboo_deeja_peak_beacon_safety") &&
	!groundquests.hasCompletedQuest(player, "naboo_deeja_peak_beacon_safety");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_hasSequencer (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_deeja_peak_sequencer_scanner");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_hasBeacon (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_deeja_peak_beacon_mercs");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_returningWithBeacon (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_deeja_peak_beacon_mercs", "deeja_peak_beacon_mercs_06");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_returningWithSequencer (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_deeja_peak_sequencer_scanner", "deeja_peak_sequencer_scanner_07");
}

// ----------------------------------------------------------------------

boolean naboo_deeja_peak_prof_hudmasse_condition_needsModulePt2 (obj_id player, obj_id npc)
{
	return 	!groundquests.isQuestActive(player, "legacy_naboo_droid_module_3_pt2") &&
	!groundquests.hasCompletedQuest(player, "legacy_naboo_droid_module_3_pt2");
}

// ======================================================================
// Script Actions
// ======================================================================

void naboo_deeja_peak_prof_hudmasse_action_sendToTanoa (obj_id player, obj_id npc)
{	
	groundquests.requestGrantQuest(player, "naboo_deeja_peak_goto_tanoa");
}

// ----------------------------------------------------------------------

void naboo_deeja_peak_prof_hudmasse_action_sendToVance (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "naboo_deeja_peak_goto_vance");
}

// ----------------------------------------------------------------------

void naboo_deeja_peak_prof_hudmasse_action_endGotoProfHudmasse (obj_id player, obj_id npc)
{
	if ( groundquests.isQuestActive(player, "legacy_naboo_droid_module_3") )
	{
		groundquests.sendSignal(player, "findDroidPart3_01");
	}
	return;
}

// ----------------------------------------------------------------------

void naboo_deeja_peak_prof_hudmasse_action_endBeacon (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "deeja_peak_beacon_mercs_06");
}

// ----------------------------------------------------------------------

void naboo_deeja_peak_prof_hudmasse_action_endSequencer (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "deeja_peak_sequencer_scanner_07");
}

// ----------------------------------------------------------------------

void naboo_deeja_peak_prof_hudmasse_action_sendToStonewall (obj_id player, obj_id npc)
{
	groundquests.requestGrantQuest(player, "legacy_naboo_droid_module_3_pt2");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_deeja_peak_prof_hudmasse_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I trust the beacon with the sequencer worked as well as we'd hoped.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I haven't been able to try them out yet.
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "manipulate_medium");

			naboo_deeja_peak_prof_hudmasse_action_sendToStonewall (player, npc);

			//-- NPC: Oh, well you should go do so. Stonewall Labs is not far from here.
			string_id message = new string_id (c_stringFile, "s_62");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How is your search for a security beacon and sequencer going? Well, I trust. Let me know if there's anything I can do to help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've returned with a security beacon.
	if (response == "s_29")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_endBeacon (player, npc);

			//-- NPC: Well done. I knew you could do it. Let's see here. Yes, this should work nicely. Er, I forget. Do you have the sequencer yet?
			string_id message = new string_id (c_stringFile, "s_33");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I do.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition_hasSequencer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not yet.
			boolean hasResponse1 = false;
			if (!naboo_deeja_peak_prof_hudmasse_condition_hasSequencer (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've returned with the sequencer.
	if (response == "s_30")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_endSequencer (player, npc);

			//-- NPC: Oh, very good. Let me take a look. [*inspects the sequencer*] My my, Tanoa still does quite good work. Do you have the security beacon as well?
			string_id message = new string_id (c_stringFile, "s_35");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I do.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition_hasBeacon (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not yet.
			boolean hasResponse1 = false;
			if (!naboo_deeja_peak_prof_hudmasse_condition_hasBeacon (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me where to find a security beacon.
	if (response == "s_65")
	{
		//-- [NOTE] Vance Groten was the Chief Security Officer when Stonewall Labs shutdown. I think he'll have an idea of where to find a beacon.
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Chief Security Officer of Stonewall Labs before the shutdown was a man named Vance Groten. I think he'll have an idea of where to find a beacon.
			string_id message = new string_id (c_stringFile, "s_105");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Vance Groten.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me how to get a sequencer.
	if (response == "s_66")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of the former technicians at the Stonewall Labs, Tanoa Vills, can make the sequencer for you. She's highly skilled and knows as much as anyone about the security measures built into the droids in the Labs.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Tanoa Vills.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well done. I knew you could do it. Let's see here. Yes, this should work nicely. Er, I forget. Do you have the sequencer yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I do.
	if (response == "s_36")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent! I shall assemble them at once. [*installs the sequencer into the beacon and then syncs it to the droideka*] You should now be able to safely extract the module you require, but be ready. With the experimental nature of that droideka, there's really no guarantee.
			string_id message = new string_id (c_stringFile, "s_39");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_42");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not yet.
	if (response == "s_40")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ah. Then you must be sure to return to me when you have one.
			string_id message = new string_id (c_stringFile, "s_41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Remind me how to get a sequencer, please?
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition_needsSequencerQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent! I shall assemble them at once. [*installs the sequencer into the beacon and then syncs it to the droideka*] You should now be able to safely extract the module you require, but be ready. With the experimental nature of that droideka, there's really no guarantee.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand.
	if (response == "s_42")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_sendToStonewall (player, npc);

			//-- NPC: I knew you would. Off you go then.
			string_id message = new string_id (c_stringFile, "s_43");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ah. Then you must be sure to return to me when you have one.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Remind me how to get a sequencer, please?
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of the former technicians at the Stonewall Labs, Tanoa Vills, can make the sequencer for you. She's highly skilled and knows as much as anyone about the security measures built into the droids in the Labs.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Tanoa Vills.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, very good. Let me take a look. [*inspects the sequencer*] My my, Tanoa still does quite good work. Do you have the security beacon as well?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I do.
	if (response == "s_37")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: Excellent! I shall assemble them at once. [*installs the sequencer into the beacon and then syncs it to the droideka*] You should now be able to safely extract the module you require, but be ready. With the experimental nature of that droideka, there's really no guarantee.
			string_id message = new string_id (c_stringFile, "s_38");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I understand.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_55");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not yet.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see. Once you have a security beacon, return to me, and I'll install the sequencer for you.
			string_id message = new string_id (c_stringFile, "s_50");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Remind me where to find a security beacon, please?
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition_needsBeaconQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent! I shall assemble them at once. [*installs the sequencer into the beacon and then syncs it to the droideka*] You should now be able to safely extract the module you require, but be ready. With the experimental nature of that droideka, there's really no guarantee.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I understand.
	if (response == "s_55")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_sendToStonewall (player, npc);

			//-- NPC: I knew you would. Off you go then.
			string_id message = new string_id (c_stringFile, "s_56");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see. Once you have a security beacon, return to me, and I'll install the sequencer for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Remind me where to find a security beacon, please?
	if (response == "s_52")
	{
		//-- [NOTE] Vance Groten was the Chief Security Officer when Stonewall Labs shutdown. I think he'll have an idea of where to find a beacon.
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Chief Security Officer of Stonewall Labs before the shutdown was a man named Vance Groten. I think he'll have an idea of where to find a beacon.
			string_id message = new string_id (c_stringFile, "s_105");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Vance Groten.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Greetings, was there something I could help you with?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. I need some information about Stonewall Labs. You worked there?
	if (response == "s_47")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed I did. I was Head of Research, no less. But Professor Lancil Cordelis, the owner of the Stonewall Labs, closed the facility down some time ago.
			string_id message = new string_id (c_stringFile, "s_48");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Were you doing research on a droideka using experimental technology?
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_34");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed I did. I was Head of Research, no less. But Professor Lancil Cordelis, the owner of the Stonewall Labs, closed the facility down some time ago.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Were you doing research on a droideka using experimental technology?
	if (response == "s_34")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: I myself wasn't, but Professor Cordelis was. The droideka had a module that was developed during the Battle of Naboo. Professor Cordelis was attempting to determine what the module did.
			string_id message = new string_id (c_stringFile, "s_53");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I need to retrieve that module. It's a matter of great importance.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I myself wasn't, but Professor Cordelis was. The droideka had a module that was developed during the Battle of Naboo. Professor Cordelis was attempting to determine what the module did.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need to retrieve that module. It's a matter of great importance.
	if (response == "s_78")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, I suppose there's no reason not to help you. The Labs have been closed down for almost a year and no one has seen Professor Cordelis in that time. To extract the module, you'll need to be able to override the droideka's security protocol. Otherwise the module will burn itself out when you endeavor to remove it. 
			string_id message = new string_id (c_stringFile, "s_79");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How do I override its security protocol?
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, I suppose there's no reason not to help you. The Labs have been closed down for almost a year and no one has seen Professor Cordelis in that time. To extract the module, you'll need to be able to override the droideka's security protocol. Otherwise the module will burn itself out when you endeavor to remove it. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How do I override its security protocol?
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: You'll need a security beacon with a sequencer synced to the droideka. You should be able to find an old security beacon. And I know of a former technician from Stonewall Labs who can make you the sequencer you'll need. When you have both of those, bring them to me and I can assemble them and then sync them for you.
			string_id message = new string_id (c_stringFile, "s_101");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I get a security beacon?
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Where do I get the sequencer?
			boolean hasResponse1 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I don't think I can do this right now.
			boolean hasResponse2 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_103");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_111");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_119");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll need a security beacon with a sequencer synced to the droideka. You should be able to find an old security beacon. And I know of a former technician from Stonewall Labs who can make you the sequencer you'll need. When you have both of those, bring them to me and I can assemble them and then sync them for you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I get a security beacon?
	if (response == "s_103")
	{
		//-- [NOTE] Vance Groten was the Chief Security Officer when Stonewall Labs shutdown. I think he'll have an idea of where to find a beacon.
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Chief Security Officer of Stonewall Labs before the shutdown was a man named Vance Groten. I think he'll have an idea of where to find a beacon.
			string_id message = new string_id (c_stringFile, "s_105");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Vance Groten.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_107");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I get the sequencer?
	if (response == "s_111")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of the former technicians at the Stonewall Labs, Tanoa Vills, can make the sequencer for you. She's highly skilled and knows as much as anyone about the security measures built into the droids in the Labs.
			string_id message = new string_id (c_stringFile, "s_113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll go speak with Tanoa Vills.
			boolean hasResponse0 = false;
			if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think I can do this right now.
	if (response == "s_119")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			//-- NPC: As you wish. I'll be here if you happen to change your mind.
			string_id message = new string_id (c_stringFile, "s_121");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Vance Groten was the Chief Security Officer when Stonewall Labs shutdown. I think he'll have an idea of where to find a beacon.
	//-- NPC: The Chief Security Officer of Stonewall Labs before the shutdown was a man named Vance Groten. I think he'll have an idea of where to find a beacon.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go speak with Vance Groten.
	if (response == "s_107")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_sendToVance (player, npc);

			//-- NPC: That's what I'd recommend.
			string_id message = new string_id (c_stringFile, "s_109");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_deeja_peak_prof_hudmasse_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of the former technicians at the Stonewall Labs, Tanoa Vills, can make the sequencer for you. She's highly skilled and knows as much as anyone about the security measures built into the droids in the Labs.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go speak with Tanoa Vills.
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			naboo_deeja_peak_prof_hudmasse_action_sendToTanoa (player, npc);

			//-- NPC: She won't let you down.
			string_id message = new string_id (c_stringFile, "s_117");
			utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_deeja_peak_prof_hudmasse");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	
	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_deeja_peak_prof_hudmasse");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (naboo_deeja_peak_prof_hudmasse_condition_completedBeaconAndSequencer (player, npc))
	{
		//-- NPC: I trust the beacon with the sequencer worked as well as we'd hoped.
		string_id message = new string_id (c_stringFile, "s_44");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Actually, I haven't been able to try them out yet.
		boolean hasResponse0 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition_needsModulePt2 (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_60");

			utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 1);

			npcStartConversation (player, npc, "naboo_deeja_peak_prof_hudmasse", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_deeja_peak_prof_hudmasse_condition_hasDeejaPeakQuest (player, npc))
	{
		//-- NPC: How is your search for a security beacon and sequencer going? Well, I trust. Let me know if there's anything I can do to help.
		string_id message = new string_id (c_stringFile, "s_45");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've returned with a security beacon.
		boolean hasResponse0 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition_returningWithBeacon (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I've returned with the sequencer.
		boolean hasResponse1 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition_returningWithSequencer (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Tell me where to find a security beacon.
		boolean hasResponse2 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition_needsBeaconQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Tell me how to get a sequencer.
		boolean hasResponse3 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition_needsSequencerQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_29");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_30");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_66");

			utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 3);

			npcStartConversation (player, npc, "naboo_deeja_peak_prof_hudmasse", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_deeja_peak_prof_hudmasse_condition_sentToProfHudmasse (player, npc))
	{
		naboo_deeja_peak_prof_hudmasse_action_endGotoProfHudmasse (player, npc);

		//-- NPC: Greetings, was there something I could help you with?
		string_id message = new string_id (c_stringFile, "s_46");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes. I need some information about Stonewall Labs. You worked there?
		boolean hasResponse0 = false;
		if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47");

			utils.setScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId", 12);

			npcStartConversation (player, npc, "naboo_deeja_peak_prof_hudmasse", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_deeja_peak_prof_hudmasse_condition__defaultCondition (player, npc))
	{
		//-- NPC: Life hasn't been the same since Stonewall Labs shut down, but I'm trying to continue my research.
		string_id message = new string_id (c_stringFile, "s_76");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_deeja_peak_prof_hudmasse")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

	if (branchId == 1 && naboo_deeja_peak_prof_hudmasse_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && naboo_deeja_peak_prof_hudmasse_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && naboo_deeja_peak_prof_hudmasse_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && naboo_deeja_peak_prof_hudmasse_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && naboo_deeja_peak_prof_hudmasse_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && naboo_deeja_peak_prof_hudmasse_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && naboo_deeja_peak_prof_hudmasse_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && naboo_deeja_peak_prof_hudmasse_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && naboo_deeja_peak_prof_hudmasse_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_deeja_peak_prof_hudmasse_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && naboo_deeja_peak_prof_hudmasse_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && naboo_deeja_peak_prof_hudmasse_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && naboo_deeja_peak_prof_hudmasse_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && naboo_deeja_peak_prof_hudmasse_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && naboo_deeja_peak_prof_hudmasse_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_deeja_peak_prof_hudmasse.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

