// ======================================================================
//
// naboo_24_gungan_power_grab_02.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.money;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_24_gungan_power_grab_02";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_24_gungan_power_grab_02_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskBroma2Jak_meet (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_meet_jak") || 
				groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_convince_jak"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasCompletedJaksBusyWorkQuest (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02a") ||
			groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02b") ||
			groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02c") ||
			groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02a", "naboo_24_gungan_power_grab_02a_return") ||
			groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02b", "naboo_24_gungan_power_grab_02b_return") ||
			groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02c", "naboo_24_gungan_power_grab_02c_return"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskBroma2Jak_convince (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02", "naboo_24_gungan_power_grab_02_convince_jak");
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskReturnTranslator (obj_id player, obj_id npc)
{
	return groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02d", "naboo_24_gungan_power_grab_02d_return_translator");
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasCompletedJak (obj_id player, obj_id npc)
{
	return groundquests.hasCompletedQuest(player, "naboo_24_gungan_power_grab_02d");
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasNotCompletedJaksBusyWorkQuest (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02a") ||
			groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02b") ||
			groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02c"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasCredits1Step (obj_id player, obj_id npc)
{
	if (money.hasFunds(player, money.MT_TOTAL, TIER_2_INFORMANT_FRONT_COST))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasCredits2Step (obj_id player, obj_id npc)
{
	if (money.hasFunds(player, money.MT_TOTAL, TIER_1_INFORMANT_FRONT_COST))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasQuestGPG2d (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02d"); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02a"); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02b"); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02c"); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02a") &&
		!groundquests.hasCompletedTask(player, "naboo_24_gungan_power_grab_02a", "naboo_24_gungan_power_grab_02a_patrol_04")); 
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskSapper (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02a", "naboo_24_gungan_power_grab_02a_sapper") ||
		groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02b", "naboo_24_gungan_power_grab_02b_sapper"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02a", "naboo_24_gungan_power_grab_02a_kaadu_attitude") ||
		groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02b", "naboo_24_gungan_power_grab_02b_kaadu_attitude") ||
		groundquests.isTaskActive(player, "naboo_24_gungan_power_grab_02c", "naboo_24_gungan_power_grab_02c_kaadu_attitude"));
}

// ----------------------------------------------------------------------

boolean naboo_24_gungan_power_grab_02_condition_doesNotHaveQuestGPG2c (obj_id player, obj_id npc)
{
	return !groundquests.isQuestActive(player, "naboo_24_gungan_power_grab_02c"); 
}

// ======================================================================
// Script Actions
// ======================================================================

void naboo_24_gungan_power_grab_02_action_grant3StepQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02a");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_grant2StepQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02b");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_grant1StepQuest (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02c");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalMetJak (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_met_jak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalConvincedJak (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_convinced_jak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalDecodeBauble1 (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_decoding_bauble");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_grantTranslatorTrouble (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02d");
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_convinced_jak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_facePlayer (obj_id player, obj_id npc)
{
	faceTo(npc, player);
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalTranslatorReturned (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02d_returned_translator");
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_convinced_jak");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalJaksBusyWorkComplete (obj_id player, obj_id npc)
{
	faceTo(npc, player);
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_jak_busy_work_done");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_grant1StepQuest_payment (obj_id player, obj_id npc)
{
	money.requestPayment(player, npc, TIER_2_INFORMANT_FRONT_COST, "none", null, true);
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02c");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_grant2StepQuest_payment (obj_id player, obj_id npc)
{
	money.requestPayment(player, npc, TIER_1_INFORMANT_FRONT_COST, "none", null, true);
	groundquests.grantQuest(player, "naboo_24_gungan_power_grab_02b");
}

// ----------------------------------------------------------------------

void naboo_24_gungan_power_grab_02_action_signalHelpedJak (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "naboo_24_gungan_power_grab_02_helped_jak");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

int naboo_24_gungan_power_grab_02_tokenDI_haggleHigh (obj_id player, obj_id npc)
{
	return 0;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (obj_id player, obj_id npc)
{
	return (TIER_2_INFORMANT_FRONT_COST);
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_tokenDI_haggleLow (obj_id player, obj_id npc)
{
	return 0;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (obj_id player, obj_id npc)
{
	return (TIER_1_INFORMANT_FRONT_COST);
}

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_24_gungan_power_grab_02_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa findin it!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Now, about that bauble.
	if (response == "s_62")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "manipulate_medium");

			naboo_24_gungan_power_grab_02_action_signalHelpedJak (player, npc);

			//-- NPC: Righty. Here yousa go! Now tell Broma how helpin Isa was.
			string_id message = new string_id (c_stringFile, "s_63");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No jokin, yousa good partner!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wonderful...Now will you help me decrypt this record bauble?
	if (response == "s_26")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "standing_placate");

			//-- NPC: As soon as yousa bringin me the thingy Isa needin to read it.
			string_id message = new string_id (c_stringFile, "s_29");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yeah, yeah. Upload it, already.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Don't tell me... you lost it.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Broma was right about you. Do it yourself!
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_41");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As soon as yousa bringin me the thingy Isa needin to read it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yeah, yeah. Upload it, already.
	if (response == "s_49")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shiver");

			naboo_24_gungan_power_grab_02_action_grantTranslatorTrouble (player, npc);

			//-- NPC: Drennics, theysa was! Hunters and Guards. Theysa takin my translator!
			string_id message = new string_id (c_stringFile, "s_50");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't tell me... you lost it.
	if (response == "s_41")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			//-- NPC: So here Isa was, havin some munchin.  All a sudden big nasties comin up the hill from the rivawata. Mesa no fightin, Isa throwin what Isa holdin.
			string_id message = new string_id (c_stringFile, "s_43");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: ...And you threw the translator at them?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Broma was right about you. Do it yourself!
	if (response == "s_31")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Yousa cranky.
			string_id message = new string_id (c_stringFile, "s_35");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: So here Isa was, havin some munchin.  All a sudden big nasties comin up the hill from the rivawata. Mesa no fightin, Isa throwin what Isa holdin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: ...And you threw the translator at them?
	if (response == "s_45")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "throwat");

			naboo_24_gungan_power_grab_02_action_grantTranslatorTrouble (player, npc);

			//-- NPC: YES! Yousa smarty! It's hittin one and breakin up. Theys pickin up the pieces and tellin mesa to mind mysa own busy.
			string_id message = new string_id (c_stringFile, "s_47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: YES! Yousa smarty! It's hittin one and breakin up. Theys pickin up the pieces and tellin mesa to mind mysa own busy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine.
	if (response == "s_73")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Bye!
			string_id message = new string_id (c_stringFile, "s_74");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wesa talkin again when yousa finished helpin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What am I supposed to do?
	if (response == "s_81")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (player, npc))
		{
			//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the first task.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What else do you want me to do?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskSapper (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did you want some Kaadu eliminated?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (player, npc))
		{
			//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was the first thing?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What was that other thing?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (player, npc))
		{
			//-- NPC: Why yousa not smashin them kaadu?
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which kaadu am I supposed to kill?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me about the first task.
	if (response == "s_85")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Isa no fighter. If Isa need to get runnin, mes needin to know WHERE to get runnin. Theys things which givin me the crunchin all around! Yousa lookin around for a safe path for gettin-away.
			string_id message = new string_id (c_stringFile, "s_88");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I have other questions.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_102");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 14);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What else do you want me to do?
	if (response == "s_86")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Isa comin here each year to get sapflower juices. They bloomin like crazy now, but thems bigguns wantin to crunch me. Yousa gettin me the juice!
			string_id message = new string_id (c_stringFile, "s_89");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I find these blooming sapflowers?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have other questions.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Did you want some Kaadu eliminated?
	if (response == "s_87")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right up there! On toppa that hill! Them nesting kaadu is honkin and hootin all day and night! A gungan gettin no sleep and can't catch eatin-things! You go killin a buncha then and Isa wait here. 
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not just yet...
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_doesNotHaveQuestGPG2c (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, I'm going.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Isa no fighter. If Isa need to get runnin, mes needin to know WHERE to get runnin. Theys things which givin me the crunchin all around! Yousa lookin around for a safe path for gettin-away.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have other questions.
	if (response == "s_102")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (player, npc))
		{
			//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the first task.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What else do you want me to do?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskSapper (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did you want some Kaadu eliminated?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (player, npc))
		{
			//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was the first thing?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What was that other thing?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (player, npc))
		{
			//-- NPC: Why yousa not smashin them kaadu?
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which kaadu am I supposed to kill?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Isa comin here each year to get sapflower juices. They bloomin like crazy now, but thems bigguns wantin to crunch me. Yousa gettin me the juice!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Where do I find these blooming sapflowers?
	if (response == "s_90")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: They's growin all along the river here. That's why isa comin here! 
			string_id message = new string_id (c_stringFile, "s_92");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I had other questions, first.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm going.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_93");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_94");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have other questions.
	if (response == "s_91")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (player, npc))
		{
			//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the first task.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What else do you want me to do?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskSapper (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did you want some Kaadu eliminated?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (player, npc))
		{
			//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was the first thing?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What was that other thing?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (player, npc))
		{
			//-- NPC: Why yousa not smashin them kaadu?
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which kaadu am I supposed to kill?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They's growin all along the river here. That's why isa comin here! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I had other questions, first.
	if (response == "s_93")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (player, npc))
		{
			//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the first task.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What else do you want me to do?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskSapper (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did you want some Kaadu eliminated?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (player, npc))
		{
			//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was the first thing?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What was that other thing?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (player, npc))
		{
			//-- NPC: Why yousa not smashin them kaadu?
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which kaadu am I supposed to kill?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm going.
	if (response == "s_94")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okieday!
			string_id message = new string_id (c_stringFile, "s_95");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Right up there! On toppa that hill! Them nesting kaadu is honkin and hootin all day and night! A gungan gettin no sleep and can't catch eatin-things! You go killin a buncha then and Isa wait here. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not just yet...
	if (response == "s_97")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2a (player, npc))
		{
			//-- NPC: Yous no payin me, so Isa givin you three tasks. You finish them, wesa talkin.
			string_id message = new string_id (c_stringFile, "s_82");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me about the first task.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskJakPatrol (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What else do you want me to do?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskSapper (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Did you want some Kaadu eliminated?
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasTaskKaadu (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_85");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_87");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2b (player, npc))
		{
			//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was the first thing?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What was that other thing?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_99");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2c (player, npc))
		{
			//-- NPC: Why yousa not smashin them kaadu?
			string_id message = new string_id (c_stringFile, "s_84");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which kaadu am I supposed to kill?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'm going.
	if (response == "s_98")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okieday!
			string_id message = new string_id (c_stringFile, "s_95");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yous only payin me a little bit, so yousa doin two things for me, yah?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was the first thing?
	if (response == "s_99")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Isa comin here each year to get sapflower juices. They bloomin like crazy now, but thems bigguns wantin to crunch me. Yousa gettin me the juice!
			string_id message = new string_id (c_stringFile, "s_89");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Where do I find these blooming sapflowers?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I have other questions.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_90");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_91");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was that other thing?
	if (response == "s_100")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right up there! On toppa that hill! Them nesting kaadu is honkin and hootin all day and night! A gungan gettin no sleep and can't catch eatin-things! You go killin a buncha then and Isa wait here. 
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not just yet...
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_doesNotHaveQuestGPG2c (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, I'm going.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Why yousa not smashin them kaadu?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Which kaadu am I supposed to kill?
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Right up there! On toppa that hill! Them nesting kaadu is honkin and hootin all day and night! A gungan gettin no sleep and can't catch eatin-things! You go killin a buncha then and Isa wait here. 
			string_id message = new string_id (c_stringFile, "s_96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Not just yet...
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition_doesNotHaveQuestGPG2c (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes, I'm going.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_98");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa back?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't have a lot of other choices for this job.
	if (response == "s_58")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "expect_tip");

			//-- NPC: Mesa takin long view, like bombad Boss Nass. Yous makin lotsa credits, workin for Broma. Yous cutting me in, and Isa help you out. If yous not wantin to share, Isa let you take some jobs off mes hands. 
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I have more time than credits. Tell me what you need done.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not a chance! I'll pay half, no more.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits2Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll pay your price.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 25);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If Broma Lak thinking yous trusted, I give yousa chance. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I get things done, if that's what you mean.
	if (response == "s_65")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: That's good! But like Boss Nass is sayin...nothin cost nothin!
			string_id message = new string_id (c_stringFile, "s_68");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Cut to the deal, Jak. What's your help going to cost me?
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's good! But like Boss Nass is sayin...nothin cost nothin!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cut to the deal, Jak. What's your help going to cost me?
	if (response == "s_71")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "huh");

			//-- NPC: Yous helpin me, then?
			string_id message = new string_id (c_stringFile, "s_76");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. Now let's get on with it.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I really have better things to do. 
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_78");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_140");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yous helpin me, then?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. Now let's get on with it.
	if (response == "s_78")
	{
		naboo_24_gungan_power_grab_02_action_signalMetJak (player, npc);

		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "expect_tip");

			//-- NPC: Mesa takin long view, like bombad Boss Nass. Yous makin lotsa credits, workin for Broma. Yous cutting me in, and Isa help you out. If yous not wantin to share, Isa let you take some jobs off mes hands. 
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I have more time than credits. Tell me what you need done.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Not a chance! I'll pay half, no more.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits2Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll pay your price.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_115");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_128");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 25);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really have better things to do. 
	if (response == "s_140")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: How rude!
			string_id message = new string_id (c_stringFile, "s_142");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mesa takin long view, like bombad Boss Nass. Yous makin lotsa credits, workin for Broma. Yous cutting me in, and Isa help you out. If yous not wantin to share, Isa let you take some jobs off mes hands. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I have more time than credits. Tell me what you need done.
	if (response == "s_104")
	{
		//-- [NOTE] Grant 3-stage quest naboo_24_gungan_power_grab_02a
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "giveup");

			//-- NPC: Mesa got three things need doin. Then I helps you decode bauble. You wantin to do this?
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, I'd rather pay a little and save a little time.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits2Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd rather pay your full price and save a lot of time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not a chance! I'll pay half, no more.
	if (response == "s_115")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: If yous payin %DI, mesa got two jobs need doin. Then I helps you decode that bauble. 
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will pay that.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've decided that I'm not paying anything.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'll pay the whole amount to save time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 28);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll pay your price.
	if (response == "s_128")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good! You pay %DI and do one chore, then?
			string_id message = new string_id (c_stringFile, "s_130");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather pay half?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Nope, I'm not paying anything.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_138");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 30);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Grant 3-stage quest naboo_24_gungan_power_grab_02a
	//-- NPC: Mesa got three things need doin. Then I helps you decode bauble. You wantin to do this?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			naboo_24_gungan_power_grab_02_action_grant3StepQuest (player, npc);

			//-- NPC: Then when yous done these three tasks, come back and Is decodin that bauble.
			string_id message = new string_id (c_stringFile, "s_110");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I'd rather pay a little and save a little time.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: If yous payin %DI, mesa got two jobs need doin. Then I helps you decode that bauble. 
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will pay that.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've decided that I'm not paying anything.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'll pay the whole amount to save time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 28);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather pay your full price and save a lot of time.
	if (response == "s_118")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good! You pay %DI and do one chore, then?
			string_id message = new string_id (c_stringFile, "s_130");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather pay half?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Nope, I'm not paying anything.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_138");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 30);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If yous payin %DI, mesa got two jobs need doin. Then I helps you decode that bauble. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will pay that.
	if (response == "s_120")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			naboo_24_gungan_power_grab_02_action_grant2StepQuest_payment (player, npc);

			//-- NPC: Wesa got a deal!
			string_id message = new string_id (c_stringFile, "s_122");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've decided that I'm not paying anything.
	if (response == "s_124")
	{
		//-- [NOTE] Grant 3-stage quest naboo_24_gungan_power_grab_02a
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "giveup");

			//-- NPC: Mesa got three things need doin. Then I helps you decode bauble. You wantin to do this?
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, I'd rather pay a little and save a little time.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits2Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd rather pay your full price and save a lot of time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, I'll pay the whole amount to save time.
	if (response == "s_126")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good! You pay %DI and do one chore, then?
			string_id message = new string_id (c_stringFile, "s_130");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Fine.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd rather pay half?
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Nope, I'm not paying anything.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_132");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_136");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_138");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 30);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleHigh (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_24_gungan_power_grab_02_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good! You pay %DI and do one chore, then?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fine.
	if (response == "s_132")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "celebrate");

			naboo_24_gungan_power_grab_02_action_grant1StepQuest_payment (player, npc);

			//-- NPC: Maxy good! Wesa partners! Mesa only got one job needin done by you, partner. Then Isa helpin you decode bauble.
			string_id message = new string_id (c_stringFile, "s_134");
			utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather pay half?
	if (response == "s_136")
	{
		//-- [NOTE] 
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: If yous payin %DI, mesa got two jobs need doin. Then I helps you decode that bauble. 
			string_id message = new string_id (c_stringFile, "s_117");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will pay that.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I've decided that I'm not paying anything.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, I'll pay the whole amount to save time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_120");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_124");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_126");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 28);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = naboo_24_gungan_power_grab_02_tokenDI_halHaggleLow (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nope, I'm not paying anything.
	if (response == "s_138")
	{
		//-- [NOTE] Grant 3-stage quest naboo_24_gungan_power_grab_02a
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "giveup");

			//-- NPC: Mesa got three things need doin. Then I helps you decode bauble. You wantin to do this?
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Actually, I'd rather pay a little and save a little time.
			boolean hasResponse1 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits2Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'd rather pay your full price and save a lot of time.
			boolean hasResponse2 = false;
			if (naboo_24_gungan_power_grab_02_condition_hasCredits1Step (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_118");

				utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

const int TIER_1_INFORMANT_BARTER			= 2000;
const int TIER_2_INFORMANT_BARTER			= 4000;
const int TIER_3_INFORMANT_BARTER			= 8000;
const int TIER_4_INFORMANT_BARTER			= 12000;
const int TIER_5_INFORMANT_BARTER			= 20000;

const int TIER_1_INFORMANT_FRONT_COST			= 750;
const int TIER_2_INFORMANT_FRONT_COST			= 1500;
const int TIER_3_INFORMANT_FRONT_COST			= 2500;
const int TIER_4_INFORMANT_FRONT_COST			= 5000;
const int TIER_5_INFORMANT_FRONT_COST			= 10000;

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_24_gungan_power_grab_02");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_24_gungan_power_grab_02");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasCompletedJak (player, npc))
	{
		doAnimationAction (npc, "thank");

		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: Yousa okie dokie!
		string_id message = new string_id (c_stringFile, "s_67");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasTaskReturnTranslator (player, npc))
	{
		doAnimationAction (npc, "pose_proudly");

		naboo_24_gungan_power_grab_02_action_signalTranslatorReturned (player, npc);

		//-- NPC: Yousa findin it!
		string_id message = new string_id (c_stringFile, "s_61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Now, about that bauble.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_62");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 2);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_02", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasQuestGPG2d (player, npc))
	{
		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: Yousa not done yet?
		string_id message = new string_id (c_stringFile, "s_72");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasCompletedJaksBusyWorkQuest (player, npc))
	{
		doAnimationAction (npc, "celebrate");

		naboo_24_gungan_power_grab_02_action_signalJaksBusyWorkComplete (player, npc);

		//-- NPC: No jokin, yousa good partner!
		string_id message = new string_id (c_stringFile, "s_25");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Wonderful...Now will you help me decrypt this record bauble?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_26");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 5);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_02", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasNotCompletedJaksBusyWorkQuest (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: Wesa talkin again when yousa finished helpin.
		string_id message = new string_id (c_stringFile, "s_69");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What am I supposed to do?
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 12);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_02", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasTaskBroma2Jak_convince (player, npc))
	{
		doAnimationAction (npc, "greet");

		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: Yousa back?
		string_id message = new string_id (c_stringFile, "s_56");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I didn't have a lot of other choices for this job.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_58");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 21);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_02", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition_hasTaskBroma2Jak_meet (player, npc))
	{
		doAnimationAction (npc, "shrug_shoulders");

		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: If Broma Lak thinking yous trusted, I give yousa chance. 
		string_id message = new string_id (c_stringFile, "s_60");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I get things done, if that's what you mean.
		boolean hasResponse0 = false;
		if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_65");

			utils.setScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId", 22);

			npcStartConversation (player, npc, "naboo_24_gungan_power_grab_02", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_24_gungan_power_grab_02_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		naboo_24_gungan_power_grab_02_action_facePlayer (player, npc);

		//-- NPC: Busy. Yous goin away.
		string_id message = new string_id (c_stringFile, "s_144");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_24_gungan_power_grab_02")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

	if (branchId == 2 && naboo_24_gungan_power_grab_02_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && naboo_24_gungan_power_grab_02_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && naboo_24_gungan_power_grab_02_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && naboo_24_gungan_power_grab_02_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && naboo_24_gungan_power_grab_02_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && naboo_24_gungan_power_grab_02_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_24_gungan_power_grab_02_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && naboo_24_gungan_power_grab_02_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && naboo_24_gungan_power_grab_02_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && naboo_24_gungan_power_grab_02_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && naboo_24_gungan_power_grab_02_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && naboo_24_gungan_power_grab_02_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && naboo_24_gungan_power_grab_02_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && naboo_24_gungan_power_grab_02_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && naboo_24_gungan_power_grab_02_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && naboo_24_gungan_power_grab_02_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && naboo_24_gungan_power_grab_02_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && naboo_24_gungan_power_grab_02_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && naboo_24_gungan_power_grab_02_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && naboo_24_gungan_power_grab_02_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && naboo_24_gungan_power_grab_02_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_24_gungan_power_grab_02.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

