// ======================================================================
//
// naboo_rebel_tier4.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/naboo_rebel_tier4";

// ======================================================================
// Script Conditions
// ======================================================================

boolean naboo_rebel_tier4_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isWrongFaction (obj_id player, obj_id npc)
{
	//check the player has the correct novice skill box for this trainer
	return (!hasSkill(player,"pilot_rebel_navy_novice"));
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasCompletedTier3 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_rebel_navy_starships_03" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_procedures_03" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_droid_03" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_weapons_03" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierThree(player);
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isOnMission (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest(player) );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_faliedMissionOne (obj_id player, obj_id npc)
{
	if ( 
			( 
				space_quest.hasAbortedQuest ( player, "survival", "naboo_rebel_tier4_1" ) ||
	   			space_quest.hasFailedQuest ( player, "survival", "naboo_rebel_tier4_1" ) 
	   		)
	   		&&
	   			!space_quest.hasWonQuest ( player, "escort", "naboo_rebel_tier4_1_b" )
	   	)
		return true;
	   	
	if ( 
			space_quest.hasAbortedQuest ( player, "escort", "naboo_rebel_tier4_1_b" ) ||
			space_quest.hasFailedQuest ( player, "escort", "naboo_rebel_tier4_1_b" ) 
		)
		return true;
		   
	if (
			space_quest.hasAbortedQuest ( player, "assassinate", "naboo_rebel_tier4_1_a" ) ||
			space_quest.hasFailedQuest ( player, "assassinate", "naboo_rebel_tier4_1_a" )
		)
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_failedMissionTwo (obj_id player, obj_id npc)
{
	if ( 
			( 
				space_quest.hasAbortedQuest ( player, "assassinate", "naboo_rebel_tier4_2" ) ||
	   			space_quest.hasFailedQuest ( player, "assassinate", "naboo_rebel_tier4_2" ) 
	   		)
	   		&&
	   			!space_quest.hasWonQuest ( player, "destroy_surpriseattack", "naboo_rebel_tier4_2_b" )
	   	)
		return true;
	   	
	if ( 
			space_quest.hasAbortedQuest ( player, "destroy_surpriseattack", "naboo_rebel_tier4_2_b" ) ||
			space_quest.hasFailedQuest ( player, "destroy_surpriseattack", "naboo_rebel_tier4_2_b" ) 
		)
		return true;
		   
	if (
			space_quest.hasAbortedQuest ( player, "space_battle", "naboo_rebel_tier4_2_a" ) ||
			space_quest.hasFailedQuest ( player, "space_battle", "naboo_rebel_tier4_2_a" )
		)
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_failedMissionThree (obj_id player, obj_id npc)
{
	if ( 
			( 
				space_quest.hasAbortedQuest ( player, "rescue", "naboo_rebel_tier4_3" ) ||
	   			space_quest.hasFailedQuest ( player, "rescue", "naboo_rebel_tier4_3" ) 
	   		)
	   		&&
	   			!space_quest.hasWonQuest ( player, "delivery_no_pickup", "naboo_rebel_tier4_3_b" )
	   	)
		return true;
	   	
	if ( 
			space_quest.hasAbortedQuest ( player, "delivery_no_pickup", "naboo_rebel_tier4_3_b" ) ||
			space_quest.hasFailedQuest ( player, "delivery_no_pickup", "naboo_rebel_tier4_3_b" ) 
		)
		return true;
		   
	if (
			space_quest.hasAbortedQuest ( player, "assassinate", "naboo_rebel_tier4_3_a" ) ||
			space_quest.hasFailedQuest ( player, "assassinate", "naboo_rebel_tier4_3_a" )
		)
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_failedMissionFour (obj_id player, obj_id npc)
{
	if ( 
			( 
				space_quest.hasAbortedQuest ( player, "space_battle", "naboo_rebel_tier4_4" ) ||
	   			space_quest.hasFailedQuest ( player, "space_battle", "naboo_rebel_tier4_4" ) 
	   		)
	   		&&
	   			!space_quest.hasWonQuest ( player, "survival", "naboo_rebel_tier4_4_b" )
	   	)
		return true;
	   	
	if ( 
			space_quest.hasAbortedQuest ( player, "survival", "naboo_rebel_tier4_4_b" ) ||
			space_quest.hasFailedQuest ( player, "survival", "naboo_rebel_tier4_4_b" ) 
		)
		return true;
		   
	if (
			space_quest.hasAbortedQuest ( player, "space_battle", "naboo_rebel_tier4_4_a" ) ||
			space_quest.hasFailedQuest ( player, "space_battle", "naboo_rebel_tier4_4_a" )
		)
		return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_failedMasterMission (obj_id player, obj_id npc)
{

	if ( space_quest.hasAbortedQuestRecursive( player, "destroy", "naboo_rebel_master" ) ||
		 space_quest.hasFailedQuestRecursive( player, "destroy", "naboo_rebel_master" ) )
		 return true;

	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isReadyForTraining (obj_id player, obj_id npc)
{
	//see if the player has NOT completed all of tier 4
	//AND has enough XP to buy a tier-4 skill
	if (naboo_rebel_tier4_condition_hasCompletedTier4(player,npc))
		return false;//you're already done
		
	return ( space_quest.isPlayerQualifiedForSkill( player, "pilot_rebel_navy_starships_04" ) );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasCompletedTier4 (obj_id player, obj_id npc)
{
	/*
	if (!hasSkill( player, "pilot_rebel_navy_starships_04" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_procedures_04" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_droid_04" ))
		return false;
	else if (!hasSkill( player, "pilot_rebel_navy_weapons_04" ))
		return false;
	else
		return true;
	*/
	
	return space_flags.hasCompletedTierFour(player);
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasMasterSkill (obj_id player, obj_id npc)
{
	return (hasSkill( player, "pilot_rebel_navy_master" ));
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isGettingMissionOneReward (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuest( player, "escort", "naboo_rebel_tier4_1_b" )||
		space_quest.hasCompletedQuest( player, "assassinate", "naboo_rebel_tier4_1_a" ))
	{
		if	(space_quest.hasReceivedReward( player, "survival", "naboo_rebel_tier4_1" ))
			return false;
		else
			return true;
	}	
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isGettingMissionTwoReward (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuest( player, "destroy_surpriseattack", "naboo_rebel_tier4_2_b" )||
		space_quest.hasCompletedQuest( player, "space_battle", "naboo_rebel_tier4_2_a" ))
	{
		if	(space_quest.hasReceivedReward( player, "assassinate", "naboo_rebel_tier4_2" ))
			return false;
		else
			return true;
	}	
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isGettingMissionThreeReward (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuest( player, "delivery_no_pickup", "naboo_rebel_tier4_3_b" )||
		space_quest.hasCompletedQuest( player, "assassinate", "naboo_rebel_tier4_3_a" ))
	{
		if	(space_quest.hasReceivedReward( player, "rescue", "naboo_rebel_tier4_3" ))
			return false;
		else
			return true;
	}	
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isGettingMissionFourReward (obj_id player, obj_id npc)
{
	if (space_quest.hasCompletedQuest( player, "survival", "naboo_rebel_tier4_4_b" ) ||
		space_quest.hasCompletedQuest( player, "space_battle", "naboo_rebel_tier4_4_a"))
	{
		if	(space_quest.hasReceivedReward( player, "space_battle", "naboo_rebel_tier4_4" ))
			return false;
		else
			return true;
	}	
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isGettingMasterMissionReward (obj_id player, obj_id npc)
{
	if (!space_quest.hasCompletedQuestRecursive( player, "destroy", "naboo_rebel_master" ))
		return false;//haven't completed it, so no reward
	
	//you've completed it, so you must be here for the reward:
	if (!space_quest.hasReceivedReward( player, "destroy", "naboo_rebel_master" ))
		return true;
	else
		return false;	
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.REBEL_NABOO);
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_canFlyNonTrackDuty (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierOne(player) && !space_quest.hasQuest(player))
		return true;
		
	return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasDroid04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_rebel_navy_droid_04" );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasStarship04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_rebel_navy_starships_04" );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasProcedure04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_rebel_navy_procedures_04" );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasWeapons04 (obj_id player, obj_id npc)
{
	return hasSkill( player, "pilot_rebel_navy_weapons_04" );
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_readyForMissionOne (obj_id player, obj_id npc)
{
	if ( (hasSkill( player, "pilot_rebel_navy_starships_04" ) ||
		hasSkill( player, "pilot_rebel_navy_weapons_04" ) ||
		hasSkill( player, "pilot_rebel_navy_procedures_04" ) ||
		hasSkill( player, "pilot_rebel_navy_droid_04" )) && 
		space_flags.hasSpaceFlag(player, "vortexPilot") &&
		!space_quest.hasReceivedReward( player, "survival", "naboo_rebel_tier4_1" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_readyForMissionTwo (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_04", 
						"pilot_rebel_navy_weapons_04",
						"pilot_rebel_navy_procedures_04",
						"pilot_rebel_navy_droid_04" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 2 ) && space_flags.hasSpaceFlag(player, "vortexPilot") &&
	!space_quest.hasReceivedReward( player, "assassinate", "naboo_rebel_tier4_2" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_readyForMissionThree (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_04", 
						"pilot_rebel_navy_weapons_04",
						"pilot_rebel_navy_procedures_04",
						"pilot_rebel_navy_droid_04" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 3 ) && space_flags.hasSpaceFlag(player, "vortexPilot") &&
	!space_quest.hasReceivedReward( player, "rescue", "naboo_rebel_tier4_3" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_readyForMissionFour (obj_id player, obj_id npc)
{
	string[] skills = { "pilot_rebel_navy_starships_04", 
						"pilot_rebel_navy_weapons_04",
						"pilot_rebel_navy_procedures_04",
						"pilot_rebel_navy_droid_04" };
	int j = 0;
	for ( int i=0; i<skills.length; i++ )
	{
		if ( hasSkill( player, skills[i] ) )
			j++;
	}
	if (( j == 4 ) && space_flags.hasSpaceFlag(player, "vortexPilot") &&
	!space_quest.hasReceivedReward( player, "space_battle", "naboo_rebel_tier4_4" ) )
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasMetMe (obj_id player, obj_id npc)
{
	return space_flags.hasSpaceFlag(player, "metTier4");
}

// ----------------------------------------------------------------------

boolean naboo_rebel_tier4_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding( player, factions.FACTION_REBEL ) < 0.0f );
}

// ======================================================================
// Script Actions
// ======================================================================

void naboo_rebel_tier4_action_grantMissionOne (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "escort", "naboo_rebel_tier4_1_b" );
	space_quest.clearQuestFlags( player, "assassinate", "naboo_rebel_tier4_1_a" );
	space_quest.grantQuest( player, "survival", "naboo_rebel_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantMissionTwo (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "destroy_surpriseattack", "naboo_rebel_tier4_2_b" );
	space_quest.clearQuestFlags( player, "space_battle", "naboo_rebel_tier4_2_a" );
	space_quest.grantQuest( player, "assassinate", "naboo_rebel_tier4_2" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantMissionThree (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "delivery_no_pickup", "naboo_rebel_tier4_3_b" );
	space_quest.clearQuestFlags( player, "assassinate", "naboo_rebel_tier4_3_a" );
	space_quest.grantQuest( player, "rescue", "naboo_rebel_tier4_3" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantMissionFour (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "survival", "naboo_rebel_tier4_4_b" );
	space_quest.clearQuestFlags( player, "space_battle", "naboo_rebel_tier4_4_a" );
	space_quest.grantQuest( player, "space_battle", "naboo_rebel_tier4_4" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantMasterMission (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy", "naboo_rebel_master" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantDutyMissionOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "naboo_rebel_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantDutyMissionTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "naboo_rebel_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantDutyMissionThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "recovery_duty", "naboo_rebel_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_grantDutyMissionFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "rescue_duty", "naboo_rebel_tier4_1" );
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_rewardForMissionOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "survival", "naboo_rebel_tier4_1" ))
	{
		space_quest.giveReward( player, "survival", "naboo_rebel_tier4_1", 10000, "object/tangible/ship/components/shield_generator/shd_mission_reward_rebel_taim_military_grade.iff" );
		factions.addFactionStanding( player, factions.FACTION_REBEL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_rewardForMissionTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "assassinate", "naboo_rebel_tier4_2" ))
	{
		space_quest.giveReward( player, "assassinate", "naboo_rebel_tier4_2", 10000, "object/tangible/ship/components/droid_interface/ddi_mission_reward_rebel_novaldex_low_latency.iff" );
		factions.addFactionStanding( player, factions.FACTION_REBEL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_rewardForMissionThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "rescue", "naboo_rebel_tier4_3" ))
	{
		space_quest.giveReward( player, "rescue", "naboo_rebel_tier4_3", 10000, "object/tangible/ship/components/booster/bst_mission_reward_rebel_qualdex_halcyon.iff" );
		factions.addFactionStanding( player, factions.FACTION_REBEL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_rewardForMissionFour (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "space_battle", "naboo_rebel_tier4_4" ))
	{
		space_quest.giveReward( player, "space_battle", "naboo_rebel_tier4_4", 10000, "object/tangible/ship/components/weapon/wpn_mission_reward_rebel_incom_tricannon.iff" );
		factions.addFactionStanding( player, factions.FACTION_REBEL, 150.0f );
	}
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_rewardForMasterMission (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "destroy", "naboo_rebel_master" ))
	{
		space_quest.giveReward( player, "destroy", "naboo_rebel_master", 5000 );
		grantSkill( player, "pilot_rebel_navy_master");
	}
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_buyWeaponsSkill04 (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_rebel_navy_weapons_04" );
	playMusic( player, "sound/music_themequest_acc_general.snd");

}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_buyStartshipsSkill04 (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_rebel_navy_starships_04" );
	playMusic( player, "sound/music_themequest_acc_general.snd");

}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_buyDroidSkill04 (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_rebel_navy_droid_04" );
	playMusic( player, "sound/music_themequest_acc_general.snd");

}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_buyProceduresSkill04 (obj_id player, obj_id npc)
{
	skill.purchaseSkill( player, "pilot_rebel_navy_procedures_04" );
	playMusic( player, "sound/music_themequest_acc_general.snd");
}

// ----------------------------------------------------------------------

void naboo_rebel_tier4_action_setMetMe (obj_id player, obj_id npc)
{
	space_flags.setSpaceFlag(player, "metTier4", true);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int naboo_rebel_tier4_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do I know you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think so.
	if (response == "s_b3218dae")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: This area is off-limits for unsecured personnel.
			string_id message = new string_id (c_stringFile, "s_8fc2022a");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_4c695dbd")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: This area is off-limits for unsecured personnel.
			string_id message = new string_id (c_stringFile, "s_7");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're the wrong faction.
	//-- NPC: Sorry, do I know you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think so.
	if (response == "s_11")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: This area is off-limits for unsecured personnel.
			string_id message = new string_id (c_stringFile, "s_13");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_15")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: This area is off-limits for unsecured personnel.
			string_id message = new string_id (c_stringFile, "s_17");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you, %NU, some kind of double agent?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No
	if (response == "s_457a7010")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We've been receiving from pretty bad reports about you, though.  Did you know you're under investigation for supporting the Empire?
			string_id message = new string_id (c_stringFile, "s_8a64732d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I had no idea
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7932482");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've been receiving from pretty bad reports about you, though.  Did you know you're under investigation for supporting the Empire?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I had no idea
	if (response == "s_c7932482")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I'm afraid you're grounded until you can clear-up this mess.  You need to improve your standing with the Rebel Alliance before we can trust you with any more assignments.
			string_id message = new string_id (c_stringFile, "s_6b14c8d");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You're a Rebel pilot? But you're not part of this unit. Are you lost?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No. Do you have a mission that I can fly?
	if (response == "s_dab8fd8e")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition_canFlyNonTrackDuty (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Hm! Well, I do have a few duty missions here. Would you like a briefing?
			string_id message = new string_id (c_stringFile, "s_127c7ddc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, please.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c82e9a2f");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Sorry, I can only assign missions to Vortex pilots. Why don't you try asking your commanding officer? I'll bet you'll have better luck there.
			string_id message = new string_id (c_stringFile, "s_942559a7");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hm! Well, I do have a few duty missions here. Would you like a briefing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, please.
	if (response == "s_c82e9a2f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're not through tier-3 yet
	//-- NPC: Ezkiel is still in need of your services.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah yes.
	if (response == "s_c2d98904")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: Dismissed.
			string_id message = new string_id (c_stringFile, "s_4d41f7fe");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How did you know?
	if (response == "s_13f3baf7")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			//-- NPC: I stay in close contact with its members. Please return to your work.
			string_id message = new string_id (c_stringFile, "s_35065223");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're busy.  Already doing a mission.  Hup hup, go do it.
	//-- NPC: You've received your orders.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I know.
	if (response == "s_d92f71f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Please carry them out.
			string_id message = new string_id (c_stringFile, "s_481965b0");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes sir.
	if (response == "s_9b43a7ee")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Please carry  them out.
			string_id message = new string_id (c_stringFile, "s_49707203");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 1, do it over.
	//-- NPC: Blast it! Don't you know how important this mission is?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't worry. It'll get done.
	if (response == "s_47443361")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stamp_feet");

			naboo_rebel_tier4_action_grantMissionOne (player, npc);

			//-- NPC: See that it does! 
			string_id message = new string_id (c_stringFile, "s_c8592539");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I ran into a little trouble. It won't happen again.
	if (response == "s_b9b677c2")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			naboo_rebel_tier4_action_grantMissionOne (player, npc);

			//-- NPC: I want the Vortex to know that this is the BEST squad in the system.
			string_id message = new string_id (c_stringFile, "s_4a835de4");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 2, do it over.
	//-- NPC: Do you realize what will happen if the Inquisitor reaches his destination?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm fully aware of the situation, sir! 
	if (response == "s_25a79f70")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_up");

			naboo_rebel_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Well start acting like it! Get back up there, NOW!
			string_id message = new string_id (c_stringFile, "s_80803e51");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's not going to happen.
	if (response == "s_d4928d9c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			naboo_rebel_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: You say that, but he's still safely en route! Hurry up and stop that monster, before he destroys all of us! 
			string_id message = new string_id (c_stringFile, "s_13010c2d");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 3, do it over.
	//-- NPC: You realize that if the Inquisition gets their hands on that spy...well, you just realize the situation, don't you?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course. I'll bring him in.
	if (response == "s_23b92517")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "tap_head");

			naboo_rebel_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Think about it. If the situation was reversed, and you were the one in trouble, he'd fight for YOU.
			string_id message = new string_id (c_stringFile, "s_34a99b58");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You've got nothing to worry about.
	if (response == "s_461e9b3f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "smack_self");

			naboo_rebel_tier4_action_grantMissionThree (player, npc);

			//-- NPC: I hope not. This is nerve-wracking.
			string_id message = new string_id (c_stringFile, "s_84f5730a");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You failed mission 4, do it over.
	//-- NPC: Do you mean to tell me that's the best you can do? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course not!
	if (response == "s_f5427310")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			naboo_rebel_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Then dig deep, %NU, and get back out there! 
			string_id message = new string_id (c_stringFile, "s_3de94b24");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not done yet.
	if (response == "s_28a543ae")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			naboo_rebel_tier4_action_grantMissionFour (player, npc);

			//-- NPC: Hurry! There's no time to waste.
			string_id message = new string_id (c_stringFile, "s_be8a1d81");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission one and so here is your reward.
	//-- NPC: Very nice, %TU! We are making inroads. The Inquisition is in for a surprise.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let's hope they continue to underestimate us.
	if (response == "s_6b169ba1")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: They won't; not for long, anyway. They'll see how good we are soon enough. Here's your duty pay.
			string_id message = new string_id (c_stringFile, "s_ba0973a6");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_d9cced1f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: Here's your duty pay. Come and see me when you're ready for another mission.
			string_id message = new string_id (c_stringFile, "s_e9e695cf");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission two and so here is your reward.
	//-- NPC: Duty pay, for my best pilot! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Come on, Evin. Don't lay it on too thick. 
	if (response == "s_88099422")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_shoulders");

			//-- NPC: Hate compliments? Very well. I bet you like money, though.
			string_id message = new string_id (c_stringFile, "s_2e34ca37");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Who doesn't?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77e7784");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hey! SOMEBODY'S got to be the best.
	if (response == "s_a2454aa3")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: And why shouldn't it be you? Here you go. And let me know when you're ready for another mission.
			string_id message = new string_id (c_stringFile, "s_d520f8e9");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hate compliments? Very well. I bet you like money, though.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who doesn't?
	if (response == "s_77e7784")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here you go. And let me know when you're ready for another mission.
			string_id message = new string_id (c_stringFile, "s_62074d0");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission three and so here is your reward.
	//-- NPC: Our secrets are safe for another day! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure - thanks to me.
	if (response == "s_6371b34a")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Nice work out there. Here's your duty pay. Come see me when you're ready for your next mission.
			string_id message = new string_id (c_stringFile, "s_85e568");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know if the situation is THAT serious.
	if (response == "s_2c61b117")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then you don't understand how important the Vortex is. Here's your duty pay. Come see me when you're ready for your next mission.
			string_id message = new string_id (c_stringFile, "s_c48bab68");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have completed mission four and so here is your reward.
	//-- NPC: That was FANTASTIC! I just wish I could have seen the expression on those Imperial faces! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Inquisition won't be operating in this system anytime soon.
	if (response == "s_2928468c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: This is a great day for the Vortex. Here's your duty pay, %NU. You have definitely earned it.
			string_id message = new string_id (c_stringFile, "s_cc6fef40");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: They weren't smiling, I can promise you that.
	if (response == "s_cbb055c6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: You're probably right! Well done, %NU. Please accept this duty pay with my thanks.
			string_id message = new string_id (c_stringFile, "s_ac8b75ef");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Incredible work out there! The spy is safe and sound - and so is his information. Soon, we'll have new Jedi walking among us! The entire Vortex organization is grateful for your help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm glad I can be of use. 
	if (response == "s_5d4e24a2")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: We are ready to go after the Inquisition with a vengeance.
			string_id message = new string_id (c_stringFile, "s_a07914ba");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is this a declaration of war?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38f1d025");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 45);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm always ready to fight the Empire.
	if (response == "s_9f4dbe82")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We're going on the offensive. The Vortex has decided to attack the Imperial space station in Dathomir.
			string_id message = new string_id (c_stringFile, "s_2c5be3f2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why that one in particular?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_101");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We are ready to go after the Inquisition with a vengeance.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is this a declaration of war?
	if (response == "s_38f1d025")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: In my mind, it is. And this is the perfect time to make a move.
			string_id message = new string_id (c_stringFile, "s_14192a1b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_841d27db");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In my mind, it is. And this is the perfect time to make a move.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why?
	if (response == "s_841d27db")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			//-- NPC: They're still reeling from Uvqolo's death. They can't believe an Alliance pilot was able to kill one of their own. Let's see how many MORE we can kill! 
			string_id message = new string_id (c_stringFile, "s_5d9fd0db");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They're still reeling from Uvqolo's death. They can't believe an Alliance pilot was able to kill one of their own. Let's see how many MORE we can kill! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_88")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Vortex has drawn up a plan of attack against the Imperial space station in Dathomir.
			string_id message = new string_id (c_stringFile, "s_80ecabfc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why that one in particular?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6798dc03");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Vortex has drawn up a plan of attack against the Imperial space station in Dathomir.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why that one in particular?
	if (response == "s_6798dc03")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Inquisition has been using it as a base. It's the perfect way to send a message, if you know what I mean.
			string_id message = new string_id (c_stringFile, "s_1e25d8e3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah. I see.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b76c91c2");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Inquisition has been using it as a base. It's the perfect way to send a message, if you know what I mean.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah. I see.
	if (response == "s_b76c91c2")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It goes without saying that the space station is well-defended by Imperial fighters.
			string_id message = new string_id (c_stringFile, "s_9b0c24f5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Of course.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_52917b0d");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It goes without saying that the space station is well-defended by Imperial fighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course.
	if (response == "s_52917b0d")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: And that's where you come in. You're going to join forces with  the Vortex squadron and launch an attack against those fighters. That will give our B-Wings time to move into position.
			string_id message = new string_id (c_stringFile, "s_e7a8a370");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Consider it done.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_16d870fe");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And that's where you come in. You're going to join forces with  the Vortex squadron and launch an attack against those fighters. That will give our B-Wings time to move into position.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Consider it done.
	if (response == "s_16d870fe")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			naboo_rebel_tier4_action_grantMissionFour (player, npc);

			//-- NPC: I'll see you when you get back from Dathomir.
			string_id message = new string_id (c_stringFile, "s_122f0ea4");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We're going on the offensive. The Vortex has decided to attack the Imperial space station in Dathomir.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why that one in particular?
	if (response == "s_101")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: The Inquisition has been using it as a base.  It's the perfect way to send a message.
			string_id message = new string_id (c_stringFile, "s_18da605a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ah. I see.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_104");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 54);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Inquisition has been using it as a base.  It's the perfect way to send a message.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah. I see.
	if (response == "s_104")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "tap_head");

			//-- NPC: It goes without saying that the space station is well-defended by Imperial fighters.
			string_id message = new string_id (c_stringFile, "s_106");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Of course.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_108");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It goes without saying that the space station is well-defended by Imperial fighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course.
	if (response == "s_108")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: And that's where you come in. You're going to join forces with  the Vortex squadron and launch an attack against those fighters. That will give our B-Wings time to move into position.
			string_id message = new string_id (c_stringFile, "s_110");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Consider it done.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_112");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And that's where you come in. You're going to join forces with  the Vortex squadron and launch an attack against those fighters. That will give our B-Wings time to move into position.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Consider it done.
	if (response == "s_112")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			naboo_rebel_tier4_action_grantMissionFour (player, npc);

			//-- NPC: I'll see you when you get back from Dathomir.
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Nice job on that last mission. That Inquisitor didn't know what hit him!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I had a good time watching his ship explode. 
	if (response == "s_d17adb67")
	{
		doAnimationAction (player, "laugh");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: There will be more ships exploding in the future, I'm sure. Hopefully not yours! Now listen. We have a new problem.
			string_id message = new string_id (c_stringFile, "s_c424c512");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it? 
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_db140dbf");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ship's running at peak capacity. I'm ready for another mission. 
	if (response == "s_3b45e8ed")
	{
		doAnimationAction (player, "flex_biceps");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_polite");

			//-- NPC: Glad to hear it, because I've got an urgent assignment right here.
			string_id message = new string_id (c_stringFile, "s_a753d65f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it? 
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_137");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There will be more ships exploding in the future, I'm sure. Hopefully not yours! Now listen. We have a new problem.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it? 
	if (response == "s_db140dbf")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of our spies has reported a malfunction with his ship, and he's adrift in Dathomir as we speak.
			string_id message = new string_id (c_stringFile, "s_a8144f6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That's strange. Could it be a false alarm?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d0b9a993");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of our spies has reported a malfunction with his ship, and he's adrift in Dathomir as we speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's strange. Could it be a false alarm?
	if (response == "s_d0b9a993")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: We've scanned the ship ourselves. Engineers confirm the malfunction.The situation's serious. This spy is carrying valuable information. And the Inquisition is closing in on his location.
			string_id message = new string_id (c_stringFile, "s_8dc4fc41");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What kind of information is he carrying?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25dc6fac");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've scanned the ship ourselves. Engineers confirm the malfunction.The situation's serious. This spy is carrying valuable information. And the Inquisition is closing in on his location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What kind of information is he carrying?
	if (response == "s_25dc6fac")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Well...supposedly, he knows something new about Jedi.
			string_id message = new string_id (c_stringFile, "s_a747531a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Wow! Can you tell me more?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_113f3fb6");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 62);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well...supposedly, he knows something new about Jedi.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Wow! Can you tell me more?
	if (response == "s_113f3fb6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: I don't know much myself. The information is strictly classified! But...I overheard some of the brothers discussing it. 
			string_id message = new string_id (c_stringFile, "s_d8845dfe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Tell me! I can keep a secret.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46787375");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't know much myself. The information is strictly classified! But...I overheard some of the brothers discussing it. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Tell me! I can keep a secret.
	if (response == "s_46787375")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: Well...okay! Supposedly it includes possible locations of several Force-sensitive children. If it's true, and that  information fell into Imperial hands, those children would be dead by the end of the month!
			string_id message = new string_id (c_stringFile, "s_fc616447");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Don't worry! It won't happen. Not as long as I'm here.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_711e6727");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well...okay! Supposedly it includes possible locations of several Force-sensitive children. If it's true, and that  information fell into Imperial hands, those children would be dead by the end of the month!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't worry! It won't happen. Not as long as I'm here.
	if (response == "s_711e6727")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It can't. It's too important. The discovery of even one Jedi could change the course of this entire conflict! And it goes without saying that the spy knows key details about our organization. 
			string_id message = new string_id (c_stringFile, "s_7d47427d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2c4789b");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 65);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch65 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It can't. It's too important. The discovery of even one Jedi could change the course of this entire conflict! And it goes without saying that the spy knows key details about our organization. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood.
	if (response == "s_2c4789b")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: You know, it would look GREAT on our records if we could save this guy.
			string_id message = new string_id (c_stringFile, "s_6daeb64a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir! Can you please just give me the coordinates?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c8b9717d");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You know, it would look GREAT on our records if we could save this guy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir! Can you please just give me the coordinates?
	if (response == "s_c8b9717d")
	{
		doAnimationAction (player, "stamp_feet");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantMissionThree (player, npc);

			//-- NPC: Oh! Of course, you're right. The coordinates are already in your database. We're equipping your ship with repair materials. I need you to reach him ASAP, repair his ship, and escort him to safety. Now hurry to the Dathomir system.
			string_id message = new string_id (c_stringFile, "s_4e0bf82f");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Glad to hear it, because I've got an urgent assignment right here.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it? 
	if (response == "s_137")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: One of our spies' ships has malfunctioned. He's floating adrift in Dathomir as we speak.
			string_id message = new string_id (c_stringFile, "s_ef2200e9");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It just broke down, out of the blue? Could it be a false alarm? Maybe a couple of wires got crossed.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_897a43f2");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 69);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of our spies' ships has malfunctioned. He's floating adrift in Dathomir as we speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It just broke down, out of the blue? Could it be a false alarm? Maybe a couple of wires got crossed.
	if (response == "s_897a43f2")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: We've scanned the ship ourselves. Engineers confirm the malfunction.The situation's serious. This spy is carrying valuable information.  And the Inquisition is closing in on his location.
			string_id message = new string_id (c_stringFile, "s_363f5a49");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Inquisitors already spotted him?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23c4339a");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We've scanned the ship ourselves. Engineers confirm the malfunction.The situation's serious. This spy is carrying valuable information.  And the Inquisition is closing in on his location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Inquisitors already spotted him?
	if (response == "s_23c4339a")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: If they get a hold of him, they'll keep him alive - but he'll wish he was dead.
			string_id message = new string_id (c_stringFile, "s_ca05e460");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get him.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_89488f10");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 71);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If they get a hold of him, they'll keep him alive - but he'll wish he was dead.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get him.
	if (response == "s_89488f10")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantMissionThree (player, npc);

			//-- NPC: His coordinates are already in your database. We're equipping your ship with repair materials. I need you to reach him ASAP, repair his ship, and escort him to safety. Now hurry to the Dathomir system.
			string_id message = new string_id (c_stringFile, "s_dd76100c");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good job out there. Our freighters are safe. And guess what? One of the Inquisitors has targeted our location!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You say that like it's a good thing.
	if (response == "s_d3c79ae3")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Absolutely! It means they're taking us seriously. 
			string_id message = new string_id (c_stringFile, "s_803445b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Which Inquisitor is it? Do you know?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f4640a5b");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good! I'll destroy anybody who comes this way.
	if (response == "s_61dcb099")
	{
		doAnimationAction (player, "threaten_combat");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Inquisitors are careful to protect themselves at all times. But we have a small window of opportunity.
			string_id message = new string_id (c_stringFile, "s_175");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely! It means they're taking us seriously. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Which Inquisitor is it? Do you know?
	if (response == "s_f4640a5b")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "applause_excited");

			//-- NPC: One of their worst. Uvqolo. He's a master technician, with an uncanny ability to find exactly what it is he's looking for.
			string_id message = new string_id (c_stringFile, "s_d082cea6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Empire isn't sending him to fight us, is he?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_422deda3");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 75);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: One of their worst. Uvqolo. He's a master technician, with an uncanny ability to find exactly what it is he's looking for.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Empire isn't sending him to fight us, is he?
	if (response == "s_422deda3")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: No no, of course not. He's strictly an interrogator. And I suspect he wants to find out why the Alliance is so interested in Endor. 
			string_id message = new string_id (c_stringFile, "s_5796fa91");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That space debris is definitely hiding Imperial secrets.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_15e6446");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 76);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No no, of course not. He's strictly an interrogator. And I suspect he wants to find out why the Alliance is so interested in Endor. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That space debris is definitely hiding Imperial secrets.
	if (response == "s_15e6446")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Without a doubt. And those secrets may hold the key to this entire war. Who knows? This could be the most important posting of your career, %TU. You can say that you were there when Extok Evin changed the course of history 
			string_id message = new string_id (c_stringFile, "s_d8a1ee7e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Um, yes. 
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_45387989");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 77);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Without a doubt. And those secrets may hold the key to this entire war. Who knows? This could be the most important posting of your career, %TU. You can say that you were there when Extok Evin changed the course of history 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, yes. 
	if (response == "s_45387989")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Now listen to me. It's of the utmost importance that you stay out of the Inquisition's clutches.
			string_id message = new string_id (c_stringFile, "s_f20ed4c3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Don't worry.  They won't catch me!
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a13b304c");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Now listen to me. It's of the utmost importance that you stay out of the Inquisition's clutches.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't worry.  They won't catch me!
	if (response == "s_a13b304c")
	{
		doAnimationAction (player, "flex_biceps");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "whisper");

			//-- NPC: I'm serious. You've heard the stories about the Empire mutating their pilots and welding them to their ships.
			string_id message = new string_id (c_stringFile, "s_6a348e56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sick.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8a212117");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm serious. You've heard the stories about the Empire mutating their pilots and welding them to their ships.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sick.
	if (response == "s_8a212117")
	{
		doAnimationAction (player, "shake_head_disgust");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "tap_head");

			//-- NPC: Imagine what they'd do to us.
			string_id message = new string_id (c_stringFile, "s_422da50");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'd rather not.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_290b6cd5");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Imagine what they'd do to us.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'd rather not.
	if (response == "s_290b6cd5")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Inquisitors are careful to protect themselves at all times. But we have a small window of opportunity.
			string_id message = new string_id (c_stringFile, "s_de00af5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1c8bddbb");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Inquisitors are careful to protect themselves at all times. But we have a small window of opportunity.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it?
	if (response == "s_1c8bddbb")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Through sheer luck, we've managed to learn the details of his travel route. He wishes to stay inconspicuous, so he's not traveling with a large entourage. He's practically defenseless! 
			string_id message = new string_id (c_stringFile, "s_f8a134c0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, I wouldn't go that far.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d91a074");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 82);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Through sheer luck, we've managed to learn the details of his travel route. He wishes to stay inconspicuous, so he's not traveling with a large entourage. He's practically defenseless! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I wouldn't go that far.
	if (response == "s_d91a074")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Well, regardless, we know how to find him. That's the good news.
			string_id message = new string_id (c_stringFile, "s_3d213ae3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the bad news?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3069ecae");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, regardless, we know how to find him. That's the good news.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the bad news?
	if (response == "s_3069ecae")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Most of our space fleet is already occupied. They're escorting Vortex personnel to safety.
			string_id message = new string_id (c_stringFile, "s_3678a87c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But I'M not busy.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2896ca81");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Most of our space fleet is already occupied. They're escorting Vortex personnel to safety.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But I'M not busy.
	if (response == "s_2896ca81")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Exactly. And this is a golden opportunity, one we can't afford to pass up. I want you to get out there and blast Uvqolo! I'm warning you, it's going to take everything you've got, and then some. Are you up to the job?
			string_id message = new string_id (c_stringFile, "s_7294f771");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_171");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Exactly. And this is a golden opportunity, one we can't afford to pass up. I want you to get out there and blast Uvqolo! I'm warning you, it's going to take everything you've got, and then some. Are you up to the job?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_171")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			naboo_rebel_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Excellent! You're cleared to leave for the Yavin system immediately.
			string_id message = new string_id (c_stringFile, "s_4eaf90e6");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Inquisitors are careful to protect themselves at all times. But we have a small window of opportunity.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it?
	if (response == "s_177")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Through sheer luck, we've managed to learn the details of his travel route. He wishes to stay inconspicuous, so he's not traveling with a large entourage. He's practically defenseless! 
			string_id message = new string_id (c_stringFile, "s_179");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, I wouldn't go that far.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_181");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Through sheer luck, we've managed to learn the details of his travel route. He wishes to stay inconspicuous, so he's not traveling with a large entourage. He's practically defenseless! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, I wouldn't go that far.
	if (response == "s_181")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shrug_hands");

			//-- NPC: Well, regardless, we know how to find him. That's the good news.
			string_id message = new string_id (c_stringFile, "s_183");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the bad news?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_185");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 89);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, regardless, we know how to find him. That's the good news.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the bad news?
	if (response == "s_185")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Most of our space fleet is already busy, escorting Vortex personnel to safety.
			string_id message = new string_id (c_stringFile, "s_3ff3b52b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: But not me.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2592b2f2");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 90);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Most of our space fleet is already busy, escorting Vortex personnel to safety.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: But not me.
	if (response == "s_2592b2f2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Exactly. And this is a golden opportunity, one we can't afford to pass up. I want you to get out there and blast Uvqolo! I'm warning you, it's going to take everything you've got, and then some. Are you up to the job?
			string_id message = new string_id (c_stringFile, "s_189");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Absolutely.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_191");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Exactly. And this is a golden opportunity, one we can't afford to pass up. I want you to get out there and blast Uvqolo! I'm warning you, it's going to take everything you've got, and then some. Are you up to the job?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Absolutely.
	if (response == "s_191")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute1");

			naboo_rebel_tier4_action_grantMissionTwo (player, npc);

			//-- NPC: Excellent! You're cleared to leave for the Yavin system immediately.
			string_id message = new string_id (c_stringFile, "s_193");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, we're doing our job, %NU. The Inquisition has definitely noticed us. And they're heading our way.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm surprised the Inquisition has waited until now to engage the Vortex.
	if (response == "s_a399c876")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: Traditionally, both the Inquisition and the Vortex have kept low profiles. But we can't afford to move slowly; not anymore. The Alliance MUST locate and train light Jedi as soon as possible.
			string_id message = new string_id (c_stringFile, "s_cf9c9506");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If Jedi are out there, the Vortex will find them.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_23048e75");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We're ready for them.
	if (response == "s_426e2f6c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Absolutely! You know, of course, that we're evacuating Vortex personnel in preparation for the fight.
			string_id message = new string_id (c_stringFile, "s_d082018b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I  remember.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_214");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 102);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Traditionally, both the Inquisition and the Vortex have kept low profiles. But we can't afford to move slowly; not anymore. The Alliance MUST locate and train light Jedi as soon as possible.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If Jedi are out there, the Vortex will find them.
	if (response == "s_23048e75")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I think so. But it will be a long and bloody road. And not a straight one, either. We've been plagued by spy activities. Our upcoming missions are extremely dangerous. Frankly, I'm glad. They'll separate the weaklings from the true patriots. 
			string_id message = new string_id (c_stringFile, "s_9ecb7fcf");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: It's hard to separate the good spies from the bad spies.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d284d072");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think so. But it will be a long and bloody road. And not a straight one, either. We've been plagued by spy activities. Our upcoming missions are extremely dangerous. Frankly, I'm glad. They'll separate the weaklings from the true patriots. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's hard to separate the good spies from the bad spies.
	if (response == "s_d284d072")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "laugh");

			//-- NPC: Haha! True. They're all filthy sneaks, aren't they? 
			string_id message = new string_id (c_stringFile, "s_47eb0778");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I guess. 
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bfc53dde");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 96);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch96 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Haha! True. They're all filthy sneaks, aren't they? 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I guess. 
	if (response == "s_bfc53dde")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You know, of course, that we're evacuating Vortex personnel.
			string_id message = new string_id (c_stringFile, "s_ed0a67e");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I  remember.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cc335afa");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You know, of course, that we're evacuating Vortex personnel.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I  remember.
	if (response == "s_cc335afa")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Several Vortex members are still in transit. And somehow the Inquisition has discovered the route they're using. They're sending a fleet of fighters to the area.  Our brothers are vulnerable while they're in flight, and the Inquisitors know it.
			string_id message = new string_id (c_stringFile, "s_e9c05f6b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d1be90a9");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 98);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch98 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Several Vortex members are still in transit. And somehow the Inquisition has discovered the route they're using. They're sending a fleet of fighters to the area.  Our brothers are vulnerable while they're in flight, and the Inquisitors know it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the plan?
	if (response == "s_d1be90a9")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Those freighters aren't built to withstand attacks from Imperial fighters. They need your help.
			string_id message = new string_id (c_stringFile, "s_c49d2b1");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Are we launching a direct attack?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14ff5df8");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Those freighters aren't built to withstand attacks from Imperial fighters. They need your help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are we launching a direct attack?
	if (response == "s_14ff5df8")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Negative. There's too many of them. I just want you to hold off the fighters until the freighters are able to move to safety.
			string_id message = new string_id (c_stringFile, "s_ae934c27");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm on it.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_80d8485c");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Negative. There's too many of them. I just want you to hold off the fighters until the freighters are able to move to safety.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on it.
	if (response == "s_80d8485c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			naboo_rebel_tier4_action_grantMissionOne (player, npc);

			//-- NPC: You'll find the coordinates in your ship database once you reach the Endor system. One more thing my friend. All the missions I provide you with will be high risk missions and might be too much to handle by yourself. If you have any favors you can call in, doing so during my missions might be a good idea. Good luck.
			string_id message = new string_id (c_stringFile, "s_df1c8925");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolutely! You know, of course, that we're evacuating Vortex personnel in preparation for the fight.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I  remember.
	if (response == "s_214")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Several Vortex members are still in transit. And somehow the Inquisition has discovered the route they're using. They're sending a fleet of fighters to the area. Our brothers are vulnerable while they're in flight, and the Inquisitors know it.
			string_id message = new string_id (c_stringFile, "s_a7a9e2a7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's the plan?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_217");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Several Vortex members are still in transit. And somehow the Inquisition has discovered the route they're using. They're sending a fleet of fighters to the area. Our brothers are vulnerable while they're in flight, and the Inquisitors know it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's the plan?
	if (response == "s_217")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Those freighters aren't built to withstand attacks from Imperial fighters. They need your help.
			string_id message = new string_id (c_stringFile, "s_219");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Are we launching a direct attack?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_221");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Those freighters aren't built to withstand attacks from Imperial fighters. They need your help.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are we launching a direct attack?
	if (response == "s_221")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Negative. There's too many of them. I just want you to hold off the fighters until the freighters are able to move to safety.
			string_id message = new string_id (c_stringFile, "s_223");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm on it.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_225");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Negative. There's too many of them. I just want you to hold off the fighters until the freighters are able to move to safety.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm on it.
	if (response == "s_225")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			naboo_rebel_tier4_action_grantMissionOne (player, npc);

			//-- NPC: You'll find the coordinates in your ship database once you reach the Endor system. One more thing my friend. All the missions I provide you with will be high risk missions and might be too much to handle by yourself. If you have any favors you can call in, doing so during my missions might be a good idea. Good luck.
			string_id message = new string_id (c_stringFile, "s_227");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're ready for a new skill, which would you like?
	//-- NPC: Congratulations! You've earned the right to acquire a new skill. The more skills you have, the more money you'll make.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What will it be today?
	if (response == "s_300")
	{
		//-- [NOTE] 
		if (!naboo_rebel_tier4_condition_hasStarship04 (player, npc))
		{
			//-- NPC: Today you're going to learn about hyper-maneuverable starfighters.
			string_id message = new string_id (c_stringFile, "s_301");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_305");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 108);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!naboo_rebel_tier4_condition_hasWeapons04 (player, npc))
		{
			//-- NPC: Today you're going to learn about heavy starship component use.
			string_id message = new string_id (c_stringFile, "s_302");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_307");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 110);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!naboo_rebel_tier4_condition_hasProcedure04 (player, npc))
		{
			//-- NPC: Today you're going to learn about special weapons and tactics.
			string_id message = new string_id (c_stringFile, "s_303");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_309");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Today you're going to learn about droid intelligence theory.
			string_id message = new string_id (c_stringFile, "s_304");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: That sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_311");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today you're going to learn about hyper-maneuverable starfighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds good.
	if (response == "s_305")
	{
		naboo_rebel_tier4_action_buyStartshipsSkill04 (player, npc);

		//-- [NOTE] Now go do Mission Two.
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Come back soon, because we have a few things planned for those Inquisitors. 
			string_id message = new string_id (c_stringFile, "s_315");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today you're going to learn about heavy starship component use.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds good.
	if (response == "s_307")
	{
		naboo_rebel_tier4_action_buyWeaponsSkill04 (player, npc);

		//-- [NOTE] Now go do Mission Four
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Once you've mastered this skill, I'll be able to use you for more dangerous missions. I feel fortunate to have a pilot like you at my disposal! You've exceeded my expectations in every way.
			string_id message = new string_id (c_stringFile, "s_317");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today you're going to learn about special weapons and tactics.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds good.
	if (response == "s_309")
	{
		naboo_rebel_tier4_action_buyProceduresSkill04 (player, npc);

		//-- [NOTE] Now go do Mission One.
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Come back when you are ready for some more action, my friend.
			string_id message = new string_id (c_stringFile, "s_319");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today you're going to learn about droid intelligence theory.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounds good.
	if (response == "s_311")
	{
		naboo_rebel_tier4_action_buyDroidSkill04 (player, npc);

		//-- [NOTE] Now go do Mission Three.
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Come back as soon as you can, we have a bit of a problem.
			string_id message = new string_id (c_stringFile, "s_321");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, hey! There you are! Welcome, welcome. I was wondering if you were ever going to get here. I'm Extok Evin, head officer in charge of space warfare in this system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Good to meet you.
	if (response == "s_4265144c")
	{
		doAnimationAction (player, "salute1");

		naboo_rebel_tier4_action_setMetMe (player, npc);

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			//-- NPC: You too. I've read your report. You did a heck of a job for Brother Ezkiel and those Bothans.
			string_id message = new string_id (c_stringFile, "s_b5eac7c2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just doing my job.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dcc126b1");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You too. I've read your report. You did a heck of a job for Brother Ezkiel and those Bothans.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just doing my job.
	if (response == "s_dcc126b1")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_to_self");

			//-- NPC: I've been serving the Vortex since I first picked up a space blaster. I'll be coordinating operations against the Empire in this area. And you'll be reporting to me.
			string_id message = new string_id (c_stringFile, "s_f789d42a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready for anything.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3e9c738");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 118);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch118 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've been serving the Vortex since I first picked up a space blaster. I'll be coordinating operations against the Empire in this area. And you'll be reporting to me.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready for anything.
	if (response == "s_b3e9c738")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: Good! Because I'm happy to report that we're going to be escalating our efforts against the Inquisition. 
			string_id message = new string_id (c_stringFile, "s_7dec31dd");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Excellent.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9c236354");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 119);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch119 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good! Because I'm happy to report that we're going to be escalating our efforts against the Inquisition. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Excellent.
	if (response == "s_9c236354")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: I think so! Everyone thinks that the Inquisitors are the Emperor's most powerful weapons.  A blow against them would be a blow against Imperial morale. 
			string_id message = new string_id (c_stringFile, "s_e67c13ca");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Well, Inquisitors ARE dangerous. 
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_94d8d136");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch120 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think so! Everyone thinks that the Inquisitors are the Emperor's most powerful weapons.  A blow against them would be a blow against Imperial morale. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well, Inquisitors ARE dangerous. 
	if (response == "s_94d8d136")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Very. But so are we! We'll prove our worth on the battlefield. Now here is the mission roster. Ready?
			string_id message = new string_id (c_stringFile, "s_e26b9261");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm ready.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1adbadc4");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Very. But so are we! We'll prove our worth on the battlefield. Now here is the mission roster. Ready?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready.
	if (response == "s_1adbadc4")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_7455cef5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5e2a2bb1");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good.
	if (response == "s_5e2a2bb1")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: OK, mission number two is as follows. The entire Vortex organization is on the move, in anticipation of our attacks. There are several freighters in the area that are carrying Vortex personnel. They need to be escorted to a secure location.
			string_id message = new string_id (c_stringFile, "s_ae528424");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_61657d0f");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 123);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch123 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: OK, mission number two is as follows. The entire Vortex organization is on the move, in anticipation of our attacks. There are several freighters in the area that are carrying Vortex personnel. They need to be escorted to a secure location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_61657d0f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the third mission. The Vortex has purchased a small number of Space Assault droids. These are experimental models; we are guarding them very carefully. I'd like you to experiment with them against the Inquisition's data-carrying vessels in Endor. They may be able to provide useful information.
			string_id message = new string_id (c_stringFile, "s_e5a30f12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6598178f");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch124 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's the third mission. The Vortex has purchased a small number of Space Assault droids. These are experimental models; we are guarding them very carefully. I'd like you to experiment with them against the Inquisition's data-carrying vessels in Endor. They may be able to provide useful information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting.
	if (response == "s_6598178f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: And finally, mission number four! Imperial raiders have disabled a large number of civilian transports in Dantooine. We think they are searching for a Jedi. The ships are immobilized, and Imperial capital ships are closing in. We need a pilot to get there first and repair those ships! Take your pick, %NU.
			string_id message = new string_id (c_stringFile, "s_b5815881");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to provide an escort for those freighters.
			boolean hasResponse1 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Those space droids you mentioned sound interesting!
			boolean hasResponse2 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
			boolean hasResponse3 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Can I hear the briefing again?
			boolean hasResponse4 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b9c5097");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e01d95b6");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df069f76");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2477938c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 126);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch125 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And finally, mission number four! Imperial raiders have disabled a large number of civilian transports in Dantooine. We think they are searching for a Jedi. The ships are immobilized, and Imperial capital ships are closing in. We need a pilot to get there first and repair those ships! Take your pick, %NU.

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
	if (response == "s_1b9c5097")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent! Show no mercy. Remember, you decide when you want to end these missions. When you feel that the blow to the Empire has been delivered or you need a break, just land.
			string_id message = new string_id (c_stringFile, "s_adc84c63");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'd like to provide an escort for those freighters.
	if (response == "s_e01d95b6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: You're clear to leave. Remember, you decide when you want to end these missions. When you feel exhausted and can't escort more freighters, we will send someone else to take over so just come back to base.
			string_id message = new string_id (c_stringFile, "s_c28b3318");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: Those space droids you mentioned sound interesting!
	if (response == "s_df069f76")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: They are. Good luck, %TU. Remember, you decide when you want to end these missions. When you feel that we have stolen enough Imperial ships for now, your ship has taken too much damage or something similar, just come back to the base.
			string_id message = new string_id (c_stringFile, "s_c9329734");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
	if (response == "s_2477938c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Let's hope so! Good luck, %TU. Remember, you decide when you want to end these missions. We have several of our personnel out there helping the drifters so when your exhausted or your ship is falling apart, just return to base.
			string_id message = new string_id (c_stringFile, "s_b83725b");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch126 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	//-- NPC: Here comes our pilot now! Are you ready to accept a duty mission? Or would you like to hear the briefing again?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
	if (response == "s_1b9c5097")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent! Show no mercy. Remember, you decide when you want to end these missions. When you feel that the blow to the Empire has been delivered or you need a break, just land.
			string_id message = new string_id (c_stringFile, "s_adc84c63");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'd like to provide an escort for those freighters.
	if (response == "s_e01d95b6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: You're clear to leave. Remember, you decide when you want to end these missions. When you feel exhausted and can't escort more freighters, we will send someone else to take over so just come back to base.
			string_id message = new string_id (c_stringFile, "s_c28b3318");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: Those space droids you mentioned sound interesting!
	if (response == "s_df069f76")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: They are. Good luck, %TU. Remember, you decide when you want to end these missions. When you feel that we have stolen enough Imperial ships for now, your ship has taken too much damage or something similar, just come back to the base.
			string_id message = new string_id (c_stringFile, "s_c9329734");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
	if (response == "s_2477938c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Let's hope so! Good luck, %TU. Remember, you decide when you want to end these missions. We have several of our personnel out there helping the drifters so when your exhausted or your ship is falling apart, just return to base.
			string_id message = new string_id (c_stringFile, "s_b83725b");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch131 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good.
	if (response == "s_274")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: OK, mission number two is as follows. The entire Vortex organization is on the move, in anticipation of our attacks. There are several freighters in the area that are carrying Vortex personnel. They need to be escorted to a secure location.
			string_id message = new string_id (c_stringFile, "s_276");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_278");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch132 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: OK, mission number two is as follows. The entire Vortex organization is on the move, in anticipation of our attacks. There are several freighters in the area that are carrying Vortex personnel. They need to be escorted to a secure location.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see.
	if (response == "s_278")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the third mission. The Vortex has purchased a small number of Space Assault droids. These are experimental models; we are guarding them very carefully. I'd like you to experiment with them against the Inquisition's data-carrying vessels in Endor. They may be able to provide useful information.
			string_id message = new string_id (c_stringFile, "s_280");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Interesting.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_282");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 133);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch133 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Here's the third mission. The Vortex has purchased a small number of Space Assault droids. These are experimental models; we are guarding them very carefully. I'd like you to experiment with them against the Inquisition's data-carrying vessels in Endor. They may be able to provide useful information.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Interesting.
	if (response == "s_282")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: And finally, mission number four! Imperial raiders have disabled a large number of civilian transports in Dantooine. We think they are searching for a Jedi. The ships are immobilized, and Imperial capital ships are closing in. We need a pilot to get there first and repair those ships! Take your pick %NU.
			string_id message = new string_id (c_stringFile, "s_c2129c67");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'd like to provide an escort for those freighters.
			boolean hasResponse1 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Those space droids you mentioned sound interesting!
			boolean hasResponse2 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
			boolean hasResponse3 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Can I hear the briefing again?
			boolean hasResponse4 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1b9c5097");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e01d95b6");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df069f76");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2477938c");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 126);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And finally, mission number four! Imperial raiders have disabled a large number of civilian transports in Dantooine. We think they are searching for a Jedi. The ships are immobilized, and Imperial capital ships are closing in. We need a pilot to get there first and repair those ships! Take your pick %NU.

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
	if (response == "s_1b9c5097")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent! Show no mercy. Remember, you decide when you want to end these missions. When you feel that the blow to the Empire has been delivered or you need a break, just land.
			string_id message = new string_id (c_stringFile, "s_adc84c63");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'd like to provide an escort for those freighters.
	if (response == "s_e01d95b6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: You're clear to leave. Remember, you decide when you want to end these missions. When you feel exhausted and can't escort more freighters, we will send someone else to take over so just come back to base.
			string_id message = new string_id (c_stringFile, "s_c28b3318");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: Those space droids you mentioned sound interesting!
	if (response == "s_df069f76")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: They are. Good luck, %TU. Remember, you decide when you want to end these missions. When you feel that we have stolen enough Imperial ships for now, your ship has taken too much damage or something similar, just come back to the base.
			string_id message = new string_id (c_stringFile, "s_c9329734");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
	if (response == "s_2477938c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Let's hope so! Good luck, %TU. Remember, you decide when you want to end these missions. We have several of our personnel out there helping the drifters so when your exhausted or your ship is falling apart, just return to base.
			string_id message = new string_id (c_stringFile, "s_b83725b");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch135 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you again. I have some great news, and I cannot think of a better pilot for this to happen to. You are being transferred to the command of Admiral Willhem Burke. Told you it was great news.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who is Admiral Willham Burke?
	if (response == "s_a65d4a43")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Admiral Burke is in charge of the fourth battle fleet, operating in the Outer Rim. A very fine commander. I had the honor of meeting him a few times. An officer and gentleman in every sense of the words.
			string_id message = new string_id (c_stringFile, "s_839a8471");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What does he want with me?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86677c6b");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 136);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why is that great news?
	if (response == "s_fcbee9cd")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: It means that Admiral Burke has seen your service record and has chosen you personally. He obviously respects your skills to handle a very important mission for him. Either that or he considers you to be expendable.
			string_id message = new string_id (c_stringFile, "s_45ceb48b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What!
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e0907aab");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch136 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Admiral Burke is in charge of the fourth battle fleet, operating in the Outer Rim. A very fine commander. I had the honor of meeting him a few times. An officer and gentleman in every sense of the words.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does he want with me?
	if (response == "s_86677c6b")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am sure he has read the reports of your flying skills and has need of them with his operation group. You are to report to the Admiral immediately. He is waiting for you in Doaba Guerfel on Corellia. I am sure you won't let him down just like you didn't let me down.
			string_id message = new string_id (c_stringFile, "s_e1aa63d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready. Thank you, sir.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What if I don't want to go?
			boolean hasResponse1 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_df8d90f1");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_cb44839f");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 137);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch137 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am sure he has read the reports of your flying skills and has need of them with his operation group. You are to report to the Admiral immediately. He is waiting for you in Doaba Guerfel on Corellia. I am sure you won't let him down just like you didn't let me down.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready. Thank you, sir.
	if (response == "s_df8d90f1")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then get to your ship and get to the Admiral quickly. I am sure that whatever he has in store for you is very urgent and we cannot waste anymore time. Keep attentive and you are sure to learn something from Admiral Burke. Good luck to you.
			string_id message = new string_id (c_stringFile, "s_ce74555e");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What if I don't want to go?
	if (response == "s_cb44839f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: We are in the middle of a war for not only our freedom but for everyone's. We don't get to choose how we serve the Alliance. Now I know that we are not the Empire but you had better be aware that when it comes to traitors and deserters we will not hesitate to act harshly. Are we understood, pilot?
			string_id message = new string_id (c_stringFile, "s_96d9696a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8efde2ae");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 139);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch139 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We are in the middle of a war for not only our freedom but for everyone's. We don't get to choose how we serve the Alliance. Now I know that we are not the Empire but you had better be aware that when it comes to traitors and deserters we will not hesitate to act harshly. Are we understood, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_8efde2ae")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Now get to your ship and get to Corellia. The Admiral will be waiting for you and it does not reflect well on my outfit if you are late. Stay alert and you just might learn something from Admiral Burke. Good luck to you.
			string_id message = new string_id (c_stringFile, "s_c9014c96");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch141 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It means that Admiral Burke has seen your service record and has chosen you personally. He obviously respects your skills to handle a very important mission for him. Either that or he considers you to be expendable.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What!
	if (response == "s_e0907aab")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oh, nothing. Regardless of why, you are ordered to report to Admiral Burke in Doaba Guerfel on Corellia. He is expecting you shortly so you had better not keep him waiting. I am sure you have important work to do.
			string_id message = new string_id (c_stringFile, "s_de5265b4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You think I am expendable?
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e63887f");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 142);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch142 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh, nothing. Regardless of why, you are ordered to report to Admiral Burke in Doaba Guerfel on Corellia. He is expecting you shortly so you had better not keep him waiting. I am sure you have important work to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You think I am expendable?
	if (response == "s_e63887f")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: No I don't. I assure you I was only kidding around. Let's stay on topic. I recommend that you pay close attention to Admiral Burke, he is supposed to be pretty decent leader so you can probably learn something from him. Be mindful and do your duty without fail.
			string_id message = new string_id (c_stringFile, "s_20ace535");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_310");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 143);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch143 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No I don't. I assure you I was only kidding around. Let's stay on topic. I recommend that you pay close attention to Admiral Burke, he is supposed to be pretty decent leader so you can probably learn something from him. Be mindful and do your duty without fail.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_310")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had best get to your ship and report to Admiral Burke. Good luck to you, pilot.
			string_id message = new string_id (c_stringFile, "s_2808ade7");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int naboo_rebel_tier4_handleBranch145 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see you have survived your experience with Admiral Burke. Are you back looking for some work?

	//-- [RESPONSE NOTE] Destroy Duty
	//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
	if (response == "s_1b9c5097")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionOne (player, npc);

			//-- NPC: Excellent! Show no mercy. Remember, you decide when you want to end these missions. When you feel that the blow to the Empire has been delivered or you need a break, just land.
			string_id message = new string_id (c_stringFile, "s_adc84c63");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Escort Duty
	//-- PLAYER: I'd like to provide an escort for those freighters.
	if (response == "s_e01d95b6")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionTwo (player, npc);

			//-- NPC: You're clear to leave. Remember, you decide when you want to end these missions. When you feel exhausted and can't escort more freighters, we will send someone else to take over so just come back to base.
			string_id message = new string_id (c_stringFile, "s_c28b3318");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Recovery Duty
	//-- PLAYER: Those space droids you mentioned sound interesting!
	if (response == "s_df069f76")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionThree (player, npc);

			//-- NPC: They are. Good luck, %TU. Remember, you decide when you want to end these missions. When you feel that we have stolen enough Imperial ships for now, your ship has taken too much damage or something similar, just come back to the base.
			string_id message = new string_id (c_stringFile, "s_c9329734");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] Rescue Duty
	//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
	if (response == "s_2477938c")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			naboo_rebel_tier4_action_grantDutyMissionFour (player, npc);

			//-- NPC: Let's hope so! Good luck, %TU. Remember, you decide when you want to end these missions. We have several of our personnel out there helping the drifters so when your exhausted or your ship is falling apart, just return to base.
			string_id message = new string_id (c_stringFile, "s_b83725b");
			utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Can I hear the briefing again?
	if (response == "s_49805f81")
	{
		//-- [NOTE] 
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			//-- NPC: Here's the first mission. I want to soften the ground and let the Inquisition know that the Vortex means business. They have put several of their navy pilots on patrol duty. These aren't their elite fighters, so they're a good first target. I need a pilot to launch an attack against them. Maybe YOU are that pilot!
			string_id message = new string_id (c_stringFile, "s_272");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good.
			boolean hasResponse0 = false;
			if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_274");

				utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.naboo_rebel_tier4");

	setCondition (self, CONDITION_CONVERSABLE);
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_REBEL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setCondition( self, CONDITION_SPACE_INTERESTING );
	setInvulnerable(self, true);
	factions.setFaction( self, factions.FACTION_REBEL );

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );
	
	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.naboo_rebel_tier4");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!naboo_rebel_tier4_condition_isPilot (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		//-- NPC: Do I know you?
		string_id message = new string_id (c_stringFile, "s_3daae2ee");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I don't think so.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b3218dae");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4c695dbd");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 1);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're the wrong faction.
	if (naboo_rebel_tier4_condition_isWrongFaction (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		//-- NPC: Sorry, do I know you?
		string_id message = new string_id (c_stringFile, "s_9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I don't think so.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_11");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_15");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 4);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: What are you, %NU, some kind of double agent?
		string_id message = new string_id (c_stringFile, "s_2f2320af");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_457a7010");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 7);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "naboo_rebel_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_rebel_tier4_condition_onMyTrack (player, npc))
	{
		//-- NPC: You're a Rebel pilot? But you're not part of this unit. Are you lost?
		string_id message = new string_id (c_stringFile, "s_8cd97e8b");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No. Do you have a mission that I can fly?
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dab8fd8e");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 10);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're not through tier-3 yet
	if (!naboo_rebel_tier4_condition_hasCompletedTier3 (player, npc))
	{
		//-- NPC: Ezkiel is still in need of your services.
		string_id message = new string_id (c_stringFile, "s_243a81bd");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Ah yes.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: How did you know?
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_c2d98904");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_13f3baf7");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 13);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're busy.  Already doing a mission.  Hup hup, go do it.
	if (naboo_rebel_tier4_condition_isOnMission (player, npc))
	{
		//-- NPC: You've received your orders.
		string_id message = new string_id (c_stringFile, "s_e59caef0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, I know.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Yes sir.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d92f71f");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9b43a7ee");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 16);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 1, do it over.
	if (naboo_rebel_tier4_condition_faliedMissionOne (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		//-- NPC: Blast it! Don't you know how important this mission is?
		string_id message = new string_id (c_stringFile, "s_e8a5b38");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Don't worry. It'll get done.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I ran into a little trouble. It won't happen again.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47443361");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b9b677c2");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 19);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 2, do it over.
	if (naboo_rebel_tier4_condition_failedMissionTwo (player, npc))
	{
		doAnimationAction (npc, "hands_above_head");

		//-- NPC: Do you realize what will happen if the Inquisitor reaches his destination?
		string_id message = new string_id (c_stringFile, "s_4e4d6d23");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm fully aware of the situation, sir! 
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: That's not going to happen.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_25a79f70");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d4928d9c");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 22);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 3, do it over.
	if (naboo_rebel_tier4_condition_failedMissionThree (player, npc))
	{
		//-- NPC: You realize that if the Inquisition gets their hands on that spy...well, you just realize the situation, don't you?
		string_id message = new string_id (c_stringFile, "s_d9bfbc18");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course. I'll bring him in.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You've got nothing to worry about.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_23b92517");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_461e9b3f");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 25);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed mission 4, do it over.
	if (naboo_rebel_tier4_condition_failedMissionFour (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		//-- NPC: Do you mean to tell me that's the best you can do? 
		string_id message = new string_id (c_stringFile, "s_82450216");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Of course not!
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm not done yet.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_f5427310");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_28a543ae");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 28);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission one and so here is your reward.
	if (naboo_rebel_tier4_condition_isGettingMissionOneReward (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		naboo_rebel_tier4_action_rewardForMissionOne (player, npc);

		//-- NPC: Very nice, %TU! We are making inroads. The Inquisition is in for a surprise.
		string_id message = new string_id (c_stringFile, "s_4222dbd0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Let's hope they continue to underestimate us.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Absolutely.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6b169ba1");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d9cced1f");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 31);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "naboo_rebel_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission two and so here is your reward.
	if (naboo_rebel_tier4_condition_isGettingMissionTwoReward (player, npc))
	{
		doAnimationAction (npc, "salute1");

		naboo_rebel_tier4_action_rewardForMissionTwo (player, npc);

		//-- NPC: Duty pay, for my best pilot! 
		string_id message = new string_id (c_stringFile, "s_e282986e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Come on, Evin. Don't lay it on too thick. 
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Hey! SOMEBODY'S got to be the best.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_88099422");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a2454aa3");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 34);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission three and so here is your reward.
	if (naboo_rebel_tier4_condition_isGettingMissionThreeReward (player, npc))
	{
		naboo_rebel_tier4_action_rewardForMissionThree (player, npc);

		//-- NPC: Our secrets are safe for another day! 
		string_id message = new string_id (c_stringFile, "s_75a002d0");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sure - thanks to me.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I don't know if the situation is THAT serious.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6371b34a");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2c61b117");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 38);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have completed mission four and so here is your reward.
	if (naboo_rebel_tier4_condition_isGettingMissionFourReward (player, npc))
	{
		doAnimationAction (npc, "applause_excited");

		naboo_rebel_tier4_action_rewardForMissionFour (player, npc);

		//-- NPC: That was FANTASTIC! I just wish I could have seen the expression on those Imperial faces! 
		string_id message = new string_id (c_stringFile, "s_682985ff");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: The Inquisition won't be operating in this system anytime soon.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: They weren't smiling, I can promise you that.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2928468c");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_cbb055c6");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 41);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition_readyForMissionFour (player, npc))
	{
		doAnimationAction (npc, "salute1");

		//-- NPC: Incredible work out there! The spy is safe and sound - and so is his information. Soon, we'll have new Jedi walking among us! The entire Vortex organization is grateful for your help.
		string_id message = new string_id (c_stringFile, "s_4a858e06");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm glad I can be of use. 
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm always ready to fight the Empire.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5d4e24a2");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9f4dbe82");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 44);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition_readyForMissionThree (player, npc))
	{
		//-- NPC: Nice job on that last mission. That Inquisitor didn't know what hit him!
		string_id message = new string_id (c_stringFile, "s_fc2f8c4c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I had a good time watching his ship explode. 
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: My ship's running at peak capacity. I'm ready for another mission. 
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d17adb67");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_3b45e8ed");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 58);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition_readyForMissionTwo (player, npc))
	{
		doAnimationAction (npc, "beckon");

		//-- NPC: Good job out there. Our freighters are safe. And guess what? One of the Inquisitors has targeted our location!
		string_id message = new string_id (c_stringFile, "s_41e4adff");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You say that like it's a good thing.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Good! I'll destroy anybody who comes this way.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d3c79ae3");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_61dcb099");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 73);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition_readyForMissionOne (player, npc))
	{
		doAnimationAction (npc, "pound_fist_chest");

		//-- NPC: Well, we're doing our job, %NU. The Inquisition has definitely noticed us. And they're heading our way.
		string_id message = new string_id (c_stringFile, "s_4975777");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm surprised the Inquisition has waited until now to engage the Vortex.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: We're ready for them.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a399c876");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_426e2f6c");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 93);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "naboo_rebel_tier4", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're ready for a new skill, which would you like?
	if (naboo_rebel_tier4_condition_isReadyForTraining (player, npc))
	{
		//-- NPC: Congratulations! You've earned the right to acquire a new skill. The more skills you have, the more money you'll make.
		string_id message = new string_id (c_stringFile, "s_5dbf1a94");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What will it be today?
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_300");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 107);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_rebel_tier4_condition_hasMetMe (player, npc))
	{
		//-- NPC: Well, hey! There you are! Welcome, welcome. I was wondering if you were ever going to get here. I'm Extok Evin, head officer in charge of space warfare in this system.
		string_id message = new string_id (c_stringFile, "s_52ea3d5c");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Good to meet you.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4265144c");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 116);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You have not completed tier-4, so do one of these duty missions until you xp your way to a new skill.
	if (!naboo_rebel_tier4_condition_hasCompletedTier4 (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Here comes our pilot now! Are you ready to accept a duty mission? Or would you like to hear the briefing again?
		string_id message = new string_id (c_stringFile, "s_70814158");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'd like to provide an escort for those freighters.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Those space droids you mentioned sound interesting!
		boolean hasResponse2 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
		boolean hasResponse3 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Can I hear the briefing again?
		boolean hasResponse4 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1b9c5097");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e01d95b6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_df069f76");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2477938c");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 126);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!naboo_rebel_tier4_condition_hasMasterSkill (player, npc))
	{
		//-- NPC: Good to see you again. I have some great news, and I cannot think of a better pilot for this to happen to. You are being transferred to the command of Admiral Willhem Burke. Told you it was great news.
		string_id message = new string_id (c_stringFile, "s_75c90fe4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Who is Admiral Willham Burke?
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Why is that great news?
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a65d4a43");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_fcbee9cd");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 135);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
	{
		//-- NPC: I see you have survived your experience with Admiral Burke. Are you back looking for some work?
		string_id message = new string_id (c_stringFile, "s_fc615cb9");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No briefing necessary. I am ready to DESTROY those fighter patrols.
		boolean hasResponse0 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'd like to provide an escort for those freighters.
		boolean hasResponse1 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Those space droids you mentioned sound interesting!
		boolean hasResponse2 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: My ship's built for speed. I'm sure I can reach those transports in time.
		boolean hasResponse3 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Can I hear the briefing again?
		boolean hasResponse4 = false;
		if (naboo_rebel_tier4_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1b9c5097");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e01d95b6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_df069f76");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2477938c");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_49805f81");

			utils.setScriptVar (player, "conversation.naboo_rebel_tier4.branchId", 126);

			npcStartConversation (player, npc, "naboo_rebel_tier4", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "naboo_rebel_tier4")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

	if (branchId == 1 && naboo_rebel_tier4_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && naboo_rebel_tier4_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && naboo_rebel_tier4_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && naboo_rebel_tier4_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && naboo_rebel_tier4_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && naboo_rebel_tier4_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && naboo_rebel_tier4_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && naboo_rebel_tier4_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && naboo_rebel_tier4_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && naboo_rebel_tier4_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && naboo_rebel_tier4_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && naboo_rebel_tier4_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && naboo_rebel_tier4_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && naboo_rebel_tier4_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && naboo_rebel_tier4_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && naboo_rebel_tier4_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && naboo_rebel_tier4_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && naboo_rebel_tier4_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && naboo_rebel_tier4_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && naboo_rebel_tier4_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && naboo_rebel_tier4_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && naboo_rebel_tier4_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && naboo_rebel_tier4_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && naboo_rebel_tier4_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && naboo_rebel_tier4_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && naboo_rebel_tier4_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && naboo_rebel_tier4_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && naboo_rebel_tier4_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && naboo_rebel_tier4_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && naboo_rebel_tier4_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && naboo_rebel_tier4_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && naboo_rebel_tier4_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && naboo_rebel_tier4_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && naboo_rebel_tier4_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && naboo_rebel_tier4_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && naboo_rebel_tier4_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 65 && naboo_rebel_tier4_handleBranch65 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && naboo_rebel_tier4_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && naboo_rebel_tier4_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && naboo_rebel_tier4_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && naboo_rebel_tier4_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && naboo_rebel_tier4_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && naboo_rebel_tier4_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && naboo_rebel_tier4_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && naboo_rebel_tier4_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && naboo_rebel_tier4_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && naboo_rebel_tier4_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && naboo_rebel_tier4_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && naboo_rebel_tier4_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && naboo_rebel_tier4_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && naboo_rebel_tier4_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && naboo_rebel_tier4_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && naboo_rebel_tier4_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && naboo_rebel_tier4_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && naboo_rebel_tier4_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && naboo_rebel_tier4_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && naboo_rebel_tier4_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && naboo_rebel_tier4_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && naboo_rebel_tier4_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && naboo_rebel_tier4_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && naboo_rebel_tier4_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && naboo_rebel_tier4_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && naboo_rebel_tier4_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 96 && naboo_rebel_tier4_handleBranch96 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && naboo_rebel_tier4_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 98 && naboo_rebel_tier4_handleBranch98 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && naboo_rebel_tier4_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && naboo_rebel_tier4_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && naboo_rebel_tier4_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && naboo_rebel_tier4_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && naboo_rebel_tier4_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && naboo_rebel_tier4_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && naboo_rebel_tier4_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && naboo_rebel_tier4_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && naboo_rebel_tier4_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && naboo_rebel_tier4_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && naboo_rebel_tier4_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && naboo_rebel_tier4_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && naboo_rebel_tier4_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 118 && naboo_rebel_tier4_handleBranch118 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 119 && naboo_rebel_tier4_handleBranch119 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 120 && naboo_rebel_tier4_handleBranch120 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && naboo_rebel_tier4_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && naboo_rebel_tier4_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 123 && naboo_rebel_tier4_handleBranch123 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 124 && naboo_rebel_tier4_handleBranch124 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 125 && naboo_rebel_tier4_handleBranch125 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 126 && naboo_rebel_tier4_handleBranch126 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 131 && naboo_rebel_tier4_handleBranch131 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 132 && naboo_rebel_tier4_handleBranch132 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 133 && naboo_rebel_tier4_handleBranch133 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && naboo_rebel_tier4_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 135 && naboo_rebel_tier4_handleBranch135 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 136 && naboo_rebel_tier4_handleBranch136 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 137 && naboo_rebel_tier4_handleBranch137 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 139 && naboo_rebel_tier4_handleBranch139 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 141 && naboo_rebel_tier4_handleBranch141 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 142 && naboo_rebel_tier4_handleBranch142 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 143 && naboo_rebel_tier4_handleBranch143 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 145 && naboo_rebel_tier4_handleBranch145 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.naboo_rebel_tier4.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

