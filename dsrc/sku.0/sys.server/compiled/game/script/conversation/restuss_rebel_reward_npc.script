// ======================================================================
//
// restuss_rebel_reward_npc.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.groundquests;
include library.resource;
include library.restuss_event;
include library.static_item;
include library.trial;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/restuss_rebel_reward_npc";

// ======================================================================
// Script Conditions
// ======================================================================

boolean restuss_rebel_reward_npc_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_playerTrader (obj_id player, obj_id npc)
{
	return (utils.isProfession(player, utils.TRADER));
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_cost1000 (obj_id player, obj_id npc)
{
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return false;
		
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 1000 )
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_notPhase3 (obj_id player, obj_id npc)
{
	obj_id object = trial.getParent(npc);
	
	if (factions.isRebel(player)&& restuss_event.getRestussPhase(object) < 2)
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_cost800 (obj_id player, obj_id npc)
{
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return false;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 800 )
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_playerTrandoshan (obj_id player, obj_id npc)
{
	return (getSpecies(player) == SPECIES_TRANDOSHAN);
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_playerRebel (obj_id player, obj_id npc)
{
	if (factions.isRebel(player))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_cost500 (obj_id player, obj_id npc)
{
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return false;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_readyForBadge (obj_id player, obj_id npc)
{
	if (restuss_event.getWinningFaction(npc) > restuss_event.WINNER_NONE)
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_cost300 (obj_id player, obj_id npc)
{
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return false;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 300 )
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_cost50 (obj_id player, obj_id npc)
{
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return false;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 50 )
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_eligibleBadge (obj_id player, obj_id npc)
{
	return restuss_event.grantEventBadge(player);
}

// ----------------------------------------------------------------------

boolean restuss_rebel_reward_npc_condition_isImperialPlayer (obj_id player, obj_id npc)
{
	return factions.isImperial(player);
}

// ======================================================================
// Script Actions
// ======================================================================

void restuss_rebel_reward_npc_action_rewardCMFragStorm (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_rebel_heavy_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_rebel_heavy_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardTorso (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 1000 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 1000);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_chest_plate_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_chest_plate_04_01 from Restuss Rebel Reward NPC for 1000 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardLeggings (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 800 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 800);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_leggings_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_leggings_04_01 from Restuss Rebel Reward NPC for 800 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardCMReaper (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_rebel_rifle_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_rebel_rifle_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardCMDeadBolt (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_rebel_pistol_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_rebel_pistol_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}	
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardShoulders (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_bicep_l_04_01", pInv);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_bicep_r_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_bicep_l_04_01 and armor_mandalorian_rebel_bicep_r_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardNovaEdge (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_rebel_sword_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_rebel_sword_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardBracers (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_bracer_l_04_01", pInv);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_bracer_r_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_bracer_l_04_01 and armor_mandalorian_rebel_bracer_r_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardBoots (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_boots_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_boots_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardMPistol (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_mandalorian_pistol_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_mandalorian_pistol_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardGloves (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 300 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 300);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_gloves_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_gloves_04_01 from Restuss Rebel Reward NPC for 300 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardMRifle (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_mandalorian_rifle_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_mandalorian_rifle_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardMCarbine (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_mandalorian_carbine_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_mandalorian_carbine_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardBelt (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 300 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 300);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_belt_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_belt_04_01 from Restuss Rebel Reward NPC for 300 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardMHeavy (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_mandalorian_heavy_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_mandalorian_heavy_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardHelmet (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 800 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 800);
		static_item.createNewItemFunction ("armor_mandalorian_rebel_helmet_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a armor_mandalorian_rebel_helmet_04_01 from Restuss Rebel Reward NPC for 800 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardMSword (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 500 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 500);
		static_item.createNewItemFunction ("weapon_mandalorian_sword_04_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a weapon_mandalorian_sword_04_01 from Restuss Rebel Reward NPC for 500 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_rewardDyeKit (obj_id player, obj_id npc)
{
	obj_id pInv = utils.getInventoryContainer(player);
	
	obj_id[] rebelCommendations = utils.getAllStaticItemsInPlayerInventory(player, "item_restuss_rebel_commendation_02_01");
	if (rebelCommendations == null || rebelCommendations.length == 0)
		return;
	
	int rebelCommendation = utils.countOfStackedItemsInArray(rebelCommendations);
	
	if( rebelCommendation >= 50 )
	{
		static_item.decrementUnstackedStaticItemAmount (rebelCommendations, 50);
		static_item.createNewItemFunction ("item_restuss_schematic_dye_kit_01_01", pInv);
		CustomerServiceLog("RESTUSS_REWARDS", player + "purchased a item_restuss_schematic_dye_kit_01_01 from Restuss Rebel Reward NPC for 50 commendations");
	}
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_grantBadge (obj_id player, obj_id npc)
{
	restuss_event.grantEventBadge(player);
}

// ----------------------------------------------------------------------

void restuss_rebel_reward_npc_action_eject (obj_id player, obj_id npc)
{
	expelFromBuilding(player);
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int restuss_rebel_reward_npc_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good to see you, soldier! You here to turn in your commendations for a reward?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I sure am. What's available?
	if (response == "s_20")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Are you interested in weapons or armor?
			string_id message = new string_id (c_stringFile, "s_22");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not yet, still have some things that I have to do first.
	if (response == "s_202")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: I understand. Be careful out there, soldier!
			string_id message = new string_id (c_stringFile, "s_204");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am here for my badge.
	if (response == "s_206")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_eligibleBadge (player, npc))
		{
			restuss_rebel_reward_npc_action_grantBadge (player, npc);

			//-- NPC: Of course you are, soldier. You have served with honor and distinction. I am proud to present you with this badge for your duty to the Alliance.
			string_id message = new string_id (c_stringFile, "s_208");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: I am sorry, soldier, but you are not eligible for a badge.
			string_id message = new string_id (c_stringFile, "s_210");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you interested in weapons or armor?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, let me show you our list of available armor.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
	if (response == "s_354")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost1000 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Torso? The trade rate for it is 1000 commendations.
			string_id message = new string_id (c_stringFile, "s_356");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost1000 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_358");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_362");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_366");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
	if (response == "s_368")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Leggings? The trade rate for it is 800 commendations.
			string_id message = new string_id (c_stringFile, "s_370");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_372");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_376");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_380");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
	if (response == "s_382")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Helmet? The trade rate for it is 800 commendations.
			string_id message = new string_id (c_stringFile, "s_384");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_390");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_394");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
	if (response == "s_396")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Shoulders? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_398");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_400");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_404");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
	if (response == "s_410")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Bracers? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_412");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_414");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_418");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_422");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
	if (response == "s_424")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_playerTrandoshan (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Boots? I've been informed that a Trandoshan is unable to wear them.
			string_id message = new string_id (c_stringFile, "s_151");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Boots? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_426");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_428");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_432");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_436");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
	if (response == "s_438")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Gloves? The trade rate for it is 300 commendations.
			string_id message = new string_id (c_stringFile, "s_440");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_442");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_446");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_450");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
	if (response == "s_452")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader Mark II Belt? The trade rate for it is 300 commendations.
			string_id message = new string_id (c_stringFile, "s_454");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes Sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_456");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_460");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_464");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Torso? The trade rate for it is 1000 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_358")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost1000 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardTorso (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_360");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_177");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_362")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_364");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Leggings? The trade rate for it is 800 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_372")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardLeggings (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_374");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_178");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_376")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_378");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Helmet? The trade rate for it is 800 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_386")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost800 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardHelmet (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_388");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_179");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_390")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_392");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Shoulders? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_400")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardShoulders (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_402");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_180");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_404")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_406");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Bracers? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_414")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardBracers (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_416");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_181");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_418")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_420");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Boots? I've been informed that a Trandoshan is unable to wear them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_428")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardBoots (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_430");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_182");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_432")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_434");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Boots? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_428")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardBoots (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_430");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_182");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_432")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_434");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Gloves? The trade rate for it is 300 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_442")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardGloves (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_444");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_183");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_446")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_448");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader Mark II Belt? The trade rate for it is 300 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir.
	if (response == "s_456")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost300 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardBelt (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_458");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_184");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_460")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_462");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, let me show you our list of available weapons.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
	if (response == "s_467")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Caelli-Merced 'Frag Storm' Heavy Shotgun? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_478");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_480");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_484");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_154");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
	if (response == "s_469")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Caelli-Merced 'Reaper' Sniper Rifle? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_488");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_490");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_494");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
	if (response == "s_470")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Caelli-Merced 'Dead Bolt' Pistol? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_498");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_500");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_504");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_158");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
	if (response == "s_471")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the 'Nova Edge' sword? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_508");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_510");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_514");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_160");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
	if (response == "s_473")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader M-XII Pistol? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_518");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_520");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_524");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_162");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
	if (response == "s_474")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader M-XIV Rifle? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_528");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_530");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_534");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_164");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
	if (response == "s_475")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader M-XIII Carbine? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_538");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_540");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_544");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_166");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
	if (response == "s_476")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader M-XX Heavy Rifle? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_548");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_550");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_554");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 83);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_168");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
	if (response == "s_472")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader 'Templar' sword? The trade rate for it is 500 commendations.
			string_id message = new string_id (c_stringFile, "s_558");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_560");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_564");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 88);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: I'm afraid you don't have enough commendations, soldier.
			string_id message = new string_id (c_stringFile, "s_170");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Caelli-Merced 'Frag Storm' Heavy Shotgun? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_480")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardCMFragStorm (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_482");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_185");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_484")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_486");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Caelli-Merced 'Reaper' Sniper Rifle? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_490")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardCMReaper (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_492");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_186");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_494")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_496");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Caelli-Merced 'Dead Bolt' Pistol? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_500")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardCMDeadBolt (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_502");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_187");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_504")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_506");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the 'Nova Edge' sword? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_510")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardNovaEdge (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_512");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_188");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_514")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_516");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch67 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader M-XII Pistol? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_520")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardMPistol (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_522");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_189");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_524")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_526");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader M-XIV Rifle? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_530")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardMRifle (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_532");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_190");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_534")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_536");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader M-XIII Carbine? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_540")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardMCarbine (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_542");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_191");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_544")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_546");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader M-XX Heavy Rifle? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_550")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardMHeavy (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_552");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_192");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_554")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_556");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader 'Templar' sword? The trade rate for it is 500 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir.
	if (response == "s_560")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost500 (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			restuss_rebel_reward_npc_action_rewardMSword (player, npc);

			//-- NPC: Alright, soldier. I'm sure it will be invaluable in the war. I'm glad to have been of assistance and stay strong out there!
			string_id message = new string_id (c_stringFile, "s_562");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_193");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_564")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, anything else?
			string_id message = new string_id (c_stringFile, "s_566");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Armor.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Weapons.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Actually, do you have anything for a craftsman?
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition_playerTrader (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_350");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_351");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alright, anything else?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm afraid you don't have enough commendations, soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Armor.
	if (response == "s_350")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available armor.
			string_id message = new string_id (c_stringFile, "s_352");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Crusader Mark II Torso for 1000 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Crusader Mark II Leggings for 800 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Crusader Mark II Helmet for 800 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Crusader Mark II Shoulders for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader Mark II Bracers for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader Mark II Boots for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader Mark II Gloves for 300 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader Mark II Belt for 300 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_354");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_368");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_382");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_396");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_410");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_424");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_438");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_452");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Weapons.
	if (response == "s_351")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Alright, let me show you our list of available weapons.
			string_id message = new string_id (c_stringFile, "s_465");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Caelli-Merced 'Frag Storm' Heavy Shotgun for 500 Commendations.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Caelli-Merced 'Reaper' Sniper Rifle for 500 Commendations.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Caelli-Merced 'Dead Bolt' Pistol for 500 Commendations.
			boolean hasResponse2 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: The 'Nova Edge' sword for 500 Commendations.
			boolean hasResponse3 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Crusader M-XII Pistol for 500 Commendations.
			boolean hasResponse4 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Crusader M-XIV Rifle for 500 Commendations.
			boolean hasResponse5 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: Crusader M-XIII Carbine for 500 Commendations.
			boolean hasResponse6 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: Crusader M-XX Heavy Rifle for 500 Commendations.
			boolean hasResponse7 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: Crusader 'Templar' sword for 500 Commendations.
			boolean hasResponse8 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_467");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_470");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_471");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_474");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_475");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_476");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_472");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Actually, do you have anything for a craftsman?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.
			string_id message = new string_id (c_stringFile, "s_159");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll take it!
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I am not interested.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, we have a Crusader armor dye kit draft schematic. It will be yours for 50 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll take it!
	if (response == "s_163")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
		{
			//-- NPC: Are you sure you want the Crusader armor dye kit draft schematic? The trade rate for it is 50 commendations.
			string_id message = new string_id (c_stringFile, "s_167");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Definitely.
			boolean hasResponse0 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, I think I'll skip it.
			boolean hasResponse1 = false;
			if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_171");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_176");

				utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks. I am not interested.
	if (response == "s_198")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: Very well, good luck out there and be careful.
			string_id message = new string_id (c_stringFile, "s_200");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int restuss_rebel_reward_npc_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Are you sure you want the Crusader armor dye kit draft schematic? The trade rate for it is 50 commendations.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Definitely.
	if (response == "s_171")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition_cost50 (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			restuss_rebel_reward_npc_action_rewardDyeKit (player, npc);

			//-- NPC: Very well, soldier! Great work out there. We are all grateful.
			string_id message = new string_id (c_stringFile, "s_173");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			//-- NPC: You had those commendations just a minute ago. I only accept commendations that are in a neat and orderly stack in your inventory. Come back and talk to me when you are ready.
			string_id message = new string_id (c_stringFile, "s_194");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, I think I'll skip it.
	if (response == "s_176")
	{
		//-- [NOTE] 
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: Very well, good luck out there and be careful.
			string_id message = new string_id (c_stringFile, "s_196");
			utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.restuss_rebel_reward_npc");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.restuss_rebel_reward_npc");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (restuss_rebel_reward_npc_condition_isImperialPlayer (player, npc))
	{
		restuss_rebel_reward_npc_action_eject (player, npc);

		//-- NPC: The Empire can get their own equipment someplace else.
		string_id message = new string_id (c_stringFile, "s_213");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (restuss_rebel_reward_npc_condition_notPhase3 (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Greetings, soldier. I'm still waiting for the delivery of rewards that you can receive in trade for your commendations. While they are en route, make sure to hold on to the commendations you earn.
		string_id message = new string_id (c_stringFile, "s_149");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (restuss_rebel_reward_npc_condition_playerRebel (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute1");

		//-- NPC: Good to see you, soldier! You here to turn in your commendations for a reward?
		string_id message = new string_id (c_stringFile, "s_18");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I sure am. What's available?
		boolean hasResponse0 = false;
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Not yet, still have some things that I have to do first.
		boolean hasResponse1 = false;
		if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I am here for my badge.
		boolean hasResponse2 = false;
		if (restuss_rebel_reward_npc_condition_readyForBadge (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_20");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_202");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_206");

			utils.setScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId", 3);

			npcStartConversation (player, npc, "restuss_rebel_reward_npc", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (restuss_rebel_reward_npc_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "dismiss");

		//-- NPC: You should move along, friend. It's not safe here.
		string_id message = new string_id (c_stringFile, "s_212");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "restuss_rebel_reward_npc")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

	if (branchId == 3 && restuss_rebel_reward_npc_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && restuss_rebel_reward_npc_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && restuss_rebel_reward_npc_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && restuss_rebel_reward_npc_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && restuss_rebel_reward_npc_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && restuss_rebel_reward_npc_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && restuss_rebel_reward_npc_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && restuss_rebel_reward_npc_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && restuss_rebel_reward_npc_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && restuss_rebel_reward_npc_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && restuss_rebel_reward_npc_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && restuss_rebel_reward_npc_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && restuss_rebel_reward_npc_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && restuss_rebel_reward_npc_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && restuss_rebel_reward_npc_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && restuss_rebel_reward_npc_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && restuss_rebel_reward_npc_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && restuss_rebel_reward_npc_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && restuss_rebel_reward_npc_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && restuss_rebel_reward_npc_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && restuss_rebel_reward_npc_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && restuss_rebel_reward_npc_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && restuss_rebel_reward_npc_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && restuss_rebel_reward_npc_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && restuss_rebel_reward_npc_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && restuss_rebel_reward_npc_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && restuss_rebel_reward_npc_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && restuss_rebel_reward_npc_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && restuss_rebel_reward_npc_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && restuss_rebel_reward_npc_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && restuss_rebel_reward_npc_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && restuss_rebel_reward_npc_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && restuss_rebel_reward_npc_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && restuss_rebel_reward_npc_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && restuss_rebel_reward_npc_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && restuss_rebel_reward_npc_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && restuss_rebel_reward_npc_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && restuss_rebel_reward_npc_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && restuss_rebel_reward_npc_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && restuss_rebel_reward_npc_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 67 && restuss_rebel_reward_npc_handleBranch67 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && restuss_rebel_reward_npc_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && restuss_rebel_reward_npc_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && restuss_rebel_reward_npc_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && restuss_rebel_reward_npc_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && restuss_rebel_reward_npc_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && restuss_rebel_reward_npc_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && restuss_rebel_reward_npc_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && restuss_rebel_reward_npc_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && restuss_rebel_reward_npc_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && restuss_rebel_reward_npc_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && restuss_rebel_reward_npc_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && restuss_rebel_reward_npc_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && restuss_rebel_reward_npc_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && restuss_rebel_reward_npc_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && restuss_rebel_reward_npc_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && restuss_rebel_reward_npc_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && restuss_rebel_reward_npc_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.restuss_rebel_reward_npc.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

