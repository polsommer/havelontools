// ======================================================================
//
// tatooine_imperial_tier3.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.factions;
include library.skill;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/tatooine_imperial_tier3";

// ======================================================================
// Script Conditions
// ======================================================================

boolean tatooine_imperial_tier3_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_isCorrectFaction (obj_id player, obj_id npc)
{
	//if this is an Imperial trainer, make sure the player is an Imperial Pilot
	//if it is Rebel, then make sure the player is a rebel pilot, etc.
	//return FALSE if this NPC should NOT talk to this player!
	
	return ( hasSkill( player, "pilot_imperial_navy_novice" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_isReadyForTier3 (obj_id player, obj_id npc)
{
	if(space_flags.hasCompletedTierTwo(player) && space_quest.hasReceivedReward(player, "recovery", "imperial_ss_6"))
		return true;
	
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_isOnQuest (obj_id player, obj_id npc)
{
	return ( space_quest.hasQuest( player ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_failedQuestOne (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "escort", "tatooine_imperial_tier3_1" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "escort", "tatooine_imperial_tier3_1" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_failedQuestTwo (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "inspect", "tatooine_imperial_tier3_2" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "inspect", "tatooine_imperial_tier3_2" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_failedQuestThree (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "delivery", "tatooine_imperial_tier3_3" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "delivery", "tatooine_imperial_tier3_3" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_failedQuestFour (obj_id player, obj_id npc)
{
	if ( space_quest.hasFailedQuestRecursive( player, "assassinate", "tatooine_imperial_tier3_4" ) ||
		 space_quest.hasAbortedQuestRecursive( player, "assassinate", "tatooine_imperial_tier3_4" ) )
		 {
		 	return true;
		 }
	return false;
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasAllSkills (obj_id player, obj_id npc)
{
	return space_flags.hasCompletedTierThree(player);
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_onMyTrack (obj_id player, obj_id npc)
{
	return space_flags.isSpaceTrack(player, space_flags.IMPERIAL_TATOOINE);
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_collectingQuestOneReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "escort", "tatooine_imperial_tier3_1"))
		return false;//you haven't completed it, so you can't be here for the reward

	//for quest One, we say they have not been rewarded yet if they have no tier3 skills:
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") ||
         hasSkill( player, "pilot_imperial_navy_procedures_03") ||
		 hasSkill( player, "pilot_imperial_navy_weapons_03")  ||
		 hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		 {
		 	return false;//you have a skill so you must have already been rewarded
		 }
	return true;//you must be here for the reward
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_collectingQuestTwoReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "inspect", "tatooine_imperial_tier3_2"))
		return false;//haven't done it, so must not be here for the reward

	//we assume if you have two skills then you have already been rewarded for this quest
	int skillCount = 0;
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") )
		skillCount++;
		
	if ( hasSkill( player, "pilot_imperial_navy_procedures_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_weapons_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		skillCount++;
		
	if ( skillCount < 2 )
		return true;//return true because you have less than 2 skills, must not have been rewarded for this
	else
		return false;//you must have already been rewarded for this	
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_collectingQuestThreeReward (obj_id player, obj_id npc)
{
	if ( !space_quest.hasCompletedQuestRecursive( player, "delivery", "tatooine_imperial_tier3_3"))
		return false;
		
	//we assume if you have three skills then you have already been rewarded for this quest
	int skillCount = 0;
	if ( hasSkill( player, "pilot_imperial_navy_starships_03") )
		skillCount++;
		
	if ( hasSkill( player, "pilot_imperial_navy_procedures_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_weapons_03") )
		skillCount++;
	
	if ( hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		skillCount++;
		
	if ( skillCount < 3 )
		return true;//return true because you have less than 3 skills, must not have been rewarded for this
	else
		return false;//you must have already been rewarded for this	
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_collectingQuestFourReward (obj_id player, obj_id npc)
{
	//if the player has WON this quest, but has not been rewarded for it
	//then return TRUE so the NPC can grant the reward!
	if ( !space_quest.hasCompletedQuestRecursive( player, "assassinate", "tatooine_imperial_tier3_4"))
		return false;//haven't completed this yet, so must not be here for the reward
		
	//if you do NOT have ALL FOUR skills then you have NOT been rewarded for this quest
	if (!hasSkill( player, "pilot_imperial_navy_starships_03") )
		return true;//guess you need a reward
		
	if (!hasSkill( player, "pilot_imperial_navy_procedures_03") )
		return true;//guess you need a reward
	
	if (!hasSkill( player, "pilot_imperial_navy_weapons_03") )
		return true;//guess you need a reward
	
	if (!hasSkill( player, "pilot_imperial_navy_droid_03" ) )
		return true;//guess you need a reward
		
	return false;//you must have already been rewarded for this, because you have all the skills
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_isPilot (obj_id player, obj_id npc)
{
	return space_flags.hasAnyPilotSkill(player);
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasNegativeFaction (obj_id player, obj_id npc)
{
	return ( factions.getFactionStanding(player, factions.FACTION_IMPERIAL) < 0.0f );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasCompletedQuestOne (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return ( space_quest.hasCompletedQuestRecursive( player, "escort", "tatooine_imperial_tier3_1"));
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasCompletedQuestTwo (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return (space_quest.hasCompletedQuestRecursive( player, "inspect", "tatooine_imperial_tier3_2"));
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasCompletedQuestThree (obj_id player, obj_id npc)
{
	return ( space_quest.hasCompletedQuestRecursive( player, "delivery", "tatooine_imperial_tier3_3"));			
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasCompletedQuestFour (obj_id player, obj_id npc)
{
	//return FALSE if the player has not yet done this
	//quest, so the npc will assign it to the player
	return ( space_quest.hasCompletedQuestRecursive( player, "assassinate", "tatooine_imperial_tier3_4"));
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasStarship03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_starships_03" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasProcedure03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_procedures_03" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasWeapon03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_weapons_03" ) );
}

// ----------------------------------------------------------------------

boolean tatooine_imperial_tier3_condition_hasDroid03Skill (obj_id player, obj_id npc)
{
	return ( hasSkill( player, 	"pilot_imperial_navy_droid_03" ) );
}

// ======================================================================
// Script Actions
// ======================================================================

void tatooine_imperial_tier3_action_grantQuestOne (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort", "tatooine_imperial_tier3_1");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantQuestTwo (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "inspect", "tatooine_imperial_tier3_2");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantQuestThree (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "delivery", "tatooine_imperial_tier3_3");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantQuestFour (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "assassinate", "tatooine_imperial_tier3_4");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_rewardForQuestOne (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "escort", "tatooine_imperial_tier3_1") )
	{
		space_quest.giveReward( player, "escort", "tatooine_imperial_tier3_1", 25000, "object/tangible/ship/components/weapon_capacitor/cap_mission_reward_imperial_rendili_k_class.iff");
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_rewardForQuestTwo (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "inspect", "tatooine_imperial_tier3_2") )
	{
		space_quest.giveReward( player, "inspect", "tatooine_imperial_tier3_2", 25000, "object/tangible/ship/components/droid_interface/ddi_mission_reward_imperial_sfs_military_grade.iff");
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_rewardForQuestThree (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "delivery", "tatooine_imperial_tier3_3") )
	{
		space_quest.giveReward( player, "delivery", "tatooine_imperial_tier3_3", 25000, "object/tangible/ship/components/reactor/rct_mission_reward_imperial_sds_high_output.iff");
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_rewardForQuestFour (obj_id player, obj_id npc)
{
	if (!space_quest.hasReceivedReward( player, "assassinate", "tatooine_imperial_tier3_4") )
	{
		space_quest.giveReward( player, "assassinate", "tatooine_imperial_tier3_4", 25000, "object/tangible/ship/components/engine/eng_mission_reward_imperial_cygnus_megadrive.iff");
		factions.addFactionStanding( player, factions.FACTION_IMPERIAL, 100.0f );
	}
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantProceduresSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_procedures_03");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantDroidSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_droid_03" );
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantWeaponSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_weapons_03");
}

// ----------------------------------------------------------------------

void tatooine_imperial_tier3_action_grantStarshipSkill (obj_id player, obj_id npc)
{
	skill.noisyGrantSkill( player, "pilot_imperial_navy_starships_03");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int tatooine_imperial_tier3_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You're the wrong faction.
	//-- NPC: You are not here on Imperial business. Leave now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not a chance.
	if (response == "s_b40f340")
	{
		//-- [NOTE] anims - arch an eyebrow
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then I suggest you leave, before my men take you into custody.
			string_id message = new string_id (c_stringFile, "s_74df4");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No sir.
	if (response == "s_86137261")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_away");

			//-- NPC: Then move on.
			string_id message = new string_id (c_stringFile, "s_540bd108");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are under investigation for crimes against the Empire, %TU.  What is going on?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know what you're talking about
	if (response == "s_5814e23b")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: That is very unfortunate.  I need for you to get this situation resolved.  I cannot trust you with any more assignments so long as you are suspected of treason.
			string_id message = new string_id (c_stringFile, "s_78b0ecc0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Treason?!
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6efcdb6b");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is very unfortunate.  I need for you to get this situation resolved.  I cannot trust you with any more assignments so long as you are suspected of treason.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Treason?!
	if (response == "s_6efcdb6b")
	{
		doAnimationAction (player, "gesticulate_wildly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: I'm certain it is a mistake of some sort.  Nevertheless, my hands are tied.  You must improve your standing with the Empire - prove that you are devoted to crushing the Rebellion - and do it quickly!
			string_id message = new string_id (c_stringFile, "s_2ec9494f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Why quickly?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40dea799");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I'm certain it is a mistake of some sort.  Nevertheless, my hands are tied.  You must improve your standing with the Empire - prove that you are devoted to crushing the Rebellion - and do it quickly!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Why quickly?
	if (response == "s_40dea799")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Because we need you, %TU.  And others like you.  But only so long as we can trust you.  So go handle this situation.  Pilots of your skill are not exactly common, you know.
			string_id message = new string_id (c_stringFile, "s_cd3a54f7");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your time with me is through. I figured one of my superiors would have you transferred under his command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It has been a pleasure, sir.
	if (response == "s_2dc37e6c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The pleasure has been all mine. You are being transferred to Admiral Kilnstrider, head of Storm Squadron. He is personally taking over security of the Endor system. A base of operations has been set up on the research center on the moon of Endor.
			string_id message = new string_id (c_stringFile, "s_a5f19408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You have been removed as head of Endor security?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_936b8cfc");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's about time I was noticed.
	if (response == "s_4ec1bd6b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well you have been noticed by Admiral Kilnstrider, head of Storm Squadron. He is taking over security for the Endor system and has set up operations on the moon of Endor at the research center. Again, I highly advise that you do not be yourself with Admiral Kilnstrider. He has very little use for braggarts. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_7ea66fab");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As was foretold.
	if (response == "s_69f62a43")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I know. I was the one who foretold that you would be transferred. I cannot say that I am not happy to see you leave. Frankly, you worry me a little bit.
			string_id message = new string_id (c_stringFile, "s_a0aa65a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You cannot understand, so you fear.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25c39c01");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 154);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] fail quest two
	//-- NPC: Maybe YOU'RE the traitor.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You're wrong!
	if (response == "s_a22823c2")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			doAnimationAction (player, "salute1");

			tatooine_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: Prove it. Get back out there and do your job.
			string_id message = new string_id (c_stringFile, "s_fae9ce56");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [deny it]
	if (response == "s_51a40299")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			tatooine_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: Get back out there. Shut this situation down.
			string_id message = new string_id (c_stringFile, "s_f2bc2a81");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] fail quest three
	//-- NPC: I should never have accepted you into this unit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll go again - if it's not too late.
	if (response == "s_1ebe3b4f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			tatooine_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: It's not. Get back out there.
			string_id message = new string_id (c_stringFile, "s_24315068");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know what I'm doing.
	if (response == "s_dab3c286")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			doAnimationAction (player, "salute1");

			tatooine_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: Prove it to me. Get back out there.
			string_id message = new string_id (c_stringFile, "s_c0cba601");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] fail quest one
	//-- NPC: So.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I failed. It won't happen again.
	if (response == "s_78cd7b47")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Oh it won't. I see. Well I admire your confidence, but what is it based on?
			string_id message = new string_id (c_stringFile, "s_187c0a86");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Experience. I'm a great pilot.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll crush the Rebellion; whatever it takes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47021aad");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46977c75");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 21);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Send me back out there.
	if (response == "s_e094e94b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute2");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Don't fail this time.
			string_id message = new string_id (c_stringFile, "s_78d45540");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh it won't. I see. Well I admire your confidence, but what is it based on?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Experience. I'm a great pilot.
	if (response == "s_47021aad")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Strong words from a pilot who's done nothing but fail since he got here! 
			string_id message = new string_id (c_stringFile, "s_7c0ad410");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get them this time. I promise.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Get off my case.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3b0a14d7");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c4088008");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll crush the Rebellion; whatever it takes.
	if (response == "s_46977c75")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: The sooner this war is over, the sooner we can all go home. Get back out there.
			string_id message = new string_id (c_stringFile, "s_457d29c5");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Strong words from a pilot who's done nothing but fail since he got here! 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get them this time. I promise.
	if (response == "s_3b0a14d7")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute2");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Good luck, soldier. I think you will need it.
			string_id message = new string_id (c_stringFile, "s_6b9765c5");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Get off my case.
	if (response == "s_c4088008")
	{
		doAnimationAction (player, "threaten");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slit_throat");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: I'll explain this very simply. You are replaceable. The engineers are not. Get them, and bring them back - NOW.
			string_id message = new string_id (c_stringFile, "s_8323fc9a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest one, so here it is!
	//-- NPC: Good to see that you are back. We have a mess on our hands right now. Reports are coming in from all over the Endor system that Rebels have been spotted in almost every quadrant.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Let me at them! I will drive them off.
	if (response == "s_39a5745d")
	{
		doAnimationAction (player, "pound_fist_chest");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "standing_placate");

			//-- NPC: In good time. Right now we have to make sure that we get a good grasp on the situation. If we send pilots out without figuring out what the Rebels are up to we could be in serious trouble.
			string_id message = new string_id (c_stringFile, "s_5669d57a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: So we are not in trouble right now?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bb9e4a63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_32778372");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 28);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the plan?
	if (response == "s_9dbb5a9a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We are working on that. Right now what we have Intelligence focused on deciphering that data you recovered from the Rebel scout. Once we have that information we should have a better idea of how to proceed. While we are waiting for that we need you to get your skills up to speed.
			string_id message = new string_id (c_stringFile, "s_813c7eed");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch28 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: In good time. Right now we have to make sure that we get a good grasp on the situation. If we send pilots out without figuring out what the Rebels are up to we could be in serious trouble.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, sir.
	if (response == "s_bb9e4a63")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: We have Intelligence working on deciphering the data that you recovered from the scout as we speak. Once we have that information we should have a better grasp on the situation and be able to figure out how best to proceed. Until then we need you to get up to speed with your skills. I think you will be instrumental in the upcoming days.
			string_id message = new string_id (c_stringFile, "s_cb3f07d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So we are not in trouble right now?
	if (response == "s_32778372")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: I don't need any of your lip right now. We will have this situation under control shortly, you can count on that. Right now we have Intelligence deciphering that data you recovered from the Rebel scout and once we have that we will have a better understanding of how best to proceed. While we are waiting for that we need you to get your skills up to speed.
			string_id message = new string_id (c_stringFile, "s_c198d74c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We have Intelligence working on deciphering the data that you recovered from the scout as we speak. Once we have that information we should have a better grasp on the situation and be able to figure out how best to proceed. Until then we need you to get up to speed with your skills. I think you will be instrumental in the upcoming days.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I don't need any of your lip right now. We will have this situation under control shortly, you can count on that. Right now we have Intelligence deciphering that data you recovered from the Rebel scout and once we have that we will have a better understanding of how best to proceed. While we are waiting for that we need you to get your skills up to speed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We are working on that. Right now what we have Intelligence focused on deciphering that data you recovered from the Rebel scout. Once we have that information we should have a better idea of how to proceed. While we are waiting for that we need you to get your skills up to speed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest two, so here it is!
	//-- NPC: Welcome back. You have successfully managed to retrieve the information from the Rebel command vessel, as well as, save the 3rd TIE Wing from destruction. A very nice days work if I say so myself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was nothing. Just doing my job, sir.
	if (response == "s_2bdc8841")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Regardless, you have made Storm Squadron look very good to our superiors.
			string_id message = new string_id (c_stringFile, "s_162e1268");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did we find out from the Rebel information?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f733628f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course, I told you I was good.
	if (response == "s_dcbac482")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			//-- NPC: And you are proving yourself over and over again. The information you recovered from the Rebels is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled, we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to increase your already very accomplished talents.
			string_id message = new string_id (c_stringFile, "s_64617aad");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Those weak minded fools were hardly a challenge.
	if (response == "s_a3d2c25b")
	{
		doAnimationAction (player, "dismiss");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: The Rebellion might be foolish but they are hardly weak minded. The Empire has underestimated their abilities too often and has paid dearly for those mistakes. Storm Squadron will not make that same mistake. We will learn everything we can about our enemy and then defeat them using what we have learned.
			string_id message = new string_id (c_stringFile, "s_e99b920a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I do not fear the Rebellion.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6612078b");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Regardless, you have made Storm Squadron look very good to our superiors.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did we find out from the Rebel information?
	if (response == "s_f733628f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: That is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to get you better prepared for your next assignment.
			string_id message = new string_id (c_stringFile, "s_dc98dda7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch38 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to get you better prepared for your next assignment.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And you are proving yourself over and over again. The information you recovered from the Rebels is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled, we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to increase your already very accomplished talents.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Rebellion might be foolish but they are hardly weak minded. The Empire has underestimated their abilities too often and has paid dearly for those mistakes. Storm Squadron will not make that same mistake. We will learn everything we can about our enemy and then defeat them using what we have learned.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do not fear the Rebellion.
	if (response == "s_6612078b")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Neither do I. But I have respect for their abilities. The information you recovered from the Rebels is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to increase your lethal talents.
			string_id message = new string_id (c_stringFile, "s_a3f5c141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch41 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Neither do I. But I have respect for their abilities. The information you recovered from the Rebels is still being examined by Intelligence. We should have more answers soon. Once we have all of it compiled we will be sending you out again. Hopefully with more direction this time around. Until then let us see what we can do to increase your lethal talents.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest three, so here it is!
	//-- NPC: Perfect! The Rebels fell right into our trap. We are monitoring the movements of the Rebel command vessel. I am fairly certain that they know we set a trap for them, but I do not think they understand to what purpose.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Excellent plan, sir. It went off without any trouble.
	if (response == "s_7eeba249")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Good. We are beginning our planning for what to do next. Once we are ready then you will be called on again. But before that you need to work on some of your techniques.
			string_id message = new string_id (c_stringFile, "s_1d7c7ed2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I wouldn't say perfect. But fortunately I was able to compensate.
	if (response == "s_b3f090c6")
	{
		doAnimationAction (player, "yawn");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then it is fortunate we have such a 'talented' pilot in Storm Squadron. Perhaps you would care to plan the next mission?
			string_id message = new string_id (c_stringFile, "s_fb75707f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No, I think you are doing fine.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c33ed1f7");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 44);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was guided to victory by a greater power.
	if (response == "s_609b8560")
	{
		doAnimationAction (player, "pound_fist_chest");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "cuckoo");

			//-- NPC: Please do not tell me that you are hearing voices. I cannot afford to take you off of active duty right now.We are in the process of planning our next step and you will be vital to the success of our plans.
			string_id message = new string_id (c_stringFile, "s_9104408b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I can hear him talking to...
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dfb20007");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 46);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. We are beginning our planning for what to do next. Once we are ready then you will be called on again. But before that you need to work on some of your techniques.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then it is fortunate we have such a 'talented' pilot in Storm Squadron. Perhaps you would care to plan the next mission?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I think you are doing fine.
	if (response == "s_c33ed1f7")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Well, we are in the process of planning our next step now. Once we have it worked out you will be called on again to perform the next mission. Even a 'great' pilot, such as yourself, has a thing or two to learn.
			string_id message = new string_id (c_stringFile, "s_612db735");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch45 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, we are in the process of planning our next step now. Once we have it worked out you will be called on again to perform the next mission. Even a 'great' pilot, such as yourself, has a thing or two to learn.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please do not tell me that you are hearing voices. I cannot afford to take you off of active duty right now.We are in the process of planning our next step and you will be vital to the success of our plans.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can hear him talking to...
	if (response == "s_dfb20007")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: I told you that I don't want you to tell me! Once we have worked out the details we will contact you again to fly our next mission. Until then let us see if you cannot wrap your mind around some training. Hopefully that will help cool your zeal.
			string_id message = new string_id (c_stringFile, "s_41ecd1f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I told you that I don't want you to tell me! Once we have worked out the details we will contact you again to fly our next mission. Until then let us see if you cannot wrap your mind around some training. Hopefully that will help cool your zeal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You are here to collect your reward for quest four, so here it is!
	//-- NPC: Well done, %NU. Not only did you manage to drive the Rebel force back into hiding from the Endor system, you also managed to uncover all the information that was leaked to them by the traitor. We will be able to quickly change our plans for the system based off of that information and neutralize any advantage the Rebels might have had.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am proud to have been of assistance, sir.
	if (response == "s_51f13870")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: You have been far more than an assistance, you have been instrumental. I have made sure to note your contributions in my reports and you have garnished more than a fair share of attention. I fear that you will not be under my command for very much longer.
			string_id message = new string_id (c_stringFile, "s_a7d9a14d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I do not fight for glory, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5de22b37");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That was nothing. You should have seen me in the battle of...
	if (response == "s_44bf27d7")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stop");

			//-- NPC: I am sure you were simply amazing in that battle. Of course, you will be happy to know that I listed your accomplishments in my reports to my superiors. They were rather impressed by your prowess. I wouldn't be surprised if you were promoted over this.
			string_id message = new string_id (c_stringFile, "s_aa3bdfaa");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If anyone deserves it...I do!
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1d6ab832");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 51);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What I did, I did for the glory of the Empire.
	if (response == "s_6196f26f")
	{
		doAnimationAction (player, "standing_raise_fist");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Regardless of why you did it, you have gained some measure of fame over your actions against the Rebellion. My superiors were quite impressed when I explained your value to the operation. I wouldn't be surprised if one of them took over your command.
			string_id message = new string_id (c_stringFile, "s_299e29d5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If that is in my fate.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6da8109");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have been far more than an assistance, you have been instrumental. I have made sure to note your contributions in my reports and you have garnished more than a fair share of attention. I fear that you will not be under my command for very much longer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do not fight for glory, sir.
	if (response == "s_5de22b37")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I know that. But you have gained some measure of fame regardless. It has not been made official but I believe you will be transferred soon. If that is the case we must be sure that you are up to snuff.
			string_id message = new string_id (c_stringFile, "s_df0f8037");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know that. But you have gained some measure of fame regardless. It has not been made official but I believe you will be transferred soon. If that is the case we must be sure that you are up to snuff.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch51 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am sure you were simply amazing in that battle. Of course, you will be happy to know that I listed your accomplishments in my reports to my superiors. They were rather impressed by your prowess. I wouldn't be surprised if you were promoted over this.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If anyone deserves it...I do!
	if (response == "s_1d6ab832")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_disgust");

			//-- NPC: If the time comes and you are promoted, I would highly suggest curbing your ego a bit. Most officers above me are not as tolerant as I am. But if you are promoted we cannot have any of them being unimpressed by your skill.
			string_id message = new string_id (c_stringFile, "s_d837376f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch52 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If the time comes and you are promoted, I would highly suggest curbing your ego a bit. Most officers above me are not as tolerant as I am. But if you are promoted we cannot have any of them being unimpressed by your skill.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Regardless of why you did it, you have gained some measure of fame over your actions against the Rebellion. My superiors were quite impressed when I explained your value to the operation. I wouldn't be surprised if one of them took over your command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If that is in my fate.
	if (response == "s_6da8109")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I wouldn't be surprised if it is. But in order to better serve the Empire you must have training.
			string_id message = new string_id (c_stringFile, "s_30651d99");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: In what shall I be trained?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_327");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I wouldn't be surprised if it is. But in order to better serve the Empire you must have training.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In what shall I be trained?
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasStarship03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantStarshipSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced capability TIE vessels. When you're done, you'll be ready for a new mission.
			string_id message = new string_id (c_stringFile, "s_328");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasWeapon03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantWeaponSkill (player, npc);

			//-- NPC: We shall begin your training in the use of advanced starship components. Afterwards, report to me when you're ready for the next step.
			string_id message = new string_id (c_stringFile, "s_329");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (!tatooine_imperial_tier3_condition_hasProcedure03Skill (player, npc))
		{
			tatooine_imperial_tier3_action_grantProceduresSkill (player, npc);

			//-- NPC: We shall begin your training in the use of special forces tactics. And later, report to me for your next mission.
			string_id message = new string_id (c_stringFile, "s_330");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantDroidSkill (player, npc);

			//-- NPC: We shall begin your training in system balance programming. Report back to me as soon as possible. The Empire needs all hands on deck.
			string_id message = new string_id (c_stringFile, "s_331");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] would be good if the commander was holding a clipboard with your data on it, looks at it (instead of you)
	//-- NPC: Field Commander Alozen tells me that you're ready to serve under my command. We will see, won't we?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm ready to blast holes in as many Rebel ships as I can.
	if (response == "s_6e86b00")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: You'll get your chance. The Rebel faction remains active across a number of systems. Of course, we will only be dealing with security in one system.
			string_id message = new string_id (c_stringFile, "s_ac951104");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: They're idiots.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: In this system?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d3fb9e20");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71375f7a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 56);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You have yourself the best pilot in the fleet.
	if (response == "s_9ae62db")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] I don't tolerate insubordination here. 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_162");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I don't have an ego. I am the best!
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_164");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c5320bec");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, SIR!
	if (response == "s_47edbf24")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I think that you and I are going to get along just splendidly. From what I understand you have the makings of a very fine pilot, %NU.
			string_id message = new string_id (c_stringFile, "s_4ca34e11");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is Storm Squadron's next assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 88);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You'll get your chance. The Rebel faction remains active across a number of systems. Of course, we will only be dealing with security in one system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: They're idiots.
	if (response == "s_d3fb9e20")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: They're dreamers. They fail to recognize the futility of their cause. So many wasted lives all in the name of so called freedom. What they fail to understand that even if they win they will just be under someone else's control. There is no such thing as true freedom.
			string_id message = new string_id (c_stringFile, "s_e83e03f6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's Storm Squadron's assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That sounded sort of traitorous?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_996c6fd3");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68b52625");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 57);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: In this system?
	if (response == "s_71375f7a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: No, Storm Squadron is moving out of the Yavin system. We have been reassigned to security detail for a top secret project taking place inside the Endor system. For the time being we will still be operating command from here on Yavin 4 until the move is completed.
			string_id message = new string_id (c_stringFile, "s_aad92c11");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad5060b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b16490f1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c118c966");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: They're dreamers. They fail to recognize the futility of their cause. So many wasted lives all in the name of so called freedom. What they fail to understand that even if they win they will just be under someone else's control. There is no such thing as true freedom.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's Storm Squadron's assignment?
	if (response == "s_996c6fd3")
	{
		//-- [NOTE] Several imperial engineers are en route to this location. They've got important work to do here.
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_8ff025a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad5060b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b16490f1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c118c966");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That sounded sort of traitorous?
	if (response == "s_68b52625")
	{
		doAnimationAction (player, "point_accusingly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "standing_placate");

			//-- NPC: Not at all. I have made my choice and I am completely loyal to the Emperor. Only he can bring about order from the chaos that the Old Republic left us with. In these times you need to have a strong, capable leader and there is no one I would rather follow than the Emperor. But I am a realist and completely understand that to gain peace one must sacrifice some personal freedoms.
			string_id message = new string_id (c_stringFile, "s_7728672b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't think that peace can only be brought about by loss of freedom.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That is exactly how I feel.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_13380a80");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1c4ab1df");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch58 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] Several imperial engineers are en route to this location. They've got important work to do here.
	//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
	if (response == "s_ad5060b2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_5e3cc3ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e374b3bf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd4be05c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_b16490f1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_c118c966")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will remember that, sir.
	if (response == "s_e374b3bf")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Good! It would be a shame for me to have to discipline someone who has just entered my command. So pilot, are you ready to take your first assignment or do you need a little time?
			string_id message = new string_id (c_stringFile, "s_ff74cc15");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready for my assignment.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Nope, I can't say that I am ready yet.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_789def9d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8df560dd");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 60);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is my first assignment?
	if (response == "s_dd4be05c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.
			string_id message = new string_id (c_stringFile, "s_8d0d7812");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Keeping a lid on entire system will be no easy task.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does sealed to the throne mean?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9fbaa975");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31e494df");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch60 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good! It would be a shame for me to have to discipline someone who has just entered my command. So pilot, are you ready to take your first assignment or do you need a little time?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready for my assignment.
	if (response == "s_789def9d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.
			string_id message = new string_id (c_stringFile, "s_8d0d7812");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Keeping a lid on entire system will be no easy task.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does sealed to the throne mean?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9fbaa975");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31e494df");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nope, I can't say that I am ready yet.
	if (response == "s_8df560dd")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: To bad! In this outfit you will work on my schedule not your own. I only asked to be polite, I honestly didn't expect you to say no. Let us try this again. Pilot are you ready for your first assignment?
			string_id message = new string_id (c_stringFile, "s_2e0a96f8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, sir! Ready and willing, sir!
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2e4db1a8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 61);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch61 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: To bad! In this outfit you will work on my schedule not your own. I only asked to be polite, I honestly didn't expect you to say no. Let us try this again. Pilot are you ready for your first assignment?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir! Ready and willing, sir!
	if (response == "s_2e4db1a8")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Much better! As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.
			string_id message = new string_id (c_stringFile, "s_b4880204");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Keeping a lid on entire system will be no easy task.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does sealed to the throne mean?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9fbaa975");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31e494df");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch62 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Much better! As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Keeping a lid on entire system will be no easy task.
	if (response == "s_9fbaa975")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: I couldn't agree more. But that is why the Emperor asked for Storm Squadron. We are the best military outfit in the whole of the Navy. Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_9011f51");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does sealed to the throne mean?
	if (response == "s_31e494df")
	{
		doAnimationAction (player, "listen");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sealed to the throne basically means that all project information about Endor is on a need to know basis. Usually only a few top personnel even know entirely what is happening when something is sealed to the throne. Everyone is told only enough to do their jobs. Of course that doesn't mean we cannot speculate, just be sure to keep your speculation to yourself.
			string_id message = new string_id (c_stringFile, "s_ec6eda2a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. About my assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: So they could be making another...
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad622e6d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7e276839");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Keeping a lid on entire system will be no easy task.
	if (response == "s_9fbaa975")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: I couldn't agree more. But that is why the Emperor asked for Storm Squadron. We are the best military outfit in the whole of the Navy. Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_9011f51");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What does sealed to the throne mean?
	if (response == "s_31e494df")
	{
		doAnimationAction (player, "listen");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Sealed to the throne basically means that all project information about Endor is on a need to know basis. Usually only a few top personnel even know entirely what is happening when something is sealed to the throne. Everyone is told only enough to do their jobs. Of course that doesn't mean we cannot speculate, just be sure to keep your speculation to yourself.
			string_id message = new string_id (c_stringFile, "s_ec6eda2a");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I see. About my assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: So they could be making another...
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad622e6d");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7e276839");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 68);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I couldn't agree more. But that is why the Emperor asked for Storm Squadron. We are the best military outfit in the whole of the Navy. Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So a simple, escort. I thought this was going to be hard.
	if (response == "s_c7db2e97")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			doAnimationAction (player, "salute1");

			//-- NPC: Let's hope that this stays a simple escort. This project is of utmost importance to the Empire. Any disruption could jeopardize the entire operation. You will make sure that those engineers arrive in Endor just as safely as they left here. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_c183fa1a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me, sir! They will arrive safely.
	if (response == "s_e82e2f2d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: That is what I wanted to hear. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_52345d7c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
	if (response == "s_c17e8fe8")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "salute1");

			//-- NPC: Hopefully we most certainly will not attract any attention! You will not go out of your way to find any sort of action. Those engineers will arrive in Endor safely, you WILL be sure of that. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ef77d77a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch68 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Sealed to the throne basically means that all project information about Endor is on a need to know basis. Usually only a few top personnel even know entirely what is happening when something is sealed to the throne. Everyone is told only enough to do their jobs. Of course that doesn't mean we cannot speculate, just be sure to keep your speculation to yourself.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I see. About my assignment?
	if (response == "s_ad622e6d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_5c298649");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they could be making another...
	if (response == "s_7e276839")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stop");

			doAnimationAction (player, "taken_aback");

			//-- NPC: STOP RIGHT THERE! I told you to keep any speculation you might have to yourself and I will not tolerate otherwise.
			string_id message = new string_id (c_stringFile, "s_88d2aba6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry, sir. Now about my assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c84be049");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch69 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So a simple, escort. I thought this was going to be hard.
	if (response == "s_c7db2e97")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			doAnimationAction (player, "salute1");

			//-- NPC: Let's hope that this stays a simple escort. This project is of utmost importance to the Empire. Any disruption could jeopardize the entire operation. You will make sure that those engineers arrive in Endor just as safely as they left here. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_c183fa1a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me, sir! They will arrive safely.
	if (response == "s_e82e2f2d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: That is what I wanted to hear. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_52345d7c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
	if (response == "s_c17e8fe8")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "salute1");

			//-- NPC: Hopefully we most certainly will not attract any attention! You will not go out of your way to find any sort of action. Those engineers will arrive in Endor safely, you WILL be sure of that. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ef77d77a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: STOP RIGHT THERE! I told you to keep any speculation you might have to yourself and I will not tolerate otherwise.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, sir. Now about my assignment?
	if (response == "s_c84be049")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_129");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch71 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So a simple, escort. I thought this was going to be hard.
	if (response == "s_c7db2e97")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			doAnimationAction (player, "salute1");

			//-- NPC: Let's hope that this stays a simple escort. This project is of utmost importance to the Empire. Any disruption could jeopardize the entire operation. You will make sure that those engineers arrive in Endor just as safely as they left here. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_c183fa1a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me, sir! They will arrive safely.
	if (response == "s_e82e2f2d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: That is what I wanted to hear. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_52345d7c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
	if (response == "s_c17e8fe8")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "salute1");

			//-- NPC: Hopefully we most certainly will not attract any attention! You will not go out of your way to find any sort of action. Those engineers will arrive in Endor safely, you WILL be sure of that. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ef77d77a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch72 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How can we provide security without knowing what we are protecting?
	if (response == "s_b3001b77")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: We know exactly what we are protecting. We are protecting the personnel and vessels involved in a top secret project. That means we keep them safe and keep others out. Fairly simple, wouldn't you say?
			string_id message = new string_id (c_stringFile, "s_b8fba9bb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't know if I would say...
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Understood, sir. What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9dedc264");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_386b16a5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 73);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch73 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We know exactly what we are protecting. We are protecting the personnel and vessels involved in a top secret project. That means we keep them safe and keep others out. Fairly simple, wouldn't you say?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't know if I would say...
	if (response == "s_9dedc264")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "stop");

			//-- NPC: That was a question that didn't need a response. I can see that I am going to have to keep a close watch on your activities. You are supposed to be a fine pilot so I would highly suggest that you keep your focus on that.
			string_id message = new string_id (c_stringFile, "s_9511fbeb");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very well, what is my assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84b912c3");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood, sir. What is my first assignment?
	if (response == "s_386b16a5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_141");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That was a question that didn't need a response. I can see that I am going to have to keep a close watch on your activities. You are supposed to be a fine pilot so I would highly suggest that you keep your focus on that.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very well, what is my assignment?
	if (response == "s_84b912c3")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			tatooine_imperial_tier3_action_grantQuestOne (player, npc);

			//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.
			string_id message = new string_id (c_stringFile, "s_138");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So a simple, escort. I thought this was going to be hard.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: You can count on me, sir! They will arrive safely.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c7db2e97");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e82e2f2d");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c17e8fe8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 64);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch75 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So a simple, escort. I thought this was going to be hard.
	if (response == "s_c7db2e97")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			doAnimationAction (player, "salute1");

			//-- NPC: Let's hope that this stays a simple escort. This project is of utmost importance to the Empire. Any disruption could jeopardize the entire operation. You will make sure that those engineers arrive in Endor just as safely as they left here. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_c183fa1a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me, sir! They will arrive safely.
	if (response == "s_e82e2f2d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: That is what I wanted to hear. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_52345d7c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
	if (response == "s_c17e8fe8")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "salute1");

			//-- NPC: Hopefully we most certainly will not attract any attention! You will not go out of your way to find any sort of action. Those engineers will arrive in Endor safely, you WILL be sure of that. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ef77d77a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch76 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your first assignment will be the protection of engineers being transferred from the Yavin salvage operation. You are to meet their shuttle in the Endor system and escort them safely through the area until they reach system headquarters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So a simple, escort. I thought this was going to be hard.
	if (response == "s_c7db2e97")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			doAnimationAction (player, "salute1");

			//-- NPC: Let's hope that this stays a simple escort. This project is of utmost importance to the Empire. Any disruption could jeopardize the entire operation. You will make sure that those engineers arrive in Endor just as safely as they left here. Dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_c183fa1a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on me, sir! They will arrive safely.
	if (response == "s_e82e2f2d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute1");

			doAnimationAction (player, "salute1");

			//-- NPC: That is what I wanted to hear. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_52345d7c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hopefully they will attract some attention.The practice would be nice.
	if (response == "s_c17e8fe8")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dismiss");

			doAnimationAction (player, "salute1");

			//-- NPC: Hopefully we most certainly will not attract any attention! You will not go out of your way to find any sort of action. Those engineers will arrive in Endor safely, you WILL be sure of that. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_ef77d77a");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch77 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Direct me and I shall succeed.
	if (response == "s_e8e85347")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: As I said before we will be running security detail in the Endor system for a project that has been sealed to the throne. To my understanding there will be numerous engineers, supply freighters, and command vessels will need protection from any interference. On top of that the entire system must be kept under quarantine to avoid any word of the project from reaching the outside.
			string_id message = new string_id (c_stringFile, "s_8d0d7812");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Keeping a lid on entire system will be no easy task.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What does sealed to the throne mean?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9fbaa975");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_31e494df");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 63);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not at all. I have made my choice and I am completely loyal to the Emperor. Only he can bring about order from the chaos that the Old Republic left us with. In these times you need to have a strong, capable leader and there is no one I would rather follow than the Emperor. But I am a realist and completely understand that to gain peace one must sacrifice some personal freedoms.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't think that peace can only be brought about by loss of freedom.
	if (response == "s_13380a80")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Absolute freedom breeds discontent and anarchy. If everyone is allowed to do their own thing then there will be growth for society as a whole. And there can be no peace as long as the galaxy is splintered into many different factions. Only the Empire can unify all those different factions and bring about ultimate peace. In order for us to do that we must be strong. Storm Squadron is part of that unifying strength.
			string_id message = new string_id (c_stringFile, "s_d55771c4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is Storm Squadron's next assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38a75f0");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That is exactly how I feel.
	if (response == "s_1c4ab1df")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_forward");

			//-- NPC: You wouldn't be here if you felt otherwise. The Empire will unify the galaxy and bring about an era of unprecedented peace. Storm Squadron's current assignment might play an important role in the realization of that goal.
			string_id message = new string_id (c_stringFile, "s_8ace66c8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is Storm Squadron's next assignment?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_155");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 81);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Absolute freedom breeds discontent and anarchy. If everyone is allowed to do their own thing then there will be growth for society as a whole. And there can be no peace as long as the galaxy is splintered into many different factions. Only the Empire can unify all those different factions and bring about ultimate peace. In order for us to do that we must be strong. Storm Squadron is part of that unifying strength.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is Storm Squadron's next assignment?
	if (response == "s_38a75f0")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_151");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad5060b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b16490f1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c118c966");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
	if (response == "s_ad5060b2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_5e3cc3ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e374b3bf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd4be05c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_b16490f1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_c118c966")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch81 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You wouldn't be here if you felt otherwise. The Empire will unify the galaxy and bring about an era of unprecedented peace. Storm Squadron's current assignment might play an important role in the realization of that goal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is Storm Squadron's next assignment?
	if (response == "s_155")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_157");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad5060b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b16490f1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c118c966");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch82 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
	if (response == "s_ad5060b2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_5e3cc3ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e374b3bf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd4be05c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_b16490f1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_c118c966")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch83 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, Storm Squadron is moving out of the Yavin system. We have been reassigned to security detail for a top secret project taking place inside the Endor system. For the time being we will still be operating command from here on Yavin 4 until the move is completed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
	if (response == "s_ad5060b2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_5e3cc3ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e374b3bf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd4be05c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_b16490f1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_c118c966")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] I don't tolerate insubordination here. 
	//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will remember that, sir.
	if (response == "s_164")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Then we will not have to worry about any sort of disciplinary action. For the time being Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_666d4e98");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_167");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_169");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 85);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't have an ego. I am the best!
	if (response == "s_c5320bec")
	{
		doAnimationAction (player, "snap_finger1");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I have heard that from more than a few young pilots who have walked through my door. Most of those pilots only live in my memory now. I sincerely hope that the same fate does not await you.
			string_id message = new string_id (c_stringFile, "s_d2ef774");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You can count on it, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_efdebeb8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 86);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch85 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Then we will not have to worry about any sort of disciplinary action. For the time being Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_167")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_169")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch86 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I have heard that from more than a few young pilots who have walked through my door. Most of those pilots only live in my memory now. I sincerely hope that the same fate does not await you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You can count on it, sir.
	if (response == "s_efdebeb8")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well, we shall see now won't we? Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_b6b37d2c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's hand.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_175");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c27dc8c9");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 87);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch87 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well, we shall see now won't we? Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_175")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's hand.
	if (response == "s_c27dc8c9")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch88 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I think that you and I are going to get along just splendidly. From what I understand you have the makings of a very fine pilot, %NU.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is Storm Squadron's next assignment?
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Direct and to the point, I like it. Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.
			string_id message = new string_id (c_stringFile, "s_c8fb2a47");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Secret project? Sounds interesting.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I am honored to serve under the Emperor's Hand.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad5060b2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b16490f1");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c118c966");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 58);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch89 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Direct and to the point, I like it. Storm Squadron has been personally chosen by the Emperor to head security for a most important and secret project in the Endor system. We are beginning our move out of the Yavin system but have not yet set up a base of operations in Endor. Command will still be stationed on Yavin 4 for the time being.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Doesn't matter where I am located. I rule space no matter the system.
	if (response == "s_ad5060b2")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Alozen did mention to me that you had a slight ego, but he also said you at least had the skills to back up you mouth. If this is true you can brag all you want. I find that pilots who express themselves fair far better on the battlefield. Although, I will not tolerate any rudeness towards me, this outfit, or the Empire.
			string_id message = new string_id (c_stringFile, "s_5e3cc3ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will remember that, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is my first assignment?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e374b3bf");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_dd4be05c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Secret project? Sounds interesting.
	if (response == "s_b16490f1")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_finger_warning");

			//-- NPC: Please, keep your curiosity to yourself. This project has been sealed to the throne, any violation of that order will result in immediate execution. We are simply in the Endor system to provide security for the engineers, cargo freighters, and command personnel. We are NOT there to ask questions.
			string_id message = new string_id (c_stringFile, "s_d09291f7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: How can we provide security without knowing what we are protecting?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_b3001b77");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 72);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am honored to serve under the Emperor's Hand.
	if (response == "s_c118c966")
	{
		doAnimationAction (player, "pose_proudly");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good! Then we will not have any problems understanding one another. Our mission is highly important and the Emperor has placed his faith in us. We will not fail.
			string_id message = new string_id (c_stringFile, "s_7679bb3b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Direct me and I shall succeed.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e8e85347");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 77);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch90 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] assign quest two
	//-- NPC: Nice, timing. I was just about to send for you. We have work to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready, sir.
	if (response == "s_9a760bb5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.
			string_id message = new string_id (c_stringFile, "s_2800345f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did they find out?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39538c2a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 91);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And you need your best pilot.
	if (response == "s_5332f155")
	{
		doAnimationAction (player, "point_to_self");

		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, but he's out on a mission. You'll have to do.
			string_id message = new string_id (c_stringFile, "s_558af4fe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Hey, wait a minute!
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmmm...well what is it you want for me to do?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36111dde");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_953ef4f4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 103);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just tell me who to kill.
	if (response == "s_b9c26cb1")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Pilot! Get you emotions under control. I cannot afford to hand this operation over to someone with a personnel vendetta. I want pilots, not rampaging psychopaths. Is that clear?
			string_id message = new string_id (c_stringFile, "s_c9189ff3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Clear enough.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Don't worry. I can keep a cool head when needed.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_826b239");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2642ebb3");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 112);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch91 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did they find out?
	if (response == "s_39538c2a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_4ac29222");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch92 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are not yet aware of what the Empire is doing?
	if (response == "s_bf67c417")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.
			string_id message = new string_id (c_stringFile, "s_524d9247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44bd3318");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How would they have managed to get that information?
	if (response == "s_e956329d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.
			string_id message = new string_id (c_stringFile, "s_abcfd5a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How much more do the Rebels know?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37f05ce8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aba6ae5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch93 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you need me to do?
	if (response == "s_44bd3318")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: We have placed out a number of barrier satellites around the Endor system. They are designed to track the movements of any vessels that move to close to them. They have recorded a few Rebel fighters moving and fortunately for us another of the Rebel scouts.
			string_id message = new string_id (c_stringFile, "s_ad08e741");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it you want me to inspect that scout as well?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will destroy that scout with extremely prejudice.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fb7fd32");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33061c38");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch94 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We have placed out a number of barrier satellites around the Endor system. They are designed to track the movements of any vessels that move to close to them. They have recorded a few Rebel fighters moving and fortunately for us another of the Rebel scouts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it you want me to inspect that scout as well?
	if (response == "s_fb7fd32")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Naturally. That scout probably contains another piece of the puzzle. If we can gather enough information on the Rebel operation then we will be able to plug this leak. Unfortunately, the Rebel will always know about the Imperial project in the Endor system but we can stop them from finding out what it is.
			string_id message = new string_id (c_stringFile, "s_f51fd3ee");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I am ready, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_194");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 95);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will destroy that scout with extremely prejudice.
	if (response == "s_33061c38")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: How would we learn anything about the Rebel plans if you go around destroying our best leads? I don't what the scout destroyed! I want you to capture and inspect it for any new information that it might be carrying. Is that understood, pilot?
			string_id message = new string_id (c_stringFile, "s_6802fe45");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood! I will not let you down.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a835651f");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 97);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch95 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Naturally. That scout probably contains another piece of the puzzle. If we can gather enough information on the Rebel operation then we will be able to plug this leak. Unfortunately, the Rebel will always know about the Imperial project in the Endor system but we can stop them from finding out what it is.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready, sir.
	if (response == "s_194")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: We will update you to the location of the new Rebel scout as soon as you are in the Endor system. Remember a lot is riding on your success. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_afe7ad77");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch97 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: How would we learn anything about the Rebel plans if you go around destroying our best leads? I don't what the scout destroyed! I want you to capture and inspect it for any new information that it might be carrying. Is that understood, pilot?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood! I will not let you down.
	if (response == "s_a835651f")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestTwo (player, npc);

			//-- NPC: Be sure that you don't. We will update you to the location of the new Rebel scout as soon as you are in the Endor system. Remember a lot is riding on your success. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_421f0679");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch99 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
	if (response == "s_37f05ce8")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: We are going to continue our job in trying to lock down the Endor system. The other matter has been turned over the Inquisition. If anyone can sniff out a traitor it will be them.
			string_id message = new string_id (c_stringFile, "s_20d40c9b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5bd69df6");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 100);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How much more do the Rebels know?
	if (response == "s_6aba6ae5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's hard to tell. Since they were trying to capture engineers for interrogation I think it is safe to assume that they are not yet aware of the nature of the Endor project. If I had to guess the traitor is either working on this project or a related project but does not have significant enough clearance to have the whole story.
			string_id message = new string_id (c_stringFile, "s_730d9c3d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So are we going to try to find out who the traitor is?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2e8fad6a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch100 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We are going to continue our job in trying to lock down the Endor system. The other matter has been turned over the Inquisition. If anyone can sniff out a traitor it will be them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you need me to do?
	if (response == "s_5bd69df6")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: We have placed out a number of barrier satellites around the Endor system. They are designed to track the movements of any vessels that move to close to them. They have recorded a few Rebel fighters moving and fortunately for us another of the Rebel scouts.
			string_id message = new string_id (c_stringFile, "s_ad08e741");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it you want me to inspect that scout as well?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will destroy that scout with extremely prejudice.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fb7fd32");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33061c38");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch101 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's hard to tell. Since they were trying to capture engineers for interrogation I think it is safe to assume that they are not yet aware of the nature of the Endor project. If I had to guess the traitor is either working on this project or a related project but does not have significant enough clearance to have the whole story.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So are we going to try to find out who the traitor is?
	if (response == "s_2e8fad6a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, we are going to continue our job and try to lock down the Endor system. We have to make sure that the Rebels are unable to find the answers that they are looking for. The matter of the traitor has been turned over to the Inquisition. If anyone can find the traitor, they can.
			string_id message = new string_id (c_stringFile, "s_4b2d23bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_210");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 102);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch102 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No, we are going to continue our job and try to lock down the Endor system. We have to make sure that the Rebels are unable to find the answers that they are looking for. The matter of the traitor has been turned over to the Inquisition. If anyone can find the traitor, they can.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you need me to do?
	if (response == "s_210")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: We have placed out a number of barrier satellites around the Endor system. They are designed to track the movements of any vessels that move to close to them. They have recorded a few Rebel fighters moving and fortunately for us another of the Rebel scouts.
			string_id message = new string_id (c_stringFile, "s_ad08e741");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it you want me to inspect that scout as well?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I will destroy that scout with extremely prejudice.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_fb7fd32");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_33061c38");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 94);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch103 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, but he's out on a mission. You'll have to do.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hey, wait a minute!
	if (response == "s_36111dde")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Do you have a problem with my assessment of your skills? I would suggest that you try harder and maybe they will change. Regardless, we still have a job to do,
			string_id message = new string_id (c_stringFile, "s_934958df");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And what would that job be?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6acf2f90");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 104);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmmm...well what is it you want for me to do?
	if (response == "s_953ef4f4")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.
			string_id message = new string_id (c_stringFile, "s_232");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What did they find out?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_234");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 111);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch104 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Do you have a problem with my assessment of your skills? I would suggest that you try harder and maybe they will change. Regardless, we still have a job to do,

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And what would that job be?
	if (response == "s_6acf2f90")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.
			string_id message = new string_id (c_stringFile, "s_217");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What was in that report?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Ah, yes. That was my finest hour.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c8f732dc");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60c284ea");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 105);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch105 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What was in that report?
	if (response == "s_c8f732dc")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_220");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ah, yes. That was my finest hour.
	if (response == "s_60c284ea")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes...yes. You did very well in capturing that Rebel scout. Now that I have stroked your obviously fragile ego, may I continue with my briefing?
			string_id message = new string_id (c_stringFile, "s_9a5c94ec");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Uhh, yes of course.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: My ego isn't fragile. I know I am the best!
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d20bfc57");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ad784b0a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 107);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch106 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are not yet aware of what the Empire is doing?
	if (response == "s_bf67c417")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.
			string_id message = new string_id (c_stringFile, "s_524d9247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44bd3318");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How would they have managed to get that information?
	if (response == "s_e956329d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.
			string_id message = new string_id (c_stringFile, "s_abcfd5a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How much more do the Rebels know?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37f05ce8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aba6ae5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch107 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes...yes. You did very well in capturing that Rebel scout. Now that I have stroked your obviously fragile ego, may I continue with my briefing?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Uhh, yes of course.
	if (response == "s_d20bfc57")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Good. Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_6b6b3e96");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: My ego isn't fragile. I know I am the best!
	if (response == "s_ad784b0a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course you are. Like I said before, if you continue to successfully perform your duty then I have no problem with your distorted vision of your self worth. But we really need to get back to matters at hand.
			string_id message = new string_id (c_stringFile, "s_1bc2db0c");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Of course we do.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_202ff29c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 109);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch108 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good. Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are not yet aware of what the Empire is doing?
	if (response == "s_bf67c417")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.
			string_id message = new string_id (c_stringFile, "s_524d9247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44bd3318");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How would they have managed to get that information?
	if (response == "s_e956329d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.
			string_id message = new string_id (c_stringFile, "s_abcfd5a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How much more do the Rebels know?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37f05ce8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aba6ae5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch109 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course you are. Like I said before, if you continue to successfully perform your duty then I have no problem with your distorted vision of your self worth. But we really need to get back to matters at hand.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Of course we do.
	if (response == "s_202ff29c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_229");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch110 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are not yet aware of what the Empire is doing?
	if (response == "s_bf67c417")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.
			string_id message = new string_id (c_stringFile, "s_524d9247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44bd3318");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How would they have managed to get that information?
	if (response == "s_e956329d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.
			string_id message = new string_id (c_stringFile, "s_abcfd5a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How much more do the Rebels know?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37f05ce8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aba6ae5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch111 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What did they find out?
	if (response == "s_234")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_4ac29222");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch112 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Pilot! Get you emotions under control. I cannot afford to hand this operation over to someone with a personnel vendetta. I want pilots, not rampaging psychopaths. Is that clear?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Clear enough.
	if (response == "s_826b239")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hmm. Well any ways, Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.
			string_id message = new string_id (c_stringFile, "s_71d95d29");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So what did the brains at Intel find out?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3898a3b8");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 113);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Don't worry. I can keep a cool head when needed.
	if (response == "s_2642ebb3")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: That is what I wanted to hear. Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.
			string_id message = new string_id (c_stringFile, "s_b89e6b42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And what did they uncover?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1d653cbd");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 117);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch113 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm. Well any ways, Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So what did the brains at Intel find out?
	if (response == "s_3898a3b8")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The AGENTS in Intelligence discovered that the Rebellion has managed to get their hands on some very confidential information. They had flight schedules, routes, and defense plans from all over the system. It would seem that the Rebels were supposed to capture some of the engineers in order to find out more about the Imperial operations in the Endor system.
			string_id message = new string_id (c_stringFile, "s_d0ca9684");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: And how would the Rebels have gotten that information?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: So, it is safe to assume they don't know exactly what the operation is.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e2ebe5ea");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_ef128cbc");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 114);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch114 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The AGENTS in Intelligence discovered that the Rebellion has managed to get their hands on some very confidential information. They had flight schedules, routes, and defense plans from all over the system. It would seem that the Rebels were supposed to capture some of the engineers in order to find out more about the Imperial operations in the Endor system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And how would the Rebels have gotten that information?
	if (response == "s_e2ebe5ea")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: It's hard to tell. Since they were trying to capture engineers for interrogation I think it is safe to assume that they are not yet aware of the nature of the Endor project. If I had to guess the traitor is either working on this project or a related project but does not have significant enough clearance to have the whole story.
			string_id message = new string_id (c_stringFile, "s_243");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So are we going to try to find out who the traitor is?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_2e8fad6a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 101);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So, it is safe to assume they don't know exactly what the operation is.
	if (response == "s_ef128cbc")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: It is not safe to assume any such thing, but all signs do point towards that conclusion. 
			string_id message = new string_id (c_stringFile, "s_44f098fe");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch115 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's hard to tell. Since they were trying to capture engineers for interrogation I think it is safe to assume that they are not yet aware of the nature of the Endor project. If I had to guess the traitor is either working on this project or a related project but does not have significant enough clearance to have the whole story.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So are we going to try to find out who the traitor is?
	if (response == "s_2e8fad6a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: No, we are going to continue our job and try to lock down the Endor system. We have to make sure that the Rebels are unable to find the answers that they are looking for. The matter of the traitor has been turned over to the Inquisition. If anyone can find the traitor, they can.
			string_id message = new string_id (c_stringFile, "s_4b2d23bc");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_210");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 102);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch116 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is not safe to assume any such thing, but all signs do point towards that conclusion. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So they are not yet aware of what the Empire is doing?
	if (response == "s_bf67c417")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not yet. But if we don't put a lid on this it is very likely that they will shortly. We need to find out more about what the Rebels are planning. That is where you come in.
			string_id message = new string_id (c_stringFile, "s_524d9247");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you need me to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44bd3318");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 93);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: How would they have managed to get that information?
	if (response == "s_e956329d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: There is only one way that the Rebels could have gotten the information that they did have...a member of the Empire leaked it to them. A since they were aware of the flight times and routes of the vessels they attacked that can only mean that whoever leaked this information was a commanding officer.
			string_id message = new string_id (c_stringFile, "s_abcfd5a5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An Imperial officer has turned traitor! What are we going to do?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How much more do the Rebels know?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37f05ce8");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_6aba6ae5");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 99);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch117 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That is what I wanted to hear. Intelligence has finished decrypting the data that you recovered from that Rebel scout. The data only included the operational status of a few of the Rebels in the area but it was enough to give us an idea of what the Rebels are doing in this area.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: And what did they uncover?
	if (response == "s_1d653cbd")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Somehow the Rebels have gotten word of what is going on here. We don't believe that they have the complete story, but they are aware that the Empire is working on a top secret project in the Endor system. They also are aware that engineers working on the Yavin salvage operation are being transferred to the Endor system. It would seem they were trying to capture a few of them in order to discover the exact nature of the project.
			string_id message = new string_id (c_stringFile, "s_4ac29222");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So they are not yet aware of what the Empire is doing?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: How would they have managed to get that information?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_bf67c417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_e956329d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 92);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch118 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] assign quest three
	//-- NPC: %NU, I am glad to see you are back. We have completed our evaluation of the reports you took off of the Rebel command vessel. Based off of what we have found, I believe I have devised a way to bring the Rebel menace out into the open.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to crush the Rebels, sir.
	if (response == "s_4c927c36")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: If my plan works then you will have your opportunity. From the reports you recovered we discovered that the Rebels were given access to our security frequency. They have been listening in on our chatter and have been using what they heard from us to help plan their attacks.
			string_id message = new string_id (c_stringFile, "s_381d2195");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The traitor again?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: We should change our frequencies.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_5c4d8358");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_853fa46c");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 119);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I am ready to add another notch to my belt.
	if (response == "s_d19e7587")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I see that you are eager to get underway. But perhaps it would be best if you allowed me to explain what we are going to try to accomplish before flying off.
			string_id message = new string_id (c_stringFile, "s_c4b21396");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sure. That might be useful.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_c01151b0");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 131);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It is the Emperor's will that I defeat his foes.
	if (response == "s_e634eb73")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: If you say so. But I would ask that you try to keep your zeal for killing the Emperor's enemies to a minimum and focus on the mission I am about to give to you. There will be plenty of enemy smiting on it, I assure you.
			string_id message = new string_id (c_stringFile, "s_93e9d03b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Then you must explain this mission to me.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a49e0a76");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 134);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch119 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If my plan works then you will have your opportunity. From the reports you recovered we discovered that the Rebels were given access to our security frequency. They have been listening in on our chatter and have been using what they heard from us to help plan their attacks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The traitor again?
	if (response == "s_5c4d8358")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course. Although this is not all bad now that we know about the leak. My plan involves using this leak in order to draw the Rebels out.
			string_id message = new string_id (c_stringFile, "s_60f183ae");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the plan, sir?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a950fa1d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: We should change our frequencies.
	if (response == "s_853fa46c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Not quite yet. We are going to use our knowledge that the Rebels have tapped into our secure lines against them.
			string_id message = new string_id (c_stringFile, "s_d8c02b03");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the plan, sir?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_275");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 130);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch120 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course. Although this is not all bad now that we know about the leak. My plan involves using this leak in order to draw the Rebels out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the plan, sir?
	if (response == "s_a950fa1d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we will need to inform Endor about our intentions. Because the Rebels are listening into our communications we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.
			string_id message = new string_id (c_stringFile, "s_be28f7e0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I take it the documents will be fakes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a6e73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3c1eecb4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch121 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First, we will need to inform Endor about our intentions. Because the Rebels are listening into our communications we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
	if (response == "s_926a6e73")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The documents will be fake. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look real to them by killing enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.
			string_id message = new string_id (c_stringFile, "s_d6bf6113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh, of course I knew that.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7077d0f3");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it the documents will be fakes.
	if (response == "s_3c1eecb4")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Exactly. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look very real to them and kill enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.
			string_id message = new string_id (c_stringFile, "s_abdbf980");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What information will those documents contain?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eacf6042");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch122 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The documents will be fake. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look real to them by killing enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh, of course I knew that.
	if (response == "s_7077d0f3")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Of course you did. The documents will have coordinates to a supposed command station. If all goes well the Rebels will take the bait and attack in force. They will not find any station at that location but they will find you. You are to keep the fighters occupied while we scan the surrounding area for the Rebel command.
			string_id message = new string_id (c_stringFile, "s_c3fac79d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If we find it, should it be destroyed?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60893b02");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 123);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch123 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Of course you did. The documents will have coordinates to a supposed command station. If all goes well the Rebels will take the bait and attack in force. They will not find any station at that location but they will find you. You are to keep the fighters occupied while we scan the surrounding area for the Rebel command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If we find it, should it be destroyed?
	if (response == "s_60893b02")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. We still do not know everything that the traitor has given to the Rebellion. Without that information the Rebels could simply send in another command ship and we would be right back to where we are now. But we will keep track of the vessel until we can decide how best to proceed.
			string_id message = new string_id (c_stringFile, "s_f0d5d662");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood. I am ready to begin, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This shouldn't be too hard.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Emperor will guide me true.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d25510d5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8195ae89");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d4402e2e");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch124 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No. We still do not know everything that the traitor has given to the Rebellion. Without that information the Rebels could simply send in another command ship and we would be right back to where we are now. But we will keep track of the vessel until we can decide how best to proceed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Understood. I am ready to begin, sir.
	if (response == "s_d25510d5")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: Excellent. We are sending the plans on Lambda shuttle to the Endor system. Meet up with the shuttle and transfer them to your craft. Then drop them off at Endor control. Once that is done the real operation can begin. Good luck to you, %NU.
			string_id message = new string_id (c_stringFile, "s_1b1b59fd");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This shouldn't be too hard.
	if (response == "s_8195ae89")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: I am sure if you perform the mission half as well as you think you will, it will go smoothly. We are sending the plans on Lambda shuttle to the Endor system. Meet up with the shuttle and transfer them to your craft. Then drop them off at Endor control. Once that is done the real operation can begin. Good luck to you, %NU.
			string_id message = new string_id (c_stringFile, "s_4d64efd2");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Emperor will guide me true.
	if (response == "s_d4402e2e")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestThree (player, npc);

			//-- NPC: Go forth, execute the Emperor's plan, and smite his enemies. We are sending the plans on Lambda shuttle to the Endor system. Meet up with the shuttle and transfer them to your craft. Then drop them off at Endor control. Once that is done the real operation can begin. Good luck to you, %NU.
			string_id message = new string_id (c_stringFile, "s_f1ae24d9");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch128 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Exactly. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look very real to them and kill enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What information will those documents contain?
	if (response == "s_eacf6042")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The documents will have coordinates to a supposed command station. If all goes well the Rebels will take the bait and attack in force. They will not find any station at that location but they will find you. You are to keep the fighters occupied while we scan the surrounding area for the Rebel command.
			string_id message = new string_id (c_stringFile, "s_20350ba5");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: If we find it, should it be destroyed?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60893b02");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 123);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch129 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The documents will have coordinates to a supposed command station. If all goes well the Rebels will take the bait and attack in force. They will not find any station at that location but they will find you. You are to keep the fighters occupied while we scan the surrounding area for the Rebel command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: If we find it, should it be destroyed?
	if (response == "s_60893b02")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: No. We still do not know everything that the traitor has given to the Rebellion. Without that information the Rebels could simply send in another command ship and we would be right back to where we are now. But we will keep track of the vessel until we can decide how best to proceed.
			string_id message = new string_id (c_stringFile, "s_f0d5d662");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Understood. I am ready to begin, sir.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This shouldn't be too hard.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The Emperor will guide me true.
			boolean hasResponse2 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d25510d5");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_8195ae89");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d4402e2e");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 124);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch130 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Not quite yet. We are going to use our knowledge that the Rebels have tapped into our secure lines against them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the plan, sir?
	if (response == "s_275")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we will need to inform Endor about our intentions. Because the Rebels are listening into our communications we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.
			string_id message = new string_id (c_stringFile, "s_be28f7e0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I take it the documents will be fakes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a6e73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3c1eecb4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch131 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see that you are eager to get underway. But perhaps it would be best if you allowed me to explain what we are going to try to accomplish before flying off.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sure. That might be useful.
	if (response == "s_c01151b0")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: From the reports you recovered we discovered that the Rebels were given access to our security frequency. They have been listening in on our chatter and have been using what they heard from us to help plan their attacks.
			string_id message = new string_id (c_stringFile, "s_1efa28ce");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Very crafty of them.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_f9d2ed90");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 132);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch132 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: From the reports you recovered we discovered that the Rebels were given access to our security frequency. They have been listening in on our chatter and have been using what they heard from us to help plan their attacks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Very crafty of them.
	if (response == "s_f9d2ed90")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Indeed. But now that we know they have access to our communications, we have the advantage. My plan involves using this leak in order to draw the Rebels out.
			string_id message = new string_id (c_stringFile, "s_c23c0889");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the plan, sir?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a950fa1d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch133 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Indeed. But now that we know they have access to our communications, we have the advantage. My plan involves using this leak in order to draw the Rebels out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the plan, sir?
	if (response == "s_a950fa1d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we will need to inform Endor about our intentions. Because the Rebels are listening into our communications we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.
			string_id message = new string_id (c_stringFile, "s_be28f7e0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I take it the documents will be fakes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a6e73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3c1eecb4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch134 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: If you say so. But I would ask that you try to keep your zeal for killing the Emperor's enemies to a minimum and focus on the mission I am about to give to you. There will be plenty of enemy smiting on it, I assure you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Then you must explain this mission to me.
	if (response == "s_a49e0a76")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Intelligence has discovered from the reports you captured that the Rebels have been using our communications to help plan their attacks. The traitor apparently gave them our frequencies and access codes.
			string_id message = new string_id (c_stringFile, "s_52651592");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Send me after the traitor. I will destroy him.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Rebellion will pay for that.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_4296221e");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_637a3419");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 135);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch135 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Intelligence has discovered from the reports you captured that the Rebels have been using our communications to help plan their attacks. The traitor apparently gave them our frequencies and access codes.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Send me after the traitor. I will destroy him.
	if (response == "s_4296221e")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am sure the Inquisition appreciates your faith in their abilities. They will handle the matter of the traitor. Your concern should be on Storm Squadron business. The Emperor wants to here to help protect his interests.
			string_id message = new string_id (c_stringFile, "s_a8daab7");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes. The Emperor needs me here.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_9b266fb");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 136);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Rebellion will pay for that.
	if (response == "s_637a3419")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: All in good time. Although this is not all bad now that we know about the leak. My plan involves using this leak in order to draw the Rebels out.
			string_id message = new string_id (c_stringFile, "s_3c3702e6");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is the plan, sir?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a950fa1d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 120);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch136 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I am sure the Inquisition appreciates your faith in their abilities. They will handle the matter of the traitor. Your concern should be on Storm Squadron business. The Emperor wants to here to help protect his interests.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes. The Emperor needs me here.
	if (response == "s_9b266fb")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes he does. And this is what he wants you to do. First, you need to inform Endor about our intentions. Because the Rebels are listening into our transmissions we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.
			string_id message = new string_id (c_stringFile, "s_31d67ce2");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I take it the documents will be fakes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a6e73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3c1eecb4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch137 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes he does. And this is what he wants you to do. First, you need to inform Endor about our intentions. Because the Rebels are listening into our transmissions we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
	if (response == "s_926a6e73")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The documents will be fake. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look real to them by killing enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.
			string_id message = new string_id (c_stringFile, "s_d6bf6113");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh, of course I knew that.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_7077d0f3");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 122);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it the documents will be fakes.
	if (response == "s_3c1eecb4")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Exactly. We are counting on the Rebels attacking the shuttle, which you will be escorting. If we can make this look very real to them and kill enough of their fighters, it will cause them to want to find out what we are fighting so hard to protect. When the time is right, the shuttle will pretend to make a run for it and allow itself to be captured. The Rebels will find the fake documents and they will be ours.
			string_id message = new string_id (c_stringFile, "s_abdbf980");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What information will those documents contain?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_eacf6042");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 128);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch138 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: All in good time. Although this is not all bad now that we know about the leak. My plan involves using this leak in order to draw the Rebels out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is the plan, sir?
	if (response == "s_a950fa1d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: First, we will need to inform Endor about our intentions. Because the Rebels are listening into our communications we will have to send the plans to them on your vessel. Once they have the plans we will send out a message about a shuttle carrying top secret documents on its way through the Endor system.
			string_id message = new string_id (c_stringFile, "s_be28f7e0");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Is it wise to tell the Rebellion that we are sending top secret documents?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I take it the documents will be fakes.
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_926a6e73");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_3c1eecb4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 121);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch139 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] assign quest four
	//-- NPC: Now that we have a lock on the Rebel command vessel the time has come for us to start flexing our muscles, so to speak.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I couldn't agree more, sir.
	if (response == "s_890ce7a3")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Even though we are still looking for the clues as to how much information the Rebellion has been given by the traitor, we have allowed the Rebels to run rampant through out the Endor system for long enough. We need to start reducing their numbers before they get out of control.
			string_id message = new string_id (c_stringFile, "s_b196e01f");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: So we still have not been able to find the traitor?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: What is it you want me to do, sir?
			boolean hasResponse1 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_567580f2");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_299");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 140);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's about time you let me take off the kid gloves.
	if (response == "s_d6e0ca4c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well this is your chance. We are still looking for clues as to how much information the Rebellion has at their disposal, but we cannot ignore the growing number of Rebel fighters in the Endor system any longer.
			string_id message = new string_id (c_stringFile, "s_ee1dc70b");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I really hope this is a sweep and clear.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_10a5b81d");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 144);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: There is no strength without the guidance of the Emperor.
	if (response == "s_81652bd6")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: And the Emperor wants you to follow my instructions. I am sure his guidance will lead you to victory over our enemies.
			string_id message = new string_id (c_stringFile, "s_a7f392e3");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I live only to serve.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_95984c4");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 147);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch140 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Even though we are still looking for the clues as to how much information the Rebellion has been given by the traitor, we have allowed the Rebels to run rampant through out the Endor system for long enough. We need to start reducing their numbers before they get out of control.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: So we still have not been able to find the traitor?
	if (response == "s_567580f2")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The Inquisition has not given us an update on their progress. That is not really a surprise. They tend to dislike sharing information with other branches. I can only hope that they stop the traitor from committing more acts of treason.
			string_id message = new string_id (c_stringFile, "s_1ba3e73d");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What is it you want me to do, sir?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_afdf6d6");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 141);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you want me to do, sir?
	if (response == "s_299")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are to travel to Endor and start culling the number of Rebel fighters in the system. There is a flight of X-wing that we have been tracking for sometime that I want you to destroy. I have sent other Storm Squadron pilots out on similar missions so if you can take out that flight of Rebel fighters we should have their numbers reduced to a manageable amount.
			string_id message = new string_id (c_stringFile, "s_7750f639");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will not fail you.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25042a7a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 142);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch141 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The Inquisition has not given us an update on their progress. That is not really a surprise. They tend to dislike sharing information with other branches. I can only hope that they stop the traitor from committing more acts of treason.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What is it you want me to do, sir?
	if (response == "s_afdf6d6")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are to travel to Endor and start culling the number of Rebel fighters in the system. There is a flight of X-wing that we have been tracking for sometime that I want you to destroy. I have sent other Storm Squadron pilots out on similar missions so if you can take out that flight of Rebel fighters we should have their numbers reduced to a manageable amount.
			string_id message = new string_id (c_stringFile, "s_7750f639");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will not fail you.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25042a7a");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 142);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch142 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are to travel to Endor and start culling the number of Rebel fighters in the system. There is a flight of X-wing that we have been tracking for sometime that I want you to destroy. I have sent other Storm Squadron pilots out on similar missions so if you can take out that flight of Rebel fighters we should have their numbers reduced to a manageable amount.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will not fail you.
	if (response == "s_25042a7a")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: I know you will not. I have every faith in your ability to handle the Rebels. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_76bbd809");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch144 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Well this is your chance. We are still looking for clues as to how much information the Rebellion has at their disposal, but we cannot ignore the growing number of Rebel fighters in the Endor system any longer.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I really hope this is a sweep and clear.
	if (response == "s_10a5b81d")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: You are absolutely correct. You are to destroy a flight of X-wings that we have been tracking. Since I have dispatched other pilots from Storm Squadron you should only need to destroy that one squadron for us to accomplish our goals, but feel free to destroy any extra you wish.
			string_id message = new string_id (c_stringFile, "s_b9bfd3a8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: A squadron of X-wings? I don't like their chances.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_a14faca6");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 145);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch145 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You are absolutely correct. You are to destroy a flight of X-wings that we have been tracking. Since I have dispatched other pilots from Storm Squadron you should only need to destroy that one squadron for us to accomplish our goals, but feel free to destroy any extra you wish.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: A squadron of X-wings? I don't like their chances.
	if (response == "s_a14faca6")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: Don't become over confident. You are no good to me dead. Now go take out at least ten Rebel fighters. Good luck, pilot.
			string_id message = new string_id (c_stringFile, "s_266e8481");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch147 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And the Emperor wants you to follow my instructions. I am sure his guidance will lead you to victory over our enemies.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I live only to serve.
	if (response == "s_95984c4")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Then go to the Endor system and destroy a flight of Rebel X-wings that we have been tracking. It is time that we cull their growing numbers and show them that the Empire is not to be trifled with. I have dispatched other pilots to assist in this great undertaking, so that we will strike the Rebels from all sides.
			string_id message = new string_id (c_stringFile, "s_1cbb3be8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, that is a sound plan. I will destroy our enemies.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_d760b1fe");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 148);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch148 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Then go to the Endor system and destroy a flight of Rebel X-wings that we have been tracking. It is time that we cull their growing numbers and show them that the Empire is not to be trifled with. I have dispatched other pilots to assist in this great undertaking, so that we will strike the Rebels from all sides.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, that is a sound plan. I will destroy our enemies.
	if (response == "s_d760b1fe")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			tatooine_imperial_tier3_action_grantQuestFour (player, npc);

			//-- NPC: Go with the Emperor's blessing. You are dismissed, pilot.
			string_id message = new string_id (c_stringFile, "s_b5094e65");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch150 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] You must have completed tier3 completely.  Hope you have all your skills!  Now I will tell you to go talk to a tier-4 guy.
	//-- NPC: Your time with me is over. I figured one of my superiors would have you transferred under his command.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It has been a pleasure, sir.
	if (response == "s_2dc37e6c")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: The pleasure has been all mine. You are being transferred to Admiral Kilnstrider, head of Storm Squadron. He is personally taking over security of the Endor system. A base of operations has been set up on the research center on the moon of Endor.
			string_id message = new string_id (c_stringFile, "s_a5f19408");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You have been removed as head of Endor security?
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_936b8cfc");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 151);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It's about time I was noticed.
	if (response == "s_4ec1bd6b")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Well you have been noticed by Admiral Kilnstrider, head of Storm Squadron. He is taking over security for the Endor system and has set up operations on the moon of Endor at the research center. Again, I highly advise that you do not be yourself with Admiral Kilnstrider. He has very little use for braggarts. Good luck, %NU.
			string_id message = new string_id (c_stringFile, "s_7ea66fab");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As was foretold.
	if (response == "s_69f62a43")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yes, I know. I was the one who foretold that you would be transferred. I cannot say that I am not happy to see you leave. Frankly, you worry me a little bit.
			string_id message = new string_id (c_stringFile, "s_a0aa65a4");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You cannot understand, so you fear.
			boolean hasResponse0 = false;
			if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_25c39c01");

				utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 154);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch151 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The pleasure has been all mine. You are being transferred to Admiral Kilnstrider, head of Storm Squadron. He is personally taking over security of the Endor system. A base of operations has been set up on the research center on the moon of Endor.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You have been removed as head of Endor security?
	if (response == "s_936b8cfc")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I am afraid so. I am to remain here and finish the preparations for the rest of Storm Squadron to be moved out of this system. Good luck to you, %NU. If you serve the Admiral as well as you served me all will be well.
			string_id message = new string_id (c_stringFile, "s_a099839c");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int tatooine_imperial_tier3_handleBranch154 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, I know. I was the one who foretold that you would be transferred. I cannot say that I am not happy to see you leave. Frankly, you worry me a little bit.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You cannot understand, so you fear.
	if (response == "s_25c39c01")
	{
		//-- [NOTE] 
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			//-- NPC: I doubt that is it. But, you are no longer my problem. You have been transferred to Admiral Kilnstrider, head of Storm Squadron. Report to him at his command post at the research center on the moon of Endor. He will be granting you missions from the Emperor from now on. Dismissed.
			string_id message = new string_id (c_stringFile, "s_66506cea");
			utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.tatooine_imperial_tier3");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable( self, true );
	setCondition( self, CONDITION_SPACE_INTERESTING );
	factions.setFaction( self, factions.FACTION_IMPERIAL );
	
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);

	faceTo( self, player );

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.tatooine_imperial_tier3");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (!tatooine_imperial_tier3_condition_isPilot (player, npc))
	{
		doAnimationAction (npc, "wave_on_dismissing");

		//-- NPC: I am not sure who you are or why you are here, but I assure you I do not have time to help you regardless.
		string_id message = new string_id (c_stringFile, "s_43b48713");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're the wrong faction.
	if (!tatooine_imperial_tier3_condition_isCorrectFaction (player, npc))
	{
		doAnimationAction (npc, "point_forward");

		//-- NPC: You are not here on Imperial business. Leave now.
		string_id message = new string_id (c_stringFile, "s_e6e2ab99");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not a chance.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No sir.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b40f340");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_86137261");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 2);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You're not through tier2 yet!
	if (!tatooine_imperial_tier3_condition_isReadyForTier3 (player, npc))
	{
		doAnimationAction (npc, "shake_head_no");

		//-- NPC: I am afraid that you are not ready for the rigors I would be forced to put you through. I suggest you go work on your skills and perhaps we will meet again.
		string_id message = new string_id (c_stringFile, "s_846bd129");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (!tatooine_imperial_tier3_condition_onMyTrack (player, npc))
	{
		doAnimationAction (npc, "wave_finger_warning");

		//-- NPC: You are not assigned to this Squadron, pilot. Perhaps you have gotten lost? I suggest you un-lose yourself quickly.
		string_id message = new string_id (c_stringFile, "s_f06f4a8");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_tier3_condition_hasNegativeFaction (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: You are under investigation for crimes against the Empire, %TU.  What is going on?
		string_id message = new string_id (c_stringFile, "s_6f21dd8e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I don't know what you're talking about
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5814e23b");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 7);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are busy.  Already on a quest.  Go do it.
	if (tatooine_imperial_tier3_condition_isOnQuest (player, npc))
	{
		doAnimationAction (npc, "shakefist");

		//-- NPC:  You are on assignment, soldier. Get back to work.
		string_id message = new string_id (c_stringFile, "s_89af090b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (tatooine_imperial_tier3_condition_hasAllSkills (player, npc))
	{
		//-- NPC: Your time with me is through. I figured one of my superiors would have you transferred under his command.
		string_id message = new string_id (c_stringFile, "s_704da203");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It has been a pleasure, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's about time I was noticed.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: As was foretold.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2dc37e6c");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4ec1bd6b");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_69f62a43");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 150);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You failed quest four. You must start over.
	if (tatooine_imperial_tier3_condition_failedQuestFour (player, npc))
	{
		doAnimationAction (npc, "pound_fist_palm");

		tatooine_imperial_tier3_action_grantQuestFour (player, npc);

		//-- NPC: Your job's not done yet. I need you to see this through.
		string_id message = new string_id (c_stringFile, "s_430701b");
		chat.chat (npc, player, message);

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] fail quest two
	if (tatooine_imperial_tier3_condition_failedQuestTwo (player, npc))
	{
		doAnimationAction (npc, "point_accusingly");

		//-- NPC: Maybe YOU'RE the traitor.
		string_id message = new string_id (c_stringFile, "s_d1fb3414");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: You're wrong!
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [deny it]
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a22823c2");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_51a40299");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 14);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] fail quest three
	if (tatooine_imperial_tier3_condition_failedQuestThree (player, npc))
	{
		doAnimationAction (npc, "shake_head_disgust");

		//-- NPC: I should never have accepted you into this unit.
		string_id message = new string_id (c_stringFile, "s_c70eec74");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'll go again - if it's not too late.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I know what I'm doing.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1ebe3b4f");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dab3c286");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 17);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] fail quest one
	if (tatooine_imperial_tier3_condition_failedQuestOne (player, npc))
	{
		//-- NPC: So.
		string_id message = new string_id (c_stringFile, "s_599cef6e");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I failed. It won't happen again.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Send me back out there.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_78cd7b47");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e094e94b");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 20);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest one, so here it is!
	if (tatooine_imperial_tier3_condition_collectingQuestOneReward (player, npc))
	{
		doAnimationAction (npc, "explain");

		tatooine_imperial_tier3_action_rewardForQuestOne (player, npc);

		//-- NPC: Good to see that you are back. We have a mess on our hands right now. Reports are coming in from all over the Endor system that Rebels have been spotted in almost every quadrant.
		string_id message = new string_id (c_stringFile, "s_9cfbfe87");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Let me at them! I will drive them off.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: What is the plan?
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_39a5745d");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9dbb5a9a");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 27);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest two, so here it is!
	if (tatooine_imperial_tier3_condition_collectingQuestTwoReward (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		tatooine_imperial_tier3_action_rewardForQuestTwo (player, npc);

		//-- NPC: Welcome back. You have successfully managed to retrieve the information from the Rebel command vessel, as well as, save the 3rd TIE Wing from destruction. A very nice days work if I say so myself.
		string_id message = new string_id (c_stringFile, "s_cc9d8558");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was nothing. Just doing my job, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Of course, I told you I was good.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Those weak minded fools were hardly a challenge.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2bdc8841");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_dcbac482");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_a3d2c25b");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 36);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest three, so here it is!
	if (tatooine_imperial_tier3_condition_collectingQuestThreeReward (player, npc))
	{
		doAnimationAction (npc, "rub_chin_thoughtful");

		tatooine_imperial_tier3_action_rewardForQuestThree (player, npc);

		//-- NPC: Perfect! The Rebels fell right into our trap. We are monitoring the movements of the Rebel command vessel. I am fairly certain that they know we set a trap for them, but I do not think they understand to what purpose.
		string_id message = new string_id (c_stringFile, "s_463a0835");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Excellent plan, sir. It went off without any trouble.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I wouldn't say perfect. But fortunately I was able to compensate.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I was guided to victory by a greater power.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_7eeba249");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b3f090c6");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_609b8560");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 42);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You are here to collect your reward for quest four, so here it is!
	if (tatooine_imperial_tier3_condition_collectingQuestFourReward (player, npc))
	{
		doAnimationAction (npc, "explain");

		tatooine_imperial_tier3_action_rewardForQuestFour (player, npc);

		//-- NPC: Well done, %NU. Not only did you manage to drive the Rebel force back into hiding from the Endor system, you also managed to uncover all the information that was leaked to them by the traitor. We will be able to quickly change our plans for the system based off of that information and neutralize any advantage the Rebels might have had.
		string_id message = new string_id (c_stringFile, "s_c3a1b3b3");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am proud to have been of assistance, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: That was nothing. You should have seen me in the battle of...
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: What I did, I did for the glory of the Empire.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_51f13870");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_44bf27d7");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6196f26f");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 48);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] would be good if the commander was holding a clipboard with your data on it, looks at it (instead of you)
	if (!tatooine_imperial_tier3_condition_hasCompletedQuestOne (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: Field Commander Alozen tells me that you're ready to serve under my command. We will see, won't we?
		string_id message = new string_id (c_stringFile, "s_e5e51881");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm ready to blast holes in as many Rebel ships as I can.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You have yourself the best pilot in the fleet.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Yes, SIR!
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6e86b00");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9ae62db");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_47edbf24");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 55);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] assign quest two
	if (!tatooine_imperial_tier3_condition_hasCompletedQuestTwo (player, npc))
	{
		doAnimationAction (npc, "beckon");

		//-- NPC: Nice, timing. I was just about to send for you. We have work to do.
		string_id message = new string_id (c_stringFile, "s_ea1cf0eb");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am ready, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: And you need your best pilot.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Just tell me who to kill.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_9a760bb5");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_5332f155");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_b9c26cb1");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 90);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] assign quest three
	if (!tatooine_imperial_tier3_condition_hasCompletedQuestThree (player, npc))
	{
		//-- NPC: %NU, I am glad to see you are back. We have completed our evaluation of the reports you took off of the Rebel command vessel. Based off of what we have found, I believe I have devised a way to bring the Rebel menace out into the open.
		string_id message = new string_id (c_stringFile, "s_3e08af61");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I am ready to crush the Rebels, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I am ready to add another notch to my belt.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: It is the Emperor's will that I defeat his foes.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4c927c36");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d19e7587");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_e634eb73");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 118);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] assign quest four
	if (!tatooine_imperial_tier3_condition_hasCompletedQuestFour (player, npc))
	{
		//-- NPC: Now that we have a lock on the Rebel command vessel the time has come for us to start flexing our muscles, so to speak.
		string_id message = new string_id (c_stringFile, "s_84affc75");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I couldn't agree more, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's about time you let me take off the kid gloves.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: There is no strength without the guidance of the Emperor.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_890ce7a3");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_d6e0ca4c");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_81652bd6");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 139);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] You must have completed tier3 completely.  Hope you have all your skills!  Now I will tell you to go talk to a tier-4 guy.
	if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
	{
		//-- NPC: Your time with me is over. I figured one of my superiors would have you transferred under his command.
		string_id message = new string_id (c_stringFile, "s_316");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It has been a pleasure, sir.
		boolean hasResponse0 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: It's about time I was noticed.
		boolean hasResponse1 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: As was foretold.
		boolean hasResponse2 = false;
		if (tatooine_imperial_tier3_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_2dc37e6c");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_4ec1bd6b");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_69f62a43");

			utils.setScriptVar (player, "conversation.tatooine_imperial_tier3.branchId", 150);

			npcStartConversation (player, npc, "tatooine_imperial_tier3", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "tatooine_imperial_tier3")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

	if (branchId == 2 && tatooine_imperial_tier3_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && tatooine_imperial_tier3_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && tatooine_imperial_tier3_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && tatooine_imperial_tier3_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && tatooine_imperial_tier3_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && tatooine_imperial_tier3_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && tatooine_imperial_tier3_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && tatooine_imperial_tier3_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && tatooine_imperial_tier3_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && tatooine_imperial_tier3_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && tatooine_imperial_tier3_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 28 && tatooine_imperial_tier3_handleBranch28 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && tatooine_imperial_tier3_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && tatooine_imperial_tier3_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && tatooine_imperial_tier3_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && tatooine_imperial_tier3_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && tatooine_imperial_tier3_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 38 && tatooine_imperial_tier3_handleBranch38 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && tatooine_imperial_tier3_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && tatooine_imperial_tier3_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 41 && tatooine_imperial_tier3_handleBranch41 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && tatooine_imperial_tier3_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && tatooine_imperial_tier3_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && tatooine_imperial_tier3_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 45 && tatooine_imperial_tier3_handleBranch45 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && tatooine_imperial_tier3_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && tatooine_imperial_tier3_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && tatooine_imperial_tier3_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && tatooine_imperial_tier3_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && tatooine_imperial_tier3_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 51 && tatooine_imperial_tier3_handleBranch51 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 52 && tatooine_imperial_tier3_handleBranch52 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && tatooine_imperial_tier3_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && tatooine_imperial_tier3_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && tatooine_imperial_tier3_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && tatooine_imperial_tier3_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && tatooine_imperial_tier3_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 58 && tatooine_imperial_tier3_handleBranch58 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && tatooine_imperial_tier3_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 60 && tatooine_imperial_tier3_handleBranch60 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 61 && tatooine_imperial_tier3_handleBranch61 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 62 && tatooine_imperial_tier3_handleBranch62 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && tatooine_imperial_tier3_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && tatooine_imperial_tier3_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 68 && tatooine_imperial_tier3_handleBranch68 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 69 && tatooine_imperial_tier3_handleBranch69 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && tatooine_imperial_tier3_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 71 && tatooine_imperial_tier3_handleBranch71 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 72 && tatooine_imperial_tier3_handleBranch72 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 73 && tatooine_imperial_tier3_handleBranch73 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && tatooine_imperial_tier3_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 75 && tatooine_imperial_tier3_handleBranch75 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 76 && tatooine_imperial_tier3_handleBranch76 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 77 && tatooine_imperial_tier3_handleBranch77 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && tatooine_imperial_tier3_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && tatooine_imperial_tier3_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && tatooine_imperial_tier3_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 81 && tatooine_imperial_tier3_handleBranch81 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 82 && tatooine_imperial_tier3_handleBranch82 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 83 && tatooine_imperial_tier3_handleBranch83 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && tatooine_imperial_tier3_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 85 && tatooine_imperial_tier3_handleBranch85 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 86 && tatooine_imperial_tier3_handleBranch86 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 87 && tatooine_imperial_tier3_handleBranch87 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 88 && tatooine_imperial_tier3_handleBranch88 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 89 && tatooine_imperial_tier3_handleBranch89 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 90 && tatooine_imperial_tier3_handleBranch90 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 91 && tatooine_imperial_tier3_handleBranch91 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 92 && tatooine_imperial_tier3_handleBranch92 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 93 && tatooine_imperial_tier3_handleBranch93 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 94 && tatooine_imperial_tier3_handleBranch94 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 95 && tatooine_imperial_tier3_handleBranch95 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 97 && tatooine_imperial_tier3_handleBranch97 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 99 && tatooine_imperial_tier3_handleBranch99 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 100 && tatooine_imperial_tier3_handleBranch100 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 101 && tatooine_imperial_tier3_handleBranch101 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 102 && tatooine_imperial_tier3_handleBranch102 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 103 && tatooine_imperial_tier3_handleBranch103 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 104 && tatooine_imperial_tier3_handleBranch104 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 105 && tatooine_imperial_tier3_handleBranch105 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 106 && tatooine_imperial_tier3_handleBranch106 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 107 && tatooine_imperial_tier3_handleBranch107 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 108 && tatooine_imperial_tier3_handleBranch108 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 109 && tatooine_imperial_tier3_handleBranch109 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 110 && tatooine_imperial_tier3_handleBranch110 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 111 && tatooine_imperial_tier3_handleBranch111 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 112 && tatooine_imperial_tier3_handleBranch112 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 113 && tatooine_imperial_tier3_handleBranch113 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 114 && tatooine_imperial_tier3_handleBranch114 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 115 && tatooine_imperial_tier3_handleBranch115 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 116 && tatooine_imperial_tier3_handleBranch116 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 117 && tatooine_imperial_tier3_handleBranch117 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 118 && tatooine_imperial_tier3_handleBranch118 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 119 && tatooine_imperial_tier3_handleBranch119 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 120 && tatooine_imperial_tier3_handleBranch120 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 121 && tatooine_imperial_tier3_handleBranch121 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 122 && tatooine_imperial_tier3_handleBranch122 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 123 && tatooine_imperial_tier3_handleBranch123 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 124 && tatooine_imperial_tier3_handleBranch124 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 128 && tatooine_imperial_tier3_handleBranch128 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 129 && tatooine_imperial_tier3_handleBranch129 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 130 && tatooine_imperial_tier3_handleBranch130 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 131 && tatooine_imperial_tier3_handleBranch131 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 132 && tatooine_imperial_tier3_handleBranch132 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 133 && tatooine_imperial_tier3_handleBranch133 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 134 && tatooine_imperial_tier3_handleBranch134 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 135 && tatooine_imperial_tier3_handleBranch135 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 136 && tatooine_imperial_tier3_handleBranch136 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 137 && tatooine_imperial_tier3_handleBranch137 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 138 && tatooine_imperial_tier3_handleBranch138 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 139 && tatooine_imperial_tier3_handleBranch139 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 140 && tatooine_imperial_tier3_handleBranch140 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 141 && tatooine_imperial_tier3_handleBranch141 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 142 && tatooine_imperial_tier3_handleBranch142 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 144 && tatooine_imperial_tier3_handleBranch144 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 145 && tatooine_imperial_tier3_handleBranch145 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 147 && tatooine_imperial_tier3_handleBranch147 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 148 && tatooine_imperial_tier3_handleBranch148 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 150 && tatooine_imperial_tier3_handleBranch150 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 151 && tatooine_imperial_tier3_handleBranch151 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 154 && tatooine_imperial_tier3_handleBranch154 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.tatooine_imperial_tier3.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

