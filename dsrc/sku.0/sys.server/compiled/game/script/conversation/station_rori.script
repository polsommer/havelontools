// ======================================================================
//
// station_rori.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.factions;
include library.space_combat;
include library.space_content;
include library.space_crafting;
include library.space_flags;
include library.space_quest;
include library.space_skill;
include library.space_transition;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/station_rori";

// ======================================================================
// Script Conditions
// ======================================================================

boolean station_rori_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAfford50 (obj_id player, obj_id npc)
{
	return space_crafting.canAffordShipRepairs(player, npc, .50f);
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAfford25 (obj_id player, obj_id npc)
{
	return ( space_crafting.canAffordShipRepairs(player, npc, .25f) && space_crafting.isDamaged( player ) );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAfford75 (obj_id player, obj_id npc)
{
	return space_crafting.canAffordShipRepairs(player, npc, .75f);
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAfford100 (obj_id player, obj_id npc)
{
	return space_crafting.canAffordShipRepairs(player, npc, 1.0f);
}

// ----------------------------------------------------------------------

boolean station_rori_condition_needRepairs (obj_id player, obj_id npc)
{
	
	float fltDamage = space_crafting.getDamageTotal(player, getPilotedShip(player));
	if(fltDamage>0)
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canLandAtRebelBase (obj_id player, obj_id npc)
{
	if ( space_quest.hasWonQuest( player, "assassinate", "rori_station_reb_storyquest_01_f" ) )
	{
		if ( hasObjVar(player, "station_rori.isOnRebelStoryQuest_01") )
		{
			removeObjVar(player, "station_rori.isOnRebelStoryQuest_01");
		}
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_isTooFar (obj_id player, obj_id npc)
{
	space_combat.playCombatTauntSound( player );
	obj_id containingShip = space_transition.getContainingShip(player);
	return ( getDistance( npc, containingShip ) > space_transition.STATION_COMM_MAX_DISTANCE );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_isMeanPlayer (obj_id player, obj_id npc)
{
	return ( hasObjVar( player, "roriStationMeanie" ) );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_eligibleForImpQuests (obj_id player, obj_id npc)
{
	if ( space_flags.isImperialPilot(player) )
	{
		if ( space_flags.hasCompletedTierTwo(player) )
		{
			if ( !space_quest.hasQuest(player)  )
			{
				return true;
			}
		}
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_eligibleForRsfQuests (obj_id player, obj_id npc)
{
	if ( space_flags.isNeutralPilot(player) )
	{
		if ( space_flags.hasCompletedTierTwo(player) )
		{
			if ( !space_quest.hasQuest(player)  )
			{
				return space_flags.isSpaceTrack(player, space_flags.PRIVATEER_NABOO);
			}
		}
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_eligibleForRebQuests (obj_id player, obj_id npc)
{
	if ( space_flags.isRebelPilot(player) )
	{
		if ( space_flags.hasCompletedTierTwo(player) )
		{
			if ( !space_quest.hasQuest(player)  )
			{
				return !hasObjVar(player, "station_rori.isOnRebelStoryQuest_01");
			}
		}
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_isOnRebStoryQuest_01 (obj_id player, obj_id npc)
{
	return hasObjVar(player, "station_rori.isOnRebelStoryQuest_01");
}

// ----------------------------------------------------------------------

boolean station_rori_condition_alreadyHasAQuest (obj_id player, obj_id npc)
{
	return space_quest.hasQuest(player);
}

// ----------------------------------------------------------------------

boolean station_rori_condition_wonRebStoryQuest_01_a (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "escort", "rori_station_reb_storyquest_01_a" );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_wonRebStoryQuest_01_b (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "recovery", "rori_station_reb_storyquest_01_b" );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_wonRebStoryQuest_01_c (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "assassinate", "rori_station_reb_storyquest_01_c" );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_wonRebStoryQuest_01_d (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "assassinate", "rori_station_reb_storyquest_01_d" );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_wonRebStoryQuest_01_e (obj_id player, obj_id npc)
{
	return space_quest.hasWonQuest( player, "assassinate", "rori_station_reb_storyquest_01_e" );
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canLandAtHouse (obj_id player, obj_id npc)
{
	if (hasObjVar (player, "homingBeacon.planet"))
	{
		string homePlanet = getStringObjVar (player, "homingBeacon.planet");
		
		return (homePlanet.endsWith ("rori"));
	}
	else
		return false;		
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canTakeQuest (obj_id player, obj_id npc)
{
	if(space_quest.hasQuest(player))
	{
		return false;
	}
 	return true;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAttackImperial (obj_id player, obj_id npc)
{
	if(space_flags.isRebelPilot(player) || space_flags.isRebelHelperPilot(player))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canAttackRebel (obj_id player, obj_id npc)
{
	if(space_flags.isImperialPilot(player) || space_flags.isImperialHelperPilot(player))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canTakeTier5RebelDuty (obj_id player, obj_id npc)
{
	if(!space_skill.isMasterPilot(player))
	{
		return false;	
	}
	
	if(space_flags.isRebelPilot(player) || space_flags.isRebelHelperPilot(player))
	{
		return true;
	}
	return false;
}

// ----------------------------------------------------------------------

boolean station_rori_condition_canTakeTier5ImperialDuty (obj_id player, obj_id npc)
{

	if(!space_skill.isMasterPilot(player))
	{
		return false;	
	}
	
	if(space_flags.isImperialPilot(player) || space_flags.isImperialHelperPilot(player))
	{
		return true;
	}
	return false;
	
}

// ======================================================================
// Script Actions
// ======================================================================

void station_rori_action_landAtRebelOutpos (obj_id player, obj_id npc)
{
	space_content.landPlayer(player, npc, "Rebel Outpost");
}

// ----------------------------------------------------------------------

void station_rori_action_fix25 (obj_id player, obj_id npc)
{
	space_crafting.doStationToShipRepairs(player, npc, .25f);
}

// ----------------------------------------------------------------------

void station_rori_action_fix50 (obj_id player, obj_id npc)
{
	space_crafting.doStationToShipRepairs(player, npc, .50f);
}

// ----------------------------------------------------------------------

void station_rori_action_fix75 (obj_id player, obj_id npc)
{
	space_crafting.doStationToShipRepairs(player, npc, .75f);
}

// ----------------------------------------------------------------------

void station_rori_action_fix100 (obj_id player, obj_id npc)
{
	space_crafting.doStationToShipRepairs(player, npc, 1.0f);
}

// ----------------------------------------------------------------------

void station_rori_action_landAtNarmle (obj_id player, obj_id npc)
{
	space_content.landPlayer(player, npc, "Narmle Starport");
}

// ----------------------------------------------------------------------

void station_rori_action_landAtRestuss (obj_id player, obj_id npc)
{
	space_content.landPlayer(player, npc, "Restuss Starport");
}

// ----------------------------------------------------------------------

void station_rori_action_flagMeanPlayer (obj_id player, obj_id npc)
{
	setObjVar( player, "roriStationMeanie", true );
}

// ----------------------------------------------------------------------

void station_rori_action_unflagMeanPlayer (obj_id player, obj_id npc)
{
	removeObjVar( player, "roriStationMeanie");
}

// ----------------------------------------------------------------------

void station_rori_action_grantImpEscortDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "rori_station_imp_escort_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_grantImpDestroyDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "rori_station_imp_destroy_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_grantRsfEscortDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "rori_station_rsf_escort_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_grantRsfDestroyDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "rori_station_rsf_destroy_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebelEscortDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "escort_duty", "rori_station_reb_escort_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebelDestroyDuty (obj_id player, obj_id npc)
{
	space_quest.grantQuest( player, "destroy_duty", "rori_station_reb_destroy_duty_tier3" );
}

// ----------------------------------------------------------------------

void station_rori_action_startRebStoryQuest_01 (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "escort", "rori_station_reb_storyquest_01_a" );
	space_quest.grantQuest( player, "escort", "rori_station_reb_storyquest_01_a" );
	
	if ( !hasObjVar(player, "station_rori.isOnRebelStoryQuest_01") )
	{
		setObjVar(player, "station_rori.isOnRebelStoryQuest_01", true);
	}
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebStoryQuest_01_b (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "recovery", "rori_station_reb_storyquest_01_b" );
	space_quest.grantQuest( player, "recovery", "rori_station_reb_storyquest_01_b" );
	
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebStoryQuest_01_c (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "rori_station_reb_storyquest_01_c" );
	space_quest.grantQuest( player, "assassinate", "rori_station_reb_storyquest_01_c" );
	
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebStoryQuest_01_d (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "rori_station_reb_storyquest_01_d" );
	space_quest.grantQuest( player, "assassinate", "rori_station_reb_storyquest_01_d" );
	
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebStoryQuest_01_e (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "rori_station_reb_storyquest_01_e" );
	space_quest.grantQuest( player, "assassinate", "rori_station_reb_storyquest_01_e" );
	
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebStoryQuest_01_f (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags( player, "assassinate", "rori_station_reb_storyquest_01_f" );
	space_quest.grantQuest( player, "assassinate", "rori_station_reb_storyquest_01_f" );
	
	return;
}

// ----------------------------------------------------------------------

void station_rori_action_landHoming (obj_id player, obj_id npc)
{
	space_content.landPlayerHoming(player, npc);
}

// ----------------------------------------------------------------------

void station_rori_action_grantImperialDuty1 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_imperial_tier1");
}

// ----------------------------------------------------------------------

void station_rori_action_grantImperialDuty2 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_imperial_tier2");
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebelDuty1 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_rebel_tier1");
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebelDuty2 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_rebel_tier2");
}

// ----------------------------------------------------------------------

void station_rori_action_grantDroidDuty1 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_rogue_droid_tier1");
}

// ----------------------------------------------------------------------

void station_rori_action_grantDroidDuty2 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_rogue_droid_tier2");
}

// ----------------------------------------------------------------------

void station_rori_action_grantVoidDuty1 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_void_wing_tier1");
}

// ----------------------------------------------------------------------

void station_rori_action_grantVoidDuty2 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_void_wing_tier2");
}

// ----------------------------------------------------------------------

void station_rori_action_grantImperialDuty5 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_imperial_tier5");
}

// ----------------------------------------------------------------------

void station_rori_action_grantRebelDuty5 (obj_id player, obj_id npc)
{
	space_quest.grantQuest(player, "destroy_duty", "naboo_rebel_tier5");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

string station_rori_tokenTO_tokenTO0001 (obj_id player, obj_id npc)
{
	return new string();
}

// ======================================================================
// Script %DI Tokens
// ======================================================================

int station_rori_tokenDI_getStationRepairCost25 (obj_id player, obj_id npc)
{
	return space_crafting.getStationRepairCost(player, npc, .25f);
	
}

// ----------------------------------------------------------------------

int station_rori_tokenDI_getStationRepairCost50 (obj_id player, obj_id npc)
{
	return space_crafting.getStationRepairCost(player, npc, .50f);
	
}

// ----------------------------------------------------------------------

int station_rori_tokenDI_getStationRepairCost75 (obj_id player, obj_id npc)
{
	return space_crafting.getStationRepairCost(player, npc, .75f);
}

// ----------------------------------------------------------------------

int station_rori_tokenDI_getStationRepairCost100 (obj_id player, obj_id npc)
{
	return space_crafting.getStationRepairCost(player, npc, 1.0f);
}

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int station_rori_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wesa no like yousa! You tink you so smarty!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I just want to land.
	if (response == "s_205")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday, yousa wanna git ta Roritowns. Mesa tell you howta do it. Yousa speedaway to Nabootowns and yousa taken da shuttle!
			string_id message = new string_id (c_stringFile, "s_207");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just let me land, idiot.
	if (response == "s_209")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mesa no tink so! Yousa wude. Yousa say sorry or yousa no comenback hare!
			string_id message = new string_id (c_stringFile, "s_211");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I changed my mind, repair my ship.
	if (response == "s_213")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Ho No! Yousa tink yousa smarty. Byenow! Yousa not ganna bean friends wit anybody hare!
			string_id message = new string_id (c_stringFile, "s_215");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry.
	if (response == "s_217")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rilly Sorry?
			string_id message = new string_id (c_stringFile, "s_219");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I'm really sorry.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, not really.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_221");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_255");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rilly Sorry?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'm really sorry.
	if (response == "s_221")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Rilly rilly sorry?
			string_id message = new string_id (c_stringFile, "s_223");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I'm really sorry.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No, I'm not that sorry.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_225");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_253");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, not really.
	if (response == "s_255")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Rilly rilly sorry?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'm really sorry.
	if (response == "s_225")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa ganna bean nice ta wesa now?
			string_id message = new string_id (c_stringFile, "s_227");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_251");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, I'm not that sorry.
	if (response == "s_253")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa ganna bean nice ta wesa now?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_229")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa gonna be nice ta all da Gungans now?
			string_id message = new string_id (c_stringFile, "s_231");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_233");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_249");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_251")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa gonna be nice ta all da Gungans now?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_233")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: And yousa ganna be rilly nice to Rori-gungans now an allways?
			string_id message = new string_id (c_stringFile, "s_235");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_237");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_247");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_249")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: And yousa ganna be rilly nice to Rori-gungans now an allways?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_237")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa promise?
			string_id message = new string_id (c_stringFile, "s_239");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I promise!
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Oh FORGET IT!
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_241");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_245");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_247")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa promise?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I promise!
	if (response == "s_241")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_unflagMeanPlayer (player, npc);

			//-- NPC: Okeyday, den! No more crunchen! We bean friends now.
			string_id message = new string_id (c_stringFile, "s_243");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I want to land.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I need repairs.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford25 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Have any jobs for an Imperial Pilot?
			boolean hasResponse2 = false;
			if (station_rori_condition_eligibleForImpQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Do you know of any work for an RSF Pilot?
			boolean hasResponse3 = false;
			if (station_rori_condition_eligibleForRsfQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Would you have any work for a Rebel Pilot?
			boolean hasResponse4 = false;
			if (station_rori_condition_eligibleForRebQuests (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: Any mercenary assignments available?
			boolean hasResponse5 = false;
			if (station_rori_condition_canTakeQuest (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_333");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_373");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_441");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_457");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_473");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_170");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh FORGET IT!
	if (response == "s_245")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Den yousa ganna go away now and no comenback hare!
			string_id message = new string_id (c_stringFile, "s_257");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okeyday, den! No more crunchen! We bean friends now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to land.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Wesa give usa landaway... Which Roritown yousa goen?
			string_id message = new string_id (c_stringFile, "s_335");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Narmle Starport.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Restuss Starport.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The (Rebel) Outpost.
			boolean hasResponse2 = false;
			if (station_rori_condition_canLandAtRebelBase (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Homing Beacon.
			boolean hasResponse3 = false;
			if (station_rori_condition_canLandAtHouse (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_349");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_157");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need repairs.
	if (response == "s_373")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oie Boie! You been crunchen, huh? Wesa gonna fix you up!
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just fix a little.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Repair half the damage.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Repair most of the damage.
			boolean hasResponse2 = false;
			if (station_rori_condition_canAfford75 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Fully repair my ship.
			boolean hasResponse3 = false;
			if (station_rori_condition_canAfford100 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Are you sure you can repair my ship?
			boolean hasResponse4 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_377");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Have any jobs for an Imperial Pilot?
	if (response == "s_441")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Yin'. Mesa got two duties for yousa. One bein' ta protect supply line for da Imperial force. Da other bein' ta reduce Rebel fighter activin' in dissen system.
			string_id message = new string_id (c_stringFile, "s_443");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll escort those supply ships.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll fight Rebel ships.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_445");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_449");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_453");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know of any work for an RSF Pilot?
	if (response == "s_457")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Mesa have two duties for yousa. Yousa can choose one. Da first bein' ta fight Borvo piratin' in da system. Da other bein' ta escort and protect incomin' dignitary transports from Black Sun attacks.
			string_id message = new string_id (c_stringFile, "s_459");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll fight Borvo pirates.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll escort the dignitary transports.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_461");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_465");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Would you have any work for a Rebel Pilot?
	if (response == "s_473")
	{
		//-- [NOTE] 
		if (station_rori_condition_canLandAtRebelBase (player, npc))
		{
			//-- NPC: For yousa, yin'! Yousa helpin' mesa, and now mesa help yousa. Mesa have two duties yousa could perform. One bein' ta distract Imperial inquiries into dissen station by destroyin' some Imperial fighters. Da other bein' ta protect inbound shipments of repair droids.
			string_id message = new string_id (c_stringFile, "s_475");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll distract the Empire for you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll protect inbound repair droid shipments.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_477");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_481");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_485");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hmmm. Mesa hear yousa Rebels are good at keepin' a secret. If yousa'll help mesa wid somedin', mesa'll send some work yousa way. And mesa'll even let yousa land at da Rebel Base which mesa no supposin' to know about. See, mesa can keep a secret as okiday.
			string_id message = new string_id (c_stringFile, "s_489");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. What do you need me to do?
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I'm not interested.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_491");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_507");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any mercenary assignments available?
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa wanna boom boom jobbas? Yousa looka list!
			string_id message = new string_id (c_stringFile, "s_172");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll hunt down tier 1 Imperial patrols
			boolean hasResponse0 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Imperial patrols
			boolean hasResponse1 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Imperial patrols
			boolean hasResponse2 = false;
			if (station_rori_condition_canTakeTier5RebelDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rebel patrols
			boolean hasResponse3 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rebel patrols
			boolean hasResponse4 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Rebel patrols
			boolean hasResponse5 = false;
			if (station_rori_condition_canTakeTier5ImperialDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rogue Droids
			boolean hasResponse6 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rogue Droids
			boolean hasResponse7 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Void Wing Pirates
			boolean hasResponse8 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Void Wing Pirates
			boolean hasResponse9 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse9 = true;
			}

			//-- PLAYER: Nothing here for me
			boolean hasResponse10 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse10 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_190");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_194");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				if (hasResponse9)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse10)
					responses [responseIndex++] = new string_id (c_stringFile, "s_214");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch14 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ello, boyos! Ah, 'tis yousa. mesa appreciate yousa help! Mesa have some work yousa can do if yousa want, and mesa'll also let yousa speedaway down at da Rebel Base on Rori if yousa wanna. Or yousa been crunchen?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to land.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Wesa give usa landaway... Which Roritown yousa goen?
			string_id message = new string_id (c_stringFile, "s_335");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Narmle Starport.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Restuss Starport.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The (Rebel) Outpost.
			boolean hasResponse2 = false;
			if (station_rori_condition_canLandAtRebelBase (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Homing Beacon.
			boolean hasResponse3 = false;
			if (station_rori_condition_canLandAtHouse (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_349");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_157");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need repairs.
	if (response == "s_373")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oie Boie! You been crunchen, huh? Wesa gonna fix you up!
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just fix a little.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Repair half the damage.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Repair most of the damage.
			boolean hasResponse2 = false;
			if (station_rori_condition_canAfford75 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Fully repair my ship.
			boolean hasResponse3 = false;
			if (station_rori_condition_canAfford100 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Are you sure you can repair my ship?
			boolean hasResponse4 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_377");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Have any jobs for an Imperial Pilot?
	if (response == "s_441")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Yin'. Mesa got two duties for yousa. One bein' ta protect supply line for da Imperial force. Da other bein' ta reduce Rebel fighter activin' in dissen system.
			string_id message = new string_id (c_stringFile, "s_443");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll escort those supply ships.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll fight Rebel ships.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_445");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_449");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_453");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know of any work for an RSF Pilot?
	if (response == "s_457")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Mesa have two duties for yousa. Yousa can choose one. Da first bein' ta fight Borvo piratin' in da system. Da other bein' ta escort and protect incomin' dignitary transports from Black Sun attacks.
			string_id message = new string_id (c_stringFile, "s_459");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll fight Borvo pirates.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll escort the dignitary transports.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_461");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_465");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Would you have any work for a Rebel Pilot?
	if (response == "s_473")
	{
		//-- [NOTE] 
		if (station_rori_condition_canLandAtRebelBase (player, npc))
		{
			//-- NPC: For yousa, yin'! Yousa helpin' mesa, and now mesa help yousa. Mesa have two duties yousa could perform. One bein' ta distract Imperial inquiries into dissen station by destroyin' some Imperial fighters. Da other bein' ta protect inbound shipments of repair droids.
			string_id message = new string_id (c_stringFile, "s_475");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll distract the Empire for you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll protect inbound repair droid shipments.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_477");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_481");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_485");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hmmm. Mesa hear yousa Rebels are good at keepin' a secret. If yousa'll help mesa wid somedin', mesa'll send some work yousa way. And mesa'll even let yousa land at da Rebel Base which mesa no supposin' to know about. See, mesa can keep a secret as okiday.
			string_id message = new string_id (c_stringFile, "s_489");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. What do you need me to do?
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I'm not interested.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_491");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_507");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any mercenary assignments available?
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa wanna boom boom jobbas? Yousa looka list!
			string_id message = new string_id (c_stringFile, "s_172");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll hunt down tier 1 Imperial patrols
			boolean hasResponse0 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Imperial patrols
			boolean hasResponse1 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Imperial patrols
			boolean hasResponse2 = false;
			if (station_rori_condition_canTakeTier5RebelDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rebel patrols
			boolean hasResponse3 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rebel patrols
			boolean hasResponse4 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Rebel patrols
			boolean hasResponse5 = false;
			if (station_rori_condition_canTakeTier5ImperialDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rogue Droids
			boolean hasResponse6 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rogue Droids
			boolean hasResponse7 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Void Wing Pirates
			boolean hasResponse8 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Void Wing Pirates
			boolean hasResponse9 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse9 = true;
			}

			//-- PLAYER: Nothing here for me
			boolean hasResponse10 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse10 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_190");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_194");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				if (hasResponse9)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse10)
					responses [responseIndex++] = new string_id (c_stringFile, "s_214");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good, yousa back. But yousa no finishin' yet!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do I do next?
	if (response == "s_263")
	{
		//-- [NOTE] 
		if (station_rori_condition_alreadyHasAQuest (player, npc))
		{
			//-- NPC: Yousa next move bein' to finish yousa current mission. Come back when dat one has been completin'.
			string_id message = new string_id (c_stringFile, "s_265");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition_wonRebStoryQuest_01_e (player, npc))
		{
			//-- NPC: An Imperial spy in place at mesa supplier has learned of mesa arrangement with dem and is rushin' to report to hissen superiors. Wesa jammin' hissen communications, but yousa must go stop hesa before hesa can report in!
			string_id message = new string_id (c_stringFile, "s_267");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll catch hm. Don't worry.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_269");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_273");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition_wonRebStoryQuest_01_d (player, npc))
		{
			//-- NPC: Mesa know dissen one bein' tough, but Imperial squads sometimes intercept our shipments. Defeat a squadron of Imperial fighters to show yousa could handle dem.
			string_id message = new string_id (c_stringFile, "s_277");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Imperials, eh? Okay, I'm on my way.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_279");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_283");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition_wonRebStoryQuest_01_c (player, npc))
		{
			//-- NPC: Yousa have ta prove dat yousa can defeat dese Borvo pirates, or mesa repair droid supplier goin' to refuse future shipments. Go destroy dat squadron of Borvo pirates!
			string_id message = new string_id (c_stringFile, "s_287");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Borvo pirates. No problem.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_289");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_293");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition_wonRebStoryQuest_01_b (player, npc))
		{
			//-- NPC: Mesa repair droid suppliers are no confident dat wesa can protect deir ships. Dey are goin' to back out unless dey believe dey can make deir deliveries in safety. Prove dat dey can be protected by defeatin' fighter squadrons from our most common troublemakers. First up are Black Sun fighters.
			string_id message = new string_id (c_stringFile, "s_297");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Black Sun fighters. I'm on it.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_299");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_303");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition_wonRebStoryQuest_01_a (player, npc))
		{
			//-- NPC: Dat Borvo pilot whosa stole mesa repair droids escaped, but wesa managed to get a fix on hissen location. Go and get mesa repair droids!
			string_id message = new string_id (c_stringFile, "s_307");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll get them! Count on me.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_309");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_313");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 29);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa let them destroy mesa shipment! Mesa repair droids! Maybe yousa no up to dissen, but mesa'll give yousa another chance. Mostly because mesa have no other option.
			string_id message = new string_id (c_stringFile, "s_317");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll protect it this time. Trust me.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll do this another time.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_319");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_323");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to land.
	if (response == "s_327")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Wesa give usa landaway... Which Roritown yousa goen?
			string_id message = new string_id (c_stringFile, "s_335");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Narmle Starport.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Restuss Starport.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The (Rebel) Outpost.
			boolean hasResponse2 = false;
			if (station_rori_condition_canLandAtRebelBase (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Homing Beacon.
			boolean hasResponse3 = false;
			if (station_rori_condition_canLandAtHouse (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_349");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_157");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need repairs.
	if (response == "s_329")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oie Boie! You been crunchen, huh? Wesa gonna fix you up!
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just fix a little.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Repair half the damage.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Repair most of the damage.
			boolean hasResponse2 = false;
			if (station_rori_condition_canAfford75 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Fully repair my ship.
			boolean hasResponse3 = false;
			if (station_rori_condition_canAfford100 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Are you sure you can repair my ship?
			boolean hasResponse4 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_377");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: An Imperial spy in place at mesa supplier has learned of mesa arrangement with dem and is rushin' to report to hissen superiors. Wesa jammin' hissen communications, but yousa must go stop hesa before hesa can report in!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll catch hm. Don't worry.
	if (response == "s_269")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebStoryQuest_01_f (player, npc);

			//-- NPC: Hurry. Hesa gettin' away!
			string_id message = new string_id (c_stringFile, "s_271");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_273")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Arrgh. But hesa getaway. Please hurry back so yousa can catch hims.
			string_id message = new string_id (c_stringFile, "s_275");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mesa know dissen one bein' tough, but Imperial squads sometimes intercept our shipments. Defeat a squadron of Imperial fighters to show yousa could handle dem.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Imperials, eh? Okay, I'm on my way.
	if (response == "s_279")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebStoryQuest_01_e (player, npc);

			//-- NPC: Yousa doin' good. Dem Imperials mean, though. Good luck.
			string_id message = new string_id (c_stringFile, "s_281");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_283")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday. Return when you are ready.
			string_id message = new string_id (c_stringFile, "s_285");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa have ta prove dat yousa can defeat dese Borvo pirates, or mesa repair droid supplier goin' to refuse future shipments. Go destroy dat squadron of Borvo pirates!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Borvo pirates. No problem.
	if (response == "s_289")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebStoryQuest_01_d (player, npc);

			//-- NPC: Mesa not like dem Borvo pirates. Yousa make dem hurtin'.
			string_id message = new string_id (c_stringFile, "s_291");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_293")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday. Return when you are ready.
			string_id message = new string_id (c_stringFile, "s_295");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mesa repair droid suppliers are no confident dat wesa can protect deir ships. Dey are goin' to back out unless dey believe dey can make deir deliveries in safety. Prove dat dey can be protected by defeatin' fighter squadrons from our most common troublemakers. First up are Black Sun fighters.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Black Sun fighters. I'm on it.
	if (response == "s_299")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebStoryQuest_01_c (player, npc);

			//-- NPC: Go show them whosa owns dissen system.
			string_id message = new string_id (c_stringFile, "s_301");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_303")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday. Return when you are ready.
			string_id message = new string_id (c_stringFile, "s_305");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Dat Borvo pilot whosa stole mesa repair droids escaped, but wesa managed to get a fix on hissen location. Go and get mesa repair droids!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll get them! Count on me.
	if (response == "s_309")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebStoryQuest_01_b (player, npc);

			//-- NPC: Go and get mesa repair droids! Hurry!
			string_id message = new string_id (c_stringFile, "s_311");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_313")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: But mesa need dem droids. Hurry and return when ready.
			string_id message = new string_id (c_stringFile, "s_315");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa let them destroy mesa shipment! Mesa repair droids! Maybe yousa no up to dissen, but mesa'll give yousa another chance. Mostly because mesa have no other option.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll protect it this time. Trust me.
	if (response == "s_319")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_startRebStoryQuest_01 (player, npc);

			//-- NPC: Yousa better. Mesa need dem droids.
			string_id message = new string_id (c_stringFile, "s_321");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do this another time.
	if (response == "s_323")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: If yousa must. Return when yousa ready.
			string_id message = new string_id (c_stringFile, "s_325");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ello, boyos! Yous wantin ta speedaway down ta Roritowns? Or yousa been crunchen?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I want to land.
	if (response == "s_333")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Wesa give usa landaway... Which Roritown yousa goen?
			string_id message = new string_id (c_stringFile, "s_335");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Narmle Starport.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Restuss Starport.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: The (Rebel) Outpost.
			boolean hasResponse2 = false;
			if (station_rori_condition_canLandAtRebelBase (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Homing Beacon.
			boolean hasResponse3 = false;
			if (station_rori_condition_canLandAtHouse (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_337");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_349");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_361");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_157");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I need repairs.
	if (response == "s_373")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Oie Boie! You been crunchen, huh? Wesa gonna fix you up!
			string_id message = new string_id (c_stringFile, "s_375");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just fix a little.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Repair half the damage.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Repair most of the damage.
			boolean hasResponse2 = false;
			if (station_rori_condition_canAfford75 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Fully repair my ship.
			boolean hasResponse3 = false;
			if (station_rori_condition_canAfford100 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Are you sure you can repair my ship?
			boolean hasResponse4 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_377");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Have any jobs for an Imperial Pilot?
	if (response == "s_441")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Yin'. Mesa got two duties for yousa. One bein' ta protect supply line for da Imperial force. Da other bein' ta reduce Rebel fighter activin' in dissen system.
			string_id message = new string_id (c_stringFile, "s_443");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll escort those supply ships.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll fight Rebel ships.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_445");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_449");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_453");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 66);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Do you know of any work for an RSF Pilot?
	if (response == "s_457")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yin'. Mesa have two duties for yousa. Yousa can choose one. Da first bein' ta fight Borvo piratin' in da system. Da other bein' ta escort and protect incomin' dignitary transports from Black Sun attacks.
			string_id message = new string_id (c_stringFile, "s_459");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll fight Borvo pirates.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll escort the dignitary transports.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_461");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_465");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_469");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 70);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Would you have any work for a Rebel Pilot?
	if (response == "s_473")
	{
		//-- [NOTE] 
		if (station_rori_condition_canLandAtRebelBase (player, npc))
		{
			//-- NPC: For yousa, yin'! Yousa helpin' mesa, and now mesa help yousa. Mesa have two duties yousa could perform. One bein' ta distract Imperial inquiries into dissen station by destroyin' some Imperial fighters. Da other bein' ta protect inbound shipments of repair droids.
			string_id message = new string_id (c_stringFile, "s_475");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll distract the Empire for you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll protect inbound repair droid shipments.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_477");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_481");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_485");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 74);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Hmmm. Mesa hear yousa Rebels are good at keepin' a secret. If yousa'll help mesa wid somedin', mesa'll send some work yousa way. And mesa'll even let yousa land at da Rebel Base which mesa no supposin' to know about. See, mesa can keep a secret as okiday.
			string_id message = new string_id (c_stringFile, "s_489");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sounds good. What do you need me to do?
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks. I'm not interested.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_491");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_507");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 78);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Any mercenary assignments available?
	if (response == "s_170")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yousa wanna boom boom jobbas? Yousa looka list!
			string_id message = new string_id (c_stringFile, "s_172");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll hunt down tier 1 Imperial patrols
			boolean hasResponse0 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Imperial patrols
			boolean hasResponse1 = false;
			if (station_rori_condition_canAttackImperial (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Imperial patrols
			boolean hasResponse2 = false;
			if (station_rori_condition_canTakeTier5RebelDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rebel patrols
			boolean hasResponse3 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rebel patrols
			boolean hasResponse4 = false;
			if (station_rori_condition_canAttackRebel (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: I'll hunt down tier 5 Rebel patrols
			boolean hasResponse5 = false;
			if (station_rori_condition_canTakeTier5ImperialDuty (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Rogue Droids
			boolean hasResponse6 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse6 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Rogue Droids
			boolean hasResponse7 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse7 = true;
			}

			//-- PLAYER: I'll hunt down tier 1 Void Wing Pirates
			boolean hasResponse8 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse8 = true;
			}

			//-- PLAYER: I'll hunt down tier 2 Void Wing Pirates
			boolean hasResponse9 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse9 = true;
			}

			//-- PLAYER: Nothing here for me
			boolean hasResponse10 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse10 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_177");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_220");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_186");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_224");

				if (hasResponse6)
					responses [responseIndex++] = new string_id (c_stringFile, "s_190");

				if (hasResponse7)
					responses [responseIndex++] = new string_id (c_stringFile, "s_194");

				if (hasResponse8)
					responses [responseIndex++] = new string_id (c_stringFile, "s_198");

				if (hasResponse9)
					responses [responseIndex++] = new string_id (c_stringFile, "s_206");

				if (hasResponse10)
					responses [responseIndex++] = new string_id (c_stringFile, "s_214");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 84);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Okeyday! Wesa give usa landaway... Which Roritown yousa goen?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Narmle Starport.
	if (response == "s_337")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Allee clear! Yousen landaway now.
			string_id message = new string_id (c_stringFile, "s_339");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: On second thought, never mind.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_341");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_345");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Restuss Starport.
	if (response == "s_349")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Werry good! Restuss is waitin-now fer yousa!
			string_id message = new string_id (c_stringFile, "s_351");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Cancel that request.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_353");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_357");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The (Rebel) Outpost.
	if (response == "s_361")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Werry good! Tey is waitin-now fer yousa!
			string_id message = new string_id (c_stringFile, "s_363");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Cancel that request.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_365");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_369");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Homing Beacon.
	if (response == "s_157")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Werry good! Welcoms home %NU!
			string_id message = new string_id (c_stringFile, "s_158");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Cancel that request.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_159");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 46);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Allee clear! Yousen landaway now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_341")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_landAtNarmle (player, npc);

			//-- NPC: Wesa thankin yousa!
			string_id message = new string_id (c_stringFile, "s_343");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: On second thought, never mind.
	if (response == "s_345")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_347");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Werry good! Restuss is waitin-now fer yousa!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_353")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_landAtRestuss (player, npc);

			//-- NPC: Wesa thankin yousa!
			string_id message = new string_id (c_stringFile, "s_355");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cancel that request.
	if (response == "s_357")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_359");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Werry good! Tey is waitin-now fer yousa!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_365")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_landAtRebelOutpos (player, npc);

			//-- NPC: Wesa thankin yousa!
			string_id message = new string_id (c_stringFile, "s_367");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cancel that request.
	if (response == "s_369")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_371");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Werry good! Welcoms home %NU!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_159")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_landHoming (player, npc);

			//-- NPC: Wesa thankin yousa!
			string_id message = new string_id (c_stringFile, "s_161");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Cancel that request.
	if (response == "s_160")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_162");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oie Boie! You been crunchen, huh? Wesa gonna fix you up!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just fix a little.
	if (response == "s_377")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen some da crunchen to your ship. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_379");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_381");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 50);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost25 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost25 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Repair half the damage.
	if (response == "s_389")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen halfsies on da crunchen. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_391");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_393");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_397");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 53);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost50 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost50 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Repair most of the damage.
	if (response == "s_401")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen mossen all da crunchen. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_403");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_405");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_409");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 56);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost75 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost75 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fully repair my ship.
	if (response == "s_413")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: We fixen all dat crunchen fer %DI credits. Okeyday?
			string_id message = new string_id (c_stringFile, "s_415");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Okeyday!
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_421");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_425");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 59);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost100 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost100 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you sure you can repair my ship?
	if (response == "s_429")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: No problem, %TU! Wesa pitty good at dis!
			string_id message = new string_id (c_stringFile, "s_431");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, I want repairs.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Forget it. I'll get repairs somewhere else.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_433");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_437");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 63);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wesa fixen some da crunchen to your ship. You payin %DI credits?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_381")
	{
		station_rori_action_fix25 (player, npc);

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! We dood it!
			string_id message = new string_id (c_stringFile, "s_383");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_385")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_387");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wesa fixen halfsies on da crunchen. You payin %DI credits?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_393")
	{
		station_rori_action_fix50 (player, npc);

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! We dood it!
			string_id message = new string_id (c_stringFile, "s_395");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_397")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_399");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch56 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Wesa fixen mossen all da crunchen. You payin %DI credits?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_405")
	{
		station_rori_action_fix75 (player, npc);

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! We dood it!
			string_id message = new string_id (c_stringFile, "s_407");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_409")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_411");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: We fixen all dat crunchen fer %DI credits. Okeyday?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes.
	if (response == "s_417")
	{
		station_rori_action_fix100 (player, npc);

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: We dood it! Yousa allee bombad now!
			string_id message = new string_id (c_stringFile, "s_419");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.
	if (response == "s_421")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow, %NU!
			string_id message = new string_id (c_stringFile, "s_423");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcEndConversationWithMessage (player, pp);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okeyday!
	if (response == "s_425")
	{
		station_rori_action_fix100 (player, npc);

		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: We dood it! Yousa allee bombad now!
			string_id message = new string_id (c_stringFile, "s_427");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch63 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No problem, %TU! Wesa pitty good at dis!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Ok, I want repairs.
	if (response == "s_433")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Yuosa see, we fix dat crunchen an yousa been good en new.
			string_id message = new string_id (c_stringFile, "s_435");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Just fix a little.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Repair half the damage.
			boolean hasResponse1 = false;
			if (station_rori_condition_canAfford50 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Repair most of the damage.
			boolean hasResponse2 = false;
			if (station_rori_condition_canAfford75 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: Fully repair my ship.
			boolean hasResponse3 = false;
			if (station_rori_condition_canAfford100 (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Are you sure you can repair my ship?
			boolean hasResponse4 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_377");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_389");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_401");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_413");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_429");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Forget it. I'll get repairs somewhere else.
	if (response == "s_437")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_flagMeanPlayer (player, npc);

			//-- NPC: Yousa tink yous smarty den us-ens? Yousa tink yous brain so big. Yousa fixen dat crunchen on your own sef den!
			string_id message = new string_id (c_stringFile, "s_439");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch64 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yuosa see, we fix dat crunchen an yousa been good en new.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Just fix a little.
	if (response == "s_377")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen some da crunchen to your ship. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_379");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_381");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_385");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 50);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost25 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost25 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Repair half the damage.
	if (response == "s_389")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen halfsies on da crunchen. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_391");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_393");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_397");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 53);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost50 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost50 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Repair most of the damage.
	if (response == "s_401")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Wesa fixen mossen all da crunchen. You payin %DI credits?
			string_id message = new string_id (c_stringFile, "s_403");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_405");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_409");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 56);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost75 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost75 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Fully repair my ship.
	if (response == "s_413")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: We fixen all dat crunchen fer %DI credits. Okeyday?
			string_id message = new string_id (c_stringFile, "s_415");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: Okeyday!
			boolean hasResponse2 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_417");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_421");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_425");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 59);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost100 (player, npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);
				pp.digitInteger = station_rori_tokenDI_getStationRepairCost100 (player, npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you sure you can repair my ship?
	if (response == "s_429")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: No problem, %TU! Wesa pitty good at dis!
			string_id message = new string_id (c_stringFile, "s_431");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Ok, I want repairs.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Forget it. I'll get repairs somewhere else.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_433");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_437");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 63);

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcSpeak (player, pp);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				prose_package pp = new prose_package ();
				pp.stringId = message;
				pp.actor.set (player);
				pp.target.set (npc);

				npcEndConversationWithMessage (player, pp);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch66 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yin'. Yin'. Mesa got two duties for yousa. One bein' ta protect supply line for da Imperial force. Da other bein' ta reduce Rebel fighter activin' in dissen system.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll escort those supply ships.
	if (response == "s_445")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantImpEscortDuty (player, npc);

			//-- NPC: Da Imperial order says dat yousa are ta protect supply ships comin' into da system from bein' attackin' and destroyin' by Rebel fighters.
			string_id message = new string_id (c_stringFile, "s_447");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll fight Rebel ships.
	if (response == "s_449")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantImpDestroyDuty (player, npc);

			//-- NPC: Da Imperial order says dat da Rebels know too much about what's happenin' in dissen system. Yousa are ta knock dem down and disrupt deir efforts here.
			string_id message = new string_id (c_stringFile, "s_451");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_453")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow.
			string_id message = new string_id (c_stringFile, "s_455");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch70 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yin'. Mesa have two duties for yousa. Yousa can choose one. Da first bein' ta fight Borvo piratin' in da system. Da other bein' ta escort and protect incomin' dignitary transports from Black Sun attacks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll fight Borvo pirates.
	if (response == "s_461")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRsfDestroyDuty (player, npc);

			//-- NPC: Borvo's pirates have been causin' many problems lately. Yousa orders from da Queen are to take da fight to dese pirates and remind dem whosa controls dissen system. 
			string_id message = new string_id (c_stringFile, "s_463");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll escort the dignitary transports.
	if (response == "s_465")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRsfEscortDuty (player, npc);

			//-- NPC: Black Sun ships have been harassin' dignitary transports comin' to Naboo. Da Queen desirin' yousa help in protectin' dese ships.
			string_id message = new string_id (c_stringFile, "s_467");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_469")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow.
			string_id message = new string_id (c_stringFile, "s_471");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch74 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: For yousa, yin'! Yousa helpin' mesa, and now mesa help yousa. Mesa have two duties yousa could perform. One bein' ta distract Imperial inquiries into dissen station by destroyin' some Imperial fighters. Da other bein' ta protect inbound shipments of repair droids.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll distract the Empire for you.
	if (response == "s_477")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebelDestroyDuty (player, npc);

			//-- NPC: Thank yousa. Dissen will give those nosy Imperials somethin' else ta look into instead of mesa. Go destroy some Imperial fighters.
			string_id message = new string_id (c_stringFile, "s_479");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll protect inbound repair droid shipments.
	if (response == "s_481")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebelEscortDuty (player, npc);

			//-- NPC: Yin', thank yousa. Dose repair droids are awful important to dissen station. Without dem, wesa no able to make any repairs, but wesa also can't let anyone know wesa are usin' dem. Make sure dey arrive safely and in secret.
			string_id message = new string_id (c_stringFile, "s_483");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind.
	if (response == "s_485")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow.
			string_id message = new string_id (c_stringFile, "s_487");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch78 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmmm. Mesa hear yousa Rebels are good at keepin' a secret. If yousa'll help mesa wid somedin', mesa'll send some work yousa way. And mesa'll even let yousa land at da Rebel Base which mesa no supposin' to know about. See, mesa can keep a secret as okiday.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good. What do you need me to do?
	if (response == "s_491")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Um, yeah. Da fact bein', wesa no awful good at doin' ship repairs, so mesa usin' repair droids. Awful good repair droids. Da droids do everything and wesa no actually do anythin'. But mesa don't want dissen secret to get out. People might just buy da repair droids demselvin', and wesa'd lose all dat moolah.
			string_id message = new string_id (c_stringFile, "s_493");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Okay, I get it. Where do I come in?
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_495");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 79);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks. I'm not interested.
	if (response == "s_507")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow. And forget mesa mentionin' a Rebel Base on Rori, okay?
			string_id message = new string_id (c_stringFile, "s_509");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch79 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Um, yeah. Da fact bein', wesa no awful good at doin' ship repairs, so mesa usin' repair droids. Awful good repair droids. Da droids do everything and wesa no actually do anythin'. But mesa don't want dissen secret to get out. People might just buy da repair droids demselvin', and wesa'd lose all dat moolah.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Okay, I get it. Where do I come in?
	if (response == "s_495")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Mesa needin' yousa ta protect a shipment of repair droids on its way to dissen station. Borvo's pirates keep attackin' our shipments and tryin' ta disrupt station business. Escort da freighter ta a safe location where station transports can accept da delivery in secrecy.
			string_id message = new string_id (c_stringFile, "s_497");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'll do it.
			boolean hasResponse0 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: No thanks.
			boolean hasResponse1 = false;
			if (station_rori_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_499");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_503");

				utils.setScriptVar (player, "conversation.station_rori.branchId", 80);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.station_rori.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch80 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Mesa needin' yousa ta protect a shipment of repair droids on its way to dissen station. Borvo's pirates keep attackin' our shipments and tryin' ta disrupt station business. Escort da freighter ta a safe location where station transports can accept da delivery in secrecy.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll do it.
	if (response == "s_499")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_startRebStoryQuest_01 (player, npc);

			//-- NPC: Ah, much thank yousa! Make sure dose droids make it here safely.
			string_id message = new string_id (c_stringFile, "s_501");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No thanks.
	if (response == "s_503")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okeyday! Byenow. And forget mesa mentionin' a Rebel Base on Rori, okay?
			string_id message = new string_id (c_stringFile, "s_505");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int station_rori_handleBranch84 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yousa wanna boom boom jobbas? Yousa looka list!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 1 Imperial patrols
	if (response == "s_174")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebelDuty1 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_181");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 2 Imperial patrols
	if (response == "s_177")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebelDuty2 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_182");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 5 Imperial patrols
	if (response == "s_220")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantRebelDuty5 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_222");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 1 Rebel patrols
	if (response == "s_180")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantImperialDuty1 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_184");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 2 Rebel patrols
	if (response == "s_186")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantImperialDuty2 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_188");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 5 Rebel patrols
	if (response == "s_224")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantImperialDuty5 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_226");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 1 Rogue Droids
	if (response == "s_190")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantDroidDuty1 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_192");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 2 Rogue Droids
	if (response == "s_194")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantDroidDuty2 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_196");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 1 Void Wing Pirates
	if (response == "s_198")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantVoidDuty1 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_202");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'll hunt down tier 2 Void Wing Pirates
	if (response == "s_206")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			station_rori_action_grantVoidDuty2 (player, npc);

			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_210");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Nothing here for me
	if (response == "s_214")
	{
		//-- [NOTE] 
		if (station_rori_condition__defaultCondition (player, npc))
		{
			//-- NPC: Okey dokie!
			string_id message = new string_id (c_stringFile, "s_218");
			utils.removeScriptVar (player, "conversation.station_rori.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	setCondition (self, CONDITION_CONVERSABLE);	
	setObjVar(self, "convo.appearance", "object/mobile/space_comm_station_rori.iff" );
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setObjVar(self, "convo.appearance", "object/mobile/space_comm_station_rori.iff" );
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.station_rori");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (station_rori_condition_isTooFar (player, npc))
	{
		//-- NPC: Heyo-dalee, %TU! Yous comen hereabout.
		string_id message = new string_id (c_stringFile, "s_201");
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (station_rori_condition_isMeanPlayer (player, npc))
	{
		//-- NPC: Wesa no like yousa! You tink you so smarty!
		string_id message = new string_id (c_stringFile, "s_203");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I just want to land.
		boolean hasResponse0 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Just let me land, idiot.
		boolean hasResponse1 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I changed my mind, repair my ship.
		boolean hasResponse2 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: I'm sorry.
		boolean hasResponse3 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_205");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_209");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_213");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_217");

			utils.setScriptVar (player, "conversation.station_rori.branchId", 2);

			npcStartConversation (player, npc, "station_rori", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (station_rori_condition_canLandAtRebelBase (player, npc))
	{
		//-- NPC: Ello, boyos! Ah, 'tis yousa. mesa appreciate yousa help! Mesa have some work yousa can do if yousa want, and mesa'll also let yousa speedaway down at da Rebel Base on Rori if yousa wanna. Or yousa been crunchen?
		string_id message = new string_id (c_stringFile, "s_259");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I want to land.
		boolean hasResponse0 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need repairs.
		boolean hasResponse1 = false;
		if (station_rori_condition_canAfford25 (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Have any jobs for an Imperial Pilot?
		boolean hasResponse2 = false;
		if (station_rori_condition_eligibleForImpQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Do you know of any work for an RSF Pilot?
		boolean hasResponse3 = false;
		if (station_rori_condition_eligibleForRsfQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Would you have any work for a Rebel Pilot?
		boolean hasResponse4 = false;
		if (station_rori_condition_eligibleForRebQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		//-- PLAYER: Any mercenary assignments available?
		boolean hasResponse5 = false;
		if (station_rori_condition_canTakeQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse5 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_333");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_373");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_441");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_457");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_473");

			if (hasResponse5)
				responses [responseIndex++] = new string_id (c_stringFile, "s_170");

			utils.setScriptVar (player, "conversation.station_rori.branchId", 35);

			npcStartConversation (player, npc, "station_rori", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (station_rori_condition_isOnRebStoryQuest_01 (player, npc))
	{
		//-- NPC: Good, yousa back. But yousa no finishin' yet!
		string_id message = new string_id (c_stringFile, "s_261");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: What do I do next?
		boolean hasResponse0 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I want to land.
		boolean hasResponse1 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I need repairs.
		boolean hasResponse2 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_263");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_327");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_329");

			utils.setScriptVar (player, "conversation.station_rori.branchId", 15);

			npcStartConversation (player, npc, "station_rori", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (station_rori_condition__defaultCondition (player, npc))
	{
		//-- NPC: Ello, boyos! Yous wantin ta speedaway down ta Roritowns? Or yousa been crunchen?
		string_id message = new string_id (c_stringFile, "s_331");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I want to land.
		boolean hasResponse0 = false;
		if (station_rori_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I need repairs.
		boolean hasResponse1 = false;
		if (station_rori_condition_canAfford25 (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: Have any jobs for an Imperial Pilot?
		boolean hasResponse2 = false;
		if (station_rori_condition_eligibleForImpQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		//-- PLAYER: Do you know of any work for an RSF Pilot?
		boolean hasResponse3 = false;
		if (station_rori_condition_eligibleForRsfQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse3 = true;
		}

		//-- PLAYER: Would you have any work for a Rebel Pilot?
		boolean hasResponse4 = false;
		if (station_rori_condition_eligibleForRebQuests (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse4 = true;
		}

		//-- PLAYER: Any mercenary assignments available?
		boolean hasResponse5 = false;
		if (station_rori_condition_canTakeQuest (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse5 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_333");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_373");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_441");

			if (hasResponse3)
				responses [responseIndex++] = new string_id (c_stringFile, "s_457");

			if (hasResponse4)
				responses [responseIndex++] = new string_id (c_stringFile, "s_473");

			if (hasResponse5)
				responses [responseIndex++] = new string_id (c_stringFile, "s_170");

			utils.setScriptVar (player, "conversation.station_rori.branchId", 35);

			npcStartConversation (player, npc, "station_rori", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "station_rori")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.station_rori.branchId");

	if (branchId == 2 && station_rori_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && station_rori_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && station_rori_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && station_rori_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && station_rori_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && station_rori_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && station_rori_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && station_rori_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 14 && station_rori_handleBranch14 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && station_rori_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && station_rori_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && station_rori_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && station_rori_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && station_rori_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && station_rori_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && station_rori_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && station_rori_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && station_rori_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && station_rori_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && station_rori_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && station_rori_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && station_rori_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && station_rori_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && station_rori_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && station_rori_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 56 && station_rori_handleBranch56 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && station_rori_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 63 && station_rori_handleBranch63 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 64 && station_rori_handleBranch64 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 66 && station_rori_handleBranch66 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 70 && station_rori_handleBranch70 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 74 && station_rori_handleBranch74 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 78 && station_rori_handleBranch78 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 79 && station_rori_handleBranch79 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 80 && station_rori_handleBranch80 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 84 && station_rori_handleBranch84 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.station_rori.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

