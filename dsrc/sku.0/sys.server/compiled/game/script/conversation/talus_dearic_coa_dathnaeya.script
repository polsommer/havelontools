// ======================================================================
//
// talus_dearic_coa_dathnaeya.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/talus_dearic_coa_dathnaeya";

// ======================================================================
// Script Conditions
// ======================================================================

boolean talus_dearic_coa_dathnaeya_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_both_complete (obj_id player, obj_id npc)
{
	// If PC has completed both paths
	if (groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") &&
	groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_rebel_complete (obj_id player, obj_id npc)
{
	// If PC has not completed the Imperial path AND has completed the Rebel path
	if (!groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") &&
	groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_imperial_complete (obj_id player, obj_id npc)
{
	// If PC has completed the Imperial path AND has not completed the Rebel path
	if (groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") &&
	!groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_taarna_contact (obj_id player, obj_id npc)
{
	//checks if Taarna has referred PC to Dathnaeya
	return groundquests.isQuestActiveOrComplete(player, "talus_dearic_goto_dathnaeya");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_main_quest_active (obj_id player, obj_id npc)
{
	// checking for main quest being active
	return groundquests.isQuestActive(player, "talus_dearic_crisis_of_allegiance");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_task1or2complete (obj_id player, obj_id npc)
{
	// If PC has completed either path AND has spoken to both representatives
	if ((groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") || 
	groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end")) &&
	(groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_rebels_wfs") &&
	groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_imperials_wfs")))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_rebel_choice (obj_id player, obj_id npc)
{
	//checks for rebel choice
	boolean choseRebel = false;
	if(groundquests.hasCompletedQuest(player, "talus_dearic_crisis_of_allegiance"))
	{
		if(hasObjVar(player, "coa_dathnaeyas_choice"))
		{
			string choice = getStringObjVar(player, "coa_dathnaeyas_choice");
			if(choice != null && choice.equals("rebel"))
				choseRebel = true;
		}
	}
	return choseRebel;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_imperial_choice (obj_id player, obj_id npc)
{
	//checks for imperial choice
	boolean choseEmpire = false;
	if(groundquests.hasCompletedQuest(player, "talus_dearic_crisis_of_allegiance"))
	{
		if(hasObjVar(player, "coa_dathnaeyas_choice"))
		{
			string choice = getStringObjVar(player, "coa_dathnaeyas_choice");
			if(choice != null && choice.equals("empire"))
				choseEmpire = true;
		}
	}
	return choseEmpire;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_quellium_active (obj_id player, obj_id npc)
{
	// If the task to speak to Captain Quellium is active
	return groundquests.isTaskActive(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_rebels_wfs");
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_spk_to_not_cmplt (obj_id player, obj_id npc)
{
	// If PC has completed either path AND has not spoken to either Quellium or Ekirk
	if(groundquests.isQuestActive(player, "talus_dearic_crisis_of_allegiance"))
	{
		if ((groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") || 
		groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end")) &&
		(!groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_rebels_wfs") ||
		!groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_imperials_wfs")))
			return true;
		else
			return false;
	}
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_spk_reb_not_cmplt (obj_id player, obj_id npc)
{
	// If PC has completed the Imperial path but not yet spoken to Quellium
	if(groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end") &&
	!groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_rebels_wfs"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_spk_imp_not_cmplt (obj_id player, obj_id npc)
{
	// If PC has completed the Rebel path but not yet spoken to Ekirk
	if(groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end") &&
	!groundquests.hasCompletedTask(player, "talus_dearic_crisis_of_allegiance", "talus_dearic_coa_report_imperials_wfs"))
		return true;
	else
		return false;
}

// ----------------------------------------------------------------------

boolean talus_dearic_coa_dathnaeya_condition_need_COA_regrant (obj_id player, obj_id npc)
{
	if(!groundquests.isQuestActive(player, "talus_dearic_crisis_of_allegiance") &&
	(groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end") ||
	groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end")))
		return true;
	else
		return false;
}

// ======================================================================
// Script Actions
// ======================================================================

void talus_dearic_coa_dathnaeya_action_grant_main_quest (obj_id player, obj_id npc)
{
	// grants the quests to get things started
	groundquests.grantQuest(player, "talus_dearic_crisis_of_allegiance");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_missed_42_qst (obj_id player, obj_id npc)
{
	// grants the quests to move on to lvl 42 if the player missed it the first time
	if(!groundquests.isQuestActiveOrComplete(player, "talus_nashal_rescue_operation"))
		groundquests.grantQuest(player, "talus_nashal_rescue_operation");
	else
		return;
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_cmplt_reb_inv (obj_id player, obj_id npc)
{
	//If the PC has only done Imperial quest path but has spoken with Quellium complete Rebel investigation task
	groundquests.sendSignal(player, "talus_dearic_aclo_investigated");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_dath_chose_emp (obj_id player, obj_id npc)
{
	// Send the signal that the choice to join the Empire has been made
	groundquests.sendSignal(player, "talus_dearic_coa_dathnaeya_chose_empire");
	// sets an obj var on the char to remember that dathnaeya chose empire
	setObjVar(player, "coa_dathnaeyas_choice", "empire");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_dath_chose_reb (obj_id player, obj_id npc)
{
	// Send the signal that the choice to join the Alliance has been made
	groundquests.sendSignal(player, "talus_dearic_coa_dathnaeya_chose_alliance");
	// sets an obj var on the char to remember that dathnaeya chose rebel
	setObjVar(player, "coa_dathnaeyas_choice", "rebel");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_grant_42_quest (obj_id player, obj_id npc)
{
	// grants the quests to move on to lvl 42
	groundquests.grantQuest(player, "talus_nashal_rescue_operation");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_cmplt_tarna_goto (obj_id player, obj_id npc)
{
	//clears the goto quest from Taarna
	groundquests.sendSignal(player, "goto_dathnaeya_signal_01_01");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_cmplt_imp_inv (obj_id player, obj_id npc)
{
	//If the PC has only done Rebel quest path but has spoken with Ekirk complete Imperial investigation task
	groundquests.sendSignal(player, "talus_dearic_nsh_investigated");
}

// ----------------------------------------------------------------------

void talus_dearic_coa_dathnaeya_action_regrant_COA (obj_id player, obj_id npc)
{
	//If player has reached the point to convince Dathnaeya but deleted the COA quest
	groundquests.grantQuestNoAcceptUI(player, "talus_dearic_crisis_of_allegiance", false);
	
	if(groundquests.isQuestActiveOrComplete(player, "talus_dearic_coa_imperial_view"))
		groundquests.sendSignal(player, "talus_dearic_coa_spoke_with_ekirk");
	
	if(groundquests.isQuestActiveOrComplete(player, "talus_dearic_coa_rebel_view"))
		groundquests.sendSignal(player, "talus_dearic_coa_spoke_with_vayde");
		
	if(groundquests.hasCompletedQuest(player, "talus_dearic_coa_imperial_view_end"))
		groundquests.sendSignal(player, "talus_dearic_nsh_investigated");

	if(groundquests.hasCompletedQuest(player, "talus_dearic_coa_rebel_view_end"))
		groundquests.sendSignal(player, "talus_dearic_aclo_investigated");
}	

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int talus_dearic_coa_dathnaeya_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You were right about the Empire.  They bring order and stability to the chaos of the galaxy.  Bringing order to the galaxy IS compassionate.  I am glad I was able to make the logical choice.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was an honor.
	if (response == "s_169")
	{
		doAnimationAction (player, "bow");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_once");

			talus_dearic_coa_dathnaeya_action_missed_42_qst (player, npc);

			//-- NPC: Thank you.  Good day, citizen.
			string_id message = new string_id (c_stringFile, "s_170");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You were right about the Rebellion.  My heart has lifted.  The freedom they seek, the compassion they have towards all is worth fighting for, dying for even.  And they aren't as chaotic, as lawless as the Empire would have us believe.  Thank you so much for helping me choose the right path.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: It was my pleasure.
	if (response == "s_167")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pat");

			talus_dearic_coa_dathnaeya_action_missed_42_qst (player, npc);

			//-- NPC: May the Force be with you.
			string_id message = new string_id (c_stringFile, "s_168");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have been gone a long time, my friend.  I can feel the weight of the galaxy bearing down on us.  What have you found out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've gathered as much data as you need to make a proper decision.
	if (response == "s_42")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition_main_quest_active (player, npc))
		{
			doAnimationAction (player, "beckon");

			//-- NPC: Fantastic!  You don't know what this means to me.  Please, show me what you have discovered.
			string_id message = new string_id (c_stringFile, "s_45");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I observed both of them, just as you asked.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition_both_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I only needed to observe the Empire's affiliates.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition_imperial_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I only needed to observe the Rebels' allies.
			boolean hasResponse2 = false;
			if (talus_dearic_coa_dathnaeya_condition_rebel_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			talus_dearic_coa_dathnaeya_action_regrant_COA (player, npc);

			//-- NPC: Fantastic!  You don't know what this means to me.  Please, show me what you have found out.
			string_id message = new string_id (c_stringFile, "s_206");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I observed both of them, just as you asked.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition_both_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I only needed to observe the Empire's affiliates.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition_imperial_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: I only needed to observe the Rebels' allies.
			boolean hasResponse2 = false;
			if (talus_dearic_coa_dathnaeya_condition_rebel_complete (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_46");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_47");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm not done yet.  I just stopped by to see how you were.
	if (response == "s_105")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			//-- NPC: Oh.  I appreciate your concern.  I am weary of this burden, tired from being pulled in both ways.  I'm ready to make a decision and move forward.  Thank you for stopping in to check on me.  Please return soon with your findings.
			string_id message = new string_id (c_stringFile, "s_107");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_165");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fantastic!  You don't know what this means to me.  Please, show me what you have discovered.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I observed both of them, just as you asked.
	if (response == "s_46")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			//-- NPC: Let me see your report.  Taarna was right, you are very thorough, and honest in your work.  What were your impressions of either side?
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebels are compassionate freedom fighters, not terrorists as the Empire would have us believe.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Empire is dedicated to maintaining order and stability in the galaxy as the rightful government.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I only needed to observe the Empire's affiliates.
	if (response == "s_47")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			doAnimationAction (player, "nod_head_once");

			//-- NPC: I see.  Give me a minute to look over the data.  Your investigation of the Imperial allies was very thorough, and I see here that you at least spoke with Quellium.  That's good.  So, what did you think of Colonel Ekirk and the Empire?
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Colonel Ekirk is doing the same job you are with CorSec, bringing criminals to justice.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Colonel Ekirk and his cronies are evil, racist, sexist, bigots.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I only needed to observe the Rebels' allies.
	if (response == "s_50")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			//-- NPC: I see.  Give me a minute to look over the data.  Ah, this is a very thorough job.  Taarna was indeed right about you.  So, what did you think of Captain Quellium and the Rebels?
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebels fight for a good cause.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: These Rebels are terrorists.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Let me see your report.  Taarna was right, you are very thorough, and honest in your work.  What were your impressions of either side?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Rebels are compassionate freedom fighters, not terrorists as the Empire would have us believe.
	if (response == "s_76")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			doAnimationAction (player, "explain");

			//-- NPC: I see here that the Empire's affiliates resort to torture unnecessarily.  I also notice that almost everyone you spoke with in the Nightstrike Hegemony were human males.  It seems there would be no place for me in the Empire.
			string_id message = new string_id (c_stringFile, "s_78");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Law without mercy, order without compassion, duty without love.  That is the Empire.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_79");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Empire is dedicated to maintaining order and stability in the galaxy as the rightful government.
	if (response == "s_77")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			//-- NPC: I see here that the A.C.L.O. does a lot of killing and sabotage, even though they claim to be a peaceful political group and medical supply company.
			string_id message = new string_id (c_stringFile, "s_83");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Freedom without responsibility, action without authority.  The Rebels are anarchists and terrorists.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_84");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see here that the Empire's affiliates resort to torture unnecessarily.  I also notice that almost everyone you spoke with in the Nightstrike Hegemony were human males.  It seems there would be no place for me in the Empire.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Law without mercy, order without compassion, duty without love.  That is the Empire.
	if (response == "s_79")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "rub_chin_thoughtful");

			talus_dearic_coa_dathnaeya_action_dath_chose_reb (player, npc);

			//-- NPC: The data and your arguments are compelling.  I will contact Captain Quellium and tell him that I want to join the Rebellion.  Here are the credits I promised.  You don't know what it means to me that you have done this for me.  You have my eternal thanks.
			string_id message = new string_id (c_stringFile, "s_80");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I was glad to help, officer Loessin.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_81");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: The data and your arguments are compelling.  I will contact Captain Quellium and tell him that I want to join the Rebellion.  Here are the credits I promised.  You don't know what it means to me that you have done this for me.  You have my eternal thanks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was glad to help, officer Loessin.
	if (response == "s_81")
	{
		doAnimationAction (player, "standing_placate");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "handshake_tandem");

			doAnimationAction (player, "handshake_tandem");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: Dathnaeya, please.  And may the Force be with you.
			string_id message = new string_id (c_stringFile, "s_82");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see here that the A.C.L.O. does a lot of killing and sabotage, even though they claim to be a peaceful political group and medical supply company.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Freedom without responsibility, action without authority.  The Rebels are anarchists and terrorists.
	if (response == "s_84")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			talus_dearic_coa_dathnaeya_action_dath_chose_emp (player, npc);

			//-- NPC: You make a compelling argument, and this report backs it up.  I will report to Colonel Ekirk and inform him of my decision to join the Empire.  Here is the agreed upon payment for your assistance.  I appreciate your efforts.
			string_id message = new string_id (c_stringFile, "s_85");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Glad to help, Dathnaeya.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_86");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You make a compelling argument, and this report backs it up.  I will report to Colonel Ekirk and inform him of my decision to join the Empire.  Here is the agreed upon payment for your assistance.  I appreciate your efforts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Glad to help, Dathnaeya.
	if (response == "s_86")
	{
		doAnimationAction (player, "offer_affection");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "refuse_offer_affection");

			doAnimationAction (player, "taken_aback");

			//-- NPC: Hmm, I must insist on officer Loessin to you.  Remember, responsibility and authority.  
			string_id message = new string_id (c_stringFile, "s_87");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes...officer.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_183");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 13);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch13 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm, I must insist on officer Loessin to you.  Remember, responsibility and authority.  

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes...officer.
	if (response == "s_183")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: Good day...citizen.
			string_id message = new string_id (c_stringFile, "s_184");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see.  Give me a minute to look over the data.  Your investigation of the Imperial allies was very thorough, and I see here that you at least spoke with Quellium.  That's good.  So, what did you think of Colonel Ekirk and the Empire?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Colonel Ekirk is doing the same job you are with CorSec, bringing criminals to justice.
	if (response == "s_63")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: I've heard some view the Empire as harsh, discompassionate, even evil.  While Colonel Ekirk is sometimes a bit more strict that I would be in the same situation, I don't see him as evil at all, just dedicated.
			string_id message = new string_id (c_stringFile, "s_65");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Exactly.  Ekirk knows that rebellion is the true evil and does what he must to contain it.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_66");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Colonel Ekirk and his cronies are evil, racist, sexist, bigots.
	if (response == "s_64")
	{
		doAnimationAction (player, "wave_finger_warning");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "taken_aback");

			doAnimationAction (player, "nod_head_multiple");

			talus_dearic_coa_dathnaeya_action_cmplt_reb_inv (player, npc);

			//-- NPC: That's a bit harsh, don't you think?  I know that Ekirk can be strict, but evil?
			string_id message = new string_id (c_stringFile, "s_70");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Look at the data.  Torture? Only human males in the officer ranks.  It's all there.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_71");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 19);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've heard some view the Empire as harsh, discompassionate, even evil.  While Colonel Ekirk is sometimes a bit more strict that I would be in the same situation, I don't see him as evil at all, just dedicated.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Exactly.  Ekirk knows that rebellion is the true evil and does what he must to contain it.
	if (response == "s_66")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			talus_dearic_coa_dathnaeya_action_dath_chose_emp (player, npc);

			//-- NPC: Your report certainly backs that up.  Very well, I will report to Colonel Ekirk and inform him of my decision to join the Imperial Officers Corps.  Here is the promised reward for your services.
			string_id message = new string_id (c_stringFile, "s_67");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I know you will be a valuable asset to the Empire.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 17);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch17 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Your report certainly backs that up.  Very well, I will report to Colonel Ekirk and inform him of my decision to join the Imperial Officers Corps.  Here is the promised reward for your services.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I know you will be a valuable asset to the Empire.
	if (response == "s_68")
	{
		doAnimationAction (player, "nod_head_multiple");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: I appreciate that.  Good day...citizen.
			string_id message = new string_id (c_stringFile, "s_69");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch19 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: That's a bit harsh, don't you think?  I know that Ekirk can be strict, but evil?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Look at the data.  Torture? Only human males in the officer ranks.  It's all there.
	if (response == "s_71")
	{
		doAnimationAction (player, "implore");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			doAnimationAction (player, "taken_aback");

			talus_dearic_coa_dathnaeya_action_dath_chose_reb (player, npc);

			//-- NPC: Hmm...yes.  I...I just didn't want to see it before, being an officer of the law myself.  But you are right.  Law without mercy, compassion without individual freedoms is oppression, tyranny!  Here is the credits I promised you.  I'm so angry now, I can't see straight!  I'm going to Captain Quellium and signing up, right after I give Ekirk a piece of my mind!
			string_id message = new string_id (c_stringFile, "s_72");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Heh.  Well, don't get into too much trouble.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_73");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 20);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch20 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm...yes.  I...I just didn't want to see it before, being an officer of the law myself.  But you are right.  Law without mercy, compassion without individual freedoms is oppression, tyranny!  Here is the credits I promised you.  I'm so angry now, I can't see straight!  I'm going to Captain Quellium and signing up, right after I give Ekirk a piece of my mind!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Heh.  Well, don't get into too much trouble.
	if (response == "s_73")
	{
		doAnimationAction (player, "belly_laugh");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			doAnimationAction (player, "belly_laugh");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: I'm not the one in trouble here.  I'll see you around.  Thanks for your help.
			string_id message = new string_id (c_stringFile, "s_74");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see.  Give me a minute to look over the data.  Ah, this is a very thorough job.  Taarna was indeed right about you.  So, what did you think of Captain Quellium and the Rebels?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: The Rebels fight for a good cause.
	if (response == "s_54")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: You don't think they are terrorists?
			string_id message = new string_id (c_stringFile, "s_56");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: No.  They are compassionate, moral people fighting for freedom from tyranny.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_58");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: These Rebels are terrorists.
	if (response == "s_92")
	{
		doAnimationAction (player, "pound_fist_palm");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "taken_aback");

			talus_dearic_coa_dathnaeya_action_cmplt_imp_inv (player, npc);

			//-- NPC: But Captain Quellium seemed kind, not the terrorist type.  I agree that some of their actions seem a bit drastic at times.
			string_id message = new string_id (c_stringFile, "s_94");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: As an officer of the law, you should be locking these people up, not thinking of joining them.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_96");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 26);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You don't think they are terrorists?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No.  They are compassionate, moral people fighting for freedom from tyranny.
	if (response == "s_58")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			talus_dearic_coa_dathnaeya_action_dath_chose_reb (player, npc);

			//-- NPC: This report backs that up.  Very well, I have made my choice.  I will contact Captain Quellium and tell him to sign me up.  I can not tell you how much you have helped me.  Here are the promised credits, only a small symbol of my thanks.
			string_id message = new string_id (c_stringFile, "s_60");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I was glad to help.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_88");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 24);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch24 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This report backs that up.  Very well, I have made my choice.  I will contact Captain Quellium and tell him to sign me up.  I can not tell you how much you have helped me.  Here are the promised credits, only a small symbol of my thanks.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I was glad to help.
	if (response == "s_88")
	{
		doAnimationAction (player, "bow");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "curtsey1");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: Thank you.  May the Force be with you.
			string_id message = new string_id (c_stringFile, "s_90");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch26 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: But Captain Quellium seemed kind, not the terrorist type.  I agree that some of their actions seem a bit drastic at times.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: As an officer of the law, you should be locking these people up, not thinking of joining them.
	if (response == "s_96")
	{
		doAnimationAction (player, "point_accusingly");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod_head_multiple");

			doAnimationAction (player, "tap_foot");

			talus_dearic_coa_dathnaeya_action_dath_chose_emp (player, npc);

			//-- NPC: Yes, of course.  You are right.  No matter how passionate you feel about something, there is never a reasonable excuse to rebel against the rightful government at any level.  One should work within the system to make changes, and the Empire does listen.  I will turn Captain Quellium in to Colonel Ekirk and enlist there.  Here is the payment I promised you for your efforts.
			string_id message = new string_id (c_stringFile, "s_98");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thanks.  I know you will be a valuable asset to the Empire.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_100");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 27);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course.  You are right.  No matter how passionate you feel about something, there is never a reasonable excuse to rebel against the rightful government at any level.  One should work within the system to make changes, and the Empire does listen.  I will turn Captain Quellium in to Colonel Ekirk and enlist there.  Here is the payment I promised you for your efforts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thanks.  I know you will be a valuable asset to the Empire.
	if (response == "s_100")
	{
		doAnimationAction (player, "salute2");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			talus_dearic_coa_dathnaeya_action_grant_42_quest (player, npc);

			//-- NPC: I appreciate that.  Good day...citizen.
			string_id message = new string_id (c_stringFile, "s_102");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Fantastic!  You don't know what this means to me.  Please, show me what you have found out.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I observed both of them, just as you asked.
	if (response == "s_46")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			//-- NPC: Let me see your report.  Taarna was right, you are very thorough, and honest in your work.  What were your impressions of either side?
			string_id message = new string_id (c_stringFile, "s_75");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebels are compassionate freedom fighters, not terrorists as the Empire would have us believe.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: The Empire is dedicated to maintaining order and stability in the galaxy as the rightful government.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_76");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_77");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I only needed to observe the Empire's affiliates.
	if (response == "s_47")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			doAnimationAction (player, "nod_head_once");

			//-- NPC: I see.  Give me a minute to look over the data.  Your investigation of the Imperial allies was very thorough, and I see here that you at least spoke with Quellium.  That's good.  So, what did you think of Colonel Ekirk and the Empire?
			string_id message = new string_id (c_stringFile, "s_62");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Colonel Ekirk is doing the same job you are with CorSec, bringing criminals to justice.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Colonel Ekirk and his cronies are evil, racist, sexist, bigots.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_63");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 15);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I only needed to observe the Rebels' allies.
	if (response == "s_50")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "paper");

			//-- NPC: I see.  Give me a minute to look over the data.  Ah, this is a very thorough job.  Taarna was indeed right about you.  So, what did you think of Captain Quellium and the Rebels?
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: The Rebels fight for a good cause.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: These Rebels are terrorists.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_92");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 22);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Oh.  I appreciate your concern.  I am weary of this burden, tired from being pulled in both ways.  I'm ready to make a decision and move forward.  Thank you for stopping in to check on me.  Please return soon with your findings.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will.
	if (response == "s_165")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "dream");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_166");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It is good to see you again my friend.  What have you found out?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I've gathered enough data for you to make a proper decision. 
	if (response == "s_219")
	{
		doAnimationAction (player, "manipulate_medium");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition_spk_reb_not_cmplt (player, npc))
		{
			//-- NPC: Please, let me see what you have.  There is quite a bit here on the Empire, but you haven't spoken to Captain Quellium yet?
			string_id message = new string_id (c_stringFile, "s_220");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I didn't see the need.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_223");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition_spk_imp_not_cmplt (player, npc))
		{
			//-- NPC: Please, let me see what you have.  There is quite a bit here on the Alliance, but you haven't spoken to Colonel Ekirk yet?
			string_id message = new string_id (c_stringFile, "s_221");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I don't see the need.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_227");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 36);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			//-- NPC: <<<You should not get this branch!!!  Please report if you do.>>> 
			string_id message = new string_id (c_stringFile, "s_222");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a bit lost.  Can you tell me where your contacts are again?
	if (response == "s_231")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: It isn't that easy.  I need more than just your gut feeling.  I want hard data.  Would you be willing to gather it for me?
			string_id message = new string_id (c_stringFile, "s_178");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it this is going to be involved?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is a decision you need to make on your own.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_182");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please, let me see what you have.  There is quite a bit here on the Empire, but you haven't spoken to Captain Quellium yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I didn't see the need.
	if (response == "s_223")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would like for you to speak to Quellium before I make a decision.  That way I can at least gauge your feelings about the Rebel Officer, if not his allies.
			string_id message = new string_id (c_stringFile, "s_224");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Alright, I'll speak to Quellium.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_225");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would like for you to speak to Quellium before I make a decision.  That way I can at least gauge your feelings about the Rebel Officer, if not his allies.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll speak to Quellium.
	if (response == "s_225")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thanks for understanding.
			string_id message = new string_id (c_stringFile, "s_226");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch36 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please, let me see what you have.  There is quite a bit here on the Alliance, but you haven't spoken to Colonel Ekirk yet?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I don't see the need.
	if (response == "s_227")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			//-- NPC: I would like for you to speak to Ekirk before I make a decision.  That way I can at least gauge your feelings about the Imperial Officer, if not his allies.
			string_id message = new string_id (c_stringFile, "s_228");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Alright, I'll talk to Ekirk.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_229");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 37);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch37 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I would like for you to speak to Ekirk before I make a decision.  That way I can at least gauge your feelings about the Imperial Officer, if not his allies.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Alright, I'll talk to Ekirk.
	if (response == "s_229")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			//-- NPC: Thank you for understanding.
			string_id message = new string_id (c_stringFile, "s_230");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I know the task I've asked of you is complex, but I can not make this decision lightly.  Please be careful and bring me something that allows me to make the right decision.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do my best.
	if (response == "s_151")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			//-- NPC: Thank you.
			string_id message = new string_id (c_stringFile, "s_153");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm lost.  Can you tell me where to find the two men you spoke of?
	if (response == "s_152")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "survey");

			//-- NPC: Yes, of course.  Colonel Ekirk is in the Imperial office on the very north-central side of Dearic.  Just head north from the bank and you'll see it.  Captain Quellium is west of here.  He operates out of a tiny building south of the Starport on the outskirts of town.
			string_id message = new string_id (c_stringFile, "s_154");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_163");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes, of course.  Colonel Ekirk is in the Imperial office on the very north-central side of Dearic.  Just head north from the bank and you'll see it.  Captain Quellium is west of here.  He operates out of a tiny building south of the Starport on the outskirts of town.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you.
	if (response == "s_163")
	{
		doAnimationAction (player, "thank");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Please take care.
			string_id message = new string_id (c_stringFile, "s_164");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hello, again.  What do you need?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Um, I forgot what you wanted me to do.
	if (response == "s_210")
	{
		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			talus_dearic_coa_dathnaeya_action_regrant_COA (player, npc);

			//-- NPC: Oh.  I would like for you to investigate the Imperials and Rebels and provide enough information for me to choose which side to join in this Galactic conflict.
			string_id message = new string_id (c_stringFile, "s_211");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch46 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I stand here often, staring up at the stars, and all I can see is war.  I feel it moving to envelope me though I've tried to avoid it.  If I remain on the side and do nothing, I know I will be destroyed for certain.  My name is Dathnaeya Loessin.  Agent Taarna said you are thorough, efficient, and more importantly, wise.  I need you to help me now, as you helped him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I appreciate Taarna's compliment.  What do you need me to do?
	if (response == "s_138")
	{
		doAnimationAction (player, "thank");

		talus_dearic_coa_dathnaeya_action_cmplt_tarna_goto (player, npc);

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "sigh_deeply");

			//-- NPC: I need you to help me choose which side in this conflict to join.  Empire or Rebellion.
			string_id message = new string_id (c_stringFile, "s_140");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it you want more than my personal opinion?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: That's easy.  Join the Rebellion!
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: That's easy.  Join the Empire!
			boolean hasResponse2 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_142");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_174");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_176");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I do not have time to help you with your personal problems.
	if (response == "s_188")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			//-- NPC: Perhaps Taarna was wrong.  I am sorry to have bothered you.
			string_id message = new string_id (c_stringFile, "s_190");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sorry to bother.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_192");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 55);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I need you to help me choose which side in this conflict to join.  Empire or Rebellion.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it you want more than my personal opinion?
	if (response == "s_142")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Yes.  There are two officers of either side here in Dearic.  They both are evaluating two independent organizations to integrate into a more permanent association with their side.  They are recruiting individuals for an outside opinion.  I'd like for you to investigate these two organizations to see what kind of people each side is looking to hire.  That should give me enough information to determine which side in this war I want to join.
			string_id message = new string_id (c_stringFile, "s_144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You want me to evaluate BOTH organizations?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's easy.  Join the Rebellion!
	if (response == "s_174")
	{
		doAnimationAction (player, "snap_finger1");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: It isn't that easy.  I need more than just your gut feeling.  I want hard data.  Would you be willing to gather it for me?
			string_id message = new string_id (c_stringFile, "s_178");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it this is going to be involved?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is a decision you need to make on your own.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_182");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: That's easy.  Join the Empire!
	if (response == "s_176")
	{
		doAnimationAction (player, "snap_finger2");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slow_down");

			//-- NPC: It isn't that easy.  I need more than just your gut feeling.  I want hard data.  Would you be willing to gather it for me?
			string_id message = new string_id (c_stringFile, "s_178");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I take it this is going to be involved?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is a decision you need to make on your own.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_180");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_182");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 53);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch48 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes.  There are two officers of either side here in Dearic.  They both are evaluating two independent organizations to integrate into a more permanent association with their side.  They are recruiting individuals for an outside opinion.  I'd like for you to investigate these two organizations to see what kind of people each side is looking to hire.  That should give me enough information to determine which side in this war I want to join.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You want me to evaluate BOTH organizations?
	if (response == "s_146")
	{
		doAnimationAction (player, "taken_aback");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "standing_placate");

			doAnimationAction (player, "taken_aback");

			//-- NPC: Yes.  Please speak to the Imperial and Rebel officers here in Dearic for further information.  Do whatever it is they need you to do that is not a violation of your personal moral code.  I have a small account set aside by which I can pay you for your efforts.
			string_id message = new string_id (c_stringFile, "s_148");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will see what I can find out.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: This is a decision you need to make on your own.
			boolean hasResponse1 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_150");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_160");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 49);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch49 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes.  Please speak to the Imperial and Rebel officers here in Dearic for further information.  Do whatever it is they need you to do that is not a violation of your personal moral code.  I have a small account set aside by which I can pay you for your efforts.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will see what I can find out.
	if (response == "s_150")
	{
		doAnimationAction (player, "shrug_shoulders");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "thank");

			doAnimationAction (player, "thumbs_up");

			talus_dearic_coa_dathnaeya_action_grant_main_quest (player, npc);

			//-- NPC: Thank you.  I have just made appointments with the two people you need to speak with.  Colonel Ekirk works out of the Imperial Office here in Dearic.  It is on the outskirts of town due north of the bank.  Captain Quellium works out of the Wideband Temp Agency, a front company for Rebel recruiting located west of town, due south of the Starport.  Return to me with any data that you think is convincing for either side.
			string_id message = new string_id (c_stringFile, "s_156");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I will do what I can, Ms. Loessin.
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_161");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 50);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is a decision you need to make on your own.
	if (response == "s_160")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: I suppose you are right.  Thank you for your time.
			string_id message = new string_id (c_stringFile, "s_172");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch50 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Thank you.  I have just made appointments with the two people you need to speak with.  Colonel Ekirk works out of the Imperial Office here in Dearic.  It is on the outskirts of town due north of the bank.  Captain Quellium works out of the Wideband Temp Agency, a front company for Rebel recruiting located west of town, due south of the Starport.  Return to me with any data that you think is convincing for either side.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I will do what I can, Ms. Loessin.
	if (response == "s_161")
	{
		doAnimationAction (player, "bow");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "curtsey1");

			//-- NPC: Please be careful.
			string_id message = new string_id (c_stringFile, "s_162");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch53 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It isn't that easy.  I need more than just your gut feeling.  I want hard data.  Would you be willing to gather it for me?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I take it this is going to be involved?
	if (response == "s_180")
	{
		doAnimationAction (player, "sigh_deeply");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: Yes.  There are two officers of either side here in Dearic.  They both are evaluating two independent organizations to integrate into a more permanent association with their side.  They are recruiting individuals for an outside opinion.  I'd like for you to investigate these two organizations to see what kind of people each side is looking to hire.  That should give me enough information to determine which side in this war I want to join.
			string_id message = new string_id (c_stringFile, "s_144");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: You want me to evaluate BOTH organizations?
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_146");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 48);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: This is a decision you need to make on your own.
	if (response == "s_182")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "sigh_deeply");

			doAnimationAction (player, "bow");

			//-- NPC: I suppose you are right.  Thank you for your time.
			string_id message = new string_id (c_stringFile, "s_186");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch55 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Perhaps Taarna was wrong.  I am sorry to have bothered you.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry to bother.
	if (response == "s_192")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "slump_head");

			//-- NPC: Do not worry about it.
			string_id message = new string_id (c_stringFile, "s_195");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch57 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hello there.  Can I help you with something?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No, nothing.  Thank you.
	if (response == "s_199")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (player, "goodbye");

			//-- NPC: Have a good day.
			string_id message = new string_id (c_stringFile, "s_201");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm looking for directions to the bank.
	if (response == "s_203")
	{
		doAnimationAction (player, "explain");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_right");

			//-- NPC: It's easy.  Go north of this building till you get to the hotel.  Go to the north side of the hotel then turn west.  You will pass the bank on the north and the cantina on the east.  The starport is the big building directly opposite the cantina.  You can't miss it.
			string_id message = new string_id (c_stringFile, "s_205");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I appreciate it!
			boolean hasResponse0 = false;
			if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_208");

				utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 59);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int talus_dearic_coa_dathnaeya_handleBranch59 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's easy.  Go north of this building till you get to the hotel.  Go to the north side of the hotel then turn west.  You will pass the bank on the north and the cantina on the east.  The starport is the big building directly opposite the cantina.  You can't miss it.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I appreciate it!
	if (response == "s_208")
	{
		doAnimationAction (player, "thank");

		//-- [NOTE] 
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "goodbye");

			//-- NPC: Glad to help.
			string_id message = new string_id (c_stringFile, "s_213");
			utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.talus_dearic_coa_dathnaeya");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.talus_dearic_coa_dathnaeya");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_imperial_choice (player, npc))
	{
		doAnimationAction (npc, "salute1");

		doAnimationAction (player, "salute2");

		//-- NPC: You were right about the Empire.  They bring order and stability to the chaos of the galaxy.  Bringing order to the galaxy IS compassionate.  I am glad I was able to make the logical choice.
		string_id message = new string_id (c_stringFile, "s_12");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was an honor.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_169");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 1);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_rebel_choice (player, npc))
	{
		doAnimationAction (npc, "offer_affection");

		doAnimationAction (player, "accept_affection");

		//-- NPC: You were right about the Rebellion.  My heart has lifted.  The freedom they seek, the compassion they have towards all is worth fighting for, dying for even.  And they aren't as chaotic, as lawless as the Empire would have us believe.  Thank you so much for helping me choose the right path.
		string_id message = new string_id (c_stringFile, "s_7");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: It was my pleasure.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_167");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 3);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_task1or2complete (player, npc))
	{
		doAnimationAction (npc, "dream");

		//-- NPC: You have been gone a long time, my friend.  I can feel the weight of the galaxy bearing down on us.  What have you found out?
		string_id message = new string_id (c_stringFile, "s_11");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've gathered as much data as you need to make a proper decision.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm not done yet.  I just stopped by to see how you were.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_42");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_105");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 5);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_spk_to_not_cmplt (player, npc))
	{
		doAnimationAction (npc, "greet");

		doAnimationAction (player, "greet");

		//-- NPC: It is good to see you again my friend.  What have you found out?
		string_id message = new string_id (c_stringFile, "s_194");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I've gathered enough data for you to make a proper decision. 
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a bit lost.  Can you tell me where your contacts are again?
		boolean hasResponse1 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_219");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_231");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 32);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_main_quest_active (player, npc))
	{
		doAnimationAction (npc, "explain");

		//-- NPC: I know the task I've asked of you is complex, but I can not make this decision lightly.  Please be careful and bring me something that allows me to make the right decision.
		string_id message = new string_id (c_stringFile, "s_125");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I will do my best.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm lost.  Can you tell me where to find the two men you spoke of?
		boolean hasResponse1 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_151");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_152");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 40);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_need_COA_regrant (player, npc))
	{
		//-- NPC: Hello, again.  What do you need?
		string_id message = new string_id (c_stringFile, "s_209");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Um, I forgot what you wanted me to do.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_210");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 44);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition_taarna_contact (player, npc))
	{
		doAnimationAction (npc, "dream");

		//-- NPC: I stand here often, staring up at the stars, and all I can see is war.  I feel it moving to envelope me though I've tried to avoid it.  If I remain on the side and do nothing, I know I will be destroyed for certain.  My name is Dathnaeya Loessin.  Agent Taarna said you are thorough, efficient, and more importantly, wise.  I need you to help me now, as you helped him.
		string_id message = new string_id (c_stringFile, "s_136");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I appreciate Taarna's compliment.  What do you need me to do?
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I do not have time to help you with your personal problems.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_138");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_188");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 46);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "greet");

		//-- NPC: Hello there.  Can I help you with something?
		string_id message = new string_id (c_stringFile, "s_197");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: No, nothing.  Thank you.
		boolean hasResponse0 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm looking for directions to the bank.
		boolean hasResponse1 = false;
		if (talus_dearic_coa_dathnaeya_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_199");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_203");

			utils.setScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId", 57);

			npcStartConversation (player, npc, "talus_dearic_coa_dathnaeya", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "talus_dearic_coa_dathnaeya")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

	if (branchId == 1 && talus_dearic_coa_dathnaeya_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && talus_dearic_coa_dathnaeya_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && talus_dearic_coa_dathnaeya_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && talus_dearic_coa_dathnaeya_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && talus_dearic_coa_dathnaeya_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && talus_dearic_coa_dathnaeya_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && talus_dearic_coa_dathnaeya_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && talus_dearic_coa_dathnaeya_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && talus_dearic_coa_dathnaeya_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 13 && talus_dearic_coa_dathnaeya_handleBranch13 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && talus_dearic_coa_dathnaeya_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && talus_dearic_coa_dathnaeya_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 17 && talus_dearic_coa_dathnaeya_handleBranch17 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 19 && talus_dearic_coa_dathnaeya_handleBranch19 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 20 && talus_dearic_coa_dathnaeya_handleBranch20 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && talus_dearic_coa_dathnaeya_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && talus_dearic_coa_dathnaeya_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 24 && talus_dearic_coa_dathnaeya_handleBranch24 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 26 && talus_dearic_coa_dathnaeya_handleBranch26 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && talus_dearic_coa_dathnaeya_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && talus_dearic_coa_dathnaeya_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && talus_dearic_coa_dathnaeya_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && talus_dearic_coa_dathnaeya_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && talus_dearic_coa_dathnaeya_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && talus_dearic_coa_dathnaeya_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 36 && talus_dearic_coa_dathnaeya_handleBranch36 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 37 && talus_dearic_coa_dathnaeya_handleBranch37 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && talus_dearic_coa_dathnaeya_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && talus_dearic_coa_dathnaeya_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && talus_dearic_coa_dathnaeya_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 46 && talus_dearic_coa_dathnaeya_handleBranch46 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && talus_dearic_coa_dathnaeya_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 48 && talus_dearic_coa_dathnaeya_handleBranch48 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 49 && talus_dearic_coa_dathnaeya_handleBranch49 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 50 && talus_dearic_coa_dathnaeya_handleBranch50 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 53 && talus_dearic_coa_dathnaeya_handleBranch53 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 55 && talus_dearic_coa_dathnaeya_handleBranch55 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 57 && talus_dearic_coa_dathnaeya_handleBranch57 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 59 && talus_dearic_coa_dathnaeya_handleBranch59 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.talus_dearic_coa_dathnaeya.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

