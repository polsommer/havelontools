// ======================================================================
//
// eisley_thranta_brok_terminal.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.36 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.groundquests;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/eisley_thranta_brok_terminal";

// ======================================================================
// Script Conditions
// ======================================================================

boolean eisley_thranta_brok_terminal_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean eisley_thranta_brok_terminal_condition_onBrokTerminal (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "tatooine_eisley_drensbounty_v2", "tat_eisley_drensbounty_e5") ||
			groundquests.hasCompletedTask(player, "tatooine_eisley_drensbounty_v2", "tat_eisley_drensbounty_e5"));
}

// ======================================================================
// Script Actions
// ======================================================================

void eisley_thranta_brok_terminal_action_signalBrokTerminal (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "tat_eisley_drensbounty_e5");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int eisley_thranta_brok_terminal_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Brok Ziam's Personal Data Terminal.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Enter Brok's Password]
	if (response == "s_6")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Please select from the following options:
			string_id message = new string_id (c_stringFile, "s_8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Personal Journal]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Appointment Manager]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Comm Directory]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_10");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Enter Password]
	if (response == "s_70")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Access Denied.
			string_id message = new string_id (c_stringFile, "s_72");
			utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Please select from the following options:

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Personal Journal]
	if (response == "s_10")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Select a Journal Entry.
			string_id message = new string_id (c_stringFile, "s_12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Entry 214]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Entry 213]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Entry 212]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Entry 211]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse4 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Appointment Manager]
	if (response == "s_35")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Today's Appoinments:
			string_id message = new string_id (c_stringFile, "s_42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Morning]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Afternoon]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Evening]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Comm Directory]
	if (response == "s_64")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Durr Roddack: XVB1887
			string_id message = new string_id (c_stringFile, "s_66");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Main Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_68");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 12);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch3 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Select a Journal Entry.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Entry 214]
	if (response == "s_14")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			eisley_thranta_brok_terminal_action_signalBrokTerminal (player, npc);

			//-- NPC: Jabba contacted me directly about the future of this facility. He was asking some very strange questions. I'm starting to think someone is aware of my plans and are telling them to Jabba. I need to speed up the take-over timetable. 
			string_id message = new string_id (c_stringFile, "s_20");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_39");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 4);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Entry 213]
	if (response == "s_18")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Durr was caught slicing the payroll terminal again. I need to get rid of this guy once and for all. If he cuts into my slush fund for breaking away from Jabba, I'm going to seal him up in a bacta tank and drown him.
			string_id message = new string_id (c_stringFile, "s_21");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_38");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 5);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Entry 212]
	if (response == "s_24")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Another break out today. These mistakes are really cutting into my profitability. I need this place to make some cash. I'm going to need plenty to fight off Jabba after I take over his hold on this place. I'm sure he's going to want it back bad enough to send a lot of his men. I need to be ready.
			string_id message = new string_id (c_stringFile, "s_26");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_37");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Entry 211]
	if (response == "s_29")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Entry archived offline.
			string_id message = new string_id (c_stringFile, "s_31");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_36");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 7);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Main Menu]
	if (response == "s_40")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Please select from the following options:
			string_id message = new string_id (c_stringFile, "s_8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Personal Journal]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Appointment Manager]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Comm Directory]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_10");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Jabba contacted me directly about the future of this facility. He was asking some very strange questions. I'm starting to think someone is aware of my plans and are telling them to Jabba. I need to speed up the take-over timetable. 

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_39")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Select a Journal Entry.
			string_id message = new string_id (c_stringFile, "s_12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Entry 214]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Entry 213]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Entry 212]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Entry 211]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse4 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Durr was caught slicing the payroll terminal again. I need to get rid of this guy once and for all. If he cuts into my slush fund for breaking away from Jabba, I'm going to seal him up in a bacta tank and drown him.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_38")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Select a Journal Entry.
			string_id message = new string_id (c_stringFile, "s_12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Entry 214]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Entry 213]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Entry 212]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Entry 211]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse4 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Another break out today. These mistakes are really cutting into my profitability. I need this place to make some cash. I'm going to need plenty to fight off Jabba after I take over his hold on this place. I'm sure he's going to want it back bad enough to send a lot of his men. I need to be ready.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_37")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Select a Journal Entry.
			string_id message = new string_id (c_stringFile, "s_12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Entry 214]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Entry 213]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Entry 212]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Entry 211]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse4 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch7 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Entry archived offline.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_36")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Select a Journal Entry.
			string_id message = new string_id (c_stringFile, "s_12");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Entry 214]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Entry 213]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Entry 212]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Entry 211]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse4 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_14");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_18");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_24");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_29");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_40");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 3);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch8 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Today's Appoinments:

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Morning]
	if (response == "s_44")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Senior staff meeting
			string_id message = new string_id (c_stringFile, "s_46");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_48");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 9);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Afternoon]
	if (response == "s_50")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: No afternoon meetings
			string_id message = new string_id (c_stringFile, "s_52");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_54");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 10);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Evening]
	if (response == "s_56")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Base security meeting with security staff.
			string_id message = new string_id (c_stringFile, "s_58");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Return to Previous Menu]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_60");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 11);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Main Menu]
	if (response == "s_62")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Please select from the following options:
			string_id message = new string_id (c_stringFile, "s_8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Personal Journal]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Appointment Manager]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Comm Directory]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_10");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Senior staff meeting

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_48")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Today's Appoinments:
			string_id message = new string_id (c_stringFile, "s_42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Morning]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Afternoon]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Evening]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch10 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No afternoon meetings

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_54")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Today's Appoinments:
			string_id message = new string_id (c_stringFile, "s_42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Morning]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Afternoon]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Evening]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch11 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Base security meeting with security staff.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Return to Previous Menu]
	if (response == "s_60")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Today's Appoinments:
			string_id message = new string_id (c_stringFile, "s_42");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Morning]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Afternoon]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Evening]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: [Main Menu]
			boolean hasResponse3 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_44");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_50");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_56");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_62");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 8);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int eisley_thranta_brok_terminal_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Durr Roddack: XVB1887

	//-- [RESPONSE NOTE] 
	//-- PLAYER: [Main Menu]
	if (response == "s_68")
	{
		//-- [NOTE] 
		if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
		{
			//-- NPC: Please select from the following options:
			string_id message = new string_id (c_stringFile, "s_8");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: [Personal Journal]
			boolean hasResponse0 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: [Appointment Manager]
			boolean hasResponse1 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: [Comm Directory]
			boolean hasResponse2 = false;
			if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_10");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_35");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_64");

				utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 2);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isTangible (self)) || (isPlayer (self)))
		detachScript(self, "conversation.eisley_thranta_brok_terminal");

	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.eisley_thranta_brok_terminal");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (eisley_thranta_brok_terminal_condition__defaultCondition (player, npc))
	{
		//-- NPC: Brok Ziam's Personal Data Terminal.
		string_id message = new string_id (c_stringFile, "s_4");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: [Enter Brok's Password]
		boolean hasResponse0 = false;
		if (eisley_thranta_brok_terminal_condition_onBrokTerminal (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: [Enter Password]
		boolean hasResponse1 = false;
		if (!eisley_thranta_brok_terminal_condition_onBrokTerminal (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_6");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_70");

			utils.setScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId", 1);

			npcStartConversation (player, npc, "eisley_thranta_brok_terminal", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "eisley_thranta_brok_terminal")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

	if (branchId == 1 && eisley_thranta_brok_terminal_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && eisley_thranta_brok_terminal_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 3 && eisley_thranta_brok_terminal_handleBranch3 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && eisley_thranta_brok_terminal_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && eisley_thranta_brok_terminal_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && eisley_thranta_brok_terminal_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 7 && eisley_thranta_brok_terminal_handleBranch7 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 8 && eisley_thranta_brok_terminal_handleBranch8 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && eisley_thranta_brok_terminal_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 10 && eisley_thranta_brok_terminal_handleBranch10 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 11 && eisley_thranta_brok_terminal_handleBranch11 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && eisley_thranta_brok_terminal_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.eisley_thranta_brok_terminal.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

