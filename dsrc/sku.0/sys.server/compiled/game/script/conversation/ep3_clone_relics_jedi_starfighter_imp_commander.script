// ======================================================================
//
// ep3_clone_relics_jedi_starfighter_imp_commander.script
// Copyright 2004, Sony Online Entertainment
// All Rights Reserved.
//
// Created with SwgConversationEditor 1.37 - DO NOT EDIT THIS AUTO-GENERATED FILE!
//
// ======================================================================

// ======================================================================
// Library Includes
// ======================================================================

include library.ai_lib;
include library.chat;
include library.conversation;
include library.factions;
include library.groundquests;
include library.space_flags;
include library.space_quest;
include library.utils;

// ======================================================================
// Script Constants
// ======================================================================

string c_stringFile = "conversation/ep3_clone_relics_jedi_starfighter_imp_commander";

// ======================================================================
// Script Conditions
// ======================================================================

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (obj_id player, obj_id npc)
{
	return true;
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_onTaskOne (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_jedi_starfighter_1", "talkToCommander"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_isWookie (obj_id player, obj_id npc)
{
	return ( getSpecies(player) == SPECIES_WOOKIEE );
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestOne (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "ep3_clone_relics_jedi_starfighter_1"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestTwo (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_clone_relics_jedi_starfighter_2"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestTwo (obj_id player, obj_id npc)
{
	return (groundquests.isTaskActive(player, "ep3_clone_relics_jedi_starfighter_2", "attackDefeated"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestThree (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_clone_relics_jedi_starfighter_3"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestOne (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_clone_relics_jedi_starfighter_1"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestThree (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "ep3_clone_relics_jedi_starfighter_3"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestFour (obj_id player, obj_id npc)
{
	return (groundquests.isQuestActive(player, "ep3_clone_relics_jedi_starfighter_4"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestFour (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "ep3_clone_relics_jedi_starfighter_4"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedSpaceQuest (obj_id player, obj_id npc)
{
	return (space_quest.hasReceivedReward(player, "space_battle", "ep3_clone_relics_jedi_starfighter_5"));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (obj_id player, obj_id npc)
{
	return (hasObjVar(player, "gm" ));
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_failedQuestOne (obj_id player, obj_id npc)
{
	return groundquests.isQuestActive(player, "ep3_clone_relics_jedi_starfighter_1_failed");
}

// ----------------------------------------------------------------------

boolean ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestTwoFinal (obj_id player, obj_id npc)
{
	return (groundquests.hasCompletedQuest(player, "ep3_clone_relics_jedi_starfighter_2"));
}

// ======================================================================
// Script Actions
// ======================================================================

void ep3_clone_relics_jedi_starfighter_imp_commander_action_signalGetAtst (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "talkToOfficer");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestThree (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_jedi_starfighter_3");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest1 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_1");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_grantGroundQuestFour (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_jedi_starfighter_4");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_signalAfterAttack (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "talkedToKrieg");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_clearQuestThree (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_3");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestTwo (obj_id player, obj_id npc)
{
	groundquests.grantQuest(player, "ep3_clone_relics_jedi_starfighter_2");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest2 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_2");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest3 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_3");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest4 (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_4");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuestAll (obj_id player, obj_id npc)
{
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_1");
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_2");
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_3");
	groundquests.clearQuest(player, "ep3_clone_relics_jedi_starfighter_4");
	space_quest.clearQuestFlags(player, "space_battle", "ep3_clone_relics_jedi_starfighter_4");
	space_quest.clearQuestFlags(player, "space_battle", "ep3_clone_relics_jedi_starfighter_5");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuestSpace (obj_id player, obj_id npc)
{
	space_quest.clearQuestFlags(player, "space_battle", "ep3_clone_relics_jedi_starfighter_4");
	space_quest.clearQuestFlags(player, "space_battle", "ep3_clone_relics_jedi_starfighter_5");
}

// ----------------------------------------------------------------------

void ep3_clone_relics_jedi_starfighter_imp_commander_action_clearFailAndReGrantQuestOne (obj_id player, obj_id npc)
{
	groundquests.sendSignal(player, "cloneRelics_jedistarfighter_failedEscort");
	
	groundquests.grantQuest(player, "ep3_clone_relics_jedi_starfighter_1");
	groundquests.sendSignal(player, "talkToOfficer");
}

// ======================================================================
// Script %TO Tokens
// ======================================================================

// ======================================================================
// Script %DI Tokens
// ======================================================================

// ======================================================================
// Script %DF Tokens
// ======================================================================

// ======================================================================
// handleBranch<n> Functions 
// ======================================================================

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch1 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good work %TU. You saved us all a lot of head aches, I'm very impressed.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1111")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch2 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: You have your orders soldier, you best be following them.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir. Just wanted to tell you it was a pleasure working for you.
	if (response == "s_940")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			//-- NPC: Thank you soldier. I wish... never mind. Good luck out there.
			string_id message = new string_id (c_stringFile, "s_942");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1109")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch4 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Trust me, you don't want to keep the new commander waiting soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1107")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch5 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I've received the report. Well done soldier.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Not a problem Sir. What's next?
	if (response == "s_948")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nervous");

			//-- NPC: Don't ask me, I'm not running this anymore. The new commander wants to see you downstairs. You better go now.
			string_id message = new string_id (c_stringFile, "s_950");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes Sir!
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Who's the new commander Sir? Why the change?
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_952");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_956");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 6);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1105")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch6 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Don't ask me, I'm not running this anymore. The new commander wants to see you downstairs. You better go now.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir!
	if (response == "s_952")
	{
		doAnimationAction (player, "salute2");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantGroundQuestFour (player, npc);

			//-- NPC: Good luck...
			string_id message = new string_id (c_stringFile, "s_954");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Who's the new commander Sir? Why the change?
	if (response == "s_956")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantGroundQuestFour (player, npc);

			//-- NPC: Enough with the questions! Just go down there!
			string_id message = new string_id (c_stringFile, "s_958");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch9 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What now soldier? You have somewhere you need to be!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry Sir. Just here to make sure I have the correct coordinates.
	if (response == "s_962")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: Yes they are correct. Now hurry out there!
			string_id message = new string_id (c_stringFile, "s_964");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: You have to send someone else Sir, I was re-assigned...
	if (response == "s_966")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_clearQuestThree (player, npc);

			//-- NPC: Well I'll be... fine! Get out of here! I'll find someone else.
			string_id message = new string_id (c_stringFile, "s_968");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1103")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch12 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Were you re-assigned back to us soldier?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, if the scouts still need my assistance, I'm ready.
	if (response == "s_111")
	{
		doAnimationAction (player, "nod_head_once");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestThree (player, npc);

			//-- NPC: They sure do, now hurry up and get out there!
			string_id message = new string_id (c_stringFile, "s_113");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: No I was just stopping by to see how things are progressing.
	if (response == "s_112")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			//-- NPC: I'm a busy man soldier, get out of here and do something useful!
			string_id message = new string_id (c_stringFile, "s_114");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch15 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Is it over? Are they all gone?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir, the Rebels have been beaten.
	if (response == "s_972")
	{
		doAnimationAction (player, "hair_flip");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Good, good. See what I have to go through out here? I don't know what I did to deserve this assignment. Anyway, back to business.
			string_id message = new string_id (c_stringFile, "s_974");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I'm sorry Sir. I have to postpone to get some rest and repairs.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Sounds good Sir.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_976");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_980");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 16);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1101")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch16 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Good, good. See what I have to go through out here? I don't know what I did to deserve this assignment. Anyway, back to business.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry Sir. I have to postpone to get some rest and repairs.
	if (response == "s_976")
	{
		doAnimationAction (player, "shake_head_no");

		ep3_clone_relics_jedi_starfighter_imp_commander_action_signalAfterAttack (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestThree (player, npc);

			//-- NPC: You are right soldier. Do that quickly, then head out to our scouts monitoring the convoy.
			string_id message = new string_id (c_stringFile, "s_978");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sounds good Sir.
	if (response == "s_980")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: It's time to go on the offensive! The Rebels think we will just roll over but they are wrong! Our scouts has spotted a Rebel supply convoy in the Kkowir forest. Make your way to the forest and our scouts will send you a waypoint to their location. Make sure that convoy never reaches its destination soldier!
			string_id message = new string_id (c_stringFile, "s_982");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes Sir! Those Rebels will regret they ever landed on this planet!
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I'm sorry Sir. I have to postpone to get some rest and repairs.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_984");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_988");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 18);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch18 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: It's time to go on the offensive! The Rebels think we will just roll over but they are wrong! Our scouts has spotted a Rebel supply convoy in the Kkowir forest. Make your way to the forest and our scouts will send you a waypoint to their location. Make sure that convoy never reaches its destination soldier!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir! Those Rebels will regret they ever landed on this planet!
	if (response == "s_984")
	{
		doAnimationAction (player, "salute2");

		ep3_clone_relics_jedi_starfighter_imp_commander_action_signalAfterAttack (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestThree (player, npc);

			//-- NPC: I am sure they will.
			string_id message = new string_id (c_stringFile, "s_986");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm sorry Sir. I have to postpone to get some rest and repairs.
	if (response == "s_988")
	{
		doAnimationAction (player, "shake_head_no");

		ep3_clone_relics_jedi_starfighter_imp_commander_action_signalAfterAttack (player, npc);

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestThree (player, npc);

			//-- NPC: You better make that quick soldier! That convoy won't stay around forever! After you're done, head out to the scouts monitoring the Rebels.
			string_id message = new string_id (c_stringFile, "s_990");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch21 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What are you doing soldier?! Get back out there and take care of those Rebels!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1099")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch22 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: I see that my new toy has arrived, excellent!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Indeed Sir. What's the next step?
	if (response == "s_996")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			//-- NPC: This is where the fun begins soldier. We're going... < Admiral Krieg's wrist device buzzes > ...hold on a second soldier. Yes what is it? What?! We're under attack?!
			string_id message = new string_id (c_stringFile, "s_998");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's that Sir?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1000");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you Sir. So I'm done now?
	if (response == "s_1004")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: No no, we're just getting started.
			string_id message = new string_id (c_stringFile, "s_1006");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh okay. So what's the next step Sir?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't assist right now though, I have other duties.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1008");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1010");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 25);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1097")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch23 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This is where the fun begins soldier. We're going... < Admiral Krieg's wrist device buzzes > ...hold on a second soldier. Yes what is it? What?! We're under attack?!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What's that Sir?
	if (response == "s_1000")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			doAnimationAction (player, "salute1");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_grantQuestTwo (player, npc);

			//-- NPC: The Rebels are attacking soldier! Don't just stand there! Get out and defend m... the Empire with your life!
			string_id message = new string_id (c_stringFile, "s_1002");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch25 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: No no, we're just getting started.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh okay. So what's the next step Sir?
	if (response == "s_1008")
	{
		doAnimationAction (player, "nod");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "check_wrist_device");

			//-- NPC: This is where the fun begins soldier. We're going... < Admiral Krieg's wrist device buzzes > ...hold on a second soldier. Yes what is it? What?! We're under attack?!
			string_id message = new string_id (c_stringFile, "s_998");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What's that Sir?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1000");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 23);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't assist right now though, I have other duties.
	if (response == "s_1010")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			doAnimationAction (player, "salute2");

			//-- NPC: Hmm, very well. Hurry up and finish those and then come back to see me soldier. Dismissed.
			string_id message = new string_id (c_stringFile, "s_1012");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch27 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Soldier, I do not see a shiny new AT-ST. Why have you returned without it? Given a choice, I'd have rather had the AT-ST return alone. I will give you another chance, soldier, but only because that AT-ST is more important than my desire to reduce you to a puddle of whimpering flesh. Do not fail me again! Is that clear?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, sir! You can count on me, sir!
	if (response == "s_105")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_clearFailAndReGrantQuestOne (player, npc);

			//-- NPC: Very good. Now go get my AT-ST.
			string_id message = new string_id (c_stringFile, "s_107");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch29 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Yes soldier?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I came across this datapad Sir, you may find it interesting.
	if (response == "s_1016")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: This better be worth my time soldier. I have a war to run you know. < Admiral Krieg starts to scan through the information on the datapad >
			string_id message = new string_id (c_stringFile, "s_1018");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What do you think Sir? Is it important?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1020");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 30);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1095")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch30 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: This better be worth my time soldier. I have a war to run you know. < Admiral Krieg starts to scan through the information on the datapad >

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What do you think Sir? Is it important?
	if (response == "s_1020")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shush");

			//-- NPC: Ssshh! < Admiral Krieg continues to read the information on the datapad >
			string_id message = new string_id (c_stringFile, "s_1022");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Sir..?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1024");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 31);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch31 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Ssshh! < Admiral Krieg continues to read the information on the datapad >

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sir..?
	if (response == "s_1024")
	{
		doAnimationAction (player, "tap_foot");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "point_accusingly");

			//-- NPC: Can you not tell I'm busy soldier?! < Admiral Krieg turns his attention back on the datapad > Hmm... this is very interesting soldier. You did the right thing to bring this to me. Where did you find it?
			string_id message = new string_id (c_stringFile, "s_1026");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I found it on a corpse on the planet of Dathomir Sir.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Never mind that. How much is it worth... Sir?
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1028");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1072");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 32);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch32 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Can you not tell I'm busy soldier?! < Admiral Krieg turns his attention back on the datapad > Hmm... this is very interesting soldier. You did the right thing to bring this to me. Where did you find it?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I found it on a corpse on the planet of Dathomir Sir.
	if (response == "s_1028")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Dathomir? Strange indeed. The plans on here appear a bit old but nevertheless, they were drawn up once. They may have been refined since, by someone who didn't share this carrier's fate.
			string_id message = new string_id (c_stringFile, "s_1030");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should we do Sir?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well I'm out of here. Good luck Sir.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1032");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1052");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Never mind that. How much is it worth... Sir?
	if (response == "s_1072")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "pound_fist_palm");

			//-- NPC: Worth?! What are you talking about Soldier! It's your darn duty to bring these kind of things to your superior! Now where did you find this? Spit it out before I have you incarcerated!
			string_id message = new string_id (c_stringFile, "s_1074");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: I..I'm sorry Sir. I found it on a corpse on Dathomir Sir.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1076");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 43);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch33 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Dathomir? Strange indeed. The plans on here appear a bit old but nevertheless, they were drawn up once. They may have been refined since, by someone who didn't share this carrier's fate.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: What should we do Sir?
	if (response == "s_1032")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: First, we need some more hardware. If nothing else, out powering the enemy always works soldier. I will put in an order for a brand new AT-ST. You will travel out to this location and bring it back to base, in one piece that is. Any questions?
			string_id message = new string_id (c_stringFile, "s_1034");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An AT-ST?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: None, Sir!
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1036");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1048");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Well I'm out of here. Good luck Sir.
	if (response == "s_1052")
	{
		doAnimationAction (player, "salute2");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shake_head_no");

			//-- NPC: Where do you think you're going? We have work to do, notice how I said we.
			string_id message = new string_id (c_stringFile, "s_1054");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Oh I'm sorry Sir, of course Sir. What should we do?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: I can't. I have orders by... Lord Vader himself. That's right.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1056");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1058");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 39);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch34 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: First, we need some more hardware. If nothing else, out powering the enemy always works soldier. I will put in an order for a brand new AT-ST. You will travel out to this location and bring it back to base, in one piece that is. Any questions?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: An AT-ST?
	if (response == "s_1036")
	{
		doAnimationAction (player, "shrug_hands");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: As powerful as an AT-ST is, it has limited views to it's sides, rear and above it. In this terrain, it would be fairly easy to pick off, sitting in a tree with a rocket launcher or something. I'm telling you, those Rebels are like Kowakian Monkey-Lizards. Anyway, having ground troops around will substantially increase its efficiency.
			string_id message = new string_id (c_stringFile, "s_1038");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Are you sure you're sober?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Yes Sir!
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1040");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1044");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 35);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: None, Sir!
	if (response == "s_1048")
	{
		doAnimationAction (player, "salute2");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_signalGetAtst (player, npc);

			//-- NPC: Excellent! Bring me back that AT-ST soldier!
			string_id message = new string_id (c_stringFile, "s_1050");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch35 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: As powerful as an AT-ST is, it has limited views to it's sides, rear and above it. In this terrain, it would be fairly easy to pick off, sitting in a tree with a rocket launcher or something. I'm telling you, those Rebels are like Kowakian Monkey-Lizards. Anyway, having ground troops around will substantially increase its efficiency.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Are you sure you're sober?
	if (response == "s_1040")
	{
		doAnimationAction (player, "cuckoo");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "gesticulate_wildly");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest1 (player, npc);

			//-- NPC: Guards! Guards! Someone arrest this man!
			string_id message = new string_id (c_stringFile, "s_1042");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir!
	if (response == "s_1044")
	{
		doAnimationAction (player, "salute2");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_signalGetAtst (player, npc);

			//-- NPC: Excellent! Bring me back that AT-ST soldier!
			string_id message = new string_id (c_stringFile, "s_1046");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch39 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Where do you think you're going? We have work to do, notice how I said we.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Oh I'm sorry Sir, of course Sir. What should we do?
	if (response == "s_1056")
	{
		doAnimationAction (player, "salute1");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: First, we need some more hardware. If nothing else, out powering the enemy always works soldier. I will put in an order for a brand new AT-ST. You will travel out to this location and bring it back to base, in one piece that is. Any questions?
			string_id message = new string_id (c_stringFile, "s_1034");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An AT-ST?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: None, Sir!
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1036");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1048");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I can't. I have orders by... Lord Vader himself. That's right.
	if (response == "s_1058")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Hmm... I suppose I have to find someone else then. From what I've heard, he's not the right person to object to. You are sure you won't have time to assist here as well?
			string_id message = new string_id (c_stringFile, "s_1060");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Yes, I'm afraid I can't Sir.
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Hmm... I might be able to squeeze it in.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1062");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1066");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 40);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch40 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Hmm... I suppose I have to find someone else then. From what I've heard, he's not the right person to object to. You are sure you won't have time to assist here as well?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes, I'm afraid I can't Sir.
	if (response == "s_1062")
	{
		doAnimationAction (player, "shake_head_no");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "salute2");

			doAnimationAction (player, "salute2");

			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest1 (player, npc);

			//-- NPC: Very well then. Good luck on your assignment.
			string_id message = new string_id (c_stringFile, "s_1064");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Hmm... I might be able to squeeze it in.
	if (response == "s_1066")
	{
		doAnimationAction (player, "rub_chin_thoughtful");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "nod");

			//-- NPC: Excellent soldier! Initiative like that will serve you well and assure you raise through the ranks quickly.
			string_id message = new string_id (c_stringFile, "s_1068");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: Thank you Sir. Now, what's the plan?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1070");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 42);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch42 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Excellent soldier! Initiative like that will serve you well and assure you raise through the ranks quickly.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Thank you Sir. Now, what's the plan?
	if (response == "s_1070")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "explain");

			//-- NPC: First, we need some more hardware. If nothing else, out powering the enemy always works soldier. I will put in an order for a brand new AT-ST. You will travel out to this location and bring it back to base, in one piece that is. Any questions?
			string_id message = new string_id (c_stringFile, "s_1034");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: An AT-ST?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: None, Sir!
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1036");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1048");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 34);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch43 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Worth?! What are you talking about Soldier! It's your darn duty to bring these kind of things to your superior! Now where did you find this? Spit it out before I have you incarcerated!

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I..I'm sorry Sir. I found it on a corpse on Dathomir Sir.
	if (response == "s_1076")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "rub_chin_thoughtful");

			//-- NPC: Dathomir? Strange indeed. The plans on here appear a bit old but nevertheless, they were drawn up once. They may have been refined since, by someone who didn't share this carrier's fate.
			string_id message = new string_id (c_stringFile, "s_1030");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: What should we do Sir?
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: Well I'm out of here. Good luck Sir.
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1032");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1052");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 33);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch44 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What now soldier? I thought everything was clear.

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Yes Sir! Just making sure there's been no change of plan?
	if (response == "s_1080")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			doAnimationAction (player, "salute2");

			//-- NPC: If there had been, I would have contacted you! Now get out there and do your job soldier!
			string_id message = new string_id (c_stringFile, "s_1082");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Lord Vader has requested my presence, I have to decline.
	if (response == "s_1084")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "wave_on_dismissing");

			doAnimationAction (player, "salute2");

			//-- NPC: Lord Vader eh? Hmm, very well, I've heard you don't say no to him. I'll get someone else. Dismissed!
			string_id message = new string_id (c_stringFile, "s_1086");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: I'm a developer/tester and want to clear quests.
	if (response == "s_1093")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			//-- NPC: Which quest?
			string_id message = new string_id (c_stringFile, "s_1112");
			int numberOfResponses = 0;

			boolean hasResponse = false;

			//-- PLAYER: 1
			boolean hasResponse0 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse0 = true;
			}

			//-- PLAYER: 2
			boolean hasResponse1 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse1 = true;
			}

			//-- PLAYER: 3
			boolean hasResponse2 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse2 = true;
			}

			//-- PLAYER: 4
			boolean hasResponse3 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse3 = true;
			}

			//-- PLAYER: Space quests
			boolean hasResponse4 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse4 = true;
			}

			//-- PLAYER: All
			boolean hasResponse5 = false;
			if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
			{
				++numberOfResponses;
				hasResponse = true;
				hasResponse5 = true;
			}

			if (hasResponse)
			{
				int responseIndex = 0;
				string_id responses [] = new string_id [numberOfResponses];

				if (hasResponse0)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1113");

				if (hasResponse1)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1114");

				if (hasResponse2)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1115");

				if (hasResponse3)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1116");

				if (hasResponse4)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1117");

				if (hasResponse5)
					responses [responseIndex++] = new string_id (c_stringFile, "s_1127");

				utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 47);

				npcSpeak (player, message);
				npcSetConversationResponses (player, responses);
			}
			else
			{
				utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

				npcEndConversationWithMessage (player, message);
			}

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch47 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: Which quest?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: 1
	if (response == "s_1113")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest1 (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1118");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: 2
	if (response == "s_1114")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest2 (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1120");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: 3
	if (response == "s_1115")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest3 (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1122");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: 4
	if (response == "s_1116")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuest4 (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1124");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Space quests
	if (response == "s_1117")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuestSpace (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1126");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	//-- [RESPONSE NOTE] 
	//-- PLAYER: All
	if (response == "s_1127")
	{
		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			ep3_clone_relics_jedi_starfighter_imp_commander_action_removeQuestAll (player, npc);

			//-- NPC: Okay
			string_id message = new string_id (c_stringFile, "s_1129");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

int ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch54 (obj_id player, obj_id npc, string_id response)
{
	//-- [BRANCH NOTE] 
	//-- NPC: What do you want soldier?

	//-- [RESPONSE NOTE] 
	//-- PLAYER: Sorry, I should be somewhere else.
	if (response == "s_1090")
	{
		doAnimationAction (player, "apologize");

		//-- [NOTE] 
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			doAnimationAction (npc, "shoo");

			doAnimationAction (player, "salute2");

			//-- NPC: Then you better make your way there soldier, on the double! Go, go, go!
			string_id message = new string_id (c_stringFile, "s_1092");
			utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

			npcEndConversationWithMessage (player, message);

			return SCRIPT_CONTINUE;
		}

	}

	return SCRIPT_DEFAULT;
}

// ----------------------------------------------------------------------

// ======================================================================
// User Script Triggers
// ======================================================================

trigger OnInitialize ()
{
	if ((!isMob (self)) || (isPlayer (self)))
		detachScript(self, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander");

	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName(self, new string_id( "ep3/npc_names", "clone_relics_admiral_krieg" ));
	return SCRIPT_CONTINUE;
}

trigger OnAttach ()
{
	setCondition (self, CONDITION_CONVERSABLE);
	setInvulnerable (self, true);
	setName(self, new string_id( "ep3/npc_names", "clone_relics_admiral_krieg" ));
	return SCRIPT_CONTINUE;
}

trigger OnObjectMenuRequest (obj_id player, menu_info menuInfo)
{
	int menu = menuInfo.addRootMenu (menu_info_types.CONVERSE_START, null);
	menu_info_data menuInfoData = menuInfo.getMenuItemById (menu);
	menuInfoData.setServerNotify (false);
	setCondition (self, CONDITION_CONVERSABLE);
	faceTo (self, player);

	return SCRIPT_CONTINUE;
}

trigger OnIncapacitated (obj_id killer)
{
	clearCondition (self, CONDITION_CONVERSABLE);
	detachScript (self, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander");

	return SCRIPT_CONTINUE;
}

// ======================================================================
// Script Triggers
// ======================================================================

//-- This function should move to base_class.java
boolean npcStartConversation(obj_id player, obj_id npc, string convoName, string_id greetingId, prose_package greetingProse, string_id[] responses)
{
	Object[] objects = new Object[responses.length];
	System.arraycopy(responses, 0, objects, 0, responses.length);
	return npcStartConversation(player, npc, convoName, greetingId, greetingProse, objects);
}

// ----------------------------------------------------------------------

trigger OnStartNpcConversation (obj_id player)
{
	obj_id npc = self;

	if (ai_lib.isInCombat (npc) || ai_lib.isInCombat (player))
		return SCRIPT_OVERRIDE;

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedSpaceQuest (player, npc))
	{
		doAnimationAction (npc, "salute2");

		doAnimationAction (player, "salute2");

		//-- NPC: Good work %TU. You saved us all a lot of head aches, I'm very impressed.
		string_id message = new string_id (c_stringFile, "s_936");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1111");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 1);

			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", null, pp, responses);
		}
		else
		{
			prose_package pp = new prose_package ();
			pp.stringId = message;
			pp.actor.set (player);
			pp.target.set (npc);

			chat.chat (npc, player, null, null, pp);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestFour (player, npc))
	{
		doAnimationAction (npc, "nervous");

		doAnimationAction (player, "salute2");

		//-- NPC: You have your orders soldier, you best be following them.
		string_id message = new string_id (c_stringFile, "s_938");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes Sir. Just wanted to tell you it was a pleasure working for you.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_940");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1109");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 2);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestFour (player, npc))
	{
		doAnimationAction (npc, "sigh_deeply");

		doAnimationAction (player, "salute2");

		//-- NPC: Trust me, you don't want to keep the new commander waiting soldier.
		string_id message = new string_id (c_stringFile, "s_944");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1107");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 4);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestThree (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		doAnimationAction (player, "salute2");

		//-- NPC: I've received the report. Well done soldier.
		string_id message = new string_id (c_stringFile, "s_946");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Not a problem Sir. What's next?
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_948");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1105");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 5);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestThree (player, npc))
	{
		doAnimationAction (npc, "sigh_deeply");

		doAnimationAction (player, "salute2");

		//-- NPC: What now soldier? You have somewhere you need to be!
		string_id message = new string_id (c_stringFile, "s_960");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sorry Sir. Just here to make sure I have the correct coordinates.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: You have to send someone else Sir, I was re-assigned...
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse2 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_962");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_966");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1103");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 9);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestTwoFinal (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		doAnimationAction (player, "salute2");

		//-- NPC: Were you re-assigned back to us soldier?
		string_id message = new string_id (c_stringFile, "s_110");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, if the scouts still need my assistance, I'm ready.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: No I was just stopping by to see how things are progressing.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_111");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_112");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 12);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestTwo (player, npc))
	{
		doAnimationAction (npc, "nervous");

		//-- NPC: Is it over? Are they all gone?
		string_id message = new string_id (c_stringFile, "s_970");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes Sir, the Rebels have been beaten.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_972");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1101");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 15);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestTwo (player, npc))
	{
		doAnimationAction (npc, "gesticulate_wildly");

		//-- NPC: What are you doing soldier?! Get back out there and take care of those Rebels!
		string_id message = new string_id (c_stringFile, "s_992");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1099");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 21);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_hasCompletedQuestOne (player, npc))
	{
		doAnimationAction (npc, "salute2");

		doAnimationAction (player, "salute2");

		//-- NPC: I see that my new toy has arrived, excellent!
		string_id message = new string_id (c_stringFile, "s_994");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Indeed Sir. What's the next step?
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Thank you Sir. So I'm done now?
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse2 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_996");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1004");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1097");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 22);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_failedQuestOne (player, npc))
	{
		//-- NPC: Soldier, I do not see a shiny new AT-ST. Why have you returned without it? Given a choice, I'd have rather had the AT-ST return alone. I will give you another chance, soldier, but only because that AT-ST is more important than my desire to reduce you to a puddle of whimpering flesh. Do not fail me again! Is that clear?
		string_id message = new string_id (c_stringFile, "s_104");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes, sir! You can count on me, sir!
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_105");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 27);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_onTaskOne (player, npc))
	{
		doAnimationAction (npc, "pose_proudly");

		doAnimationAction (player, "salute2");

		//-- NPC: Yes soldier?
		string_id message = new string_id (c_stringFile, "s_1014");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: I came across this datapad Sir, you may find it interesting.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1016");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1095");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 29);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_onQuestOne (player, npc))
	{
		doAnimationAction (npc, "nod_head_once");

		doAnimationAction (player, "salute2");

		//-- NPC: What now soldier? I thought everything was clear.
		string_id message = new string_id (c_stringFile, "s_1078");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Yes Sir! Just making sure there's been no change of plan?
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		//-- PLAYER: Lord Vader has requested my presence, I have to decline.
		boolean hasResponse1 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse1 = true;
		}

		//-- PLAYER: I'm a developer/tester and want to clear quests.
		boolean hasResponse2 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition_isGm (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse2 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1080");

			if (hasResponse1)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1084");

			if (hasResponse2)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1093");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 44);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	//-- [NOTE] 
	if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
	{
		doAnimationAction (npc, "pose_proudly");

		doAnimationAction (player, "salute2");

		//-- NPC: What do you want soldier?
		string_id message = new string_id (c_stringFile, "s_1088");
		int numberOfResponses = 0;

		boolean hasResponse = false;

		//-- PLAYER: Sorry, I should be somewhere else.
		boolean hasResponse0 = false;
		if (ep3_clone_relics_jedi_starfighter_imp_commander_condition__defaultCondition (player, npc))
		{
			++numberOfResponses;
			hasResponse = true;
			hasResponse0 = true;
		}

		if (hasResponse)
		{
			int responseIndex = 0;
			string_id responses [] = new string_id [numberOfResponses];

			if (hasResponse0)
				responses [responseIndex++] = new string_id (c_stringFile, "s_1090");

			utils.setScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId", 54);

			npcStartConversation (player, npc, "ep3_clone_relics_jedi_starfighter_imp_commander", message, responses);
		}
		else
		{
			chat.chat (npc, player, message);
		}

		return SCRIPT_CONTINUE;
	}

	chat.chat (npc, "Error:  All conditions for OnStartNpcConversation were false.");

	return SCRIPT_CONTINUE;
}

// ----------------------------------------------------------------------

trigger OnNpcConversationResponse (string conversationId, obj_id player, string_id response)
{
	if (conversationId != "ep3_clone_relics_jedi_starfighter_imp_commander")
		return SCRIPT_CONTINUE;

	obj_id npc = self;

	int branchId = utils.getIntScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

	if (branchId == 1 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch1 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 2 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch2 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 4 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch4 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 5 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch5 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 6 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch6 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 9 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch9 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 12 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch12 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 15 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch15 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 16 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch16 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 18 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch18 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 21 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch21 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 22 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch22 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 23 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch23 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 25 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch25 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 27 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch27 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 29 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch29 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 30 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch30 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 31 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch31 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 32 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch32 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 33 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch33 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 34 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch34 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 35 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch35 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 39 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch39 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 40 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch40 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 42 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch42 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 43 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch43 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 44 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch44 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 47 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch47 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	if (branchId == 54 && ep3_clone_relics_jedi_starfighter_imp_commander_handleBranch54 (player, npc, response) == SCRIPT_CONTINUE)
		return SCRIPT_CONTINUE;

	chat.chat (npc, "Error:  Fell through all branches and responses for OnNpcConversationResponse.");

	utils.removeScriptVar (player, "conversation.ep3_clone_relics_jedi_starfighter_imp_commander.branchId");

	return SCRIPT_CONTINUE;
}

// ======================================================================

